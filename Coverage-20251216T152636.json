[
  {
    "url": "http://localhost:5005/",
    "ranges": [
      {
        "start": 0,
        "end": 228
      },
      {
        "start": 2684,
        "end": 2830
      },
      {
        "start": 2900,
        "end": 3288
      },
      {
        "start": 3362,
        "end": 3877
      },
      {
        "start": 3887,
        "end": 4052
      },
      {
        "start": 4289,
        "end": 4539
      },
      {
        "start": 4613,
        "end": 9991
      },
      {
        "start": 10583,
        "end": 10763
      },
      {
        "start": 24162,
        "end": 24573
      },
      {
        "start": 24761,
        "end": 24766
      },
      {
        "start": 27305,
        "end": 28159
      },
      {
        "start": 29232,
        "end": 32162
      },
      {
        "start": 32295,
        "end": 36234
      },
      {
        "start": 36254,
        "end": 37433
      }
    ],
    "text": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"description\" content=\"SpeedyFlow - JIRA Service Desk Integration Platform\">\n  <meta name=\"theme-color\" content=\"#ffffff\">\n  <title>SpeedyFlow - Ticket Management</title>\n  \n  <!-- ============================================================\n       CSS LOADING STRATEGY\n       ============================================================\n       1. Theme blocker loads first (prevents flash)\n       2. app.bundle.css imports all production CSS in order:\n          - Foundation (design tokens, variables, layout)\n          - Themes (light/dark/transparency)\n          - Components (UI elements)\n          - Layout (structure)\n          - Utilities (interactive features)\n          - Fallback (legacy support)\n       ============================================================ -->\n  \n  <!-- THEME BLOCKER: Prevents flash by applying theme BEFORE CSS renders -->\n  <script src=\"/static/js/theme-blocker.js\"></script>\n  \n  <!-- PRIMARY CSS BUNDLE: All production styles orchestrated -->\n  <link rel=\"stylesheet\" href=\"/static/css/app.bundle.css?v=1765920148\">\n  \n  <!-- SVG ICONS STYLES: Centralized icon styling -->\n  <link rel=\"stylesheet\" href=\"/static/css/utils/svg-icons.css?v=1765920148\">\n  \n  <!-- BOARD VIEW STYLING (Kanban) -->\n  <link rel=\"stylesheet\" href=\"/static/views/board/kanban.css?v=1765920148\">\n  \n  <!-- LIST VIEW STYLING -->\n  <link rel=\"stylesheet\" href=\"/static/views/list/list-view.css?v=1765920148\">\n  \n  <!-- DRAG & DROP TRANSITIONS STYLING -->\n  <link rel=\"stylesheet\" href=\"/static/views/board/transition-bar-vertical.css?v=1765920148\">\n  <link rel=\"stylesheet\" href=\"/static/views/list/transition-bar-horizontal.css?v=1765920148\">\n  <link rel=\"stylesheet\" href=\"/static/css/components/transition-fields-modal.css?v=1765920148\">\n  \n  <!-- QUICK ACTIONS STYLING (Quick Triage & Smart Filters) -->\n  <link rel=\"stylesheet\" href=\"/static/css/components/quick-actions.css?v=1765920148\">\n  \n  <!-- AUTO-SWITCH NOTIFICATION STYLING -->\n  <link rel=\"stylesheet\" href=\"/static/css/components/auto-switch-notification.css?v=1765920148\">\n  <!-- GLOBAL SHADOWS: add depth to UI components -->\n  <link rel=\"stylesheet\" href=\"/static/css/components/shadows.css?v=1765920148\">\n  <!-- Purple accents for Flowing MVP -->\n  <link rel=\"stylesheet\" href=\"/static/css/components/purple-accents.css?v=1765920148\">\n  \n  \n  <!-- INLINE STYLES FOR SIDEBAR ACTION BUTTON -->\n  <style>\n    /* PERFECT ALIGNMENT: All sidebar components align with header/filter/board */\n    \n    /* Sidebar Header: Align with header-enhanced top */\n    .sidebar-header-component {\n      top: 16px !important; /* Same as header margin */\n      left: 16px !important;\n      margin: 0 !important;\n    }\n    \n    /* Action Button: Position between header and filter */\n    #sidebarActionComponent {\n      top: 112px !important; /* After header total height (16 + 12 + 56 + 12 + 16) */\n      left: 16px !important;\n      width: 280px !important;\n      min-height: 56px !important;\n      height: 56px !important;\n      padding: 12px 14px !important; /* Same as sidebar-header-component */\n      margin: 0 !important;\n      box-sizing: border-box !important;\n    }\n    \n    /* Quick Action Button: Match sidebar-toggle-btn exactly */\n    #quickActionBtn {\n      background: linear-gradient(135deg, rgb(59, 130, 246), rgb(37, 99, 235)) !important;\n      width: 40px !important;\n      height: 40px !important;\n      min-width: 40px !important;\n      min-height: 40px !important;\n      border-radius: 10px !important;\n      font-size: 22px !important; /* Slightly larger icon */\n      padding: 0 !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      border: none !important;\n    }\n    \n    #quickActionBtn .toggle-icon {\n      font-size: 22px !important; /* Match button font-size */\n      line-height: 1 !important;\n      display: block !important;\n    }\n    \n    #quickActionBtn:hover {\n      background: linear-gradient(135deg, rgb(37, 99, 235), rgb(29, 78, 216)) !important;\n      transform: scale(1.05) !important;\n    }\n    \n    /* Sidebar Content: Align with kanban board start */\n    .sidebar-content-component {\n      top: 206px !important; /* After header (112px) + filter (94px) = 206px */\n      left: 16px !important;\n      height: calc(100vh - 222px) !important; /* 206px + 16px bottom margin */\n      margin: 0 !important;\n    }\n  </style>\n  \n  <!-- DEBUG SCRIPT: Force button visibility -->\n  <script>\n    console.log('üîç DEBUG: Initializing sidebar action button...');\n    document.addEventListener('DOMContentLoaded', function() {\n      // Inject SVG icons into sidebar menu\n      if (typeof SVGIcons !== 'undefined') {\n        // Main navigation icons (16px for sidebar)\n        const iconMappings = {\n          'icon-new-ticket': SVGIcons.plus({ size: 16 }),\n          'icon-my-tickets': SVGIcons.folder({ size: 16 }),\n          'icon-all-tickets': SVGIcons.clipboard({ size: 16 }),\n          'icon-starred': SVGIcons.star({ size: 16 }),\n          // Utilities icons\n          'icon-search': SVGIcons.search({ size: 16 }),\n          'icon-reports': SVGIcons.chart({ size: 16 }),\n          'icon-notifications': SVGIcons.bell({ size: 16 }),\n          'icon-refresh': SVGIcons.refresh({ size: 16 }),\n          'icon-clear-cache': SVGIcons.trash({ size: 16 })\n        };\n        \n        Object.keys(iconMappings).forEach(id => {\n          const element = document.getElementById(id);\n          if (element) {\n            element.innerHTML = iconMappings[id];\n          }\n        });\n        \n        // Header icons (18px for header)\n        const headerIconMappings = {\n          'icon-header-help': SVGIcons.help({ size: 18 }),\n          'icon-header-settings': SVGIcons.settings({ size: 18 }),\n          'icon-header-user': SVGIcons.user({ size: 18 })\n        };\n        \n        Object.keys(headerIconMappings).forEach(id => {\n          const element = document.getElementById(id);\n          if (element) {\n            element.innerHTML = headerIconMappings[id];\n          }\n        });\n        \n        // ML Dashboard tab icons (20px for tabs)\n        const mlIconMappings = {\n          'icon-ml-overview': SVGIcons.chart({ size: 20 }),\n          'icon-ml-forecast': SVGIcons.alert({ size: 20 }),\n          'icon-ml-trends': SVGIcons.trendUp({ size: 20 }),\n          'icon-ml-team': SVGIcons.users({ size: 20 })\n        };\n        \n        Object.keys(mlIconMappings).forEach(id => {\n          const element = document.getElementById(id);\n          if (element) {\n            element.innerHTML = mlIconMappings[id];\n          }\n        });\n        \n        // Filter bar icons (16px for filter labels)\n        const filterIconMappings = {\n          'icon-filter-desk': SVGIcons.building({ size: 16 }), // Organization/building icon\n          'icon-filter-queue': SVGIcons.clipboard({ size: 16 }),\n          'icon-filter-view': SVGIcons.eye({ size: 16 }),\n          'icon-view-board': SVGIcons.chart({ size: 18 }),\n          'icon-view-list': SVGIcons.list({ size: 18 }) // Proper list icon\n        };\n        \n        Object.keys(filterIconMappings).forEach(id => {\n          const element = document.getElementById(id);\n          if (element) {\n            element.innerHTML = filterIconMappings[id];\n          }\n        });\n        \n        // Right sidebar detail icons (16px)\n        const sidebarDetailIconMappings = {\n          'icon-ticket-info': SVGIcons.clipboard({ size: 16 }),\n          'icon-tab-essential': SVGIcons.star({ size: 16 }),\n          'icon-tab-details': SVGIcons.clipboard({ size: 16 }),\n          'icon-tab-technical': SVGIcons.settings({ size: 16 })\n        };\n        \n        Object.keys(sidebarDetailIconMappings).forEach(id => {\n          const element = document.getElementById(id);\n          if (element) {\n            element.innerHTML = sidebarDetailIconMappings[id];\n          }\n        });\n\n        // Flowing MVP send icon\n        const flowingSendIconEl = document.getElementById('flowingSendIcon');\n        if (flowingSendIconEl) flowingSendIconEl.innerHTML = SVGIcons.send({ size: 14, className: 'svg-assemble' });\n        \n        console.log('‚úÖ All SVG icons injected (sidebar, header, ML dashboard, filter bar, right sidebar)');\n      } else {\n        console.warn('‚ö†Ô∏è SVGIcons not loaded, sidebar icons will not render');\n      }\n      \n      setTimeout(function() {\n        const sidebarContent = document.querySelector('.sidebar-content-component');\n        const actionComponent = document.querySelector('.sidebar-action-component');\n        const actionBtn = document.getElementById('quickActionBtn');\n        \n        console.log('üìç Sidebar content:', sidebarContent);\n        console.log('üìç Action component:', actionComponent);\n        console.log('üîò Action button:', actionBtn);\n        \n        if (sidebarContent && actionComponent) {\n          // Sync collapsed state with sidebar\n          if (sidebarContent.classList.contains('collapsed')) {\n            actionComponent.classList.add('collapsed');\n            console.log('üîÑ Sidebar is collapsed, syncing action button');\n          } else {\n            actionComponent.classList.remove('collapsed');\n            console.log('‚úÖ Sidebar is expanded, action button ready');\n          }\n        }\n        \n        // Listen for sidebar toggle events\n        window.addEventListener('sidebarToggled', function() {\n          console.log('üîî Sidebar toggled event received');\n          if (sidebarContent && actionComponent) {\n            if (sidebarContent.classList.contains('collapsed')) {\n              actionComponent.classList.add('collapsed');\n            } else {\n              actionComponent.classList.remove('collapsed');\n            }\n          }\n        });\n        \n        console.log('‚úÖ Sidebar action button initialized');\n      }, 100);\n    });\n  </script>\n  \n  <!-- Chart.js for interactive charts -->\n  <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>\n  <!-- Emoji -> SVG runtime replacer (uses SVGIcons.render) -->\n  <script src=\"/static/js/utils/emoji-replacer.js?v=1765920148\"></script>\n  \n  <!-- USER SETUP MODAL (First-time configuration) -->\n  <link rel=\"stylesheet\" href=\"/static/css/user-setup-modal.css?v=1765920148\">\n  \n  <!-- FLOWING MVP FOOTER STYLES -->\n  <link rel=\"stylesheet\" href=\"/static/css/flowing-mvp-footer.css?v=1765920148\">\n  \n</head>\n<body class=\"theme-light\">\n  <script>\n    console.log('üöÄ BODY LOADED - Checking for sidebar-action-component...');\n    console.log('üìç Elements in DOM:', document.querySelectorAll('aside').length, 'asides found');\n  </script>\n  \n  <div class=\"app-container\" role=\"application\" aria-label=\"SpeedyFlow Ticket Workspace\">\n    <!-- SIDEBAR (UNIFIED REBUILD) -->\n    <!-- SIDEBAR HEADER (Toggle Button) -->\n    <aside class=\"sidebar-header-component\" role=\"banner\" aria-label=\"Sidebar Toggle\">\n      <button id=\"sidebarToggleBtn\" class=\"sidebar-toggle-btn\" aria-label=\"Toggle Sidebar\">\n        <span class=\"toggle-icon\">‚ò∞</span>\n      </button>\n    </aside>\n\n    <!-- SIDEBAR ACTION BUTTON (Clone of header style) -->\n    <aside class=\"sidebar-header-component\" id=\"sidebarActionComponent\" role=\"complementary\" aria-label=\"Quick Actions\" style=\"top: 112px !important;\">\n      <button id=\"quickActionBtn\" class=\"sidebar-toggle-btn\" aria-label=\"Quick Action\" title=\"Quick Action\">\n        <span class=\"toggle-icon\">‚ö°</span>\n      </button>\n    </aside>\n\n    <!-- SIDEBAR CONTENT (Navigation Menu) -->\n    <aside class=\"sidebar-content-component\" role=\"navigation\" aria-label=\"Primary Navigation\">\n      <div class=\"sidebar-content\">\n        <section class=\"sidebar-section\" aria-label=\"Navigation\">\n          <span class=\"sidebar-section-label\">Navigation</span>\n          <nav class=\"sidebar-menu\" aria-label=\"Main\">\n            <button type=\"button\" id=\"newTicketBtn\" class=\"sidebar-menu-item\" aria-label=\"Create Ticket\" data-tooltip=\"Create Ticket\"><span class=\"icon\" id=\"icon-new-ticket\"></span><span class=\"label\">Create Ticket</span></button>\n            <a href=\"#\" class=\"sidebar-menu-item active\" aria-current=\"page\" data-tooltip=\"My Tickets\"><span class=\"icon\" id=\"icon-my-tickets\"></span><span class=\"label\">My Tickets</span></a>\n            <a href=\"#\" class=\"sidebar-menu-item\" data-tooltip=\"All Tickets\"><span class=\"icon\" id=\"icon-all-tickets\"></span><span class=\"label\">All Tickets</span></a>\n            <a href=\"#\" class=\"sidebar-menu-item\" data-tooltip=\"Starred\"><span class=\"icon\" id=\"icon-starred\"></span><span class=\"label\">Starred</span></a>\n          </nav>\n        </section>\n        <div class=\"sidebar-divider\" aria-hidden=\"true\"></div>\n        <section class=\"sidebar-section\" aria-label=\"Utilities\">\n          <span class=\"sidebar-section-label\">Utilities</span>\n          <nav class=\"sidebar-menu\" aria-label=\"Utilities\">\n            <a href=\"#\" class=\"sidebar-menu-item\" data-tooltip=\"Search\"><span class=\"icon\" id=\"icon-search\"></span><span class=\"label\">Search</span></a>\n            <a href=\"#\" class=\"sidebar-menu-item\" data-tooltip=\"Reports\"><span class=\"icon\" id=\"icon-reports\"></span><span class=\"label\">Reports</span></a>\n            <button type=\"button\" class=\"sidebar-menu-item\" id=\"notificationsBtn\" aria-label=\"Notifications\" data-tooltip=\"Notifications\">\n              <span class=\"icon\" id=\"icon-notifications\"></span>\n              <span class=\"label\">Notifications</span>\n              <span class=\"notification-badge\" style=\"display: none;\">0</span>\n            </button>\n            <button type=\"button\" class=\"sidebar-menu-item\" id=\"refreshBtn\" aria-label=\"Refresh\" data-tooltip=\"Refresh\"><span class=\"icon\" id=\"icon-refresh\"></span><span class=\"label\">Refresh</span></button>\n            <button type=\"button\" class=\"sidebar-menu-item\" id=\"clearCacheBtn\" aria-label=\"Clear Cache\" title=\"Clear local cache to force refresh\" data-tooltip=\"Clear Cache\"><span class=\"icon\" id=\"icon-clear-cache\"></span><span class=\"label\">Clear Cache</span></button>\n          </nav>\n        </section>\n        <div class=\"sidebar-divider\" aria-hidden=\"true\"></div>\n      </div>\n    </aside>\n\n    <!-- MAIN WRAPPER -->\n    <div class=\"main-wrapper\" role=\"main\">\n\n      <header class=\"header-enhanced\" aria-label=\"Primary\">\n        <div class=\"header-left-section\">\n          <div class=\"header-brand\">\n            <span class=\"brand-icon\">‚ö°</span>\n            <span class=\"brand-text\">SpeedyFlow</span>\n          </div>\n          <div class=\"header-divider-vertical\"></div>\n          <h1 class=\"header-page-title\">\n            <span class=\"page-title-text\">Tickets</span>\n          </h1>\n        </div>\n        \n        <div class=\"header-center-section\">\n          <nav aria-label=\"Breadcrumb\" class=\"breadcrumb-enhanced\">\n            <span class=\"breadcrumb-item\" id=\"deskBreadcrumb\">Select Desk</span>\n            <span class=\"breadcrumb-separator\" aria-hidden=\"true\">‚Ä∫</span>\n            <span class=\"breadcrumb-item\" id=\"queueBreadcrumb\">Select Queue</span>\n          </nav>\n        </div>\n        \n        <div class=\"header-right-section\">\n          <div class=\"header-status-badge\">\n            <span class=\"status-indicator\"></span>\n            <span class=\"status-text\" id=\"filterStatus\">Ready</span>\n          </div>\n          <div class=\"header-divider-vertical\"></div>\n          <div class=\"header-account-actions\">\n            <button class=\"header-icon-btn\" id=\"headerHelpBtn\" title=\"Help Center\" aria-label=\"Help Center\">\n              <span class=\"icon\" id=\"icon-header-help\"></span>\n            </button>\n            <button class=\"header-icon-btn\" id=\"headerSettingsBtn\" title=\"Settings\" aria-label=\"Settings\">\n              <span class=\"icon\" id=\"icon-header-settings\"></span>\n            </button>\n            <button class=\"header-icon-btn\" id=\"headerUserMenuBtn\" title=\"Profile\" aria-label=\"Profile\">\n              <span class=\"icon\" id=\"icon-header-user\"></span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <div class=\"filter-bar-enhanced\" aria-label=\"Filters\">\n        <!-- Primary Filters -->\n        <div class=\"filter-section filter-primary\">\n            <div class=\"filter-group\">\n              <label for=\"serviceDeskSelectFilter\" class=\"filter-label\">\n                <span class=\"filter-icon\" id=\"icon-filter-desk\"></span>\n                <span class=\"filter-text\">Service Desk</span>\n              </label>\n              <div class=\"filter-input-wrapper\">\n                <select id=\"serviceDeskSelectFilter\" class=\"filter-select\">\n                  <option value=\"\">Select Desk...</option>\n                </select>\n                <span class=\"filter-dropdown-icon\">‚ñº</span>\n              </div>\n            </div>\n            \n            <div class=\"filter-group\">\n              <label for=\"queueSelectFilter\" class=\"filter-label\">\n                <span class=\"filter-icon\" id=\"icon-filter-queue\"></span>\n                <span class=\"filter-text\">Queue</span>\n              </label>\n              <div class=\"filter-input-wrapper filter-with-action\">\n                <select id=\"queueSelectFilter\" class=\"filter-select\">\n                  <option value=\"\">Select Queue...</option>\n                </select>\n                <span class=\"filter-dropdown-icon\">‚ñº</span>\n                <button id=\"saveFiltersBtn\" class=\"filter-action-btn\" title=\"Save current filters\">\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H7V5h8v4z\"/>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- Divider -->\n          <div class=\"filter-divider\"></div>\n\n          <!-- View Controls -->\n          <div class=\"filter-section filter-controls\">\n            <div class=\"filter-group\">\n              <label class=\"filter-label\">\n                <span class=\"filter-icon\" id=\"icon-filter-view\"></span>\n                <span class=\"filter-text\">View Mode</span>\n              </label>\n              <div class=\"view-toggle-enhanced\" role=\"tablist\">\n                <button class=\"view-btn active\" data-view=\"kanban\" aria-selected=\"true\" role=\"tab\">\n                  <span class=\"view-icon\" id=\"icon-view-board\"></span>\n                  <span class=\"view-text\">Board</span>\n                </button>\n                <button class=\"view-btn\" data-view=\"list\" role=\"tab\">\n                  <span class=\"view-icon\" id=\"icon-view-list\"></span>\n                  <span class=\"view-text\">List</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- Divider -->\n          <div class=\"filter-divider\"></div>\n\n          <!-- Theme Controls -->\n          <div class=\"filter-section filter-theme\">\n            <div class=\"filter-group\">\n              <label class=\"filter-label\">\n                <span class=\"filter-icon\">‚ú®</span>\n                <span class=\"filter-text\">Customize</span>\n              </label>\n              <div class=\"theme-controls\">\n                <button id=\"bgSelectorHeaderBtn\" class=\"theme-btn\" title=\"Change background\">\n                  <span class=\"theme-btn-icon\">üé®</span>\n                  <span class=\"theme-btn-text\">Background</span>\n                </button>\n                <button id=\"themeToggleBtn\" class=\"theme-btn\" title=\"Toggle theme\">\n                  <span class=\"theme-btn-icon\">üé≠</span>\n                  <span class=\"theme-btn-text\">Theme</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      <div class=\"board-wrapper\" id=\"boardWrapper\">\n        <div id=\"kanbanView\" class=\"kanban-board\" aria-live=\"polite\">\n          <div class=\"placeholder-pro\" id=\"kanbanPlaceholder\">Loading tickets...</div>\n        </div>\n        <div id=\"listView\" class=\"list-view\" style=\"display:none\" aria-live=\"polite\">\n          <div class=\"placeholder-pro\" id=\"listPlaceholder\">Loading tickets...</div>\n        </div>\n      </div>\n\n      <!-- RIGHT SIDEBAR (Context-aware suggestions) -->\n      <div class=\"right-sidebar suggestions-sidebar\" id=\"rightSidebar\" style=\"display: none; padding-bottom: 70px;\">\n        <button class=\"btn-close-sidebar\" id=\"closeSidebarBtn\">‚úï</button>\n\n        <!-- Context-aware header -->\n        <div class=\"suggestions-header\" id=\"suggestionsHeader\" style=\"padding:12px 16px;border-bottom:1px solid rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:space-between;\">\n          <div style=\"font-weight:600\">üí° Flowing Suggestions</div>\n          <div id=\"suggestionsContextBadge\" style=\"font-size:12px;opacity:0.8\">No context</div>\n        </div>\n\n        <!-- Horizontal suggestions strip -->\n        <div id=\"suggestionsBar\" class=\"suggestions-bar\" style=\"display:flex;gap:8px;padding:12px;overflow:auto;align-items:flex-start;\">\n          <!-- Suggestion cards injected here by FlowingContext -->\n        </div>\n\n        <!-- Results / details area -->\n        <div id=\"suggestionsResults\" class=\"suggestions-results\" style=\"padding:12px;overflow:auto;height:calc(100% - 160px);\">\n          <p style=\"color:#666\">Selecciona una sugerencia para ver resultados aqu√≠.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- ===== FLOWING MVP FOOTER (Integrated) ===== -->\n  <div id=\"flowingFooter\" class=\"flowing-footer collapsed\">\n    <!-- Toggle Button -->\n    <button id=\"flowingToggleBtn\" class=\"flowing-toggle-btn\" title=\"Flowing MVP Assistant\">\n      <span class=\"flowing-icon flowing-sf-logo\">SF</span>\n      <div class=\"flowing-info\">\n        <span class=\"flowing-label\">Flowing MVP</span>\n        <span class=\"flowing-suggestion\" id=\"flowingSuggestion\">Analyzing your queue...</span>\n      </div>\n      <span class=\"flowing-chevron\">‚ñ≤</span>\n      <span id=\"flowingCloseBtn\" class=\"flowing-close-btn\" title=\"Close\">‚úï</span>\n    </button>\n\n    <!-- Flowing Content -->\n    <div class=\"flowing-content\">\n\n      <!-- Chat-Only View (Default) -->\n      <div id=\"chatOnlyView\">\n        <!-- Messages Container -->\n        <div id=\"flowingMessages\" class=\"flowing-messages\">\n          <div class=\"flowing-message assistant\">\n            <div class=\"message-avatar flowing-sf-logo\">SF</div>\n            <div class=\"message-content\">\n              <p>üëã Hi! I'm Flowing MVP, your SpeedyFlow Ticket Solving Mate! I can help you with:</p>\n              <ul>\n                <li>üìã Analyzing ticket priorities and patterns</li>\n                <li>‚è±Ô∏è Explaining SLA statuses and deadlines</li>\n                <li>üéØ Suggesting next actions for tickets</li>\n                <li>üìä Providing insights on queue metrics</li>\n              </ul>\n              <p>Just ask me anything!</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Input Area -->\n        <div class=\"flowing-input-area\">\n          <div class=\"flowing-context-badge\" id=\"flowingContextBadge\">\n            <span class=\"context-icon\" aria-hidden=\"true\"></span>\n            <span class=\"context-text\">No context</span>\n          </div>\n          <div class=\"flowing-input-wrapper\">\n            <input type=\"text\" id=\"flowingInput\" class=\"flowing-input\" placeholder=\"Ask me anything about your tickets...\" />\n            <button id=\"flowingSendBtn\" class=\"flowing-send-btn\" title=\"Send\">\n              <span id=\"flowingSendIcon\" class=\"inline-icon svg-assemble\"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Balanced View (Hidden by default, shown when ticket selected) -->\n      <div id=\"balancedView\" class=\"balanced-view\" style=\"display: none;\">\n        <!-- This will be dynamically populated with ticket details when a ticket is selected -->\n        <div id=\"balancedContentContainer\">\n          <!-- Ticket details will be loaded here by flowing-mvp-footer.js -->\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- ===== END FLOWING MVP FOOTER ===== -->\n\n  <script>\n    // Detectar usuario actual desde JIRA\n    fetch('/api/user')\n      .then(r => r.json())\n      .then(data => {\n        const user = data.displayName || data.name || 'You';\n        localStorage.setItem('currentUser', user);\n        localStorage.setItem('userFullName', data.displayName || 'John Doe');\n        localStorage.setItem('userEmail', data.emailAddress || 'user@example.com');\n      })\n      .catch(() => {\n        localStorage.setItem('currentUser', 'You');\n        localStorage.setItem('userFullName', 'John Doe');\n        localStorage.setItem('userEmail', 'user@example.com');\n      });\n  </script>\n  \n  <!-- ===== CORE APPLICATION SCRIPTS ===== -->\n  <!-- Constants & Configuration (MUST load first) -->\n  <script src=\"/static/js/constants/card-sizing.js\"></script>\n  \n  <!-- SVG Icons Module - Centralized icon library -->\n  <script src=\"/static/js/utils/svg-icons.js?v=1765920148\"></script>\n  \n  <!-- Theme Manager - Centralized theme control -->\n  <script src=\"/static/js/theme-manager.js?v=1765920148\"></script>\n  <script src=\"/static/js/sidebar-toggle.js?v=1765920148\"></script>\n  <script src=\"/static/js/sidebar-tooltip-manager.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/sidebar-actions.js?v=1765920148\"></script>\n  <script src=\"/static/js/header-menu-controller.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/mentions-autocomplete.js?v=1765920148\"></script>\n  <!-- Comments module must load before right-sidebar to provide comment utilities -->\n  <script src=\"/static/js/modules/comments.js?v=1765920148\"></script>\n  <script src=\"/static/js/right-sidebar.js?v=1765920148\"></script>\n  <script src=\"/static/js/mentions-system.js?v=1765920148\"></script>\n  <script src=\"/static/js/notifications-panel.js?v=1765920148\"></script>\n  <script src=\"/static/js/sla-monitor.js?v=1765920148\"></script>\n  \n  <!-- ===== GLASSMORPHISM & TRANSPARENCY ===== -->\n  <script src=\"/static/js/glassmorphism-opacity-controller.js?v=1765920148\"></script>\n  \n  <!-- ===== BACKGROUND & AI EFFECTS ===== -->\n  <script src=\"/static/js/background-manager.js?v=1765920148\"></script>\n  <script src=\"/static/js/background-selector-ui.js?v=1765920148\"></script>\n  \n  <!-- ===== UI ENHANCEMENTS ===== -->\n  <script src=\"/static/js/app.js?v=1765920148\"></script>\n  <script src=\"/static/js/auto-severity-config.js?v=1765920148\"></script>\n  <script src=\"/static/js/filter-bar-manager.js?v=1765920148\"></script>\n  <script src=\"/static/js/loading-state-manager.js?v=1765920148\"></script>\n  <script src=\"/static/js/loading-dots.js?v=1765920148\"></script>\n\n  <!-- ===== AI & ML MODULES ===== -->\n  <script src=\"/static/js/modules/ai-queue-analyzer.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/view-toggle-filters.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/ai-field-suggestions.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/sidebar-inline-editor.js?v=1765920148\"></script>\n  <script src=\"/static/js/modules/ml-comment-suggestions.js?v=1765920148\"></script>\n  <!-- ML CLIENT (frontend -> ML Service) -->\n  <script src=\"/static/js/ml-client.js?v=1765920148\"></script>\n        <script>\n          // Auto-init ML UI helper when fields are present (tries common IDs)\n          document.addEventListener('DOMContentLoaded', function() {\n            try {\n              const tryIds = [ ['summary','description'], ['issueSummary','issueDescription'], ['summaryField','descriptionField'] ];\n              for (const ids of tryIds) {\n                const [sId,dId] = ids;\n                if (document.getElementById(sId)) {\n                  if (window.mlUIHelper && typeof window.mlUIHelper.initTicketForm === 'function') {\n                    window.mlUIHelper.initTicketForm(sId, dId);\n                    console.log('‚úÖ [ML] mlUIHelper initialized with', sId, dId);\n                    break;\n                  }\n                }\n              }\n            } catch(e){ console.warn('‚ö†Ô∏è [ML] Auto-init failed', e); }\n          });\n        </script>\n  <!-- DISABLED: ml-anomaly-dashboard.js (obsolete, auto-opens modal) -->\n\n  <!-- ===== DRAG & DROP TRANSITIONS ===== -->\n  <script src=\"/static/views/board/drag-transition-vertical.js?v=1765920148\"></script>\n  <script src=\"/static/views/list/list-view-transitions.js?v=1765920148\"></script>\n  \n  <!-- ===== QUICK ACTIONS (Quick Triage & Smart Filters) ===== -->\n  <script src=\"/static/js/quick-triage.js?v=1765920148\"></script>\n  <script src=\"/static/js/smart-filters.js?v=1765920148\"></script>\n  <script src=\"/static/js/smart-functions-modal.js?v=1765920148\"></script>\n  <script src=\"/static/js/smart-analytics.js?v=1765920148\"></script>\n  <!-- User Setup Modal -->\n  <script src=\"/static/js/user-setup-modal.js?v=1765920148\"></script>\n  \n  <!-- FLOWING MVP FOOTER SCRIPT -->\n  <!-- Flowing Context (context-aware suggestions injected into right sidebar) -->\n  <script src=\"/static/js/flowing-context-aware.js?v=1765920148\"></script>\n  <script src=\"/static/js/flowing-mvp-footer.js?v=1765920148\"></script>\n  \n  <!-- FLOWING MVP INTEGRATION SCRIPT -->\n  <script>\n    // Integration script: Connect Flowing MVP with main app\n    document.addEventListener('DOMContentLoaded', function() {\n      console.log('üîó Integrating Flowing MVP Footer with main app...');\n      \n      // Wait for both app.js and flowing-mvp-footer.js to load\n      const initFlowingIntegration = () => {\n        if (!window.flowingFooter) {\n          console.warn('‚è≥ Waiting for Flowing MVP Footer to initialize...');\n          setTimeout(initFlowingIntegration, 100);\n          return;\n        }\n        \n        // CRITICAL: Listen for ticket details button clicks\n        document.addEventListener('click', function(e) {\n          // Check if click is on a details button (kanban or list view)\n          const detailsBtn = e.target.closest('.issue-details-btn, .btn-view-details');\n          \n          if (detailsBtn && window.flowingFooter) {\n            e.preventDefault(); // Prevent default right sidebar opening\n            e.stopPropagation(); // Stop event from bubbling\n            \n            const issueKey = detailsBtn.dataset.issueKey || detailsBtn.dataset.key;\n            \n            if (issueKey) {\n              console.log('üéØ Details button clicked for ticket:', issueKey);\n              \n              // Expand footer if collapsed\n              if (!window.flowingFooter.isExpanded) {\n                window.flowingFooter.expand();\n              }\n              \n              // Switch to balanced view with ticket details\n              window.flowingFooter.switchToBalancedView(issueKey);\n              \n              // Prevent right sidebar from opening\n              return false;\n            }\n          }\n          \n          // Alternative: Listen for ticket card clicks (optional fallback)\n          const ticketCard = e.target.closest('.ticket-card, .kanban-card, .list-row');\n          if (ticketCard && !e.target.closest('.issue-details-btn, .btn-view-details') && window.flowingFooter) {\n            const ticketKey = ticketCard.dataset.issueKey || ticketCard.dataset.key;\n            if (ticketKey && window.flowingFooter.context) {\n              // Just update context, don't open balanced view (let right sidebar handle it)\n              window.flowingFooter.context.selectedIssue = ticketKey;\n            }\n          }\n        }, true); // Use capture phase to intercept before right-sidebar.js\n        \n        // Sync theme changes\n        const themeObserver = new MutationObserver(() => {\n          const bodyTheme = document.body.classList.contains('theme-dark') ? 'dark' : 'light';\n          document.body.setAttribute('data-theme', bodyTheme);\n        });\n        themeObserver.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n        \n        console.log('‚úÖ Flowing MVP Footer integrated successfully');\n        console.log('üí° Click on ticket details buttons to view in Flowing MVP');\n      };\n      \n      initFlowingIntegration();\n    });\n  </script>\n  <!-- Issue selection detector: dispatch ticketSelected when details buttons clicked or balanced view shown -->\n  <script>\n    (function(){\n      // Delegated click listener for issue details buttons\n      document.addEventListener('click', function(e){\n        try {\n          const btn = e.target.closest('.issue-details-btn, .btn-view-details');\n          if (!btn) return;\n          // attempt to find issueKey from dataset or ancestor attributes\n          const issueKey = btn.dataset.issueKey || btn.dataset.key || btn.closest('[data-issue-key]')?.dataset.issueKey || btn.closest('[data-key]')?.dataset.key;\n          if (!issueKey) return;\n\n          // Try to resolve full issue object from window.state or app caches\n          let ticket = null;\n          try { ticket = window.state?.issues?.find(i => i.key === issueKey) || window.app?.issuesCache?.get(issueKey) || null; } catch(_) { ticket = null; }\n          if (!ticket) ticket = { key: issueKey, fields: {} };\n\n          // If Flowing Footer supports balanced view, open it\n          if (window.flowingFooter && typeof window.flowingFooter.switchToBalancedView === 'function') {\n            try { window.flowingFooter.switchToBalancedView(issueKey); } catch(_) {}\n          }\n\n          // Dispatch ticketSelected for ML modules\n          document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: ticket } }));\n\n          // Also directly invoke the comment suggestions UI if available (force analysis)\n          try {\n            const tryInvoke = () => {\n              if (window.commentSuggestionsUI && typeof window.commentSuggestionsUI.showSuggestionsForTicket === 'function') {\n                console.log('üì£ Invoking commentSuggestionsUI.showSuggestionsForTicket for', issueKey);\n                try { window.commentSuggestionsUI.showSuggestionsForTicket(ticket); } catch (e) { console.warn('Error calling showSuggestionsForTicket:', e); }\n                return true;\n              }\n              return false;\n            };\n\n            if (!tryInvoke()) {\n              // Retry a few times in case ML module initializes slightly later\n              let attempts = 0;\n              const maxAttempts = 8;\n              const interval = setInterval(() => {\n                attempts += 1;\n                if (tryInvoke() || attempts >= maxAttempts) {\n                  clearInterval(interval);\n                }\n              }, 250);\n            }\n          } catch (e) { console.warn('Could not call commentSuggestionsUI directly:', e); }\n        } catch (err) { console.warn('issueSelectionDetector click handler error', err); }\n      }, true);\n\n      // Observe balanced view visibility and dispatch when shown\n      const balancedEl = document.getElementById('balancedView');\n      if (balancedEl) {\n        const obs = new MutationObserver((mutations) => {\n          mutations.forEach(m => {\n            try {\n              if (m.type === 'attributes' && (m.attributeName === 'style' || m.attributeName === 'class')) {\n                const isVisible = window.getComputedStyle(balancedEl).display !== 'none';\n                if (isVisible) {\n                  // try to get issue key from FlowingFooter context or from DOM\n                  const issueKey = window.flowingFooter?.context?.selectedIssue || document.querySelector('#balancedContentContainer [data-issue-key]')?.dataset.issueKey || null;\n                  if (issueKey) {\n                    let ticket = null;\n                    try { ticket = window.state?.issues?.find(i => i.key === issueKey) || window.app?.issuesCache?.get(issueKey) || null; } catch(_) { ticket = null; }\n                    if (!ticket) ticket = { key: issueKey, fields: {} };\n                    document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: ticket } }));\n                  }\n                }\n              }\n            } catch (e) { /* ignore */ }\n          });\n        });\n        obs.observe(balancedEl, { attributes: true, attributeFilter: ['style','class'] });\n      }\n    })();\n  </script>\n  <script>\n    // Ensure that external ticketSelected events (e.g. from scripts) trigger ML UI analysis\n    document.addEventListener('ticketSelected', (e) => {\n      try {\n        const ticket = e.detail?.ticket;\n        if (!ticket) return;\n\n        const issueKey = ticket.key || ticket.fields?.key || null;\n        if (!issueKey) return;\n\n        const tryInvoke = () => {\n          if (window.commentSuggestionsUI && typeof window.commentSuggestionsUI.showSuggestionsForTicket === 'function') {\n            console.log('üì£ ticketSelected listener: invoking commentSuggestionsUI for', issueKey);\n            try { window.commentSuggestionsUI.showSuggestionsForTicket(ticket); } catch (err) { console.warn('Error invoking commentSuggestionsUI:', err); }\n            return true;\n          }\n          return false;\n        };\n\n        if (!tryInvoke()) {\n          let attempts = 0;\n          const maxAttempts = 12;\n          const interval = setInterval(() => {\n            attempts += 1;\n            if (tryInvoke() || attempts >= maxAttempts) clearInterval(interval);\n          }, 250);\n        }\n      } catch (err) { console.warn('ticketSelected handler error', err); }\n    });\n  </script>\n</body>\n</html>"
  },
  {
    "url": "http://localhost:5005/static/css/app.bundle.css?v=1765920148",
    "ranges": [
      {
        "start": 6803,
        "end": 6851
      },
      {
        "start": 6855,
        "end": 6933
      },
      {
        "start": 6937,
        "end": 7177
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - CSS Bundle Orchestrator\r\n * =====================================\r\n * Central entry point for all CSS imports\r\n * Loads in strategic order: Foundation ‚Üí Themes ‚Üí Components ‚Üí Layout ‚Üí Utilities\r\n * \r\n * Total: ~15 consolidated CSS files\r\n * Max file size: 1100 lines (no file exceeds 2000 lines)\r\n * Total lines: ~8,000 lines (consolidated from 12,000+)\r\n * \r\n * Import Strategy:\r\n * 1. Foundation files load first (design tokens, variables, base layout)\r\n * 2. Theme files establish color palettes and effects\r\n * 3. Component files define UI elements\r\n * 4. Layout files handle page structure\r\n * 5. Utility files add interactive features\r\n * 6. Fallback file handles legacy support\r\n * \r\n * UPDATED: 2025-12-02 - Added sidebar-action-component styles\r\n */\r\n\r\n/* ============================================================\r\n   PHASE 1: FOUNDATION (Design tokens, variables, base layout)\r\n   ============================================================ */\r\n@import url('core/design-system.css');    /* Design tokens: colors, spacing, radius, typography */\r\n@import url('core/variables.css');        /* CSS custom properties for dynamic theming */\r\n@import url('core/animations.css');       /* Centralized CSS animations and keyframes */\r\n@import url('core/font-presets.css');     /* Font family presets system */\r\n@import url('core/typography-system.css'); /* Cohesive typography system: Aptos + Century */\r\n@import url('core/font-glyph-adaptations.css'); /* Adaptations for combining fonts with Aptos/Century */\r\n@import url('core/positioning-system.css'); /* Centralized positioning, display, z-index system */\r\n@import url('core/layout.css');           /* Base layout: grid, flexbox, positioning */\r\n\r\n/* ============================================================\r\n   PHASE 2: THEME SYSTEM (Color palettes, effects, modes)\r\n   ============================================================ */\r\n@import url('themes-consolidated/theme-light.css');            /* Light theme palette */\r\n@import url('themes-consolidated/theme-dark.css');             /* Dark theme palette */\r\n@import url('core/glassmorphism.css');                       /* Centralized glassmorphism system */\r\n/* Transparency exemptions consolidated into glassmorphism.css */\r\n@import url('themes-consolidated/background-manager.css');     /* Background selector styles */\r\n\r\n/* ============================================================\r\n   PHASE 3: COMPONENTS (UI elements - strategic consolidation)\r\n   ============================================================ */\r\n/* Common Base Styles (buttons, forms, cards, modals) */\r\n@import url('components/common.css');\r\n\r\n/* Cards, Modals & Containers (~500 lines) */\r\n@import url('components/cards-modals.css');\r\n\r\n/* Badges, SLA Indicators & Alerts (~350 lines) */\r\n@import url('components/badges-utilities.css');\r\n\r\n/* Specialized Components */\r\n@import url('components/filter-bar.css'); /* Filter bar with unified glassmorphism */\r\n@import url('../views/board/kanban.css');        /* Kanban board styling */\r\n@import url('../views/list/list-view.css');     /* List view table styling */\r\n@import url('components/cards-responsive.css');      /* Responsive card styling */\r\n@import url('components/issue-details-btn.css');     /* Issue details button - Edge-style */\r\n@import url('components/right-sidebar.css');         /* Right sidebar with ticket details & comments */\r\n@import url('components/comments.css');      /* Comments & mentions system (includes v2) */\r\n@import url('components/comment-attachments.css'); /* Comment attachment styling */\r\n@import url('components/notifications.css'); /* Notification display */\r\n@import url('components/sidebar-actions.css');  /* Sidebar actions, toasts & notifications panel */\r\n@import url('components/sidebar-inline-editor.css'); /* AI-powered inline editor for fields */\r\n@import url('components/ai-suggestions.css');  /* AI field suggestions modal */\r\n@import url('components/ai-queue-analyzer.css');  /* AI queue analyzer global button & modal */\r\n@import url('components/font-preset-selector.css');  /* Font family customization selector */\r\n@import url('../views/board/transition-bar-vertical.css');  /* Vertical transition bar for kanban drag & drop */\r\n@import url('../views/list/transition-bar-horizontal.css');  /* Horizontal transition bar for list view */\r\n\r\n/* ============================================================\r\n   PHASE 4: LAYOUT (Page structure - sidebars, header)\r\n   ============================================================ */\r\n/* sidebar-components.css consolidated into glassmorphism.css and layout.css */\r\n@import url('components/header.css');\r\n\r\n/* ============================================================\r\n   PHASE 5: UTILITIES (Interactive features & enhancements)\r\n   ============================================================ */\r\n@import url('utilities/state-indicators.css');        /* Status badges, state display */\r\n@import url('utilities/loading-dots.css');            /* Loading animations */\r\n@import url('utilities/sla-monitor.css');             /* SLA monitoring display */\r\n@import url('utilities/mentions-system.css');         /* @mentions & highlights */\r\n@import url('utilities/fonts.css');                   /* Font definitions & weights */\r\n\r\n/* ============================================================\r\n   PHASE 6: FALLBACK (Legacy support)\r\n   ============================================================ */\r\n@import url('main.css');  /* Fallback styles for unsupported features */\r\n\r\n/* ============================================================\r\n   PHASE 7: GLASSMORPHIC OVERRIDES (Must load LAST)\r\n   ============================================================ */\r\n/* RE-ENABLED: Works in conjunction with glassmorphism-opacity-controller.js\r\n   CSS provides fallback styles, JavaScript provides dynamic control\r\n*/\r\n@import url('themes-consolidated/transparency-manager.css');\r\n\r\n/* ============================================================\r\n   END OF CSS BUNDLE\r\n   \r\n   Load Performance:\r\n   - All @imports are consolidated into single main bundle\r\n   - Reduces HTTP requests\r\n   - Files organized for easy maintenance\r\n   - Styles consolidated: glassmorphism.css + layout.css\r\n   - Follows CSS Cascade best practices\r\n   \r\n   Maintenance Notes:\r\n   - Add new component files to appropriate PHASE section\r\n   - Keep files <2000 lines for readability\r\n   - Update import order if dependencies change\r\n   - Archive deprecated files to /archive folder\r\n   ============================================================ */\r\n\r\n/* ============================================================\r\n   FINAL OVERRIDES: Force transparency for AI backgrounds AND header consistency\r\n   ============================================================ */\r\nbody {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-dark,\r\nbody.theme-light {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-dark .main-wrapper,\r\nbody.theme-light .main-wrapper,\r\nbody.theme-dark .app-container,\r\nbody.theme-light .app-container,\r\nbody.theme-dark .board-wrapper,\r\nbody.theme-light .board-wrapper {\r\n  background: transparent !important;\r\n}\r\n\r\n/* Header styles managed by transparency-manager.css - no overrides needed */\r\n\r\n/* Sidebar title color fix consolidated into glassmorphism.css */\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/ai-queue-analyzer.css",
    "ranges": [
      {
        "start": 1706,
        "end": 1890
      }
    ],
    "text": "/**\r\n * AI Queue Analyzer Styles\r\n * For global AI analysis button and results modal\r\n */\r\n\r\n/* ============================================================\r\n   AI ANALYZE BUTTON (Header)\r\n   ============================================================ */\r\n\r\n.btn-ai-analyze {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 16px;\r\n  background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);\r\n}\r\n\r\n.btn-ai-analyze:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);\r\n  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);\r\n}\r\n\r\n.btn-ai-analyze:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.btn-ai-analyze .icon {\r\n  font-size: 18px;\r\n}\r\n\r\n.btn-ai-analyze .label {\r\n  font-size: 14px;\r\n}\r\n\r\n/* ============================================================\r\n   AI QUEUE MODAL\r\n   ============================================================ */\r\n\r\n.ai-queue-modal {\r\n  width: 90%;\r\n  max-width: 800px;\r\n  max-height: 85vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.ai-queue-modal .modal-body {\r\n  overflow-y: auto;\r\n  padding: 24px;\r\n  flex: 1;\r\n}\r\n\r\n/* ============================================================\r\n   LOADING & STATES\r\n   ============================================================ */\r\n\r\n.loading-state,\r\n.success-state,\r\n.error-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 48px 24px;\r\n  text-align: center;\r\n}\r\n\r\n.spinner {\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 4px solid rgba(124, 58, 237, 0.1);\r\n  border-top-color: #7c3aed;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.success-icon,\r\n.error-icon {\r\n  font-size: 64px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.loading-state p,\r\n.success-state p,\r\n.error-state p {\r\n  margin-top: 16px;\r\n  color: #64748b;\r\n  font-size: 14px;\r\n}\r\n\r\n.success-state h3,\r\n.error-state h3 {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  margin-bottom: 8px;\r\n  color: #1e293b;\r\n}\r\n\r\n/* ============================================================\r\n   RESULTS SUMMARY\r\n   ============================================================ */\r\n\r\n.ai-results-summary {\r\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\r\n  border-left: 4px solid #0ea5e9;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.ai-results-summary p {\r\n  margin: 0;\r\n  color: #0c4a6e;\r\n  font-size: 14px;\r\n}\r\n\r\n.ai-results-summary strong {\r\n  color: #0369a1;\r\n  font-weight: 600;\r\n}\r\n\r\n/* ============================================================\r\n   ISSUE CARDS\r\n   ============================================================ */\r\n\r\n.ai-results-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.ai-issue-card {\r\n  background: white;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.ai-issue-card:hover {\r\n  border-color: #cbd5e1;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.ai-issue-header {\r\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\r\n  padding: 16px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.ai-issue-key {\r\n  font-weight: 600;\r\n  color: #7c3aed;\r\n  font-size: 13px;\r\n  background: white;\r\n  padding: 4px 10px;\r\n  border-radius: 6px;\r\n  border: 1px solid #e9d5ff;\r\n}\r\n\r\n.ai-issue-summary {\r\n  color: #1e293b;\r\n  font-size: 14px;\r\n  flex: 1;\r\n}\r\n\r\n/* ============================================================\r\n   SUGGESTION ITEMS\r\n   ============================================================ */\r\n\r\n.ai-suggestions-list {\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.ai-suggestion-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n}\r\n\r\n.ai-suggestion-item input[type=\"checkbox\"] {\r\n  margin-top: 4px;\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n  accent-color: #7c3aed;\r\n}\r\n\r\n.ai-suggestion-item label {\r\n  flex: 1;\r\n  cursor: pointer;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  background: #f8fafc;\r\n  border: 2px solid transparent;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.ai-suggestion-item input[type=\"checkbox\"]:checked + label {\r\n  background: #f5f3ff;\r\n  border-color: #c4b5fd;\r\n}\r\n\r\n.ai-suggestion-item label:hover {\r\n  background: #f1f5f9;\r\n}\r\n\r\n.suggestion-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.suggestion-header strong {\r\n  color: #1e293b;\r\n  font-size: 13px;\r\n}\r\n\r\n.confidence {\r\n  font-size: 11px;\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n}\r\n\r\n.confidence-high {\r\n  background: #dcfce7;\r\n  color: #166534;\r\n}\r\n\r\n.confidence-medium {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.confidence-low {\r\n  background: #fee2e2;\r\n  color: #991b1b;\r\n}\r\n\r\n.suggestion-change {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n  font-size: 13px;\r\n}\r\n\r\n.current-value {\r\n  color: #64748b;\r\n  font-style: italic;\r\n}\r\n\r\n.arrow {\r\n  color: #94a3b8;\r\n}\r\n\r\n.suggested-value {\r\n  color: #7c3aed;\r\n  font-weight: 600;\r\n}\r\n\r\n.suggestion-reason {\r\n  font-size: 12px;\r\n  color: #64748b;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* ============================================================\r\n   RESPONSIVE\r\n   ============================================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .btn-ai-analyze .label {\r\n    display: none;\r\n  }\r\n  \r\n  .ai-queue-modal {\r\n    width: 95%;\r\n    max-height: 90vh;\r\n  }\r\n  \r\n  .ai-issue-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/ai-suggestions.css",
    "ranges": [
      {
        "start": 4416,
        "end": 4557
      },
      {
        "start": 7321,
        "end": 7383
      }
    ],
    "text": "/**\r\n * AI FIELD SUGGESTIONS - STYLES\r\n * Estilos para el modal de sugerencias AI estilo Atlassian Intelligence\r\n */\r\n\r\n/* ==================== AI SUGGESTIONS MODAL ==================== */\r\n.ai-suggestions-modal {\r\n  max-width: 700px;\r\n  width: 90%;\r\n}\r\n\r\n.ai-suggestions-modal .modal-subtitle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-sm);\r\n  padding: var(--spacing-md) var(--spacing-lg);\r\n  background: rgba(59, 130, 246, 0.05);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.ai-suggestions-modal .modal-issue-key {\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  font-size: 14px;\r\n}\r\n\r\n.badge-info {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 4px 12px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.3px;\r\n}\r\n\r\n/* ==================== LOADING STATE ==================== */\r\n.ai-loading-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: var(--spacing-3xl) var(--spacing-lg);\r\n  text-align: center;\r\n}\r\n\r\n.ai-spinner {\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 4px solid rgba(59, 130, 246, 0.1);\r\n  border-top-color: #3b82f6;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.ai-loading-text {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin-bottom: var(--spacing-xs);\r\n}\r\n\r\n.ai-loading-subtext {\r\n  font-size: 14px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n/* ==================== ERROR & EMPTY STATES ==================== */\r\n.ai-error-state,\r\n.ai-empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: var(--spacing-3xl) var(--spacing-lg);\r\n  text-align: center;\r\n}\r\n\r\n.error-icon,\r\n.empty-icon {\r\n  font-size: 48px;\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.ai-error-state h3,\r\n.ai-empty-state h3 {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.ai-error-state p,\r\n.ai-empty-state p {\r\n  font-size: 14px;\r\n  color: var(--text-secondary);\r\n  margin-bottom: var(--spacing-lg);\r\n  max-width: 400px;\r\n}\r\n\r\n.error-message {\r\n  color: var(--color-danger);\r\n  font-family: monospace;\r\n  font-size: 13px;\r\n  padding: var(--spacing-sm);\r\n  background: rgba(239, 68, 68, 0.1);\r\n  border-radius: var(--radius-md);\r\n}\r\n\r\n/* ==================== SUGGESTIONS LIST ==================== */\r\n.ai-suggestions-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-md);\r\n  padding: var(--spacing-lg);\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* ==================== SUGGESTION CARD ==================== */\r\n.ai-suggestion-card {\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 2px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: var(--radius-lg);\r\n  padding: var(--spacing-md);\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n}\r\n\r\n.ai-suggestion-card:hover {\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\r\n}\r\n\r\n.ai-suggestion-card.selected {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2);\r\n}\r\n\r\n/* ==================== SUGGESTION HEADER ==================== */\r\n.suggestion-header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: var(--spacing-md);\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.suggestion-checkbox {\r\n  position: relative;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.suggestion-checkbox input[type=\"checkbox\"] {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  appearance: none;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: var(--radius-sm);\r\n  background: rgba(0, 0, 0, 0.3);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.suggestion-checkbox input[type=\"checkbox\"]:hover {\r\n  border-color: #3b82f6;\r\n  background: rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.suggestion-checkbox input[type=\"checkbox\"]:checked {\r\n  background: #3b82f6;\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.suggestion-checkbox input[type=\"checkbox\"]:checked::after {\r\n  content: '‚úì';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.suggestion-info {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: var(--spacing-md);\r\n}\r\n\r\n.suggestion-field-name {\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  font-size: 15px;\r\n}\r\n\r\n/* ==================== CONFIDENCE INDICATOR ==================== */\r\n.suggestion-confidence {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.confidence-high {\r\n  background: rgba(34, 197, 94, 0.2);\r\n  color: #22c55e;\r\n}\r\n\r\n.confidence-medium {\r\n  background: rgba(234, 179, 8, 0.2);\r\n  color: #eab308;\r\n}\r\n\r\n.confidence-low {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  color: #ef4444;\r\n}\r\n\r\n.confidence-icon {\r\n  font-size: 11px;\r\n}\r\n\r\n/* ==================== CHANGE DISPLAY ==================== */\r\n.suggestion-change {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-md);\r\n  padding: var(--spacing-md);\r\n  background: rgba(0, 0, 0, 0.2);\r\n  border-radius: var(--radius-md);\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.change-item {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.change-label {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.change-value {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  padding: 6px 10px;\r\n  border-radius: var(--radius-sm);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.change-value.current {\r\n  color: var(--text-secondary);\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.change-value.suggested {\r\n  color: #3b82f6;\r\n  background: rgba(59, 130, 246, 0.15);\r\n}\r\n\r\n.value-empty {\r\n  color: var(--text-tertiary);\r\n  font-style: italic;\r\n  font-weight: 400;\r\n}\r\n\r\n.change-arrow {\r\n  font-size: 20px;\r\n  color: var(--text-tertiary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* ==================== REASON SECTION ==================== */\r\n.suggestion-reason {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: var(--spacing-sm);\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border-radius: var(--radius-md);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.reason-icon {\r\n  flex-shrink: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.reason-text {\r\n  flex: 1;\r\n  font-size: 13px;\r\n  color: var(--text-secondary);\r\n  line-height: 1.5;\r\n}\r\n\r\n/* ==================== BUTTON STYLES ==================== */\r\n.btn-primary.loading {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n  position: relative;\r\n}\r\n\r\n.btn-primary.loading::after {\r\n  content: '';\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-top-color: white;\r\n  border-radius: 50%;\r\n  animation: spin 0.6s linear infinite;\r\n}\r\n\r\n.btn-icon {\r\n  display: inline-block;\r\n  margin-right: 4px;\r\n}\r\n\r\n/* ==================== RESPONSIVE ==================== */\r\n@media (max-width: 768px) {\r\n  .ai-suggestions-modal {\r\n    max-width: 95%;\r\n    width: 95%;\r\n  }\r\n\r\n  .ai-suggestions-list {\r\n    padding: var(--spacing-md);\r\n    max-height: 400px;\r\n  }\r\n\r\n  .suggestion-change {\r\n    flex-direction: column;\r\n    gap: var(--spacing-xs);\r\n  }\r\n\r\n  .change-arrow {\r\n    transform: rotate(90deg);\r\n    align-self: center;\r\n  }\r\n\r\n  .suggestion-info {\r\n    flex-direction: column;\r\n    gap: var(--spacing-xs);\r\n  }\r\n\r\n  .suggestion-confidence {\r\n    align-self: flex-start;\r\n  }\r\n}\r\n\r\n/* ==================== BADGE IN SUGGESTIONS ==================== */\r\n.change-value .badge {\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  background: rgba(59, 130, 246, 0.2);\r\n  color: #3b82f6;\r\n  margin-right: 4px;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/auto-switch-notification.css?v=1765920148",
    "ranges": [
      {
        "start": 2779,
        "end": 2838
      }
    ],
    "text": "/**\r\n * AUTO-SWITCH NOTIFICATION\r\n * Notification shown when view is automatically switched to list\r\n */\r\n\r\n.auto-switch-notification {\r\n  position: fixed;\r\n  top: 80px;\r\n  right: 24px;\r\n  z-index: 10002;\r\n  animation: slideInRight 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n}\r\n\r\n@keyframes slideInRight {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(400px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n.auto-switch-notification.fade-out {\r\n  animation: slideOutRight 0.3s ease-out forwards;\r\n}\r\n\r\n@keyframes slideOutRight {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(400px);\r\n  }\r\n}\r\n\r\n.auto-switch-content {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 16px;\r\n  padding: 20px 24px;\r\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.98), rgba(139, 92, 246, 0.98));\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 16px;\r\n  box-shadow: \r\n    0 20px 50px rgba(99, 102, 241, 0.4),\r\n    0 0 0 1px rgba(255, 255, 255, 0.2) inset;\r\n  min-width: 350px;\r\n  max-width: 450px;\r\n  color: white;\r\n}\r\n\r\n.auto-switch-icon {\r\n  font-size: 32px;\r\n  flex-shrink: 0;\r\n  animation: bounce 1s ease-in-out infinite;\r\n}\r\n\r\n@keyframes bounce {\r\n  0%, 100% { transform: translateY(0); }\r\n  50% { transform: translateY(-5px); }\r\n}\r\n\r\n.auto-switch-text {\r\n  flex: 1;\r\n}\r\n\r\n.auto-switch-text strong {\r\n  display: block;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  margin-bottom: 4px;\r\n  color: white;\r\n}\r\n\r\n.auto-switch-text p {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  line-height: 1.5;\r\n  color: rgba(255, 255, 255, 0.95);\r\n  font-weight: 500;\r\n}\r\n\r\n.auto-switch-close {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.auto-switch-close:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.auto-switch-close:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* Auto-switch badge on button */\r\n.auto-switch-badge {\r\n  position: absolute;\r\n  top: -6px;\r\n  right: -6px;\r\n  background: linear-gradient(135deg, #f59e0b, #ef4444);\r\n  color: white;\r\n  font-size: 10px;\r\n  font-weight: 700;\r\n  padding: 2px 6px;\r\n  border-radius: 8px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);\r\n  animation: pulse-badge 2s infinite;\r\n  pointer-events: none;\r\n}\r\n\r\n@keyframes pulse-badge {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n    opacity: 0.9;\r\n  }\r\n}\r\n\r\n/* Ensure button has relative position for badge */\r\n.view-toggle-enhanced .view-btn {\r\n  position: relative;\r\n}\r\n\r\n/* Dark theme adjustments */\r\nbody.theme-dark .auto-switch-content {\r\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.98), rgba(168, 85, 247, 0.98));\r\n  box-shadow: \r\n    0 20px 50px rgba(139, 92, 246, 0.5),\r\n    0 0 0 1px rgba(255, 255, 255, 0.15) inset;\r\n}\r\n\r\n/* Mobile responsive */\r\n@media (max-width: 768px) {\r\n  .auto-switch-notification {\r\n    top: 60px;\r\n    right: 12px;\r\n    left: 12px;\r\n  }\r\n  \r\n  .auto-switch-content {\r\n    min-width: auto;\r\n    max-width: none;\r\n    padding: 16px;\r\n  }\r\n  \r\n  .auto-switch-icon {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .auto-switch-text strong {\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .auto-switch-text p {\r\n    font-size: 12px;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/badges-utilities.css",
    "ranges": [
      {
        "start": 277,
        "end": 475
      },
      {
        "start": 2455,
        "end": 2837
      }
    ],
    "text": "/**\r\n * Badges, SLA, & Utilities Styles\r\n * Badges, SLA indicators, alerts, loading, tooltips\r\n * Part of common.css split - <400 lines\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN BADGES ==================== */\r\n/* ALL badge and utility text must be fully opaque */\r\n.badge, .badge p, .badge span,\r\n.sla-badge, .sla-text, .sla-icon,\r\n.priority, .priority-text,\r\n.status-badge, .status-text,\r\n.alert, .alert p,\r\n.tooltip, .tooltip-text {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* ==================== SLA STATUS DISPLAY ==================== */\r\n.issue-sla {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 0;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n}\r\n\r\n.sla-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 10px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: var(--font-size-xs);\r\n  font-weight: var(--font-weight-semibold);\r\n  white-space: nowrap;\r\n}\r\n\r\n.sla-healthy {\r\n  background: rgba(34, 197, 94, 0.12);\r\n  color: #15803d;\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n}\r\n\r\n.sla-on-track {\r\n  background: rgba(234, 179, 8, 0.12);\r\n  color: #b45309;\r\n  border: 1px solid rgba(234, 179, 8, 0.25);\r\n}\r\n\r\n.sla-warning {\r\n  background: rgba(249, 115, 22, 0.12);\r\n  color: #c2410c;\r\n  border: 1px solid rgba(249, 115, 22, 0.25);\r\n}\r\n\r\n.sla-critical {\r\n  background: rgba(239, 68, 68, 0.12);\r\n  color: #dc2626;\r\n  border: 1px solid rgba(239, 68, 68, 0.25);\r\n}\r\n\r\n.sla-breached {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #b91c1c;\r\n  border: 1px solid rgba(239, 68, 68, 0.35);\r\n  animation: none;\r\n}\r\n\r\n.sla-completed {\r\n  background: rgba(34, 197, 94, 0.12);\r\n  color: #15803d;\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n}\r\n\r\n.sla-unknown {\r\n  background: rgba(107, 114, 128, 0.1);\r\n  color: #4b5563;\r\n  border: 1px solid rgba(107, 114, 128, 0.2);\r\n}\r\n\r\n.sla-default {\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n}\r\n\r\n.sla-paused {\r\n  background: rgba(168, 85, 247, 0.12);\r\n  color: #6b21a8;\r\n  border: 1px solid rgba(168, 85, 247, 0.25);\r\n}\r\n\r\n.sla-na {\r\n  background: rgba(107, 114, 128, 0.1);\r\n  color: #4b5563;\r\n  border: 1px solid rgba(107, 114, 128, 0.2);\r\n}\r\n\r\n.sla-icon {\r\n  font-size: 14px;\r\n}\r\n\r\n.sla-text {\r\n  font-size: var(--font-size-xs);\r\n}\r\n\r\n/* ==================== BADGES ==================== */\r\n/* Badge base styles defined in common.css */\r\n\r\n.status-badge,\r\n.priority-badge {\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 800;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: rgba(255, 255, 255, 0.65);\r\n  /* backdrop-filter: blur(8px); */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n/* Shine effect for badges */\r\n.priority-badge::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: transparent;\r\n  transition: left 0.5s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.priority-badge:hover::before {\r\n  left: 100%;\r\n}\r\n\r\n/* Status Colors */\r\n.status-open {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #0ea5e9;\r\n  border: 1px solid rgba(14, 165, 233, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n.status-progress {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #f59e0b;\r\n  border: 1px solid rgba(245, 158, 11, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n.status-done {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #10b981;\r\n  border: 1px solid rgba(16, 185, 129, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n/* Priority Colors - Premium Style with Fire Effect */\r\n.priority-highest,\r\n.priority-critico {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(59, 130, 246, 0.15) 100%);\r\n  color: #1e40af;\r\n  border: 2px solid rgba(59, 130, 246, 0.4);\r\n  animation: none;\r\n  text-shadow: 0 0 8px rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.priority-highest:hover,\r\n.priority-critico:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.4) 0%, rgba(59, 130, 246, 0.25) 100%);\r\n  transform: scale(1.15) translateY(-4px);\r\n  box-shadow: 0 12px 32px rgba(59, 130, 246, 0.7), 0 0 50px rgba(59, 130, 246, 0.5), inset 0 0 20px rgba(100, 150, 255, 0.3);\r\n  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.9)) drop-shadow(0 0 16px rgba(100, 150, 255, 0.7));\r\n}\r\n\r\n.priority-high {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.25) 0%, rgba(245, 158, 11, 0.15) 100%);\r\n  color: #b45309;\r\n  border: 2px solid rgba(245, 158, 11, 0.4);\r\n  animation: none;\r\n}\r\n\r\n.priority-high:hover {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.35) 0%, rgba(245, 158, 11, 0.25) 100%);\r\n  transform: scale(1.12) translateY(-3px);\r\n  box-shadow: 0 10px 28px rgba(245, 158, 11, 0.6), 0 0 40px rgba(245, 158, 11, 0.4);\r\n  filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.8));\r\n}\r\n\r\n.priority-medium {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%);\r\n  color: #1e40af;\r\n  border: 2px solid rgba(59, 130, 246, 0.3);\r\n  animation: none;\r\n}\r\n\r\n.priority-medium:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(59, 130, 246, 0.2) 100%);\r\n  transform: scale(1.08) translateY(-3px);\r\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.5), 0 0 30px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.priority-low {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.08) 100%);\r\n  color: #15803d;\r\n  border: 2px solid rgba(34, 197, 94, 0.3);\r\n}\r\n\r\n.priority-low:hover {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(34, 197, 94, 0.15) 100%);\r\n  transform: scale(1.06) translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(34, 197, 94, 0.4), 0 0 20px rgba(34, 197, 94, 0.2);\r\n}\r\n\r\n.priority-lowest {\r\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.15) 0%, rgba(107, 114, 128, 0.08) 100%);\r\n  color: #4b5563;\r\n  border: 2px solid rgba(107, 114, 128, 0.3);\r\n}\r\n\r\n.priority-lowest:hover {\r\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.25) 0%, rgba(107, 114, 128, 0.15) 100%);\r\n  transform: scale(1.05) translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(107, 114, 128, 0.3);\r\n}\r\n\r\n/* ==================== ANIMATIONS ==================== */\r\n@keyframes pulse-breach {\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n@keyframes fire-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 8px rgba(239, 68, 68, 0.8)) \r\n            drop-shadow(0 0 16px rgba(255, 100, 0, 0.6));\r\n    text-shadow: 0 0 10px rgba(255, 100, 0, 0.7);\r\n  }\r\n  25% {\r\n    opacity: 0.88;\r\n    transform: scale(1.06);\r\n    filter: drop-shadow(0 0 12px rgba(239, 68, 68, 1)) \r\n            drop-shadow(0 0 24px rgba(255, 100, 0, 0.8));\r\n    text-shadow: 0 0 14px rgba(255, 100, 0, 0.9);\r\n  }\r\n  50% {\r\n    opacity: 0.92;\r\n    transform: scale(1.02);\r\n    filter: drop-shadow(0 0 10px rgba(239, 68, 68, 0.9)) \r\n            drop-shadow(0 0 18px rgba(255, 100, 0, 0.7));\r\n    text-shadow: 0 0 10px rgba(255, 100, 0, 0.7);\r\n  }\r\n  75% {\r\n    opacity: 0.88;\r\n    transform: scale(1.06);\r\n    filter: drop-shadow(0 0 12px rgba(239, 68, 68, 1)) \r\n            drop-shadow(0 0 24px rgba(255, 100, 0, 0.8));\r\n    text-shadow: 0 0 14px rgba(255, 100, 0, 0.9);\r\n  }\r\n}\r\n\r\n@keyframes warm-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.7));\r\n  }\r\n  50% {\r\n    opacity: 0.95;\r\n    transform: scale(1.03);\r\n    filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.9));\r\n  }\r\n}\r\n\r\n@keyframes cool-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.6));\r\n  }\r\n  50% {\r\n    opacity: 0.97;\r\n    transform: scale(1.02);\r\n    filter: drop-shadow(0 0 6px rgba(59, 130, 246, 0.8));\r\n  }\r\n}\r\n\r\n/* ==================== ALERTS/MESSAGES ==================== */\r\n/* Alert styles defined in common.css */\r\n\r\n/* ==================== TOOLTIPS ==================== */\r\n/* Tooltip styles defined in common.css */\r\n\r\n/* ==================== EMPTY STATE ==================== */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: var(--text-muted);\r\n  font-size: var(--font-size-base);\r\n}\r\n\r\n.empty-state-icon {\r\n  font-size: 48px;\r\n  margin-bottom: var(--spacing-md);\r\n  opacity: 0.7;\r\n}\r\n\r\n/* ==================== LOADING ==================== */\r\n/* Loading styles defined in common.css */\r\n\r\n/* ==================== SLA INDICATOR CARD (FROM _legacy_sla-card-indicator.css) ==================== */\r\n\r\n/* SLA Indicator Container - Card version */\r\n.issue-sla-indicator {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  padding: 6px 0;\r\n  margin-top: 6px;\r\n  border-top: 1px solid rgba(59, 130, 246, 0.08);\r\n  font-size: 10px;\r\n}\r\n\r\n/* SLA Header - Shows status and time remaining */\r\n.sla-indicator-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.sla-indicator-label {\r\n  font-weight: 600;\r\n  color: #0891b2;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.sla-indicator-label::before {\r\n  content: '‚è±Ô∏è';\r\n  font-size: 10px;\r\n}\r\n\r\n.sla-time-remaining {\r\n  font-weight: 600;\r\n  font-size: 9px;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Time remaining - Status colors */\r\n.sla-time-remaining.healthy,\r\n.sla-time-remaining.sla-healthy {\r\n  background: rgba(34, 197, 94, 0.2);\r\n  color: #16a34a;\r\n}\r\n\r\n.sla-time-remaining.caution,\r\n.sla-time-remaining.sla-caution {\r\n  background: rgba(251, 191, 36, 0.2);\r\n  color: #d97706;\r\n}\r\n\r\n.sla-time-remaining.warning,\r\n.sla-time-remaining.sla-warning {\r\n  background: rgba(249, 115, 22, 0.2);\r\n  color: #ea580c;\r\n}\r\n\r\n.sla-time-remaining.critical,\r\n.sla-time-remaining.sla-critical {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  color: #dc2626;\r\n}\r\n\r\n.sla-time-remaining.breached,\r\n.sla-time-remaining.sla-breached {\r\n  background: rgba(239, 68, 68, 0.3);\r\n  color: #991b1b;\r\n  font-weight: 700;\r\n}\r\n\r\n/* SLA Progress Bar */\r\n.sla-progress-bar {\r\n  width: 100%;\r\n  height: 6px;\r\n  background: rgba(226, 232, 240, 0.3);\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  border: 0.5px solid rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.sla-progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #3b82f6 0%, #0891b2 100%);\r\n  transition: width 0.5s ease, background 0.3s ease;\r\n  border-radius: 3px;\r\n  position: relative;\r\n}\r\n\r\n/* Progress bar colors based on percentage */\r\n.sla-progress-fill.healthy,\r\n.sla-progress-fill.sla-healthy {\r\n  background: linear-gradient(90deg, #16a34a 0%, #22c55e 100%);\r\n}\r\n\r\n.sla-progress-fill.caution,\r\n.sla-progress-fill.sla-caution {\r\n  background: linear-gradient(90deg, #d97706 0%, #fbbf24 100%);\r\n}\r\n\r\n.sla-progress-fill.warning,\r\n.sla-progress-fill.sla-warning {\r\n  background: linear-gradient(90deg, #ea580c 0%, #fb923c 100%);\r\n}\r\n\r\n.sla-progress-fill.critical,\r\n.sla-progress-fill.sla-critical {\r\n  background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);\r\n}\r\n\r\n.sla-progress-fill.breached,\r\n.sla-progress-fill.sla-breached {\r\n  background: repeating-linear-gradient(\r\n    45deg,\r\n    #991b1b,\r\n    #991b1b 2px,\r\n    #7f1d1d 2px,\r\n    #7f1d1d 4px\r\n  );\r\n}\r\n\r\n/* SLA Info Row */\r\n.sla-info-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 4px;\r\n  font-size: 9px;\r\n  color: #6b7280;\r\n}\r\n\r\n.sla-elapsed {\r\n  flex: 1;\r\n}\r\n\r\n.sla-goal {\r\n  flex: 1;\r\n  text-align: right;\r\n}\r\n\r\n/* SLA Status Dot */\r\n.sla-status-dot {\r\n  display: inline-block;\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 50%;\r\n  margin-right: 2px;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.sla-status-dot.healthy,\r\n.sla-status-dot.sla-healthy {\r\n  background: #22c55e;\r\n  box-shadow: 0 0 4px rgba(34, 197, 94, 0.6);\r\n}\r\n\r\n.sla-status-dot.caution,\r\n.sla-status-dot.sla-caution {\r\n  background: #fbbf24;\r\n  box-shadow: 0 0 4px rgba(251, 191, 36, 0.6);\r\n}\r\n\r\n.sla-status-dot.warning,\r\n.sla-status-dot.sla-warning {\r\n  background: #fb923c;\r\n  box-shadow: 0 0 4px rgba(249, 115, 22, 0.6);\r\n}\r\n\r\n.sla-status-dot.critical,\r\n.sla-status-dot.sla-critical {\r\n  background: #ef4444;\r\n  box-shadow: 0 0 4px rgba(239, 68, 68, 0.6);\r\n}\r\n\r\n.sla-status-dot.breached,\r\n.sla-status-dot.sla-breached {\r\n  background: #991b1b;\r\n  box-shadow: 0 0 6px rgba(153, 27, 27, 0.8);\r\n}\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/cards-modals.css",
    "ranges": [
      {
        "start": 262,
        "end": 529
      },
      {
        "start": 800,
        "end": 1360
      },
      {
        "start": 1364,
        "end": 1683
      },
      {
        "start": 2015,
        "end": 2328
      },
      {
        "start": 2415,
        "end": 2767
      },
      {
        "start": 2809,
        "end": 3131
      },
      {
        "start": 3580,
        "end": 3851
      },
      {
        "start": 4137,
        "end": 4474
      },
      {
        "start": 4478,
        "end": 4544
      },
      {
        "start": 5390,
        "end": 5484
      },
      {
        "start": 5488,
        "end": 5620
      },
      {
        "start": 7268,
        "end": 7443
      },
      {
        "start": 7447,
        "end": 7616
      },
      {
        "start": 8013,
        "end": 8273
      },
      {
        "start": 8277,
        "end": 8369
      },
      {
        "start": 8373,
        "end": 8453
      },
      {
        "start": 8457,
        "end": 8645
      },
      {
        "start": 8649,
        "end": 9152
      },
      {
        "start": 9156,
        "end": 9241
      },
      {
        "start": 9243,
        "end": 9342
      },
      {
        "start": 9344,
        "end": 9490
      },
      {
        "start": 9492,
        "end": 9558
      },
      {
        "start": 10105,
        "end": 10275
      },
      {
        "start": 10279,
        "end": 10539
      },
      {
        "start": 10543,
        "end": 10624
      },
      {
        "start": 10628,
        "end": 10801
      },
      {
        "start": 10805,
        "end": 10881
      },
      {
        "start": 10885,
        "end": 10937
      },
      {
        "start": 11049,
        "end": 11199
      },
      {
        "start": 11203,
        "end": 11283
      },
      {
        "start": 11287,
        "end": 11518
      },
      {
        "start": 11522,
        "end": 11643
      },
      {
        "start": 11647,
        "end": 11731
      },
      {
        "start": 11735,
        "end": 11827
      },
      {
        "start": 11831,
        "end": 11915
      },
      {
        "start": 11919,
        "end": 12177
      },
      {
        "start": 12181,
        "end": 12540
      },
      {
        "start": 12544,
        "end": 12728
      },
      {
        "start": 13234,
        "end": 13362
      },
      {
        "start": 13366,
        "end": 13514
      },
      {
        "start": 13518,
        "end": 13619
      },
      {
        "start": 13623,
        "end": 13936
      },
      {
        "start": 13940,
        "end": 14132
      },
      {
        "start": 14136,
        "end": 14205
      },
      {
        "start": 14209,
        "end": 14527
      },
      {
        "start": 16234,
        "end": 16300
      },
      {
        "start": 16304,
        "end": 16492
      },
      {
        "start": 16496,
        "end": 16997
      },
      {
        "start": 16999,
        "end": 17174
      },
      {
        "start": 17176,
        "end": 17264
      },
      {
        "start": 17268,
        "end": 17417
      },
      {
        "start": 17912,
        "end": 18017
      },
      {
        "start": 18019,
        "end": 18326
      },
      {
        "start": 18328,
        "end": 18504
      },
      {
        "start": 18755,
        "end": 18923
      },
      {
        "start": 18927,
        "end": 18982
      },
      {
        "start": 18986,
        "end": 19039
      },
      {
        "start": 19043,
        "end": 19143
      },
      {
        "start": 19147,
        "end": 19290
      },
      {
        "start": 19294,
        "end": 19379
      },
      {
        "start": 21975,
        "end": 21994
      },
      {
        "start": 21999,
        "end": 22043
      },
      {
        "start": 25699,
        "end": 25768
      },
      {
        "start": 26360,
        "end": 26496
      },
      {
        "start": 26528,
        "end": 26659
      },
      {
        "start": 26692,
        "end": 26790
      },
      {
        "start": 26826,
        "end": 26932
      },
      {
        "start": 31818,
        "end": 32073
      },
      {
        "start": 32077,
        "end": 32177
      },
      {
        "start": 32181,
        "end": 32437
      },
      {
        "start": 32465,
        "end": 32721
      },
      {
        "start": 32725,
        "end": 32826
      },
      {
        "start": 32830,
        "end": 33015
      },
      {
        "start": 33967,
        "end": 33986
      },
      {
        "start": 33991,
        "end": 34044
      },
      {
        "start": 34052,
        "end": 34126
      },
      {
        "start": 38010,
        "end": 38050
      },
      {
        "start": 38054,
        "end": 38154
      },
      {
        "start": 38158,
        "end": 38323
      },
      {
        "start": 38327,
        "end": 38638
      },
      {
        "start": 38642,
        "end": 38672
      },
      {
        "start": 38676,
        "end": 38789
      },
      {
        "start": 38793,
        "end": 38882
      },
      {
        "start": 38886,
        "end": 38963
      },
      {
        "start": 38967,
        "end": 39122
      },
      {
        "start": 39126,
        "end": 39352
      },
      {
        "start": 39356,
        "end": 39469
      },
      {
        "start": 39473,
        "end": 39659
      },
      {
        "start": 39663,
        "end": 39784
      },
      {
        "start": 39788,
        "end": 39882
      },
      {
        "start": 39955,
        "end": 40174
      },
      {
        "start": 40178,
        "end": 40438
      },
      {
        "start": 40442,
        "end": 40547
      },
      {
        "start": 40659,
        "end": 40785
      },
      {
        "start": 40815,
        "end": 41099
      },
      {
        "start": 41103,
        "end": 41282
      },
      {
        "start": 41596,
        "end": 41836
      }
    ],
    "text": "/**\r\n * Cards & Modals Styles\r\n * Cards, issue cards, modals, backgrounds\r\n * Part of common.css split - <500 lines\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN CARDS & MODALS ==================== */\r\n/* ALL card and modal text must be fully opaque */\r\n.card p, .card span, .card h1, .card h2, .card h3,\r\n.modal p, .modal span, .modal h1, .modal h2, .modal h3,\r\n.modal-header, .modal-body, .modal-footer,\r\n.card-title, .card-text, .card-header, .card-body,\r\n.ds-surface p, .ds-surface span {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* ==================== CARDS - Duplicated in common.css ==================== */\r\n/* Basic .card, .card-header, .card-body, .card-footer definitions removed */\r\n/* See common.css for base card styles */\r\n\r\n/* ==================== ISSUE CARDS ==================== */\r\n.issue-card {\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 250, 250, 0.96) 100%);\r\n  /* backdrop-filter: blur(12px); */\r\n  border: 2px solid rgba(59, 130, 246, 0.12);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.12);\r\n  border-radius: 12px;\r\n  padding: 14px;\r\n  margin-bottom: 12px;\r\n  margin-top: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n  font-family: var(--font-family);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.issue-card:hover {\r\n  /* backdrop-filter: blur(16px); */\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 12px 24px rgba(59, 130, 246, 0.2), 0 0 20px rgba(59, 130, 246, 0.1);\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(255, 248, 248, 0.98) 100%);\r\n}\r\n\r\n/* Header: Key + Severity + Status */\r\n.issue-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding-bottom: 6px;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n.issue-key-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.issue-key {\r\n  font-weight: 700;\r\n  color: white;\r\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n  font-size: 11px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  white-space: nowrap;\r\n  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.issue-priority-severity {\r\n  display: flex;\r\n  gap: 4px;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.severity-badge,\r\n.priority-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #dc2626;\r\n  padding: 3px 6px;\r\n  border-radius: 3px;\r\n  font-weight: 600;\r\n  font-size: 10px;\r\n  border: 1px solid rgba(220, 38, 38, 0.3);\r\n  white-space: nowrap;\r\n  /* backdrop-filter: blur(4px); */\r\n}\r\n\r\n/* Severity badges in card header */\r\n.issue-card-header .severity-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-weight: 700;\r\n  font-size: 10px;\r\n  white-space: nowrap;\r\n  /* backdrop-filter: blur(8px); */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.issue-card-header .severity-badge.severity-critical {\r\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(239, 68, 68, 0.15) 100%);\r\n  color: #dc2626;\r\n  border: 2px solid rgba(239, 68, 68, 0.4);\r\n}\r\n\r\n.issue-card-header .severity-badge.severity-high {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.25) 0%, rgba(245, 158, 11, 0.15) 100%);\r\n  color: #b45309;\r\n  border: 2px solid rgba(245, 158, 11, 0.4);\r\n}\r\n\r\n.issue-card-header .severity-badge.severity-medium,\r\n.issue-card-header .severity-badge.severity-normal {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%);\r\n  color: #1e40af;\r\n  border: 2px solid rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.issue-card-header .severity-badge.severity-low {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.08) 100%);\r\n  color: #15803d;\r\n  border: 2px solid rgba(34, 197, 94, 0.3);\r\n}\r\n\r\n.issue-severity {\r\n  display: none;\r\n}\r\n\r\n/* Title: Summary */\r\n.issue-summary {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  line-height: 1.3;\r\n  color: #1f2937;\r\n  margin: 0;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  word-break: break-word;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n}\r\n\r\nbody.theme-dark .issue-summary {\r\n  color: var(--text-primary);\r\n}\r\n\r\n/* Main contacts row */\r\n.issue-contacts {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 12px;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.contact-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 0 1 auto;\r\n}\r\n\r\n.contact-label {\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  font-size: 10px;\r\n}\r\n\r\n.contact-value {\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Body: Assignee on separate line */\r\n.issue-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  padding: 6px 0;\r\n}\r\n\r\n.issue-assignee {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  font-size: 12px;\r\n  padding: 4px 0;\r\n  width: 100%;\r\n}\r\n\r\n.assignee-label {\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  font-size: 10px;\r\n}\r\n\r\n.assignee-name {\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Customer info row */\r\n.issue-customer-info {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 11px;\r\n  flex-wrap: wrap;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n  color: #6b7280;\r\n}\r\n\r\n.customer-field {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 3px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.customer-label {\r\n  font-weight: 600;\r\n  color: #9ca3af;\r\n  font-size: 9px;\r\n}\r\n\r\n/* Footer: Meta, dates, and SLA */\r\n.issue-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 11px;\r\n  padding-top: 6px;\r\n  border-top: 1px solid rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n.issue-meta {\r\n  display: flex;\r\n  gap: 8px;\r\n  font-size: 10px;\r\n  color: var(--text-secondary);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.issue-dates {\r\n  display: flex;\r\n  gap: 4px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.date-badge {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #0ea5e9;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n  font-size: 10px;\r\n  border: 1px solid rgba(14, 165, 233, 0.25);\r\n  /* backdrop-filter: blur(4px); */\r\n}\r\n\r\n/* ==================== STATS/METRICS ==================== */\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: var(--spacing-md);\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n.stat-card,\r\n.metric-box {\r\n  background: var(--card-bg);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-lg);\r\n  border: var(--border-width) solid var(--border);\r\n  border-left: 4px solid var(--primary);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.stat-value,\r\n.metric-value {\r\n  font-size: 32px;\r\n  font-weight: var(--font-weight-bold);\r\n  color: var(--primary);\r\n  margin-bottom: var(--spacing-sm);\r\n  line-height: 1;\r\n}\r\n\r\n.stat-label,\r\n.metric-label {\r\n  font-size: var(--font-size-sm);\r\n  color: var(--text-muted);\r\n  text-transform: uppercase;\r\n  font-weight: var(--font-weight-medium);\r\n}\r\n\r\n.metric-delta {\r\n  font-size: var(--font-size-sm);\r\n  margin-top: var(--spacing-xs);\r\n}\r\n\r\n/* ==================== MODAL - Duplicated in common.css ==================== */\r\n/* Basic .modal, .modal-content, .modal-header, .modal-body, .modal-footer definitions removed */\r\n/* See common.css for base modal styles */\r\n\r\n/* ==================== BACKGROUND SELECTOR MODAL ==================== */\r\n.bg-selector-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: none;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n  backdrop-filter: none;\r\n  background: transparent;\r\n  pointer-events: none;\r\n}\r\n\r\n.bg-selector-modal.bg-modal-open { \r\n  display: flex !important;\r\n  pointer-events: auto;\r\n}\r\n\r\n.bg-selector-modal.bg-modal-open .bg-modal-overlay {\r\n  pointer-events: auto;\r\n}\r\n\r\n.bg-modal-overlay { \r\n  position: absolute; \r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(4px);\r\n  pointer-events: none;\r\n}\r\n\r\n.bg-modal-content {\r\n  position: relative;\r\n  width: min(900px, 92vw);\r\n  max-height: 85vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14px;\r\n  background: linear-gradient(135deg, rgba(30,41,59,0.85), rgba(17,24,39,0.92));\r\n  border: 1.4px solid rgba(99,102,241,0.45);\r\n  border-radius: 22px;\r\n  padding: 24px 26px 22px 26px;\r\n  box-shadow: 0 20px 32px -6px rgba(0,0,0,0.55), 0 8px 16px rgba(45,55,72,0.45);\r\n  animation: none;\r\n  overflow: visible;\r\n  z-index: 10;\r\n  pointer-events: auto;\r\n}\r\n\r\n.bg-modal-header { display:flex; align-items:center; justify-content:space-between; }\r\n.bg-modal-title { margin:0; font-size: 20px; font-weight:600; letter-spacing:.5px; color:#e0e7ff; }\r\n.bg-modal-close { background: none; border:none; font-size:26px; color:#94a3b8; cursor:pointer; transition:color .25s ease, transform .25s ease; }\r\n.bg-modal-close:hover { color:#cbd5e1; transform: rotate(90deg); }\r\n\r\n/* ===== BG MODAL TABS ===== */\r\n.bg-modal-body {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  max-height: calc(85vh - 200px);\r\n  padding-right: 8px;\r\n}\r\n\r\n.bg-modal-body::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.bg-modal-body::-webkit-scrollbar-track {\r\n  background: rgba(99, 102, 241, 0.1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.bg-modal-body::-webkit-scrollbar-thumb {\r\n  background: rgba(99, 102, 241, 0.3);\r\n  border-radius: 4px;\r\n}\r\n\r\n.bg-modal-body::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(99, 102, 241, 0.5);\r\n}\r\n\r\n.bg-modal-tabs {\r\n  display: flex;\r\n  gap: 8px;\r\n  border-bottom: 1.4px solid rgba(99,102,241,0.25);\r\n  padding-bottom: 12px;\r\n  margin-bottom: 8px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.bg-modal-tab {\r\n  background: none;\r\n  border: 1px solid transparent;\r\n  color: #94a3b8;\r\n  padding: 8px 14px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  border-radius: 8px 8px 0 0;\r\n  transition: all 0.25s ease;\r\n  position: relative;\r\n}\r\n\r\n.bg-modal-tab:hover {\r\n  color: #cbd5e1;\r\n  background: rgba(99,102,241,0.08);\r\n}\r\n\r\n.bg-modal-tab.active {\r\n  color: #e0e7ff;\r\n  background: rgba(99,102,241,0.15);\r\n  border-color: rgba(99,102,241,0.45);\r\n  border-bottom: 2px solid rgba(99,102,241,0.65);\r\n}\r\n\r\n.bg-modal-tab-content {\r\n  display: none;\r\n  animation: fadeIn 0.2s ease;\r\n}\r\n\r\n.bg-modal-tab-content.active {\r\n  display: block;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n/* ===== EFFECTS CONTROLS ===== */\r\n.effects-controls-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 8px 4px;\r\n  overflow-y: auto;\r\n  max-height: 54vh;\r\n}\r\n\r\n.effects-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.effects-section-title {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #cbd5e1;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  margin: 0;\r\n  padding-bottom: 4px;\r\n  border-bottom: 1px solid rgba(99,102,241,0.2);\r\n}\r\n\r\n.effects-section-desc {\r\n  font-size: 11px;\r\n  color: #94a3b8;\r\n  margin: 0;\r\n  font-weight: 400;\r\n  line-height: 1.3;\r\n}\r\n\r\n.effect-control-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.effect-control-group label {\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #cbd5e1;\r\n}\r\n\r\n.effect-slider-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.effect-transparency-slider,\r\n.effect-blur-slider {\r\n  flex: 1;\r\n  height: 6px;\r\n  border-radius: 3px;\r\n  background: linear-gradient(90deg, rgba(99,102,241,0.15), rgba(59,130,246,0.15));\r\n  outline: none;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n}\r\n\r\n.effect-transparency-slider::-webkit-slider-thumb,\r\n.effect-blur-slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #6366f1, #3b82f6);\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 6px rgba(99,102,241,0.4);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.effect-transparency-slider::-webkit-slider-thumb:hover,\r\n.effect-blur-slider::-webkit-slider-thumb:hover {\r\n  transform: scale(1.2);\r\n  box-shadow: 0 4px 10px rgba(99,102,241,0.6);\r\n}\r\n\r\n.effect-transparency-slider::-moz-range-thumb,\r\n.effect-blur-slider::-moz-range-thumb {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #6366f1, #3b82f6);\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 6px rgba(99,102,241,0.4);\r\n  border: none;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.effect-transparency-slider::-moz-range-thumb:hover,\r\n.effect-blur-slider::-moz-range-thumb:hover {\r\n  transform: scale(1.2);\r\n  box-shadow: 0 4px 10px rgba(99,102,241,0.6);\r\n}\r\n\r\n.effect-control-value {\r\n  font-size: 11px;\r\n  color: #a1e7ff;\r\n  font-weight: 600;\r\n  min-width: 35px;\r\n  text-align: right;\r\n}\r\n\r\n.effects-divider {\r\n  height: 1px;\r\n  background: linear-gradient(90deg, transparent, rgba(99,102,241,0.3), transparent);\r\n  margin: 4px 0 8px 0;\r\n}\r\n\r\n.effects-actions {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.effects-save-btn {\r\n  background: linear-gradient(135deg, rgba(34,197,94,.25), rgba(22,163,74,.20));\r\n  border: 1px solid rgba(34,197,94,.5);\r\n  color: #86efac;\r\n  padding: 7px 18px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  flex: 1;\r\n}\r\n\r\n.effects-save-btn:hover {\r\n  background: linear-gradient(135deg, rgba(34,197,94,.4), rgba(22,163,74,.35));\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px -4px rgba(34,197,94,.6);\r\n}\r\n\r\n.effects-save-btn:active {\r\n  transform: translateY(0) scale(.97);\r\n}\r\n\r\n.effects-reset-btn {\r\n  background: linear-gradient(135deg, rgba(99,102,241,.18), rgba(59,130,246,.18));\r\n  border: 1px solid rgba(99,102,241,.45);\r\n  color: #e0e7ff;\r\n  padding: 7px 18px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  flex: 1;\r\n}\r\n\r\n.effects-reset-btn:hover {\r\n  background: linear-gradient(135deg, rgba(99,102,241,.35), rgba(59,130,246,.35));\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px -4px rgba(99,102,241,.55);\r\n}\r\n\r\n.effects-reset-btn:active {\r\n  transform: translateY(0) scale(.97);\r\n}\r\n\r\n/* Light theme overrides */\r\nbody.theme-light .bg-modal-tab {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .bg-modal-tab:hover {\r\n  color: #475569;\r\n  background: rgba(99,102,241,0.08);\r\n}\r\n\r\nbody.theme-light .bg-modal-tab.active {\r\n  color: #1e293b;\r\n  background: rgba(99,102,241,0.12);\r\n  border-color: rgba(99,102,241,0.4);\r\n}\r\n\r\nbody.theme-light .effects-section-title {\r\n  color: #475569;\r\n  border-bottom-color: rgba(99,102,241,0.2);\r\n}\r\n\r\nbody.theme-light .effect-control-group label {\r\n  color: #475569;\r\n}\r\n\r\nbody.theme-light .effect-control-value {\r\n  color: #0ea5e9;\r\n}\r\n\r\nbody.theme-light .effect-transparency-slider,\r\nbody.theme-light .effect-blur-slider {\r\n  background: linear-gradient(90deg, rgba(99,102,241,0.12), rgba(59,130,246,0.12));\r\n}\r\n\r\nbody.theme-light .effects-save-btn {\r\n  background: linear-gradient(135deg, rgba(34,197,94,.15), rgba(22,163,74,.10));\r\n  border-color: rgba(34,197,94,.4);\r\n  color: #16a34a;\r\n}\r\n\r\nbody.theme-light .effects-save-btn:hover {\r\n  background: linear-gradient(135deg, rgba(34,197,94,.3), rgba(22,163,74,.25));\r\n  color: #15803d;\r\n}\r\n\r\nbody.theme-light .effects-reset-btn {\r\n  background: linear-gradient(135deg, rgba(99,102,241,.10), rgba(59,130,246,.08));\r\n  border-color: rgba(99,102,241,.3);\r\n  color: #6366f1;\r\n}\r\n\r\nbody.theme-light .effects-reset-btn:hover {\r\n  background: linear-gradient(135deg, rgba(99,102,241,.25), rgba(59,130,246,.20));\r\n  color: #4f46e5;\r\n}\r\n\r\n.bg-theme-info { font-size:13px; color:#cbd5e1; font-weight:500; }\r\n\r\n.bg-variants-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill,minmax(120px,1fr));\r\n  gap: 14px;\r\n  padding: 6px 4px 4px 4px;\r\n  overflow-y: auto;\r\n  max-height: 46vh;\r\n}\r\n\r\n.bg-variant-item {\r\n  position: relative;\r\n  aspect-ratio: 1 / 1;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #1e293b, #0f172a);\r\n  background-size: cover;\r\n  background-position: center;\r\n  border: 1.2px solid rgba(255,255,255,0.08);\r\n  box-shadow: 0 4px 10px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.06);\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  transition: transform .35s cubic-bezier(.4,0,.2,1), box-shadow .35s cubic-bezier(.4,0,.2,1), border-color .35s ease;\r\n}\r\n.bg-variant-item:hover { transform: translateY(-6px); box-shadow: 0 10px 20px -4px rgba(15,23,42,.65), 0 6px 16px rgba(99,102,241,0.35); border-color: rgba(99,102,241,0.55); }\r\n.bg-variant-item.active { outline: 3px solid rgba(99,102,241,0.9); outline-offset:2px; }\r\n\r\n.bg-variant-item::after { content:''; position:absolute; inset:0; background: transparent !important; mix-blend-mode: normal; pointer-events: none; }\r\n.bg-variant-item.loading { background: repeating-linear-gradient(135deg,#1e293b,#1e293b 10px,#0f172a 10px,#0f172a 20px) !important; animation: none; background-image: none !important; }\r\n@keyframes bgLoading { 0%{filter:brightness(.7);} 50%{filter:brightness(1);} 100%{filter:brightness(.7);} }\r\n\r\n.bg-pagination { display:none !important; /* Removed - showing all 5 unique backgrounds */ }\r\n.bg-pagination-info { display:none !important; }\r\n.bg-pagination-btn { display:none !important; }\r\n\r\n.bg-modal-footer { display:flex; align-items:center; justify-content:center; gap:14px; margin-top:18px; }\r\n.bg-btn { background: linear-gradient(135deg, rgba(99,102,241,.18), rgba(59,130,246,.18)); border:1px solid rgba(99,102,241,.45); color:#e0e7ff; padding:7px 18px; font-size:13px; font-weight:500; border-radius:12px; cursor:pointer; transition: background .3s ease, transform .3s ease, box-shadow .3s ease; }\r\n.bg-btn:hover { background: linear-gradient(135deg, rgba(99,102,241,.35), rgba(59,130,246,.35)); transform: translateY(-2px); box-shadow:0 6px 16px -4px rgba(99,102,241,.55); }\r\n.bg-btn:active { transform: translateY(0) scale(.97); }\r\n\r\n/* Light theme overrides */\r\nbody.theme-light .bg-modal-content { background: linear-gradient(135deg, rgba(248,250,252,.92), rgba(226,232,240,.92)); border-color: rgba(99,102,241,.35); }\r\n\r\nbody.theme-dark .bg-modal-content {\r\n  background: linear-gradient(135deg, rgba(17, 24, 39, 0.95), rgba(30, 41, 59, 0.92));\r\n  border-color: rgba(99, 102, 241, 0.5);\r\n}\r\n\r\nbody.theme-dark .bg-modal-title {\r\n  color: #f0f4ff;\r\n}\r\n\r\nbody.theme-dark .bg-modal-tab {\r\n  color: #9ca3af;\r\n}\r\n\r\nbody.theme-dark .bg-modal-tab:hover {\r\n  color: #e0e7ff;\r\n  background: rgba(99, 102, 241, 0.15);\r\n}\r\n\r\nbody.theme-dark .bg-modal-tab.active {\r\n  background: rgba(99, 102, 241, 0.25);\r\n  color: #a5b4fc;\r\n  border-color: rgba(99, 102, 241, 0.6);\r\n}\r\n\r\nbody.theme-dark .bg-modal-tabs {\r\n  border-bottom-color: rgba(99, 102, 241, 0.35);\r\n}\r\n\r\nbody.theme-dark .bg-modal-body::-webkit-scrollbar-track {\r\n  background: rgba(99, 102, 241, 0.08);\r\n}\r\n\r\nbody.theme-dark .bg-modal-body::-webkit-scrollbar-thumb {\r\n  background: rgba(99, 102, 241, 0.4);\r\n}\r\n\r\nbody.theme-dark .bg-modal-body::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(99, 102, 241, 0.6);\r\n}\r\nbody.theme-light .bg-modal-title { color:#1e293b; }\r\nbody.theme-light .bg-pagination-info, body.theme-light .bg-theme-info { color:#334155; }\r\nbody.theme-light .bg-pagination-btn { color:#1e293b; }\r\nbody.theme-light .bg-btn { color:#1e293b; }\r\nbody.theme-light .bg-variant-item { border-color: rgba(30,41,59,.15); }\r\nbody.theme-light .bg-variant-item.active { outline-color: rgba(99,102,241,.8); }\r\n\r\n/* ===== RESPONSIVE DESIGN ===== */\r\n\r\n/* Tablets (768px - 1024px) */\r\n@media (max-width: 1024px) {\r\n  .bg-modal-content {\r\n    width: min(800px, 95vw);\r\n    max-height: 85vh;\r\n    padding: 20px 22px 18px 22px;\r\n    gap: 12px;\r\n  }\r\n  \r\n  .bg-modal-title {\r\n    font-size: 18px;\r\n  }\r\n  \r\n  .bg-variants-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n    max-height: 40vh;\r\n  }\r\n  \r\n  .effects-controls-panel {\r\n    max-height: 48vh;\r\n  }\r\n  \r\n  .bg-modal-tab {\r\n    padding: 7px 12px;\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n/* Small tablets / Large phones (576px - 768px) */\r\n@media (max-width: 768px) {\r\n  .bg-modal-content {\r\n    width: 96vw;\r\n    max-height: 90vh;\r\n    padding: 16px 18px 14px 18px;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .bg-modal-title {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .bg-modal-header {\r\n    margin-bottom: 4px;\r\n  }\r\n  \r\n  .bg-modal-close {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .bg-variants-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));\r\n    max-height: 45vh;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .bg-modal-tabs {\r\n    gap: 6px;\r\n    padding-bottom: 10px;\r\n    margin-bottom: 6px;\r\n  }\r\n  \r\n  .bg-modal-tab {\r\n    padding: 6px 10px;\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .effects-controls-panel {\r\n    max-height: 50vh;\r\n    gap: 10px;\r\n    padding: 6px 2px;\r\n  }\r\n  \r\n  .effect-control-group {\r\n    gap: 5px;\r\n  }\r\n  \r\n  .effect-control-group label {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .effects-section-title {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .bg-pagination {\r\n    gap: 10px;\r\n    margin-top: 4px;\r\n  }\r\n  \r\n  .bg-pagination-info {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .bg-pagination-btn {\r\n    padding: 5px 10px;\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .bg-modal-footer {\r\n    gap: 10px;\r\n    margin-top: 12px;\r\n  }\r\n  \r\n  .bg-btn {\r\n    padding: 6px 14px;\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n/* Mobile phones (max 576px) */\r\n@media (max-width: 576px) {\r\n  .bg-selector-modal {\r\n    padding: 8px;\r\n  }\r\n  \r\n  .bg-modal-content {\r\n    width: 98vw;\r\n    max-height: 95vh;\r\n    padding: 14px 14px 12px 14px;\r\n    gap: 8px;\r\n    border-radius: 16px;\r\n  }\r\n  \r\n  .bg-modal-title {\r\n    font-size: 15px;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .bg-modal-header {\r\n    margin-bottom: 2px;\r\n  }\r\n  \r\n  .bg-modal-close {\r\n    font-size: 22px;\r\n    width: 28px;\r\n    height: 28px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .bg-theme-info {\r\n    font-size: 12px;\r\n    margin-bottom: 2px;\r\n  }\r\n  \r\n  /* Stack tabs vertically on very small screens */\r\n  .bg-modal-tabs {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 4px;\r\n    padding-bottom: 8px;\r\n    margin-bottom: 4px;\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  .bg-modal-tab {\r\n    padding: 5px 8px;\r\n    font-size: 10px;\r\n    white-space: nowrap;\r\n    flex-shrink: 0;\r\n  }\r\n  \r\n  .bg-variants-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));\r\n    max-height: 40vh;\r\n    gap: 8px;\r\n    padding: 4px 2px 2px 2px;\r\n  }\r\n  \r\n  .bg-variant-item {\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  .effects-controls-panel {\r\n    max-height: 45vh;\r\n    gap: 8px;\r\n    padding: 4px 2px;\r\n  }\r\n  \r\n  .effects-section {\r\n    gap: 8px;\r\n  }\r\n  \r\n  .effects-section-title {\r\n    font-size: 10px;\r\n    padding-bottom: 3px;\r\n  }\r\n  \r\n  .effect-control-group {\r\n    gap: 4px;\r\n  }\r\n  \r\n  .effect-control-group label {\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .effect-slider-container {\r\n    gap: 6px;\r\n  }\r\n  \r\n  .effect-transparency-slider,\r\n  .effect-blur-slider {\r\n    height: 5px;\r\n  }\r\n  \r\n  .effect-transparency-slider::-webkit-slider-thumb,\r\n  .effect-blur-slider::-webkit-slider-thumb {\r\n    width: 12px;\r\n    height: 12px;\r\n  }\r\n  \r\n  .effect-control-value {\r\n    font-size: 10px;\r\n    min-width: 32px;\r\n  }\r\n  \r\n  .effects-divider {\r\n    margin: 3px 0 6px 0;\r\n  }\r\n  \r\n  .effects-actions {\r\n    gap: 8px;\r\n    margin-top: 6px;\r\n  }\r\n  \r\n  .effects-reset-btn {\r\n    padding: 6px 12px;\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .bg-pagination {\r\n    gap: 8px;\r\n    margin-top: 3px;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .bg-pagination-info {\r\n    font-size: 10px;\r\n    width: 100%;\r\n    text-align: center;\r\n    order: 2;\r\n  }\r\n  \r\n  .bg-pagination-btn {\r\n    padding: 4px 8px;\r\n    font-size: 10px;\r\n    flex: 1;\r\n    min-width: 70px;\r\n  }\r\n  \r\n  .bg-modal-footer {\r\n    gap: 8px;\r\n    margin-top: 10px;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .bg-btn {\r\n    padding: 5px 10px;\r\n    font-size: 11px;\r\n    flex: 1;\r\n    min-width: 70px;\r\n  }\r\n}\r\n\r\n/* Extra small phones (max 380px) */\r\n@media (max-width: 380px) {\r\n  .bg-modal-content {\r\n    width: 99vw;\r\n    padding: 12px 10px 10px 10px;\r\n    gap: 6px;\r\n  }\r\n  \r\n  .bg-modal-title {\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .bg-variants-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));\r\n    max-height: 35vh;\r\n    gap: 6px;\r\n  }\r\n  \r\n  .bg-modal-tab {\r\n    padding: 4px 6px;\r\n    font-size: 9px;\r\n  }\r\n  \r\n  .bg-pagination-btn,\r\n  .bg-btn {\r\n    font-size: 10px;\r\n    padding: 4px 6px;\r\n  }\r\n}\r\n\r\n/* ==================== DYNAMIC CARD SIZING (FROM _legacy_dynamic-cards.css) ==================== */\r\n\r\n/* ‚ö†Ô∏è IMPORTANT: These sizes must stay synchronized!\r\n   If you modify card sizes here, update:\r\n   1. frontend/static/js/constants/card-sizing.js (CARD_SIZING object)\r\n   2. frontend/static/js/app.js (renderIssueCard function)\r\n   \r\n   Card sizing thresholds:\r\n   - COMPACT: 0-2 transitions\r\n   - NORMAL: 3-4 transitions  \r\n   - EXPANDED: 5+ transitions\r\n   \r\n   CSS Reference: This file (cards-modals.css lines 1070-1105)\r\n   JS Reference: card-sizing.js, app.js line 740\r\n*/\r\n\r\n/* Compact cards (0-2 transitions) */\r\n.issue-card.card-compact {\r\n  min-height: 110px;\r\n  padding: 12px;\r\n}\r\n\r\n.issue-card.card-compact .issue-card-transitions {\r\n  display: none;\r\n}\r\n\r\n/* Normal cards (3-4 transitions) */\r\n.issue-card.card-normal {\r\n  min-height: 160px;\r\n  padding: 14px;\r\n}\r\n\r\n.issue-card.card-normal .issue-card-transitions {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 6px;\r\n  margin-top: 6px;\r\n}\r\n\r\n/* Expanded cards (5+ transitions) */\r\n.issue-card.card-expanded {\r\n  min-height: 220px;\r\n  padding: 16px;\r\n}\r\n\r\n.issue-card.card-expanded .issue-card-transitions {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 6px;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* Card header */\r\n.issue-card-key {\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  color: #3b82f6;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n/* Card summary (title) */\r\n.issue-card-summary {\r\n  font-size: 13px;\r\n  color: #1f2937;\r\n  line-height: 1.4;\r\n  word-wrap: break-word;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Card header container */\r\n.issue-card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* Time ago badge in header */\r\n.issue-card-time {\r\n  font-size: 10px;\r\n  color: #9ca3af;\r\n  margin-left: auto;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Card badges container */\r\n.issue-card-badges {\r\n  display: flex;\r\n  gap: 6px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* Priority styling */\r\n.issue-card-priority {\r\n  font-size: 11px;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-weight: 600;\r\n  width: fit-content;\r\n  display: inline-block;\r\n}\r\n\r\n.issue-card-priority.priority-critical {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  color: #dc2626;\r\n}\r\n\r\n.issue-card-priority.priority-high {\r\n  background: rgba(249, 115, 22, 0.2);\r\n  color: #ea580c;\r\n}\r\n\r\n.issue-card-priority.priority-medium {\r\n  background: rgba(251, 146, 60, 0.2);\r\n  color: #f97316;\r\n}\r\n\r\n.issue-card-priority.priority-low {\r\n  background: rgba(34, 197, 94, 0.2);\r\n  color: #16a34a;\r\n}\r\n\r\n.issue-card-priority.priority-normal {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  color: #2563eb;\r\n}\r\n\r\n/* Card metadata row (Reporter + Priority) */\r\n.issue-card-metadata {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-top: 6px;\r\n  font-size: 11px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.meta-reporter {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  background: rgba(59, 130, 246, 0.08);\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  color: #4b5563;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 150px;\r\n}\r\n\r\n.meta-priority {\r\n  font-size: 10px;\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  font-weight: 700;\r\n  width: fit-content;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n}\r\n\r\n.meta-priority.priority-critical {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #dc2626;\r\n}\r\n\r\n.meta-priority.priority-high {\r\n  background: rgba(249, 115, 22, 0.15);\r\n  color: #ea580c;\r\n}\r\n\r\n.meta-priority.priority-alta {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #dc2626;\r\n}\r\n\r\n.meta-priority.priority-baja {\r\n  background: rgba(34, 197, 94, 0.15);\r\n  color: #16a34a;\r\n}\r\n\r\n/* Card metadata (LEGACY) */\r\n.issue-card-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n  gap: 8px;\r\n}\r\n\r\n.issue-card-meta .assignee {\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.issue-card-meta .transitions {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Transition buttons */\r\n.issue-card-transitions {\r\n  margin-top: 6px;\r\n}\r\n\r\n.btn-transition {\r\n  background: linear-gradient(135deg, #3b82f6, #06b6d4);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 6px 10px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n}\r\n\r\n.btn-transition:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.btn-transition:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.btn-transition.btn-more {\r\n  background: linear-gradient(135deg, #a855f7, #d946ef);\r\n}\r\n\r\n/* Card footer - improved with reporter and assignee */\r\n.issue-card-footer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  margin-top: auto;\r\n  padding-top: 8px;\r\n  border-top: 1px solid rgba(59, 130, 246, 0.08);\r\n  font-size: 11px;\r\n}\r\n\r\n.issue-card-footer .footer-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.issue-card-footer .footer-row.footer-row-extended {\r\n  display: none;\r\n}\r\n\r\n.issue-card-footer .footer-row.footer-row-always-visible {\r\n  display: flex;\r\n  gap: 4px;\r\n  font-size: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.issue-card-footer .reporter {\r\n  font-weight: 600;\r\n  color: #4b5563;\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.issue-card-footer .reporter-company {\r\n  background: rgba(59, 130, 246, 0.08);\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 0 1 auto;\r\n}\r\n\r\n.issue-card-footer .reporter-phone,\r\n.issue-card-footer .reporter-email {\r\n  background: rgba(139, 92, 246, 0.08);\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 0 1 auto;\r\n}\r\n\r\n.issue-card-footer .assignee {\r\n  font-weight: 600;\r\n  color: #4b5563;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.issue-card-footer .assignee.assignee-unassigned {\r\n  color: #dc2626;\r\n  font-style: italic;\r\n}\r\n\r\n/* Company badge in footer */\r\n.company-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 3px;\r\n  background: rgba(139, 92, 246, 0.12);\r\n  color: #7c3aed;\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 140px;\r\n}\r\n\r\n/* Informer Section (Reporter with contact info) */\r\n.issue-card-informer {\r\n  margin-top: 8px;\r\n  padding: 8px;\r\n  background: rgba(59, 130, 246, 0.05);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.3);\r\n  border-radius: 4px;\r\n  font-size: 11px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.issue-card-informer .informer-name {\r\n  font-weight: 700;\r\n  color: #1e40af;\r\n  font-size: 11px;\r\n}\r\n\r\n.issue-card-informer .informer-email,\r\n.issue-card-informer .informer-phone,\r\n.issue-card-informer .informer-company {\r\n  color: #4b5563;\r\n  font-size: 10px;\r\n  padding-left: 16px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Assignee Section */\r\n.issue-card-assignee {\r\n  margin-top: 8px;\r\n  padding: 6px 8px;\r\n  background: rgba(139, 92, 246, 0.05);\r\n  border-left: 3px solid rgba(139, 92, 246, 0.3);\r\n  border-radius: 4px;\r\n  font-size: 11px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.issue-card-assignee .assignee-label {\r\n  font-weight: 600;\r\n  color: #6b7280;\r\n  font-size: 11px;\r\n}\r\n\r\n.issue-card-assignee .assignee-name {\r\n  font-weight: 700;\r\n  color: #7c3aed;\r\n  font-size: 11px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 1;\r\n}\r\n\r\n.issue-card-assignee .assignee-name.assignee-unassigned {\r\n  color: #dc2626;\r\n  font-style: italic;\r\n  font-weight: 500;\r\n}\r\n\r\n.issue-card-footer .actions-count {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  color: #2563eb;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* AI Suggest Button */\r\n.btn-ai-suggest {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 8px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border: none;\r\n  border-radius: 6px;\r\n  color: white;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  margin-left: auto;\r\n}\r\n\r\n.btn-ai-suggest:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.btn-ai-suggest .ai-icon {\r\n  font-size: 12px;\r\n}\r\n\r\n.btn-ai-suggest .ai-text {\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .issue-card {\r\n    padding: 10px;\r\n    gap: 6px;\r\n  }\r\n  \r\n  .issue-card.card-compact {\r\n    min-height: 90px;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .issue-card.card-normal {\r\n    min-height: 140px;\r\n    padding: 12px;\r\n  }\r\n  \r\n  .issue-card.card-expanded {\r\n    min-height: 200px;\r\n    padding: 14px;\r\n  }\r\n  \r\n  .issue-card-footer .footer-row.footer-row-extended {\r\n    display: none;\r\n  }\r\n  \r\n  .btn-transition {\r\n    padding: 4px 8px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n/* ==========================================\r\n * REPORTS DASHBOARD STYLES\r\n * ========================================== */\r\n\r\n.reports-modal {\r\n  max-width: 1200px;\r\n  width: 90vw;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.reports-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  gap: 20px;\r\n  padding: 20px 0;\r\n}\r\n\r\n.report-card {\r\n  background: rgba(var(--glass-bg-rgb), 0.4);\r\n  backdrop-filter: blur(12px);\r\n  border: 1px solid rgba(var(--glass-border-rgb), 0.2);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.report-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\r\n  border-color: rgba(var(--accent-primary-rgb), 0.4);\r\n}\r\n\r\n.report-card h3 {\r\n  margin: 0 0 15px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  opacity: 0.9;\r\n}\r\n\r\n.summary-card .report-value {\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n  color: var(--accent-primary);\r\n  margin: 10px 0;\r\n}\r\n\r\n.summary-card .report-change {\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.7;\r\n}\r\n\r\n.chart-card {\r\n  min-height: 250px;\r\n}\r\n\r\n.chart-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.chart-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 13px;\r\n}\r\n\r\n.chart-label {\r\n  min-width: 100px;\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.chart-bar-container {\r\n  flex: 1;\r\n  height: 24px;\r\n  background: rgba(var(--glass-bg-rgb), 0.3);\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.chart-bar-fill {\r\n  height: 100%;\r\n  background: var(--accent-primary);\r\n  border-radius: 12px;\r\n  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.chart-bar-fill::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\r\n  animation: shimmer 2s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { transform: translateX(-100%); }\r\n  100% { transform: translateX(100%); }\r\n}\r\n\r\n.chart-value {\r\n  min-width: 80px;\r\n  text-align: right;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.activity-card {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.activity-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.activity-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  background: rgba(var(--glass-bg-rgb), 0.3);\r\n  border-radius: 8px;\r\n  border-left: 3px solid var(--accent-primary);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.activity-item:hover {\r\n  background: rgba(var(--glass-bg-rgb), 0.5);\r\n  transform: translateX(4px);\r\n}\r\n\r\n.activity-icon {\r\n  font-size: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.activity-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.activity-title {\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  margin-bottom: 4px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.activity-meta {\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.8;\r\n}\r\n\r\n.no-data {\r\n  text-align: center;\r\n  color: var(--text-secondary);\r\n  opacity: 0.6;\r\n  padding: 40px 20px;\r\n  font-style: italic;\r\n}\r\n\r\n.full-width {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n/* ==========================================\r\n * PROFILE MODAL STYLES\r\n * ========================================== */\r\n\r\n.profile-modal {\r\n  max-width: 600px;\r\n}\r\n\r\n.profile-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  padding: 20px 0;\r\n}\r\n\r\n.profile-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding-bottom: 24px;\r\n  border-bottom: 1px solid rgba(var(--glass-border-rgb), 0.2);\r\n}\r\n\r\n.profile-avatar {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  color: white;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.profile-info {\r\n  flex: 1;\r\n}\r\n\r\n.profile-name {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: var(--text-primary);\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.profile-email {\r\n  font-size: 14px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.8;\r\n}\r\n\r\n.profile-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.profile-field label {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.profile-field-value {\r\n  padding: 12px 16px;\r\n  background: rgba(var(--glass-bg-rgb), 0.3);\r\n  border: 1px solid rgba(var(--glass-border-rgb), 0.2);\r\n  border-radius: 8px;\r\n  color: var(--text-primary);\r\n  font-size: 14px;\r\n}\r\n\r\n.profile-stats {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 16px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.profile-stat {\r\n  text-align: center;\r\n  padding: 16px;\r\n  background: rgba(var(--glass-bg-rgb), 0.3);\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(var(--glass-border-rgb), 0.2);\r\n}\r\n\r\n.profile-stat-value {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: var(--accent-primary);\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.profile-stat-label {\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.7;\r\n}\r\n\r\n/* ==================== NOTIFICATIONS MODAL ==================== */\r\n#notificationsModal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10000 !important;\r\n  pointer-events: auto;\r\n}\r\n\r\n#notificationsModal .bg-modal-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  pointer-events: auto;\r\n  z-index: 1;\r\n}\r\n\r\n#notificationsModal .bg-modal-content {\r\n  position: relative;\r\n  z-index: 2;\r\n  pointer-events: auto;\r\n}\r\n\r\n/* ==================== NOTIFICATION CARDS ==================== */\r\n\r\n/* Notification content container */\r\n#notificationsContent {\r\n  padding: 8px 16px;\r\n  overflow-y: auto;\r\n  max-height: calc(90vh - 180px);\r\n  min-height: 300px;\r\n}\r\n\r\n/* Notification cards */\r\n.notif-card {\r\n  padding: 14px 16px;\r\n  background: rgba(30, 41, 59, 0.4);\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 10px;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  min-height: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.notif-card:hover {\r\n  background: rgba(30, 41, 59, 0.6);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  transform: translateX(4px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.notif-card.unread {\r\n  background: rgba(59, 130, 246, 0.15);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.7);\r\n}\r\n\r\n.notif-card.unread:hover {\r\n  background: rgba(59, 130, 246, 0.25);\r\n  border-color: rgba(59, 130, 246, 0.6);\r\n}\r\n\r\n/* Notification date headers */\r\n.notif-date-header {\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  color: #94a3b8;\r\n  margin: 20px 0 10px 4px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.8px;\r\n  padding-left: 8px;\r\n  border-left: 3px solid rgba(99, 102, 241, 0.3);\r\n}\r\n\r\n/* Light theme notifications */\r\nbody.theme-light .notif-card {\r\n  background: rgba(248, 250, 252, 0.9);\r\n  border-color: rgba(99, 102, 241, 0.2);\r\n}\r\n\r\nbody.theme-light .notif-card:hover {\r\n  background: rgba(241, 245, 249, 0.95);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nbody.theme-light .notif-card.unread {\r\n  background: rgba(219, 234, 254, 0.95);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.7);\r\n}\r\n\r\nbody.theme-light .notif-date-header {\r\n  color: #64748b;\r\n  border-left-color: rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/cards-responsive.css",
    "ranges": [
      {
        "start": 165,
        "end": 408
      },
      {
        "start": 456,
        "end": 578
      },
      {
        "start": 623,
        "end": 754
      },
      {
        "start": 804,
        "end": 986
      },
      {
        "start": 1047,
        "end": 1067
      },
      {
        "start": 1072,
        "end": 1243
      },
      {
        "start": 1249,
        "end": 1327
      },
      {
        "start": 1333,
        "end": 1397
      },
      {
        "start": 1460,
        "end": 1479
      },
      {
        "start": 1484,
        "end": 1622
      },
      {
        "start": 1628,
        "end": 1706
      },
      {
        "start": 1712,
        "end": 1837
      },
      {
        "start": 1843,
        "end": 1887
      },
      {
        "start": 1893,
        "end": 1963
      },
      {
        "start": 2043,
        "end": 2092
      },
      {
        "start": 2145,
        "end": 2249
      },
      {
        "start": 2253,
        "end": 2342
      }
    ],
    "text": "/**\r\n * TICKET CARD RESPONSIVENESS FIX\r\n * Phase 17D - Fixes issue where cards don't expand to fill available space\r\n */\r\n\r\n/* ===== KANBAN BOARD GRID FIX ===== */\r\n.kanban-board {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  gap: var(--spacing-lg);\r\n  padding: var(--spacing-lg);\r\n  background: transparent;\r\n  min-height: 60vh;\r\n  width: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n/* ===== KANBAN COLUMN RESPONSIVE ===== */\r\n.kanban-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 500px;\r\n  width: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n/* ===== ISSUE CARD RESPONSIVE ===== */\r\n.issue-card {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  min-width: 0; /* Allows proper flex shrinking */\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* ===== KANBAN CARDS CONTAINER FIX ===== */\r\n.kanban-cards {\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-md);\r\n}\r\n\r\n/* ===== TABLET BREAKPOINT (max 1024px) ===== */\r\n@media (max-width: 1024px) {\r\n  .kanban-board {\r\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\r\n    gap: var(--spacing-md);\r\n    padding: var(--spacing-md);\r\n    min-height: auto;\r\n  }\r\n\r\n  .kanban-column {\r\n    min-height: 400px;\r\n    padding: var(--spacing-sm);\r\n  }\r\n\r\n  .issue-card {\r\n    padding: 12px;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n\r\n/* ===== MOBILE BREAKPOINT (max 768px) ===== */\r\n@media (max-width: 768px) {\r\n  .kanban-board {\r\n    grid-template-columns: 1fr;\r\n    gap: var(--spacing-md);\r\n    padding: var(--spacing-sm);\r\n    min-height: auto;\r\n  }\r\n\r\n  .kanban-column {\r\n    min-height: 250px;\r\n    padding: var(--spacing-xs);\r\n  }\r\n\r\n  .issue-card {\r\n    width: 100%;\r\n    max-width: 100%;\r\n    padding: 10px;\r\n    margin-bottom: 6px;\r\n    font-size: 11px;\r\n  }\r\n\r\n  .issue-card-key {\r\n    font-size: 10px;\r\n  }\r\n\r\n  .issue-card-summary {\r\n    font-size: 11px;\r\n    max-height: 2em;\r\n  }\r\n\r\n  .issue-card-meta,\r\n  .issue-card-footer {\r\n    font-size: 10px;\r\n  }\r\n\r\n  .kanban-cards {\r\n    gap: var(--spacing-xs);\r\n  }\r\n}\r\n\r\n/* ===== ENSURE FLEX GROWS PROPERLY ===== */\r\n.kanban-cards {\r\n  flex: 1 1 auto;\r\n  min-height: 0; /* Critical for flex containers with overflow */\r\n}\r\n\r\n.issue-card {\r\n  flex-shrink: 0; /* Prevent cards from shrinking below natural size */\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/comment-attachments.css",
    "ranges": [
      {
        "start": 1520,
        "end": 1676
      }
    ],
    "text": "/* =====================================================\r\n   COMMENT ATTACHMENTS STYLING\r\n   ===================================================== */\r\n\r\n/* Attachment containers */\r\n.comment-attachment {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin: 8px 0;\r\n  padding: 8px 12px;\r\n  background: rgba(59, 130, 246, 0.05);\r\n  border: 1px solid rgba(59, 130, 246, 0.1);\r\n  border-radius: 6px;\r\n  border-left: 3px solid rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.comment-attachment.image {\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  background: rgba(34, 197, 94, 0.05);\r\n  border-color: rgba(34, 197, 94, 0.1);\r\n  border-left-color: rgba(34, 197, 94, 0.3);\r\n}\r\n\r\n.comment-attachment.file {\r\n  background: rgba(168, 85, 247, 0.05);\r\n  border-color: rgba(168, 85, 247, 0.1);\r\n  border-left-color: rgba(168, 85, 247, 0.3);\r\n}\r\n\r\n/* Attachment icons */\r\n.attachment-icon {\r\n  font-size: 18px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Attachment info text */\r\n.attachment-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.attachment-info strong {\r\n  color: #374151;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n}\r\n\r\n.attachment-info small,\r\n.attachment-caption {\r\n  color: #6b7280;\r\n  font-size: 11px;\r\n}\r\n\r\n/* Image thumbnails */\r\n.attachment-thumbnail {\r\n  max-width: 200px;\r\n  max-height: 150px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.attachment-thumbnail:hover {\r\n  transform: scale(1.02);\r\n}\r\n\r\n/* File attachment links */\r\n.attachment-link {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.attachment-link:hover {\r\n  color: #3b82f6;\r\n}\r\n\r\n.attachment-link strong {\r\n  color: #374151;\r\n}\r\n\r\n.attachment-link:hover strong {\r\n  color: #3b82f6;\r\n}\r\n\r\n/* Dark theme support */\r\nbody.theme-dark .comment-attachment {\r\n  background: rgba(99, 102, 241, 0.1);\r\n  border-color: rgba(99, 102, 241, 0.2);\r\n}\r\n\r\nbody.theme-dark .attachment-info strong,\r\nbody.theme-dark .attachment-link strong {\r\n  color: #e5e7eb;\r\n}\r\n\r\nbody.theme-dark .attachment-info small,\r\nbody.theme-dark .attachment-caption {\r\n  color: #9ca3af;\r\n}\r\n\r\nbody.theme-dark .attachment-link:hover,\r\nbody.theme-dark .attachment-link:hover strong {\r\n  color: #a5b4fc;\r\n}\r\n\r\n/* Responsive design */\r\n@media (max-width: 768px) {\r\n  .attachment-thumbnail {\r\n    max-width: 150px;\r\n    max-height: 100px;\r\n  }\r\n  \r\n  .comment-attachment {\r\n    gap: 8px;\r\n    padding: 6px 10px;\r\n  }\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/components/comments.css",
    "ranges": [
      {
        "start": 246,
        "end": 451
      },
      {
        "start": 640,
        "end": 909
      },
      {
        "start": 7593,
        "end": 7646
      },
      {
        "start": 7650,
        "end": 7907
      },
      {
        "start": 7911,
        "end": 7963
      },
      {
        "start": 7967,
        "end": 8205
      },
      {
        "start": 8209,
        "end": 8298
      },
      {
        "start": 11385,
        "end": 11451
      },
      {
        "start": 11455,
        "end": 11764
      },
      {
        "start": 13687,
        "end": 13815
      },
      {
        "start": 13819,
        "end": 13870
      },
      {
        "start": 13874,
        "end": 14114
      }
    ],
    "text": "/**\r\n * Comments & Mentions Styles\r\n * Comments section, forms, and mentions system\r\n * SPEEDYFLOW JIRA Platform\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN COMMENTS ==================== */\r\n/* ALL comment text must be fully opaque */\r\n.comment p, .comment span, .comment-author, .comment-time, .comment-text,\r\n.comments-section p, .comments-section span,\r\n.mention, .mention-text,\r\n.comment-input::placeholder {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* ==================== COMMENTS CONTAINER ==================== */\r\n.comments-container {\r\n  max-width: 900px;\r\n  margin: var(--spacing-md) 0;\r\n  font-family: var(--font-family);\r\n}\r\n\r\n.comments-section {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  /* backdrop-filter: blur(10px); */\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-md);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);\r\n  border: 1px solid var(--border-color);\r\n}\r\n\r\n/* ==================== COMMENT FORM ==================== */\r\n.comment-form {\r\n  background: linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(248, 250, 252, 0.5) 100%);\r\n  /* backdrop-filter: blur(8px); */\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-sm);\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.comment-form h3 {\r\n  margin: 0 0 var(--spacing-sm) 0;\r\n  font-size: var(--font-size-sm);\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text-primary);\r\n}\r\n\r\n/* ==================== ATTACHMENT CARD ==================== */\r\n.attachments-section {\r\n  margin-top: var(--spacing-lg);\r\n}\r\n\r\n.attachments-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\r\n  gap: var(--spacing-md);\r\n  margin-top: var(--spacing-md);\r\n}\r\n\r\n.attachment-card {\r\n  background: rgba(255, 255, 255, 0.98);\r\n  /* backdrop-filter: blur(8px); */\r\n  border: 1px solid var(--border-color);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-sm);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-xs);\r\n  min-height: 180px;\r\n  transition: all var(--transition-base);\r\n}\r\n\r\n.attachment-card:hover {\r\n  /* backdrop-filter: blur(12px); */\r\n  box-shadow: 0 8px 16px rgba(59, 130, 246, 0.15);\r\n  border-color: var(--primary);\r\n}\r\n\r\n.attachment-card.compact {\r\n  min-height: 140px;\r\n  padding: var(--spacing-xs);\r\n}\r\n\r\n.attachment-card.no-actions .attachment-actions {\r\n  display: none;\r\n}\r\n\r\n.attachment-preview {\r\n  flex: 1;\r\n  border-radius: var(--border-radius-sm);\r\n  overflow: hidden;\r\n  background: var(--bg-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.attachment-preview img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.attachment-preview-icon {\r\n  font-size: 32px;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.attachment-name {\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text-primary);\r\n  font-size: var(--font-size-sm);\r\n  word-break: break-word;\r\n}\r\n\r\n.attachment-size {\r\n  font-size: var(--font-size-xs);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.attachment-actions {\r\n  display: flex;\r\n  gap: var(--spacing-xs);\r\n}\r\n\r\n.attachment-action-btn {\r\n  padding: 0;\r\n  border: none;\r\n  background: none;\r\n  color: var(--primary);\r\n  font-size: var(--font-size-xs);\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n}\r\n\r\n.attachment-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-xxs);\r\n}\r\n\r\n.attachment-meta {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n  flex-wrap: wrap;\r\n  font-size: var(--font-size-xs);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.attachment-preview-icon {\r\n  font-size: 28px;\r\n  color: var(--text-muted);\r\n  font-weight: var(--font-weight-bold);\r\n}\r\n\r\n.attachment-action {\r\n  font-size: var(--font-size-xs);\r\n  color: var(--primary);\r\n  text-decoration: none;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xxs);\r\n  transition: color var(--transition-base);\r\n}\r\n\r\n.attachment-action:hover {\r\n  color: var(--primary-dark);\r\n}\r\n\r\n.attachment-action span {\r\n  white-space: nowrap;\r\n}\r\n\r\n.attachments-empty {\r\n  padding: var(--spacing-md);\r\n  text-align: center;\r\n  color: var(--text-muted);\r\n  font-size: var(--font-size-sm);\r\n}\r\n\r\n.comment-input,\r\n.comment-textarea {\r\n  width: 100%;\r\n  min-height: 100px;\r\n  padding: var(--spacing-md);\r\n  border: var(--border-width) solid #d0d7de;\r\n  border-radius: var(--border-radius);\r\n  font-size: var(--font-size-base);\r\n  font-family: 'Poppins', sans-serif;\r\n  resize: vertical;\r\n  transition: border-color var(--transition-base), box-shadow var(--transition-base);\r\n  background: var(--card-bg);\r\n  color: var(--text);\r\n}\r\n\r\n.comment-input:focus,\r\n.comment-textarea:focus {\r\n  outline: none;\r\n  border-color: #0969da;\r\n  box-shadow: 0 0 0 3px rgba(9, 105, 218, 0.1);\r\n}\r\n\r\n.mention-help {\r\n  font-size: var(--font-size-xs);\r\n  color: #656d76;\r\n  margin: var(--spacing-sm) 0;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-sm);\r\n  margin-top: var(--spacing-md);\r\n}\r\n\r\n.action-row {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.action-row .btn {\r\n  flex: 1;\r\n  min-width: 100px;\r\n}\r\n\r\n.action-row .attachment-picker {\r\n  flex: 1;  /* Make it same size as buttons */\r\n  padding: 8px 12px;  /* Match button padding */\r\n  background: var(--bg-tertiary);\r\n  color: var(--text-primary);\r\n  border: 1px solid var(--border-color);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: var(--spacing-xxs);\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: var(--font-size-xs);\r\n  cursor: pointer;\r\n  transition: all var(--transition-base);\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n  min-width: 100px;\r\n}\r\n\r\n.action-row .attachment-picker:hover {\r\n  background: var(--primary);\r\n  color: white;\r\n  border-color: var(--primary);\r\n}\r\n\r\n.comment-attachment-row {\r\n  margin-top: var(--spacing-md);\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: var(--spacing-sm);\r\n  align-items: center;\r\n}\r\n\r\n.attachment-picker {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xxs);\r\n  padding: var(--spacing-xs) var(--spacing-md);\r\n  border-radius: var(--border-radius-sm);\r\n  background: var(--primary);\r\n  color: white;\r\n  font-size: var(--font-size-xs);\r\n  cursor: pointer;\r\n  transition: background var(--transition-base);\r\n}\r\n\r\n.attachment-picker:hover {\r\n  background: var(--primary-dark);\r\n}\r\n\r\n.comment-attachment-preview {\r\n  width: 100%;\r\n  border: var(--border-width) solid var(--border);\r\n  border-radius: var(--border-radius-sm);\r\n  padding: var(--spacing-sm);\r\n  background: var(--card-bg);\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: var(--spacing-xs);\r\n  min-height: 40px;\r\n  font-size: var(--font-size-xs);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.comment-attachment-preview.empty {\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.attachment-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xxs);\r\n  padding: 2px 8px;\r\n  border-radius: var(--border-radius-sm);\r\n  background: var(--bg-tertiary);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.attachment-chip button {\r\n  border: none;\r\n  background: transparent;\r\n  color: var(--text-muted);\r\n  cursor: pointer;\r\n  font-size: var(--font-size-xs);\r\n}\r\n\r\n.attachment-chip-status {\r\n  font-size: var(--font-size-xxs, 10px);\r\n  color: var(--primary-dark);\r\n  text-transform: uppercase;\r\n}\r\n\r\n.attachment-placeholder {\r\n  color: var(--text-muted);\r\n}\r\n\r\n#commentAttachmentInput {\r\n  display: none;\r\n}\r\n\r\n/* ==================== COMMENT LIST ==================== */\r\n.comments-list {\r\n  margin-top: var(--spacing-sm);\r\n}\r\n\r\n.comment {\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid var(--border);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-sm);\r\n  margin-bottom: var(--spacing-xs);\r\n  transition: box-shadow var(--transition-base);\r\n}\r\n\r\n.comment:hover {\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-xs);\r\n  padding-bottom: var(--spacing-xxs);\r\n  border-bottom: var(--border-width) solid var(--border-light);\r\n}\r\n\r\n.comment-author {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xs);\r\n}\r\n\r\n.comment-author-avatar {\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  background: var(--primary);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: var(--font-weight-semibold);\r\n  font-size: var(--font-size-xs);\r\n}\r\n\r\n.comment-author-name {\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text-primary);\r\n  font-size: var(--font-size-sm);\r\n}\r\n\r\n.comment-date {\r\n  font-size: var(--font-size-xs);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.comment-body {\r\n  color: var(--text-primary);\r\n  line-height: 1.4;\r\n  font-size: var(--font-size-sm);\r\n  word-wrap: break-word;\r\n}\r\n\r\n.comment-body p {\r\n  margin-bottom: var(--spacing-xs);\r\n}\r\n\r\n.comment-body p:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* ==================== INLINE IMAGES IN COMMENTS ==================== */\r\n.comment-inline-image {\r\n  margin: var(--spacing-sm) 0;\r\n  max-width: 100%;\r\n  border-radius: var(--border-radius-sm);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-sm);\r\n  display: inline-block;\r\n}\r\n\r\n.comment-inline-image img {\r\n  max-width: 100%;\r\n  max-height: 300px;\r\n  height: auto;\r\n  display: block;\r\n  border-radius: var(--border-radius-sm);\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.comment-inline-image img:hover {\r\n  transform: scale(1.02);\r\n  box-shadow: var(--shadow-lg);\r\n}\r\n\r\n.comment-attachments-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: var(--spacing-xs);\r\n  margin-top: var(--spacing-sm);\r\n}\r\n\r\n.comment-footer {\r\n  margin-top: var(--spacing-xs);\r\n  display: flex;\r\n  gap: var(--spacing-xs);\r\n  align-items: center;\r\n  font-size: var(--font-size-xs);\r\n}\r\n\r\n/* ==================== MENTIONS ==================== */\r\n.mention {\r\n  background: rgba(37, 99, 235, 0.1);\r\n  color: var(--primary);\r\n  padding: 2px 6px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-weight: var(--font-weight-medium);\r\n  text-decoration: none;\r\n  transition: background-color var(--transition-base);\r\n}\r\n\r\n.mention:hover {\r\n  background: rgba(37, 99, 235, 0.2);\r\n}\r\n\r\n.mentions-dropdown {\r\n  position: absolute;\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid var(--border);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-md);\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  z-index: var(--z-dropdown);\r\n  min-width: 200px;\r\n}\r\n\r\n.mention-suggestion {\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-base);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-sm);\r\n}\r\n\r\n.mention-suggestion:hover,\r\n.mention-suggestion.active {\r\n  background: var(--bg-secondary);\r\n}\r\n\r\n.mention-suggestion-avatar {\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  background: var(--primary);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: var(--font-size-xs);\r\n  font-weight: var(--font-weight-semibold);\r\n}\r\n\r\n/* ==================== COMMENT ACTIONS ==================== */\r\n.comment-actions {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n}\r\n\r\n.comment-action-btn {\r\n  padding: var(--spacing-xs) var(--spacing-sm);\r\n  font-size: var(--font-size-xs);\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-muted);\r\n  cursor: pointer;\r\n  transition: color var(--transition-base);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xs);\r\n}\r\n\r\n.comment-action-btn:hover {\r\n  color: var(--primary);\r\n}\r\n\r\n/* ==================== COMMENT THREAD ==================== */\r\n.comment-thread {\r\n  margin-left: var(--spacing-xl);\r\n  border-left: 2px solid var(--border-light);\r\n  padding-left: var(--spacing-md);\r\n  margin-top: var(--spacing-md);\r\n}\r\n\r\n.comment-reply {\r\n  font-size: var(--font-size-sm);\r\n}\r\n\r\n/* ==================== COMMENT BADGES ==================== */\r\n.comment-badge {\r\n  display: inline-block;\r\n  padding: 2px 6px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: 10px;\r\n  font-weight: var(--font-weight-semibold);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.comment-badge-author {\r\n  background: var(--primary-light);\r\n  color: white;\r\n}\r\n\r\n.comment-badge-edited {\r\n  background: var(--bg-tertiary);\r\n  color: var(--text-muted);\r\n}\r\n\r\n/* ==================== EMPTY COMMENTS STATE ==================== */\r\n.comments-empty {\r\n  text-align: center;\r\n  padding: var(--spacing-xl);\r\n  color: var(--text-muted);\r\n}\r\n\r\n.comments-empty-icon {\r\n  font-size: 48px;\r\n  margin-bottom: var(--spacing-md);\r\n  opacity: 0.7;\r\n}\r\n\r\n.comments-empty-text {\r\n  font-size: var(--font-size-base);\r\n}\r\n\r\n/* ==================== LOADING STATE ==================== */\r\n.comments-loading {\r\n  text-align: center;\r\n  padding: var(--spacing-lg);\r\n  color: var(--text-muted);\r\n}\r\n\r\n/* ==================== RESPONSIVE ==================== */\r\n@media (max-width: 768px) {\r\n  .comments-container {\r\n    margin: var(--spacing-md) 0;\r\n  }\r\n  \r\n  .comments-section {\r\n    padding: var(--spacing-md);\r\n  }\r\n  \r\n  .comment {\r\n    padding: var(--spacing-sm);\r\n  }\r\n  \r\n  .comment-thread {\r\n    margin-left: var(--spacing-md);\r\n    padding-left: var(--spacing-sm);\r\n  }\r\n  \r\n  .comment-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--spacing-xs);\r\n  }\r\n}\r\n\r\n/* ==================== COMMENT ACTIONS ==================== */\r\n.comment-actions {\r\n  display: flex;\r\n  gap: var(--spacing-xs);\r\n  opacity: 0;\r\n  transition: opacity var(--transition-base);\r\n}\r\n\r\n.comment:hover .comment-actions {\r\n  opacity: 1;\r\n}\r\n\r\n.comment-action-btn {\r\n  background: none;\r\n  border: none;\r\n  padding: var(--spacing-xs);\r\n  cursor: pointer;\r\n  font-size: var(--font-size-sm);\r\n  transition: transform var(--transition-base);\r\n  border-radius: var(--border-radius-sm);\r\n}\r\n\r\n.comment-action-btn:hover {\r\n  transform: scale(1.2);\r\n  background: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.comment-action-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* ==================== COMMENT AUTHOR INFO ==================== */\r\n.comment-author-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-xs);\r\n}\r\n\r\n.comment-author-name {\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text);\r\n}\r\n\r\n.comment-date {\r\n  font-size: var(--font-size-xs);\r\n  color: #656d76;\r\n}\r\n\r\n/* ==================== COMMENT FOOTER ==================== */\r\n.comment-footer {\r\n  margin-top: var(--spacing-sm);\r\n  padding-top: var(--spacing-sm);\r\n  border-top: var(--border-width) solid var(--border-light);\r\n}\r\n\r\n.comment-edited {\r\n  font-size: var(--font-size-xs);\r\n  color: #656d76;\r\n  font-style: italic;\r\n}\r\n\r\n/* ==================== COMMENT ERROR & EMPTY STATES ==================== */\r\n.comments-empty {\r\n  text-align: center;\r\n  padding: var(--spacing-lg);\r\n  color: #656d76;\r\n  background: #f6f8fa;\r\n  border-radius: var(--border-radius-md);\r\n  border: var(--border-width) dashed #d0d7de;\r\n}\r\n\r\n.comments-empty p {\r\n  margin: 0;\r\n  font-size: var(--font-size-sm);\r\n}\r\n\r\n.comment-error {\r\n  background: #ffebe6;\r\n  border: var(--border-width) solid #d1242f;\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-md);\r\n  margin-bottom: var(--spacing-md);\r\n  color: #d1242f;\r\n  font-size: var(--font-size-sm);\r\n  animation: slideDown var(--transition-base) ease-out;\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* ==================== COMMENT HIGHLIGHT ==================== */\r\n.comment-highlighted {\r\n  background: #fffbea;\r\n  border-color: #d29922;\r\n  box-shadow: 0 0 0 2px rgba(210, 153, 34, 0.2);\r\n}\r\n\r\n.comment-highlighted::after {\r\n  content: 'üëâ Reply queued';\r\n  display: block;\r\n  font-size: var(--font-size-xs);\r\n  color: #d29922;\r\n  margin-top: var(--spacing-sm);\r\n  font-weight: var(--font-weight-semibold);\r\n}\r\n\r\n/* ==================== MENTION POPUP ==================== */\r\n.mention-popup {\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid #d0d7de;\r\n  border-radius: var(--border-radius-md);\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\r\n  z-index: 999999;\r\n  max-height: 250px;\r\n  overflow-y: auto;\r\n  animation: slideDown var(--transition-base) ease-out;\r\n}\r\n\r\n.mention-list {\r\n  padding: var(--spacing-xs) 0;\r\n}\r\n\r\n.mention-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-sm);\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-base);\r\n}\r\n\r\n.mention-item:hover,\r\n.mention-item.selected {\r\n  background-color: #e5f2ff;\r\n}\r\n\r\n.mention-icon {\r\n  font-size: var(--font-size-lg);\r\n  min-width: 24px;\r\n  text-align: center;\r\n}\r\n\r\n.mention-name {\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text);\r\n  flex: 1;\r\n}\r\n\r\n.mention-type {\r\n  font-size: var(--font-size-xs);\r\n  background: #f0f2f5;\r\n  color: #656d76;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  text-transform: capitalize;\r\n}\r\n\r\n/* ==================== MENTION HELP TEXT ==================== */\r\n.mention-help {\r\n  font-size: var(--font-size-xs);\r\n  color: #656d76;\r\n  margin: var(--spacing-sm) 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-xs);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .mention-popup {\r\n    max-width: 90vw;\r\n    max-height: 200px;\r\n  }\r\n\r\n  .mention-item {\r\n    padding: var(--spacing-sm);\r\n  }\r\n\r\n  .mention-type {\r\n    display: none;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/common.css",
    "ranges": [
      {
        "start": 286,
        "end": 676
      },
      {
        "start": 3295,
        "end": 3486
      },
      {
        "start": 3490,
        "end": 3652
      },
      {
        "start": 3656,
        "end": 3849
      },
      {
        "start": 5108,
        "end": 5190
      },
      {
        "start": 5384,
        "end": 5879
      },
      {
        "start": 5883,
        "end": 6063
      },
      {
        "start": 6067,
        "end": 6261
      },
      {
        "start": 6265,
        "end": 6470
      },
      {
        "start": 6474,
        "end": 6702
      },
      {
        "start": 7871,
        "end": 8428
      },
      {
        "start": 8432,
        "end": 8750
      },
      {
        "start": 9082,
        "end": 9395
      },
      {
        "start": 9482,
        "end": 9834
      },
      {
        "start": 9960,
        "end": 10297
      },
      {
        "start": 10301,
        "end": 10367
      },
      {
        "start": 11213,
        "end": 11307
      },
      {
        "start": 11311,
        "end": 11443
      },
      {
        "start": 14686,
        "end": 15068
      },
      {
        "start": 22237,
        "end": 22466
      },
      {
        "start": 22544,
        "end": 22744
      },
      {
        "start": 22748,
        "end": 22802
      },
      {
        "start": 22806,
        "end": 22897
      },
      {
        "start": 22901,
        "end": 23119
      },
      {
        "start": 23617,
        "end": 23792
      },
      {
        "start": 23796,
        "end": 23965
      },
      {
        "start": 24411,
        "end": 24494
      },
      {
        "start": 24498,
        "end": 24686
      }
    ],
    "text": "/**\r\n * Components Styles - Reusable UI Components\r\n * Buttons, forms, cards, badges, modals, etc.\r\n * SpeedyFlow Application\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT GLOBALLY ==================== */\r\n/* ALL text elements must be fully opaque regardless of parent opacity */\r\np, span, label, h1, h2, h3, h4, h5, h6, a, button, li, td, th, strong, em, small, mark,\r\n.btn, .label, .badge, .tag, .comment, .card-title, .card-text,\r\n.sidebar-label, .detail-label, .detail-value,\r\n.comment-author, .comment-time, .comment-text,\r\n.issue-key, .issue-title, .issue-description,\r\ninput, textarea, select,\r\n.form-label, .form-control, .form-text {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* ==================== FORMS ==================== */\r\n.form-group {\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.form-group label,\r\n.form-label {\r\n  display: block;\r\n  margin-bottom: var(--spacing-xs);\r\n  font-weight: var(--font-weight-semibold);\r\n  font-size: var(--font-size-sm);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.form-group select,\r\n.form-group input,\r\n.form-control {\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 1px solid var(--border-color);\r\n  font-size: var(--font-size-base);\r\n  background: rgba(255, 255, 255, 0.80);\r\n  color: var(--text-primary);\r\n  transition: all var(--transition-base);\r\n  font-family: var(--font-family);\r\n}\r\n\r\n.form-group select:focus,\r\n.form-group input:focus,\r\n.form-control:focus {\r\n  outline: none;\r\n  border-color: var(--primary);\r\n  background: rgba(255, 255, 255, 0.90);\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);\r\n}\r\n\r\n.form-control:disabled {\r\n  background-color: var(--bg-tertiary);\r\n  cursor: not-allowed;\r\n  opacity: 0.6;\r\n}\r\n\r\n/* ==================== BUTTONS ==================== */\r\n.btn {\r\n  padding: 8px 16px;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.08) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n  color: var(--text-primary);\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: var(--spacing-sm);\r\n  white-space: nowrap;\r\n}\r\n\r\n.btn:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  transform: none !important;\r\n}\r\n\r\nbody.theme-dark .btn {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(37, 99, 235, 0.2) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.5);\r\n  color: #ffffff;\r\n}\r\n\r\nbody.theme-dark .btn:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.5) 0%, rgba(37, 99, 235, 0.4) 100%);\r\n  border-color: rgba(59, 130, 246, 0.7);\r\n}\r\n\r\nbody.theme-light .btn {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.3);\r\n  color: var(--text-primary);\r\n}\r\n\r\nbody.theme-light .btn:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(37, 99, 235, 0.2) 100%);\r\n  border-color: rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n/* Keep button variant colors but with new base style */\r\n.btn-primary {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%);\r\n  color: var(--text-primary);\r\n  border: 1px solid rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(37, 99, 235, 0.2) 100%);\r\n  border-color: rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.btn-secondary {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%);\r\n  color: var(--text-primary);\r\n  border: 1px solid rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(37, 99, 235, 0.2) 100%);\r\n  border-color: rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.btn-success {\r\n  background: linear-gradient(135deg, var(--success) 0%, #059669 100%);\r\n  color: white;\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.btn-success:hover {\r\n  background: linear-gradient(135deg, #059669 0%, #047857 100%);\r\n  box-shadow: var(--shadow);\r\n}\r\n\r\n.btn-danger {\r\n  background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);\r\n  color: white;\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.btn-danger:hover {\r\n  background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);\r\n  box-shadow: var(--shadow);\r\n}\r\n\r\n.btn-warning {\r\n  background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);\r\n  color: white;\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.btn-warning:hover {\r\n  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\r\n  box-shadow: var(--shadow);\r\n}\r\n\r\n.btn-outline {\r\n  background: transparent;\r\n  border: 1px solid var(--primary);\r\n  color: var(--primary);\r\n  font-weight: var(--font-weight-semibold);\r\n}\r\n\r\n.btn-outline:hover {\r\n  background: rgba(37, 99, 235, 0.1);\r\n  border-color: var(--primary);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.btn-small,\r\n.btn-sm {\r\n  padding: 6px 12px;\r\n  font-size: var(--font-size-sm);\r\n}\r\n\r\n.btn-large,\r\n.btn-lg {\r\n  padding: 14px 24px;\r\n  font-size: var(--font-size-md);\r\n}\r\n\r\n.btn-full {\r\n  width: 100%;\r\n}\r\n\r\n/* ==================== SELECTS & DROPDOWNS ==================== */\r\nselect,\r\n.dropdown,\r\n[class*=\"select\"] {\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid var(--border);\r\n  color: var(--text-primary);\r\n  border-radius: var(--border-radius);\r\n  font-size: var(--font-size-sm);\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all var(--transition-base) var(--transition-ease);\r\n  font-family: var(--font-family);\r\n  /* backdrop-filter: blur(10px); */\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\nselect:hover,\r\n.dropdown:hover,\r\n[class*=\"select\"]:hover {\r\n  background: var(--card-bg-hover);\r\n  border-color: var(--border-light);\r\n  transform: var(--transform-hover-scale);\r\n}\r\n\r\nselect:focus,\r\n.dropdown:focus,\r\n[class*=\"select\"]:focus {\r\n  outline: none;\r\n  border-color: var(--border-light);\r\n  box-shadow: var(--shadow-md);\r\n  transform: var(--transform-hover-scale);\r\n}\r\n\r\nbody.theme-dark select,\r\nbody.theme-dark .dropdown,\r\nbody.theme-dark [class*=\"select\"] {\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid var(--border);\r\n  color: var(--text-primary);\r\n}\r\n\r\nbody.theme-dark select:hover,\r\nbody.theme-dark .dropdown:hover,\r\nbody.theme-dark [class*=\"select\"]:hover {\r\n  background: var(--card-bg-hover);\r\n  border-color: var(--border-light);\r\n  transform: var(--transform-hover-scale);\r\n}\r\n\r\n/* ==================== CARDS ==================== */\r\n.card {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  /* backdrop-filter: blur(10px); */\r\n  border: 2px solid rgba(59, 130, 246, 0.15);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-md);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15), 0 0 20px rgba(59, 130, 246, 0.05);\r\n  transition: all var(--transition-base);\r\n  font-family: var(--font-family);\r\n}\r\n\r\n.card:hover {\r\n  /* backdrop-filter: blur(15px); */\r\n  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.2), 0 0 30px rgba(59, 130, 246, 0.1);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.card-header {\r\n  margin-bottom: var(--spacing-md);\r\n  padding-bottom: var(--spacing-sm);\r\n  border-bottom: 2px solid rgba(59, 130, 246, 0.2);\r\n  font-weight: var(--font-weight-semibold);\r\n  color: var(--text-primary);\r\n  font-size: var(--font-size-md);\r\n}\r\n\r\n.card-body {\r\n  margin-bottom: var(--spacing-md);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.card-footer {\r\n  margin-top: var(--spacing-md);\r\n  padding-top: var(--spacing-sm);\r\n  border-top: 1px solid var(--border-color);\r\n}\r\n\r\n/* ==================== ISSUE CARDS ==================== */\r\n.issue-card {\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(255, 250, 250, 0.98) 100%);\r\n  /* backdrop-filter: blur(12px); */\r\n  border: 2px solid rgba(59, 130, 246, 0.15);\r\n  border-left: 3px solid rgba(59, 130, 246, 0.15);\r\n  border-radius: 12px;\r\n  padding: 14px;\r\n  margin-bottom: 12px;\r\n  margin-top: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n  font-family: var(--font-family);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.issue-card:hover {\r\n  /* backdrop-filter: blur(16px); */\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 12px 24px rgba(59, 130, 246, 0.25), 0 0 20px rgba(59, 130, 246, 0.15);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(255, 248, 248, 1) 100%);\r\n}\r\n\r\n/* Header: Key + Severity + Status */\r\n.issue-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding-bottom: 6px;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n.issue-key-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.issue-key {\r\n  font-weight: 700;\r\n  color: white;\r\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n  font-size: 11px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  white-space: nowrap;\r\n  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.issue-priority-severity {\r\n  display: flex;\r\n  gap: 4px;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.severity-badge,\r\n.priority-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #dc2626;\r\n  padding: 3px 6px;\r\n  border-radius: 3px;\r\n  font-weight: 600;\r\n  font-size: 10px;\r\n  border: 1px solid rgba(220, 38, 38, 0.3);\r\n  white-space: nowrap;\r\n  /* backdrop-filter: blur(4px); */\r\n}\r\n\r\n/* Severity badge - now removed from separate section */\r\n.issue-severity {\r\n  display: none;\r\n}\r\n\r\n/* Title: Summary */\r\n.issue-summary {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  line-height: 1.3;\r\n  color: #1f2937;\r\n  margin: 0;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  word-break: break-word;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n}\r\n\r\nbody.theme-dark .issue-summary {\r\n  color: var(--text-primary);\r\n}\r\n\r\n/* Main contacts row */\r\n.issue-contacts {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 12px;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.contact-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 0 1 auto;\r\n}\r\n\r\n.contact-label {\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  font-size: 10px;\r\n}\r\n\r\n.contact-value {\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Body: Assignee on separate line */\r\n.issue-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  padding: 6px 0;\r\n}\r\n\r\n.issue-assignee {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  font-size: 12px;\r\n  padding: 4px 0;\r\n  width: 100%;\r\n}\r\n\r\n.assignee-label {\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n  font-size: 10px;\r\n}\r\n\r\n.assignee-name {\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Customer info row */\r\n.issue-customer-info {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 11px;\r\n  flex-wrap: wrap;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.12);\r\n  color: #6b7280;\r\n}\r\n\r\n.customer-field {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 3px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.customer-label {\r\n  font-weight: 600;\r\n  color: #9ca3af;\r\n  font-size: 9px;\r\n}\r\n\r\n/* Footer: Meta, dates, and SLA */\r\n.issue-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 11px;\r\n  padding-top: 6px;\r\n  border-top: 1px solid rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n.issue-meta {\r\n  display: flex;\r\n  gap: 8px;\r\n  font-size: 10px;\r\n  color: var(--text-secondary);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.issue-dates {\r\n  display: flex;\r\n  gap: 4px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.date-badge {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #0ea5e9;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n  font-weight: 600;\r\n  font-size: 10px;\r\n  border: 1px solid rgba(14, 165, 233, 0.25);\r\n  /* backdrop-filter: blur(4px); */\r\n}\r\n\r\n/* SLA Status Display */\r\n.issue-sla {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 0;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n}\r\n\r\n.sla-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 10px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: var(--font-size-xs);\r\n  font-weight: var(--font-weight-semibold);\r\n  white-space: nowrap;\r\n}\r\n\r\n.sla-healthy {\r\n  background: rgba(34, 197, 94, 0.12);\r\n  color: #15803d;\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n}\r\n\r\n.sla-on-track {\r\n  background: rgba(234, 179, 8, 0.12);\r\n  color: #b45309;\r\n  border: 1px solid rgba(234, 179, 8, 0.25);\r\n}\r\n\r\n.sla-warning {\r\n  background: rgba(249, 115, 22, 0.12);\r\n  color: #c2410c;\r\n  border: 1px solid rgba(249, 115, 22, 0.25);\r\n}\r\n\r\n.sla-critical {\r\n  background: rgba(239, 68, 68, 0.12);\r\n  color: #dc2626;\r\n  border: 1px solid rgba(239, 68, 68, 0.25);\r\n}\r\n\r\n.sla-breached {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #b91c1c;\r\n  border: 1px solid rgba(239, 68, 68, 0.35);\r\n  animation: none;\r\n}\r\n\r\n.sla-completed {\r\n  background: rgba(34, 197, 94, 0.12);\r\n  color: #15803d;\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n}\r\n\r\n.sla-unknown {\r\n  background: rgba(107, 114, 128, 0.1);\r\n  color: #4b5563;\r\n  border: 1px solid rgba(107, 114, 128, 0.2);\r\n}\r\n\r\n.sla-default {\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n}\r\n\r\n.sla-paused {\r\n  background: rgba(168, 85, 247, 0.12);\r\n  color: #6b21a8;\r\n  border: 1px solid rgba(168, 85, 247, 0.25);\r\n}\r\n\r\n.sla-na {\r\n  background: rgba(107, 114, 128, 0.1);\r\n  color: #4b5563;\r\n  border: 1px solid rgba(107, 114, 128, 0.2);\r\n}\r\n\r\n.sla-icon {\r\n  font-size: 14px;\r\n}\r\n\r\n.sla-text {\r\n  font-size: var(--font-size-xs);\r\n}\r\n\r\n/* ==================== BADGES ==================== */\r\n.badge {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: var(--font-size-xs);\r\n  font-weight: var(--font-weight-semibold);\r\n  line-height: 1;\r\n}\r\n\r\n.status-badge,\r\n.priority-badge {\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 800;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: rgba(255, 255, 255, 0.65);\r\n  /* backdrop-filter: blur(8px); */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n/* Shine effect for badges */\r\n.priority-badge::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\r\n  transition: left 0.5s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.priority-badge:hover::before {\r\n  left: 100%;\r\n}\r\n\r\n/* Status Colors */\r\n.status-open {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #0ea5e9;\r\n  border: 1px solid rgba(14, 165, 233, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n.status-progress {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #f59e0b;\r\n  border: 1px solid rgba(245, 158, 11, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n.status-done {\r\n  background: rgba(255, 255, 255, 0.65);\r\n  color: #10b981;\r\n  border: 1px solid rgba(16, 185, 129, 0.3);\r\n  font-weight: 700;\r\n}\r\n\r\n/* Priority Colors - Premium Style with Fire Effect */\r\n.priority-highest,\r\n.priority-critico {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(59, 130, 246, 0.15) 100%);\r\n  color: #1e40af;\r\n  border: 2px solid rgba(59, 130, 246, 0.4);\r\n  animation: none;\r\n  text-shadow: 0 0 8px rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.priority-highest:hover,\r\n.priority-critico:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.4) 0%, rgba(59, 130, 246, 0.25) 100%);\r\n  transform: scale(1.15) translateY(-4px);\r\n  box-shadow: 0 12px 32px rgba(59, 130, 246, 0.7), 0 0 50px rgba(59, 130, 246, 0.5), inset 0 0 20px rgba(100, 150, 255, 0.3);\r\n  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.9)) drop-shadow(0 0 16px rgba(100, 150, 255, 0.7));\r\n}\r\n\r\n.priority-high {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.25) 0%, rgba(245, 158, 11, 0.15) 100%);\r\n  color: #b45309;\r\n  border: 2px solid rgba(245, 158, 11, 0.4);\r\n  animation: none;\r\n}\r\n\r\n.priority-high:hover {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.35) 0%, rgba(245, 158, 11, 0.25) 100%);\r\n  transform: scale(1.12) translateY(-3px);\r\n  box-shadow: 0 10px 28px rgba(245, 158, 11, 0.6), 0 0 40px rgba(245, 158, 11, 0.4);\r\n  filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.8));\r\n}\r\n\r\n.priority-medium {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%);\r\n  color: #1e40af;\r\n  border: 2px solid rgba(59, 130, 246, 0.3);\r\n  animation: none;\r\n}\r\n\r\n.priority-medium:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(59, 130, 246, 0.2) 100%);\r\n  transform: scale(1.08) translateY(-3px);\r\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.5), 0 0 30px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.priority-low {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.08) 100%);\r\n  color: #15803d;\r\n  border: 2px solid rgba(34, 197, 94, 0.3);\r\n}\r\n\r\n.priority-low:hover {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(34, 197, 94, 0.15) 100%);\r\n  transform: scale(1.06) translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(34, 197, 94, 0.4), 0 0 20px rgba(34, 197, 94, 0.2);\r\n}\r\n\r\n.priority-lowest {\r\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.15) 0%, rgba(107, 114, 128, 0.08) 100%);\r\n  color: #4b5563;\r\n  border: 2px solid rgba(107, 114, 128, 0.3);\r\n}\r\n\r\n.priority-lowest:hover {\r\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.25) 0%, rgba(107, 114, 128, 0.15) 100%);\r\n  transform: scale(1.05) translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(107, 114, 128, 0.3);\r\n}\r\n\r\n/* ==================== TABS ==================== */\r\n.tabs {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n  border-bottom: var(--border-width-thick) solid var(--border);\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n.tab-btn {\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  border: none;\r\n  background: transparent;\r\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\r\n  font-size: var(--font-size-base);\r\n  font-weight: var(--font-weight-medium);\r\n  cursor: pointer;\r\n  color: var(--text-muted);\r\n  transition: all var(--transition-base);\r\n  border-bottom: var(--border-width-thick) solid transparent;\r\n  margin-bottom: calc(var(--border-width-thick) * -1);\r\n}\r\n\r\n.tab-btn:hover {\r\n  color: var(--text-primary);\r\n  background: var(--bg-secondary);\r\n}\r\n\r\n.tab-btn.active {\r\n  background: var(--primary);\r\n  color: white;\r\n  border-bottom-color: var(--primary);\r\n}\r\n\r\n/* ==================== VIEW TOGGLE ==================== */\r\n.view-toggle {\r\n  display: flex;\r\n  gap: var(--spacing-xs);\r\n  background: #f1f5f9;\r\n  padding: var(--spacing-xs);\r\n  border-radius: var(--border-radius);\r\n}\r\n\r\n.view-toggle button {\r\n  padding: 6px 12px;\r\n  border: none;\r\n  background: transparent;\r\n  border-radius: var(--border-radius-sm);\r\n  cursor: pointer;\r\n  font-size: var(--font-size-sm);\r\n  transition: all var(--transition-base);\r\n}\r\n\r\n.view-toggle button.active {\r\n  background: white;\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n/* ==================== FILTERS ==================== */\r\n.filters {\r\n  background: var(--card-bg);\r\n  padding: var(--spacing-md);\r\n  border-radius: var(--border-radius-md);\r\n  margin-bottom: var(--spacing-lg);\r\n  display: flex;\r\n  gap: var(--spacing-md);\r\n  flex-wrap: wrap;\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.filters input,\r\n.filters select {\r\n  padding: var(--spacing-sm) var(--spacing-md);\r\n  border: var(--border-width) solid var(--border);\r\n  border-radius: var(--border-radius);\r\n  font-size: var(--font-size-sm);\r\n  background: var(--card-bg);\r\n  color: var(--text-primary);\r\n  transition: all var(--transition-base) var(--transition-ease);\r\n  /* backdrop-filter: blur(10px); */\r\n  box-shadow: var(--shadow-sm);\r\n  font-weight: 500;\r\n}\r\n\r\n.filters input:hover,\r\n.filters select:hover {\r\n  background: var(--card-bg-hover);\r\n  border-color: var(--border-light);\r\n  transform: var(--transform-hover-scale);\r\n}\r\n\r\n.filters input:focus,\r\n.filters select:focus {\r\n  outline: none;\r\n  border-color: var(--border-light);\r\n  box-shadow: var(--shadow-md);\r\n  transform: var(--transform-hover-scale);\r\n}\r\n\r\n/* ==================== MODAL ==================== */\r\n\r\n/* Base modal overlay - Common styles for all modal backgrounds */\r\n.modal-overlay-base {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n}\r\n\r\n/* Common shadow effects */\r\n.shadow-modal-heavy {\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.modal {\r\n  display: none;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: var(--z-modal);\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.modal.active {\r\n  display: flex;\r\n}\r\n\r\n.modal-content {\r\n  background: var(--card-bg);\r\n  border-radius: var(--border-radius-md);\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  padding: var(--spacing-lg);\r\n  box-shadow: var(--shadow-xl);\r\n  animation: modalSlideIn var(--transition-slow) var(--transition-cubic);\r\n}\r\n\r\n@keyframes modalSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-lg);\r\n  padding-bottom: var(--spacing-md);\r\n  border-bottom: var(--border-width) solid var(--border);\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: var(--font-size-lg);\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  color: var(--text-muted);\r\n  padding: var(--spacing-xs);\r\n  transition: color var(--transition-base);\r\n}\r\n\r\n.modal-close:hover {\r\n  color: var(--text-primary);\r\n}\r\n\r\n.modal-body {\r\n  line-height: var(--line-height-relaxed);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.modal-footer {\r\n  margin-top: var(--spacing-lg);\r\n  padding-top: var(--spacing-md);\r\n  border-top: var(--border-width) solid var(--border);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: var(--spacing-sm);\r\n}\r\n\r\n/* ==================== STATS/METRICS ==================== */\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: var(--spacing-md);\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n.stat-card,\r\n.metric-box {\r\n  background: var(--card-bg);\r\n  border-radius: var(--border-radius-md);\r\n  padding: var(--spacing-lg);\r\n  border: var(--border-width) solid var(--border);\r\n  border-left: 4px solid var(--primary);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.stat-value,\r\n.metric-value {\r\n  font-size: 32px;\r\n  font-weight: var(--font-weight-bold);\r\n  color: var(--primary);\r\n  margin-bottom: var(--spacing-sm);\r\n  line-height: 1;\r\n}\r\n\r\n.stat-label,\r\n.metric-label {\r\n  font-size: var(--font-size-sm);\r\n  color: var(--text-muted);\r\n  text-transform: uppercase;\r\n  font-weight: var(--font-weight-medium);\r\n}\r\n\r\n.metric-delta {\r\n  font-size: var(--font-size-sm);\r\n  margin-top: var(--spacing-xs);\r\n}\r\n\r\n/* ==================== EMPTY STATE ==================== */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: var(--text-muted);\r\n  font-size: var(--font-size-base);\r\n}\r\n\r\n.empty-state-icon {\r\n  font-size: 48px;\r\n  margin-bottom: var(--spacing-md);\r\n  opacity: 0.5;\r\n}\r\n\r\n/* ==================== LOADING ==================== */\r\n.loading {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.spinner {\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid var(--border);\r\n  border-top-color: var(--primary);\r\n  border-radius: 50%;\r\n  animation: none;\r\n}\r\n\r\n@keyframes pulse-breach {\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n/* ==================== FIRE ANIMATIONS FOR CRITICAL PRIORITY ==================== */\r\n\r\n@keyframes fire-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 8px rgba(239, 68, 68, 0.8)) \r\n            drop-shadow(0 0 16px rgba(255, 100, 0, 0.6));\r\n    text-shadow: 0 0 10px rgba(255, 100, 0, 0.7);\r\n  }\r\n  25% {\r\n    opacity: 0.88;\r\n    transform: scale(1.06);\r\n    filter: drop-shadow(0 0 12px rgba(239, 68, 68, 1)) \r\n            drop-shadow(0 0 24px rgba(255, 100, 0, 0.8));\r\n    text-shadow: 0 0 14px rgba(255, 100, 0, 0.9);\r\n  }\r\n  50% {\r\n    opacity: 0.92;\r\n    transform: scale(1.02);\r\n    filter: drop-shadow(0 0 10px rgba(239, 68, 68, 0.9)) \r\n            drop-shadow(0 0 18px rgba(255, 100, 0, 0.7));\r\n    text-shadow: 0 0 10px rgba(255, 100, 0, 0.7);\r\n  }\r\n  75% {\r\n    opacity: 0.88;\r\n    transform: scale(1.06);\r\n    filter: drop-shadow(0 0 12px rgba(239, 68, 68, 1)) \r\n            drop-shadow(0 0 24px rgba(255, 100, 0, 0.8));\r\n    text-shadow: 0 0 14px rgba(255, 100, 0, 0.9);\r\n  }\r\n}\r\n\r\n@keyframes warm-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.7));\r\n  }\r\n  50% {\r\n    opacity: 0.95;\r\n    transform: scale(1.03);\r\n    filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.9));\r\n  }\r\n}\r\n\r\n@keyframes cool-pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n    filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.6));\r\n  }\r\n  50% {\r\n    opacity: 0.97;\r\n    transform: scale(1.02);\r\n    filter: drop-shadow(0 0 6px rgba(59, 130, 246, 0.8));\r\n  }\r\n}\r\n\r\n/* ==================== ALERTS/MESSAGES ==================== */\r\n.alert {\r\n  padding: var(--spacing-md);\r\n  border-radius: var(--border-radius);\r\n  margin-bottom: var(--spacing-md);\r\n  border: var(--border-width) solid;\r\n}\r\n\r\n.alert-info {\r\n  background: var(--info-light);\r\n  border-color: var(--info);\r\n  color: var(--info-dark);\r\n}\r\n\r\n.alert-success {\r\n  background: var(--success-light);\r\n  border-color: var(--success);\r\n  color: var(--success-dark);\r\n}\r\n\r\n.alert-warning {\r\n  background: var(--warning-light);\r\n  border-color: var(--warning);\r\n  color: var(--warning-dark);\r\n}\r\n\r\n.alert-danger,\r\n.error {\r\n  background: var(--danger-light);\r\n  border-color: var(--danger);\r\n  color: var(--danger-dark);\r\n}\r\n\r\n/* ==================== TOOLTIPS ==================== */\r\n.tooltip {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.tooltip:hover::after {\r\n  content: attr(data-tooltip);\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: var(--spacing-xs) var(--spacing-sm);\r\n  background: rgba(0, 0, 0, 0.9);\r\n  color: white;\r\n  font-size: var(--font-size-xs);\r\n  white-space: nowrap;\r\n  border-radius: var(--border-radius-sm);\r\n  z-index: var(--z-tooltip);\r\n  margin-bottom: var(--spacing-xs);\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/filter-bar.css",
    "ranges": [
      {
        "start": 207,
        "end": 722
      },
      {
        "start": 942,
        "end": 1088
      },
      {
        "start": 1107,
        "end": 1212
      },
      {
        "start": 1216,
        "end": 1297
      },
      {
        "start": 1321,
        "end": 1457
      },
      {
        "start": 1474,
        "end": 1736
      },
      {
        "start": 1740,
        "end": 1814
      },
      {
        "start": 1818,
        "end": 1896
      },
      {
        "start": 1900,
        "end": 1936
      },
      {
        "start": 1961,
        "end": 2326
      },
      {
        "start": 2330,
        "end": 2556
      },
      {
        "start": 2560,
        "end": 2739
      },
      {
        "start": 2743,
        "end": 2943
      },
      {
        "start": 2947,
        "end": 3158
      },
      {
        "start": 3176,
        "end": 3580
      },
      {
        "start": 3584,
        "end": 3659
      },
      {
        "start": 3663,
        "end": 3721
      },
      {
        "start": 3725,
        "end": 3837
      },
      {
        "start": 3841,
        "end": 3959
      },
      {
        "start": 3984,
        "end": 4199
      },
      {
        "start": 4203,
        "end": 4285
      },
      {
        "start": 4289,
        "end": 4408
      },
      {
        "start": 4433,
        "end": 4478
      },
      {
        "start": 4482,
        "end": 4545
      },
      {
        "start": 4549,
        "end": 4611
      },
      {
        "start": 4615,
        "end": 4997
      },
      {
        "start": 5001,
        "end": 5184
      },
      {
        "start": 5399,
        "end": 5510
      },
      {
        "start": 5585,
        "end": 5804
      },
      {
        "start": 5808,
        "end": 5896
      },
      {
        "start": 5900,
        "end": 6247
      },
      {
        "start": 6251,
        "end": 6321
      },
      {
        "start": 6325,
        "end": 6411
      },
      {
        "start": 6415,
        "end": 6533
      },
      {
        "start": 6537,
        "end": 6722
      },
      {
        "start": 6726,
        "end": 6932
      },
      {
        "start": 6936,
        "end": 6990
      },
      {
        "start": 6994,
        "end": 7028
      },
      {
        "start": 7054,
        "end": 7105
      },
      {
        "start": 7109,
        "end": 7602
      },
      {
        "start": 7606,
        "end": 7905
      },
      {
        "start": 7909,
        "end": 8233
      },
      {
        "start": 8237,
        "end": 8547
      },
      {
        "start": 8551,
        "end": 8602
      },
      {
        "start": 8606,
        "end": 8665
      },
      {
        "start": 8669,
        "end": 8708
      },
      {
        "start": 8877,
        "end": 8897
      },
      {
        "start": 8902,
        "end": 8953
      },
      {
        "start": 8981,
        "end": 9001
      },
      {
        "start": 9006,
        "end": 9097
      },
      {
        "start": 9105,
        "end": 9148
      },
      {
        "start": 9156,
        "end": 9221
      },
      {
        "start": 9229,
        "end": 9273
      },
      {
        "start": 9281,
        "end": 9324
      },
      {
        "start": 9332,
        "end": 9408
      },
      {
        "start": 9442,
        "end": 9461
      },
      {
        "start": 9466,
        "end": 9668
      },
      {
        "start": 9676,
        "end": 9790
      },
      {
        "start": 9798,
        "end": 9891
      },
      {
        "start": 9899,
        "end": 10091
      },
      {
        "start": 10099,
        "end": 10230
      },
      {
        "start": 10238,
        "end": 10291
      },
      {
        "start": 10325,
        "end": 10344
      },
      {
        "start": 10349,
        "end": 10461
      },
      {
        "start": 10469,
        "end": 10522
      },
      {
        "start": 10530,
        "end": 10580
      },
      {
        "start": 10588,
        "end": 10685
      },
      {
        "start": 10693,
        "end": 10825
      },
      {
        "start": 10833,
        "end": 10891
      },
      {
        "start": 10899,
        "end": 10951
      }
    ],
    "text": "/* ============================================\r\n   FILTER BAR STANDALONE\r\n   Isolated, clean implementation without dependencies\r\n   ============================================ */\r\n\r\n/* Main Container */\r\n.filter-bar-enhanced {\r\n  position: relative;\r\n  top: 0;\r\n  z-index: var(--z-filter-bar);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  align-content: center;\r\n  padding: 8px 16px;\r\n  /* Background, backdrop-filter, box-shadow, and border controlled by transparency-manager.css */\r\n  border-radius: 16px;\r\n  margin: 0 16px 12px 16px;\r\n  height: auto;\r\n  min-height: 44px;\r\n  box-sizing: border-box;\r\n  overflow: visible;\r\n}\r\n\r\n/* Dark Theme - All styling controlled by transparency-manager.css */\r\n/* Do NOT add any background, shadow, or border styles here to maintain consistency with header */\r\n\r\n/* Sections - Remove grouping behavior */\r\n.filter-section,\r\n.filter-primary,\r\n.filter-controls,\r\n.filter-theme {\r\n  display: contents; /* Remove these containers from the layout flow */\r\n}\r\n\r\n/* Divider */\r\n.filter-divider {\r\n  width: 1px;\r\n  height: 20px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  margin: 0 4px;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-divider {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* Filter Group */\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 8px;\r\n  align-items: center;\r\n  min-width: auto;\r\n  flex-shrink: 1;\r\n}\r\n\r\n/* Label */\r\n.filter-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.3px;\r\n  color: rgba(0, 0, 0, 0.6);\r\n  line-height: 1;\r\n  white-space: nowrap;\r\n  flex-shrink: 0;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-label {\r\n  color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\n.filter-icon {\r\n  display: none; /* Ocultar emojis de t√≠tulos de filtros */\r\n}\r\n\r\n.filter-text {\r\n  line-height: 1;\r\n}\r\n\r\n/* Input Wrapper */\r\n.filter-input-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 36px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border: 1px solid rgba(0, 0, 0, 0.08);\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  transition: all 0.2s ease;\r\n  box-shadow: \r\n    0 2px 8px rgba(0, 0, 0, 0.04),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-input-wrapper {\r\n  background: rgba(40, 40, 50, 0.6);\r\n  border-color: rgba(255, 255, 255, 0.1);\r\n  box-shadow: \r\n    0 2px 8px rgba(0, 0, 0, 0.2),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.filter-input-wrapper:hover {\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n  box-shadow: \r\n    0 4px 12px rgba(59, 130, 246, 0.08),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-input-wrapper:hover {\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  box-shadow: \r\n    0 4px 12px rgba(59, 130, 246, 0.15),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.filter-input-wrapper:focus-within {\r\n  border-color: rgba(59, 130, 246, 0.5);\r\n  box-shadow: \r\n    0 0 0 3px rgba(59, 130, 246, 0.1),\r\n    0 4px 12px rgba(59, 130, 246, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/* Select */\r\n.filter-select {\r\n  flex: 1;\r\n  appearance: none;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  padding: 0 32px 0 12px;\r\n  height: 100%;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: rgba(0, 0, 0, 0.9);\r\n  background: transparent;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n  font-family: inherit;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-select {\r\n  color: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n.filter-select:hover {\r\n  color: rgba(59, 130, 246, 1);\r\n}\r\n\r\n.filter-select option {\r\n  background: rgba(255, 255, 255, 1);\r\n  color: rgba(0, 0, 0, 0.9);\r\n  padding: 8px;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-select option {\r\n  background: rgba(30, 30, 40, 1);\r\n  color: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n/* Dropdown Icon */\r\n.filter-dropdown-icon {\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 10px;\r\n  color: rgba(0, 0, 0, 0.4);\r\n  pointer-events: none;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-dropdown-icon {\r\n  color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.filter-input-wrapper:hover .filter-dropdown-icon {\r\n  color: rgba(59, 130, 246, 1);\r\n  transform: translateY(-50%);\r\n}\r\n\r\n/* Action Button */\r\n.filter-with-action {\r\n  padding-right: 0;\r\n}\r\n\r\n.filter-with-action .filter-select {\r\n  padding-right: 48px;\r\n}\r\n\r\n.filter-with-action .filter-dropdown-icon {\r\n  right: 44px;\r\n}\r\n\r\n.filter-action-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 48px;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));\r\n  border: none;\r\n  border-left: 1px solid rgba(0, 0, 0, 0.06);\r\n  color: rgba(59, 130, 246, 1);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n[data-theme=\"dark\"] .filter-action-btn {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(147, 51, 234, 0.15));\r\n  border-left-color: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.filter-action-btn:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 51, 234, 0.2));\r\n  transform: scale(1.05);\r\n}\r\n\r\n.filter-action-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.filter-action-btn svg {\r\n  width: 20px;\r\n  height: 20px;\r\n  opacity: 0.8;\r\n  transition: opacity 0.2s ease;\r\n}\r\n\r\n.filter-action-btn:hover svg {\r\n  opacity: 1;\r\n}\r\n\r\n/* View Toggle */\r\n.view-toggle-enhanced {\r\n  display: flex;\r\n  align-items: center;\r\n  background: rgba(0, 0, 0, 0.04);\r\n  border-radius: 8px;\r\n  padding: 3px;\r\n  gap: 3px;\r\n  height: 36px;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n[data-theme=\"dark\"] .view-toggle-enhanced {\r\n  background: rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.view-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  padding: 0 16px;\r\n  height: 30px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: rgba(0, 0, 0, 0.6);\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n}\r\n\r\n[data-theme=\"dark\"] .view-btn {\r\n  color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\n.view-btn:hover {\r\n  color: rgba(0, 0, 0, 0.9);\r\n  background: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n[data-theme=\"dark\"] .view-btn:hover {\r\n  color: rgba(255, 255, 255, 0.9);\r\n  background: rgba(255, 255, 255, 0.08);\r\n}\r\n\r\n.view-btn.active {\r\n  color: rgba(59, 130, 246, 1);\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: \r\n    0 2px 8px rgba(59, 130, 246, 0.15),\r\n    0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n[data-theme=\"dark\"] .view-btn.active {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  color: rgba(147, 197, 253, 1);\r\n  box-shadow: \r\n    0 2px 8px rgba(59, 130, 246, 0.3),\r\n    0 1px 3px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.view-icon {\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n\r\n.view-text {\r\n  line-height: 1;\r\n}\r\n\r\n/* Theme Controls */\r\n.theme-controls {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.theme-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: rgba(0, 0, 0, 0.7);\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));\r\n  border: 1px solid rgba(0, 0, 0, 0.08);\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n  box-shadow: \r\n    0 2px 8px rgba(0, 0, 0, 0.04),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n[data-theme=\"dark\"] .theme-btn {\r\n  color: rgba(255, 255, 255, 0.8);\r\n  background: linear-gradient(135deg, rgba(40, 40, 50, 0.8), rgba(30, 30, 40, 0.6));\r\n  border-color: rgba(255, 255, 255, 0.1);\r\n  box-shadow: \r\n    0 2px 8px rgba(0, 0, 0, 0.2),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.theme-btn:hover {\r\n  color: rgba(59, 130, 246, 1);\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.95));\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n  box-shadow: \r\n    0 4px 12px rgba(59, 130, 246, 0.15),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.8);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n[data-theme=\"dark\"] .theme-btn:hover {\r\n  color: rgba(147, 197, 253, 1);\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(40, 40, 50, 0.8));\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  box-shadow: \r\n    0 4px 12px rgba(59, 130, 246, 0.25),\r\n    inset 0 1px 2px rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.theme-btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.theme-btn-icon {\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n\r\n.theme-btn-text {\r\n  line-height: 1;\r\n}\r\n\r\n/* ============================================\r\n   RESPONSIVE DESIGN\r\n   ============================================ */\r\n\r\n/* Desktop (Keep single row) */\r\n@media (min-width: 1025px) {\r\n  .filter-bar-enhanced {\r\n    flex-wrap: nowrap;\r\n  }\r\n}\r\n\r\n/* Tablet */\r\n@media (max-width: 1024px) {\r\n  .filter-bar-enhanced {\r\n    padding: 10px 16px;\r\n    flex-wrap: nowrap;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .filter-section {\r\n    flex: 0 1 auto;\r\n  }\r\n  \r\n  .filter-primary {\r\n    flex: 0 1 auto;\r\n    min-width: auto;\r\n  }\r\n  \r\n  .filter-controls {\r\n    flex: 0 1 auto;\r\n  }\r\n  \r\n  .filter-group {\r\n    min-width: 140px;\r\n  }\r\n  \r\n  .filter-select {\r\n    font-size: 12px;\r\n    padding: 8px 28px 8px 10px;\r\n  }\r\n}\r\n\r\n/* Mobile Large */\r\n@media (max-width: 768px) {\r\n  .filter-bar-enhanced {\r\n    margin: 8px !important;\r\n    padding: 10px !important;\r\n    flex-direction: row !important;\r\n    flex-wrap: wrap !important;\r\n    justify-content: flex-start !important;\r\n  }\r\n  \r\n  .filter-primary {\r\n    flex: 1 1 100% !important;\r\n    gap: 10px !important;\r\n    flex-wrap: wrap !important;\r\n  }\r\n  \r\n  .filter-group {\r\n    min-width: 0 !important;\r\n    flex: 1 1 calc(50% - 5px) !important;\r\n  }\r\n  \r\n  .filter-controls {\r\n    flex: 1 1 100% !important;\r\n    flex-wrap: wrap !important;\r\n    gap: 8px !important;\r\n    justify-content: flex-start !important;\r\n    margin-top: 4px !important;\r\n  }\r\n  \r\n  .view-btn,\r\n  .theme-btn {\r\n    flex: 0 1 auto !important;\r\n    padding: 7px 11px !important;\r\n    font-size: 12px !important;\r\n  }\r\n  \r\n  .filter-divider {\r\n    display: none !important;\r\n  }\r\n}\r\n\r\n/* Mobile Small */\r\n@media (max-width: 480px) {\r\n  .filter-bar-enhanced {\r\n    padding: 8px !important;\r\n    gap: 6px !important;\r\n    margin: 6px !important;\r\n  }\r\n  \r\n  .filter-label {\r\n    font-size: 10px !important;\r\n  }\r\n  \r\n  .filter-text {\r\n    display: none !important;\r\n  }\r\n  \r\n  .filter-select {\r\n    font-size: 11px !important;\r\n    padding: 5px 28px 5px 8px !important;\r\n  }\r\n  \r\n  .view-btn,\r\n  .theme-btn {\r\n    padding: 5px 10px !important;\r\n    font-size: 11px !important;\r\n    min-width: 40px !important;\r\n  }\r\n  \r\n  .view-btn .view-text {\r\n    display: none !important;\r\n  }\r\n  \r\n  .filter-group {\r\n    flex: 1 1 100% !important;\r\n  }\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/components/font-preset-selector.css",
    "ranges": [
      {
        "start": 202,
        "end": 418
      },
      {
        "start": 422,
        "end": 560
      },
      {
        "start": 564,
        "end": 724
      },
      {
        "start": 769,
        "end": 892
      },
      {
        "start": 917,
        "end": 1087
      },
      {
        "start": 1091,
        "end": 1189
      },
      {
        "start": 1193,
        "end": 1275
      },
      {
        "start": 1279,
        "end": 1364
      },
      {
        "start": 1368,
        "end": 1454
      },
      {
        "start": 1485,
        "end": 1587
      },
      {
        "start": 1591,
        "end": 1671
      },
      {
        "start": 1675,
        "end": 1768
      },
      {
        "start": 1842,
        "end": 2009
      },
      {
        "start": 2013,
        "end": 2432
      },
      {
        "start": 2436,
        "end": 2620
      },
      {
        "start": 2624,
        "end": 2776
      },
      {
        "start": 2780,
        "end": 2950
      },
      {
        "start": 3017,
        "end": 3150
      },
      {
        "start": 4226,
        "end": 4419
      },
      {
        "start": 5997,
        "end": 6077
      },
      {
        "start": 6295,
        "end": 6522
      },
      {
        "start": 8415,
        "end": 8499
      },
      {
        "start": 8503,
        "end": 8634
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Font Preset Selector Styles\r\n * Estilos para el selector de familias de fuentes en configuraci√≥n\r\n */\r\n\r\n/* ==================== SETTINGS MODAL INTEGRATION ==================== */\r\n.font-customization-section {\r\n  margin: 1.5rem 0;\r\n  padding: 1rem;\r\n  background: rgba(var(--color-background-secondary-rgb), 0.3);\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(var(--color-border-rgb), 0.2);\r\n}\r\n\r\n.font-customization-section h4 {\r\n  margin: 0 0 0.5rem 0;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.font-customization-section .section-description {\r\n  margin: 0 0 1rem 0;\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.4;\r\n}\r\n\r\n/* Compact layout for settings modal */\r\n.settings-panel .font-preset-selector {\r\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n  gap: 0.75rem;\r\n}\r\n\r\n/* Preset badges */\r\n.preset-badge {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.05em;\r\n}\r\n\r\n.preset-badge.default {\r\n  background: var(--glass-bg-primary);\r\n  color: var(--color-primary);\r\n}\r\n\r\n.preset-badge.tech {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  color: #3b82f6;\r\n}\r\n\r\n.preset-badge.premium {\r\n  background: rgba(168, 85, 247, 0.2);\r\n  color: #a855f7;\r\n}\r\n\r\n.preset-badge.creative {\r\n  background: rgba(236, 72, 153, 0.2);\r\n  color: #ec4899;\r\n}\r\n\r\n/* Font display styles */\r\n.preset-fonts {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.preset-fonts .font-ui {\r\n  font-weight: 500;\r\n  color: var(--color-primary);\r\n}\r\n\r\n.preset-fonts .font-content {\r\n  font-style: italic;\r\n  color: var(--color-text-tertiary);\r\n}\r\n\r\n/* ==================== FONT PRESET SELECTOR ==================== */\r\n.font-preset-selector {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  gap: var(--spacing-md);\r\n  margin: var(--spacing-lg) 0;\r\n}\r\n\r\n.font-preset-option {\r\n  position: relative;\r\n  padding: var(--spacing-lg);\r\n  border: 2px solid var(--glass-border-light);\r\n  border-radius: var(--border-radius-lg);\r\n  background: var(--glass-bg-secondary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  cursor: pointer;\r\n  transition: all var(--transition-normal) var(--transition-cubic);\r\n  overflow: hidden;\r\n}\r\n\r\n.font-preset-option:hover {\r\n  border-color: var(--primary-color);\r\n  background: var(--glass-bg-primary);\r\n  box-shadow: var(--glass-shadow-medium);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.font-preset-option.active {\r\n  border-color: var(--primary-color);\r\n  background: var(--glass-bg-primary);\r\n  box-shadow: var(--glass-shadow-heavy);\r\n}\r\n\r\n.font-preset-option.active::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 3px;\r\n  background: var(--primary-gradient);\r\n}\r\n\r\n/* ==================== PRESET HEADER ==================== */\r\n.preset-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.preset-name {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-lg);\r\n  font-weight: var(--weight-semibold);\r\n  margin: 0;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.preset-category {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-bold);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n  padding: 2px 6px;\r\n  border-radius: var(--border-radius-sm);\r\n}\r\n\r\n.preset-category.badge-professional {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  color: #3b82f6;\r\n  border: 1px solid rgba(59, 130, 246, 0.2);\r\n}\r\n\r\n.preset-category.badge-modern {\r\n  background: rgba(16, 185, 129, 0.1);\r\n  color: #10b981;\r\n  border: 1px solid rgba(16, 185, 129, 0.2);\r\n}\r\n\r\n.preset-category.badge-executive {\r\n  background: rgba(139, 92, 246, 0.1);\r\n  color: #8b5cf6;\r\n  border: 1px solid rgba(139, 92, 246, 0.2);\r\n}\r\n\r\n.preset-category.badge-creative {\r\n  background: rgba(244, 63, 94, 0.1);\r\n  color: #f43f5e;\r\n  border: 1px solid rgba(244, 63, 94, 0.2);\r\n}\r\n\r\n/* ==================== PRESET DESCRIPTION ==================== */\r\n.preset-description {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-sm);\r\n  color: var(--text-secondary);\r\n  margin: var(--spacing-sm) 0;\r\n  line-height: var(--leading-relaxed);\r\n}\r\n\r\n/* ==================== FONT PREVIEW ==================== */\r\n.preset-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-xs);\r\n  margin: var(--spacing-md) 0;\r\n  padding: var(--spacing-sm);\r\n  background: rgba(0, 0, 0, 0.02);\r\n  border-radius: var(--border-radius-sm);\r\n  border: 1px solid rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* Dark theme adjustments */\r\nbody.theme-dark .preset-preview {\r\n  background: rgba(255, 255, 255, 0.02);\r\n  border-color: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.preset-preview span {\r\n  display: block;\r\n  font-size: var(--text-sm);\r\n  padding: 2px 0;\r\n  position: relative;\r\n}\r\n\r\n.preset-preview span::before {\r\n  content: attr(class);\r\n  font-size: var(--text-xs);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.05em;\r\n  color: var(--text-muted);\r\n  font-weight: var(--weight-medium);\r\n  font-family: var(--font-interface);\r\n  margin-right: var(--spacing-sm);\r\n  min-width: 60px;\r\n  display: inline-block;\r\n}\r\n\r\n.preview-ui::before { content: \"UI: \"; }\r\n.preview-content::before { content: \"Content: \"; }\r\n.preview-display::before { content: \"Display: \"; }\r\n\r\n/* ==================== ACTIVE INDICATOR ==================== */\r\n.preset-active-indicator {\r\n  position: absolute;\r\n  top: var(--spacing-sm);\r\n  right: var(--spacing-sm);\r\n  background: var(--success-color);\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: var(--border-radius-sm);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-bold);\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* ==================== SETTINGS INTEGRATION ==================== */\r\n.settings-panel .font-customization-section {\r\n  margin: var(--spacing-xl) 0;\r\n}\r\n\r\n.font-customization-section h3 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-xl);\r\n  font-weight: var(--weight-semibold);\r\n  margin-bottom: var(--spacing-md);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.font-customization-section .section-description {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-sm);\r\n  color: var(--text-secondary);\r\n  margin-bottom: var(--spacing-lg);\r\n  line-height: var(--leading-relaxed);\r\n}\r\n\r\n/* ==================== PREVIEW ANIMATIONS ==================== */\r\n@keyframes fontChange {\r\n  0% { opacity: 0.7; transform: scale(0.98); }\r\n  50% { opacity: 0.9; transform: scale(1.01); }\r\n  100% { opacity: 1; transform: scale(1); }\r\n}\r\n\r\n.font-preset-option:hover .preset-preview {\r\n  animation: fontChange 0.3s ease-out;\r\n}\r\n\r\n/* ==================== RESPONSIVE DESIGN ==================== */\r\n@media (max-width: 768px) {\r\n  .font-preset-selector {\r\n    grid-template-columns: 1fr;\r\n    gap: var(--spacing-sm);\r\n  }\r\n  \r\n  .font-preset-option {\r\n    padding: var(--spacing-md);\r\n  }\r\n  \r\n  .preset-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--spacing-xs);\r\n  }\r\n  \r\n  .preset-active-indicator {\r\n    position: relative;\r\n    top: auto;\r\n    right: auto;\r\n    margin-top: var(--spacing-sm);\r\n    align-self: flex-start;\r\n  }\r\n}\r\n\r\n/* ==================== ACCESSIBILITY ==================== */\r\n.font-preset-option:focus {\r\n  outline: 2px solid var(--primary-color);\r\n  outline-offset: 2px;\r\n}\r\n\r\n.font-preset-option[aria-selected=\"true\"] {\r\n  border-color: var(--primary-color);\r\n  background: var(--glass-bg-primary);\r\n}\r\n\r\n/* ==================== LOADING STATES ==================== */\r\n.font-preset-selector.loading {\r\n  opacity: 0.6;\r\n  pointer-events: none;\r\n}\r\n\r\n.font-preset-selector.loading .font-preset-option {\r\n  background: var(--glass-bg-tertiary);\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 0.6; }\r\n  50% { opacity: 0.8; }\r\n}\r\n\r\n/* ==================== THEME VARIATIONS ==================== */\r\n/* Light theme specific adjustments */\r\nbody.theme-light .font-preset-option {\r\n  border-color: rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .font-preset-option:hover {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n/* Dark theme specific adjustments */\r\nbody.theme-dark .font-preset-option {\r\n  border-color: rgba(255, 255, 255, 0.08);\r\n}\r\n\r\nbody.theme-dark .font-preset-option:hover {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/components/header.css",
    "ranges": [
      {
        "start": 246,
        "end": 506
      },
      {
        "start": 908,
        "end": 1132
      },
      {
        "start": 1136,
        "end": 1250
      },
      {
        "start": 1254,
        "end": 1306
      },
      {
        "start": 1310,
        "end": 1403
      },
      {
        "start": 1703,
        "end": 1837
      },
      {
        "start": 2324,
        "end": 2809
      },
      {
        "start": 3024,
        "end": 3353
      },
      {
        "start": 4257,
        "end": 4319
      },
      {
        "start": 4652,
        "end": 4671
      },
      {
        "start": 4723,
        "end": 4763
      },
      {
        "start": 5096,
        "end": 5180
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Enhanced Header Components\r\n * Header mejorado con b√∫squeda, men√∫s desplegables y theme bubble\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN HEADER ==================== */\r\n/* ALL header text must be fully opaque */\r\n.main-header-pro p,\r\n.main-header-pro span,\r\n.main-header-pro a,\r\n.main-header-pro button,\r\n.header-title,\r\n.header-subtitle,\r\n.breadcrumb,\r\n.breadcrumb-item {\r\n  /* Enforce fully opaque, readable header text */\r\n  color: var(--text-primary);\r\n  opacity: 1;\r\n}\r\n\r\n/* ===== HEADER LAYOUT ===== */\r\n/* Header background and layout managed by transparency-manager.css */\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: auto;\r\n  padding: var(--spacing-md) var(--spacing-lg);\r\n  position: relative;\r\n  top: 0;\r\n  z-index: 100;\r\n  gap: var(--spacing-lg);\r\n  min-height: 44px;\r\n}\r\n\r\n/* (half-moon notch removed) */\r\n\r\n.brand-text {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  background: linear-gradient(135deg, #3b82f6 0%, #d946ef 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.header-divider-vertical {\r\n  width: 1px;\r\n  height: 32px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  margin: 0 8px;\r\n}\r\n\r\n.header-page-title {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.page-title-text {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.header-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n}\r\n\r\n.header-breadcrumb {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  overflow: hidden;\r\n  margin-left: auto;\r\n}\r\n\r\n.breadcrumb-item {\r\n  white-space: nowrap;\r\n  max-width: 80px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-size: 11px;\r\n}\r\n\r\n/* breadcrumb separator handled by templates using .breadcrumb-separator */\r\n\r\n/* header-center (templates use header-center-section) ‚Äî removed from this stylesheet */\r\n\r\n/* ===== HEADER RIGHT SECTION ===== */\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  margin-left: auto;\r\n}\r\n\r\n/* `.view-toggle`/`.btn-toggle` removed ‚Äî not used in current templates */\r\n/* header-divider removed; variants defined in other files */\r\n\r\n/* ===== ICON BUTTONS ===== */\r\n.btn-icon {\r\n  background: var(--card-bg);\r\n  border: var(--border-width) solid var(--border);\r\n  border-radius: var(--border-radius);\r\n  width: 32px;\r\n  height: 32px;\r\n  padding: 0;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all var(--transition-base) var(--transition-ease);\r\n  display: flex;\r\n  align-items: center;\r\n  /* backdrop-filter: blur(...); */\r\n  box-shadow: var(--shadow-sm);\r\n  justify-content: center;\r\n  color: var(--text-primary);\r\n  position: relative;\r\n}\r\n\r\n.btn-icon:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-color: rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n.btn-icon:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.btn-notifications {\r\n  position: relative;\r\n}\r\n\r\n.notification-badge {\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  background: #ef4444;\r\n  color: white;\r\n  font-size: 9px;\r\n  font-weight: 700;\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid rgba(26, 26, 26, 0.95);\r\n}\r\n\r\n/* Theme bubble / options removed ‚Äî templates use minimal theme icons instead */\r\n\r\n/* User menu styles removed ‚Äî header uses `header-icon-btn` / `header-account-actions` now */\r\n\r\n/* ===== ANIMATIONS ===== */\r\n@keyframes slideDownFade {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-8px);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* ===== LIGHT THEME ===== */\r\n/* Header background and borders managed by transparency-manager.css */\r\n/* `.search-bar` not present in templates; removed to keep CSS focused on actual elements */\r\n\r\nbody:not(.theme-dark) .btn-icon {\r\n  background: rgba(0, 0, 0, 0.04);\r\n  border-color: rgba(0, 0, 0, 0.1);\r\n  color: #1f2937;\r\n}\r\n\r\nbody:not(.theme-dark) .btn-icon:hover {\r\n  background: rgba(0, 0, 0, 0.08);\r\n  border-color: rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n/* Light-theme variants for removed theme/user-menu elements cleared */\r\n\r\nbody:not(.theme-dark) .breadcrumb-item {\r\n  color: #6b7280;\r\n}\r\n\r\nbody:not(.theme-dark) .header-breadcrumb {\r\n  color: #9ca3af;\r\n}\r\n\r\n/* ===== RESPONSIVE ===== */\r\n@media (max-width: 1024px) {\r\n  .header-left {\r\n    min-width: auto;\r\n  }\r\n\r\n  .header-breadcrumb {\r\n    display: none;\r\n  }\r\n\r\n  .header-center {\r\n    max-width: 300px;\r\n  }\r\n\r\n  .user-name {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-center {\r\n    display: none;\r\n  }\r\n\r\n  .header-brand {\r\n    display: none;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .btn-icon {\r\n    width: 28px;\r\n    height: 28px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  /* .view-toggle handled in other component CSS; removed from header.css */\r\n\r\n  .header-divider {\r\n    display: none;\r\n  }\r\n\r\n  /* user-dropdown / btn-user-menu removed from this stylesheet */\r\n\r\n  .notification-badge {\r\n    width: 14px;\r\n    height: 14px;\r\n    font-size: 8px;\r\n  }\r\n\r\n  /* mobile adjustments: none for notch */\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/components/issue-details-btn.css",
    "ranges": [
      {
        "start": 174,
        "end": 893
      },
      {
        "start": 897,
        "end": 1054
      },
      {
        "start": 1058,
        "end": 1155
      },
      {
        "start": 1185,
        "end": 1325
      },
      {
        "start": 1329,
        "end": 1475
      },
      {
        "start": 1521,
        "end": 1634
      },
      {
        "start": 1662,
        "end": 1750
      },
      {
        "start": 1754,
        "end": 1818
      },
      {
        "start": 1865,
        "end": 1916
      },
      {
        "start": 1941,
        "end": 2086
      },
      {
        "start": 2114,
        "end": 2187
      }
    ],
    "text": "/* =====================================================\r\n   ISSUE DETAILS BUTTON - Edge-style sidebar toggle\r\n   ===================================================== */\r\n\r\n.issue-details-btn {\r\n  /* Basic styling */\r\n  width: 32px !important;\r\n  height: 32px !important;\r\n  padding: 4px !important;\r\n  margin-left: auto !important;\r\n  \r\n  /* Appearance */\r\n  background: #3b82f6 !important;\r\n  border: 2px solid #2563eb !important;\r\n  border-radius: 8px !important;\r\n  color: white !important;\r\n  cursor: pointer !important;\r\n  \r\n  /* Layout */\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  justify-content: center !important;\r\n  \r\n  /* Ensure clickability */\r\n  pointer-events: auto !important;\r\n  z-index: 5 !important;\r\n  position: relative !important;\r\n  \r\n  /* Transition for smooth hide/show */\r\n  transition: opacity 0.15s ease, transform 0.2s ease !important;\r\n}\r\n\r\n.issue-details-btn:hover {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  transform: scale(1.05);\r\n  color: #2563eb;\r\n}\r\n\r\n.issue-details-btn:active {\r\n  transform: scale(0.95);\r\n  background: rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n/* Dark theme support */\r\nbody.theme-dark .issue-details-btn {\r\n  background: rgba(99, 102, 241, 0.1);\r\n  border-color: rgba(99, 102, 241, 0.2);\r\n  color: #a5b4fc;\r\n}\r\n\r\nbody.theme-dark .issue-details-btn:hover {\r\n  background: rgba(99, 102, 241, 0.2);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  color: #c7d2fe;\r\n}\r\n\r\n/* Integration with issue-card-header */\r\n.issue-card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* SVG icon styling */\r\n.issue-details-btn svg {\r\n  pointer-events: none;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.issue-details-btn:hover svg {\r\n  transform: translateX(1px);\r\n}\r\n\r\n/* Prevent button from being draggable */\r\n.issue-details-btn {\r\n  -webkit-user-drag: none;\r\n}\r\n\r\n/* Show on hover */\r\n.issue-card:hover .issue-details-btn {\r\n  background: rgba(59, 130, 246, 0.7) !important;\r\n  border-color: rgba(59, 130, 246, 0.9) !important;\r\n}\r\n\r\n/* Hide during drag */\r\n.issue-card.dragging .issue-details-btn {\r\n  display: none !important;\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/components/notifications.css",
    "ranges": [],
    "text": "/**\r\n * Notifications Component Styles\r\n * Toast notifications system for SPEEDYFLOW\r\n */\r\n\r\n/* Notification Container */\r\n#notification-container {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 9999;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  pointer-events: none;\r\n}\r\n\r\n/* Base Notification Styles */\r\n.notification {\r\n  padding: 12px 16px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  box-shadow: var(--shadow-md);\r\n  animation: slideIn var(--transition-slow) var(--transition-ease);\r\n  pointer-events: auto;\r\n  cursor: pointer;\r\n  border: 1px solid;\r\n  min-width: 300px;\r\n  max-width: 500px;\r\n  word-wrap: break-word;\r\n  font-family: var(--font-family);\r\n  /* backdrop-filter: blur(8px); */\r\n}\r\n\r\n/* Notification Type Colors */\r\n.notification-success {\r\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.1) 100%);\r\n  color: #059669;\r\n  border-color: rgba(16, 185, 129, 0.3);\r\n}\r\n\r\n.notification-error {\r\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(239, 68, 68, 0.1) 100%);\r\n  color: #b91c1c;\r\n  border-color: rgba(239, 68, 68, 0.3);\r\n}\r\n\r\n.notification-info {\r\n  background: linear-gradient(135deg, rgba(128, 128, 128, 0.15) 0%, rgba(128, 128, 128, 0.1) 100%);\r\n  color: #1e40af;\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.notification-warning {\r\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);\r\n  color: #b45309;\r\n  border-color: rgba(245, 158, 11, 0.3);\r\n}\r\n\r\n.notification-error {\r\n  background: rgba(59, 130, 246, 0.15);\r\n  color: #1e40af;\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.notification-info {\r\n  background: rgba(37, 99, 235, 0.15);\r\n  color: #2563eb;\r\n  border-color: rgba(37, 99, 235, 0.3);\r\n}\r\n\r\n.notification-warning {\r\n  background: rgba(234, 179, 8, 0.15);\r\n  color: #b45309;\r\n  border-color: rgba(234, 179, 8, 0.3);\r\n}\r\n\r\n/* Animation Keyframes */\r\n@keyframes slideIn {\r\n  from {\r\n    transform: translateX(400px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes slideOut {\r\n  from {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    transform: translateX(400px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n/* Notification Close Animation */\r\n.notification.closing {\r\n  animation: slideOut var(--transition-slow) var(--transition-ease);\r\n}\r\n\r\n/* ==================== NOTIFICATION ANIMATIONS ==================== */\r\n/* Slide-in animation for new notifications */\r\n@keyframes notification-slide-in {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(100px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n/* Slide-out animation for closing notifications */\r\n@keyframes notification-slide-out {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(100px);\r\n  }\r\n}\r\n\r\n/* Legacy animation names (for backward compatibility) */\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(100px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n@keyframes slideOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(100px);\r\n  }\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  #notification-container {\r\n    top: 10px;\r\n    right: 10px;\r\n    left: 10px;\r\n  }\r\n\r\n  .notification {\r\n    min-width: auto;\r\n    max-width: none;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/purple-accents.css?v=1765920148",
    "ranges": [
      {
        "start": 245,
        "end": 452
      },
      {
        "start": 582,
        "end": 687
      },
      {
        "start": 1070,
        "end": 1199
      },
      {
        "start": 1246,
        "end": 1325
      },
      {
        "start": 1327,
        "end": 1376
      },
      {
        "start": 1423,
        "end": 1530
      },
      {
        "start": 1532,
        "end": 1583
      },
      {
        "start": 1585,
        "end": 1680
      },
      {
        "start": 1682,
        "end": 1851
      },
      {
        "start": 1985,
        "end": 2094
      },
      {
        "start": 2096,
        "end": 2183
      },
      {
        "start": 2185,
        "end": 2289
      },
      {
        "start": 2291,
        "end": 2405
      },
      {
        "start": 2407,
        "end": 2554
      },
      {
        "start": 2593,
        "end": 2677
      },
      {
        "start": 2679,
        "end": 2767
      },
      {
        "start": 2806,
        "end": 2892
      },
      {
        "start": 3423,
        "end": 3509
      },
      {
        "start": 3513,
        "end": 3640
      },
      {
        "start": 3689,
        "end": 3959
      },
      {
        "start": 3961,
        "end": 4098
      },
      {
        "start": 4374,
        "end": 4644
      },
      {
        "start": 4646,
        "end": 4783
      }
    ],
    "text": "/* Purple accents for Flowing MVP UI */\r\n\r\n.purple-accent { color: #6d28d9 !important; }\r\n.purple-bg { background: linear-gradient(135deg, #6d28d9, #8b5cf6) !important; color: white !important; }\r\n\r\n/* Purple divider in footer balanced view */\r\n.footer-two-columns .columns-divider {\r\n  width: 1px;\r\n  background: linear-gradient(180deg, rgba(109,40,217,0.12), rgba(99,102,241,0.06));\r\n  border-radius: 2px;\r\n  margin: 6px 0;\r\n  align-self: stretch;\r\n}\r\n\r\n/* Section labels and icons use purple where appropriate */\r\n.section-label i.fas.fa-file-alt { color: #6d28d9 !important; }\r\n.ml-suggestions-banner .banner-icon { background: linear-gradient(135deg, #6d28d9, #8b5cf6) !important; }\r\n\r\n/* Accent buttons */\r\nbutton.purple-btn, .purple-btn { background: linear-gradient(135deg, #6d28d9, #7c3aed); color: white; border: none; }\r\n\r\n/* Make purple primary for some UI elements */\r\n.purple-primary { color: #6d28d9 !important; }\r\n\r\n/* Dark mode adjustments for purple elements */\r\nbody[data-theme=\"dark\"] .section-label i.fas.fa-file-alt { color: #c4b5fd !important; }\r\nbody[data-theme=\"dark\"] .ml-suggestions-banner .banner-icon { background: linear-gradient(135deg, #5b21b6, #7c3aed) !important; }\r\n\r\n/* Comments composer attachments style */\r\n.attachments-preview-footer a img { border: 1px solid rgba(255,255,255,0.06); }\r\n.attachments-preview-footer a { color: inherit; }\r\n\r\n/* Footer attachments preview behavior */\r\n.attachments-preview-footer { display: none; padding: 8px 0; border-top: 1px solid rgba(109,40,217,0.06); }\r\n.attachments-preview-footer.show { display: flex; }\r\n.attachments-preview-footer .attachments-list { display: flex; gap: 8px; align-items: center; }\r\n.attachments-preview-footer .attachment-item { display:inline-flex; align-items:center; gap:8px; padding:6px 8px; background: rgba(109,40,217,0.04); border-radius:6px; }\r\n.attachments-preview-footer .attachment-remove { background: transparent; border: none; cursor: pointer; color: rgba(0,0,0,0.6); }\r\n.attachments-preview-footer .attachment-item { display:flex; flex-direction:column; align-items:flex-start; }\r\n.attachments-preview-footer .attachment-thumb img { display:block; border-radius:6px; }\r\n.attachments-preview-footer .attachment-link { color: inherit; font-size: 12px; text-decoration: none; }\r\n.attachments-preview-footer .attachment-download-btn { font-size: 12px; margin-left: 6px; text-decoration: none; }\r\n.attachments-preview-footer .attachment-item .attachment-link { max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\r\n\r\n/* Inline SVG icon adjustments */\r\n.inline-icon { width: 14px; height: 14px; vertical-align: -2px; margin-right: 6px; }\r\n.attachments-preview-footer .svg-icon { display: inline-block; vertical-align: middle; }\r\n\r\n/* Description collapse/expand */\r\n.ticket-description-content { transition: max-height 260ms ease, opacity 220ms ease; }\r\n.ticket-description-content.collapsed { max-height: 0 !important; opacity: 0; overflow: hidden; padding: 0 !important; }\r\n.ticket-description-toggle { background: transparent; border: none; cursor: pointer; padding: 4px; display: inline-flex; align-items: center; justify-content: center; }\r\n.ticket-description-toggle .svg-icon { transition: transform 200ms ease; }\r\n.ticket-description-toggle.collapsed .svg-icon { transform: rotate(180deg); }\r\n\r\n/* Theme variables for card/backgrounds (used by JS-rendered inline fields) */\r\n:root {\r\n  --card-bg: #ffffff;\r\n  --card-border: #e5e7eb;\r\n  --field-text: #1f2937;\r\n}\r\n\r\n[data-theme=\"dark\"] {\r\n  --card-bg: rgba(30,41,59,0.84);\r\n  --card-border: rgba(255,255,255,0.04);\r\n  --field-text: #e5e7eb;\r\n}\r\n\r\n/* SVG assemble animation (draw + scale) */\r\n.svg-assemble .svg-icon path, .svg-assemble .svg-icon circle, .svg-assemble .svg-icon line, .svg-assemble .svg-icon polyline, .svg-assemble .svg-icon polygon {\r\n  stroke-dasharray: 1200;\r\n  stroke-dashoffset: 1200;\r\n  animation: svg-assemble-draw 700ms ease forwards;\r\n}\r\n.svg-assemble { display: inline-block; transform-origin: center; animation: svg-assemble-pop 320ms cubic-bezier(.2,.8,.2,1) 160ms both; }\r\n\r\n@keyframes svg-assemble-draw {\r\n  to { stroke-dashoffset: 0; }\r\n}\r\n@keyframes svg-assemble-pop {\r\n  0% { transform: scale(.8); opacity: 0; }\r\n  60% { transform: scale(1.05); opacity: 1; }\r\n  100% { transform: scale(1); }\r\n}\r\n\r\n/* SVG assemble animation (draw + scale) */\r\n.svg-assemble .svg-icon path, .svg-assemble .svg-icon circle, .svg-assemble .svg-icon line, .svg-assemble .svg-icon polyline, .svg-assemble .svg-icon polygon {\r\n  stroke-dasharray: 1200;\r\n  stroke-dashoffset: 1200;\r\n  animation: svg-assemble-draw 700ms ease forwards;\r\n}\r\n.svg-assemble { display: inline-block; transform-origin: center; animation: svg-assemble-pop 320ms cubic-bezier(.2,.8,.2,1) 160ms both; }\r\n\r\n@keyframes svg-assemble-draw {\r\n  to { stroke-dashoffset: 0; }\r\n}\r\n@keyframes svg-assemble-pop {\r\n  0% { transform: scale(.8); opacity: 0; }\r\n  60% { transform: scale(1.05); opacity: 1; }\r\n  100% { transform: scale(1); }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/quick-actions.css?v=1765920148",
    "ranges": [
      {
        "start": 133,
        "end": 612
      },
      {
        "start": 7590,
        "end": 7672
      },
      {
        "start": 7759,
        "end": 7839
      },
      {
        "start": 7843,
        "end": 7973
      },
      {
        "start": 12576,
        "end": 12632
      }
    ],
    "text": "/* ============================================\r\n   QUICK ACTION BUTTON BADGE\r\n   ============================================ */\r\n\r\n.quick-action-btn-badge {\r\n  position: absolute;\r\n  top: -6px;\r\n  right: -6px;\r\n  min-width: 20px;\r\n  height: 20px;\r\n  background: linear-gradient(135deg, #ef4444, #dc2626);\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 6px;\r\n  box-shadow: 0 2px 6px rgba(239, 68, 68, 0.4), 0 0 0 2px white;\r\n  animation: badgePulse 2s ease-in-out infinite;\r\n  z-index: 10;\r\n}\r\n\r\n/* Tab badge in modal tabs */\r\n.tab-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 18px;\r\n  height: 18px;\r\n  padding: 0 5px;\r\n  background: linear-gradient(135deg, #ef4444, #dc2626);\r\n  color: white;\r\n  border-radius: 9px;\r\n  font-size: 10px;\r\n  font-weight: 700;\r\n  margin-left: 6px;\r\n  box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);\r\n}\r\n\r\n/* ============================================\r\n   TRIAGE TICKETS LIST\r\n   ============================================ */\r\n\r\n.triage-tickets-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  padding: 4px;\r\n}\r\n\r\n.triage-ticket-card {\r\n  background: rgba(51, 65, 85, 0.3);\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 10px;\r\n  padding: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.triage-ticket-card:hover {\r\n  background: rgba(51, 65, 85, 0.5);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.triage-ticket-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.triage-ticket-key {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #cbd5e1;\r\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\r\n}\r\n\r\n.triage-ticket-summary {\r\n  color: #e0e7ff;\r\n  font-size: 13px;\r\n  margin-bottom: 10px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.triage-ticket-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n}\r\n\r\n.triage-ticket-assignee {\r\n  font-size: 12px;\r\n  color: #94a3b8;\r\n}\r\n\r\n.triage-action-btn {\r\n  background: linear-gradient(135deg, #6366f1, #4f46e5);\r\n  color: white;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.triage-action-btn:hover {\r\n  background: linear-gradient(135deg, #4f46e5, #4338ca);\r\n  transform: scale(1.05);\r\n}\r\n\r\n/* ============================================\r\n   FILTERS GRID\r\n   ============================================ */\r\n\r\n.filters-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.filter-preset-card {\r\n  background: rgba(51, 65, 85, 0.3);\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 10px;\r\n  padding: 16px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  text-align: center;\r\n}\r\n\r\n.filter-preset-card:hover {\r\n  background: rgba(51, 65, 85, 0.5);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.filter-preset-icon {\r\n  font-size: 32px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.filter-preset-name {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #cbd5e1;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.filter-preset-desc {\r\n  font-size: 11px;\r\n  color: #94a3b8;\r\n  line-height: 1.3;\r\n}\r\n\r\n/* ============================================\r\n   ML SUGGESTIONS LIST\r\n   ============================================ */\r\n\r\n.ml-suggestions-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  max-height: 350px;\r\n  overflow-y: auto;\r\n  padding: 4px;\r\n}\r\n\r\n.ml-suggestion-card {\r\n  background: rgba(51, 65, 85, 0.3);\r\n  border: 1px solid rgba(251, 191, 36, 0.3);\r\n  border-radius: 10px;\r\n  padding: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.ml-suggestion-card:hover {\r\n  background: rgba(51, 65, 85, 0.5);\r\n  border-color: rgba(251, 191, 36, 0.5);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.ml-missing-count {\r\n  background: rgba(251, 191, 36, 0.2);\r\n  color: #fbbf24;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n}\r\n\r\n.ml-missing-fields {\r\n  font-size: 11px;\r\n  color: #94a3b8;\r\n  margin-top: 8px;\r\n  font-style: italic;\r\n}\r\n\r\n.bg-modal-primary-btn {\r\n  background: linear-gradient(135deg, #6366f1, #4f46e5);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.bg-modal-primary-btn:hover {\r\n  background: linear-gradient(135deg, #4f46e5, #4338ca);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\r\n}\r\n\r\n/* ============================================\r\n   QUICK TRIAGE MODAL STYLES\r\n   ============================================ */\r\n\r\n.quick-triage-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 9999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.quick-triage-modal.active {\r\n  opacity: 1;\r\n}\r\n\r\n.quick-triage-overlay {\r\n  /* Common modal overlay styles - see .modal-overlay-base in common.css */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n}\r\n\r\n.quick-triage-content {\r\n  position: relative;\r\n  width: 90%;\r\n  max-width: 700px;\r\n  max-height: 80vh;\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); /* TODO: Use .shadow-modal-heavy class */\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: translateY(20px);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.quick-triage-modal.active .quick-triage-content {\r\n  transform: translateY(0);\r\n}\r\n\r\n.quick-triage-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  position: relative;\r\n}\r\n\r\n.quick-triage-header h2 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n}\r\n\r\n.quick-triage-subtitle {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n}\r\n\r\n.quick-triage-close {\r\n  position: absolute;\r\n  top: 24px;\r\n  right: 24px;\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  background: #f3f4f6;\r\n  border-radius: 8px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.quick-triage-close:hover {\r\n  background: #e5e7eb;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.quick-triage-body {\r\n  padding: 16px 24px 24px;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Triage Issue Cards */\r\n.triage-issue-card {\r\n  background: #f9fafb;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.triage-issue-card:hover {\r\n  border-color: #3b82f6;\r\n  box-shadow: var(--shadow); /* Use CSS variable instead of hardcoded value */\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.triage-issue-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.triage-issue-key {\r\n  font-weight: 700;\r\n  color: #3b82f6;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.triage-issue-key:hover {\r\n  color: #2563eb;\r\n  text-decoration: underline;\r\n}\r\n\r\n.triage-severity {\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.severity-critical {\r\n  background: rgba(220, 38, 38, 0.15);\r\n  color: #dc2626;\r\n}\r\n\r\n.severity-high {\r\n  background: rgba(249, 115, 22, 0.15);\r\n  color: #f97316;\r\n}\r\n\r\n.severity-major {\r\n  background: rgba(251, 191, 36, 0.15);\r\n  color: #f59e0b;\r\n}\r\n\r\n.severity-medium {\r\n  background: var(--glass-blue-medium); /* Use CSS variable instead of hardcoded rgba */\r\n  color: #3b82f6;\r\n}\r\n\r\n.severity-low, .severity-normal {\r\n  background: rgba(34, 197, 94, 0.15);\r\n  color: #16a34a;\r\n}\r\n\r\n.triage-age-tag {\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  background: rgba(239, 68, 68, 0.1);\r\n  color: #dc2626;\r\n  margin-left: auto;\r\n}\r\n\r\n.triage-issue-summary {\r\n  font-size: 14px;\r\n  color: #111827;\r\n  margin-bottom: 12px;\r\n  line-height: 1.4;\r\n  cursor: pointer;\r\n}\r\n\r\n.triage-issue-summary:hover {\r\n  color: #3b82f6;\r\n}\r\n\r\n.triage-issue-meta {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.triage-meta-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 8px;\r\n  background: var(--glass-blue-light); /* Use CSS variable instead of hardcoded rgba */\r\n  color: #3b82f6;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n}\r\n\r\n.triage-meta-badge.unassigned {\r\n  background: rgba(239, 68, 68, 0.1);\r\n  color: #dc2626;\r\n}\r\n\r\n.triage-issue-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.triage-btn {\r\n  padding: 8px 14px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.triage-btn-primary {\r\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\r\n  color: white;\r\n}\r\n\r\n.triage-btn-primary:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.triage-btn-secondary {\r\n  background: #f3f4f6;\r\n  color: #4b5563;\r\n}\r\n\r\n.triage-btn-secondary:hover {\r\n  background: #e5e7eb;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/* Empty State */\r\n.quick-triage-empty {\r\n  height: 400px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.quick-triage-empty-state {\r\n  text-align: center;\r\n  padding: 40px;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 64px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.quick-triage-empty-state h2 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n}\r\n\r\n.quick-triage-empty-state p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n}\r\n\r\n.empty-subtitle {\r\n  margin-top: 8px !important;\r\n  font-size: 16px !important;\r\n  color: #16a34a !important;\r\n}\r\n\r\n/* ============================================\r\n   SMART FILTERS MODAL STYLES\r\n   ============================================ */\r\n\r\n.smart-filters-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 9999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.smart-filters-modal.active {\r\n  opacity: 1;\r\n}\r\n\r\n.smart-filters-overlay {\r\n  /* Common modal overlay styles - see .modal-overlay-base in common.css */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n}\r\n\r\n.smart-filters-content {\r\n  position: relative;\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 80vh;\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); /* TODO: Use .shadow-modal-heavy class */\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: translateY(20px);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.smart-filters-modal.active .smart-filters-content {\r\n  transform: translateY(0);\r\n}\r\n\r\n.smart-filters-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  position: relative;\r\n}\r\n\r\n.smart-filters-header h2 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n}\r\n\r\n.smart-filters-subtitle {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n}\r\n\r\n.smart-filters-close {\r\n  position: absolute;\r\n  top: 24px;\r\n  right: 24px;\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  background: #f3f4f6;\r\n  border-radius: 8px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.smart-filters-close:hover {\r\n  background: #e5e7eb;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.smart-filters-body {\r\n  padding: 16px 24px 24px;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Filter Items */\r\n.smart-filter-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: #f9fafb;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  margin-bottom: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.smart-filter-item:hover {\r\n  border-color: #3b82f6;\r\n  background: #eff6ff;\r\n  transform: translateX(4px);\r\n}\r\n\r\n.filter-icon {\r\n  font-size: 32px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.filter-info {\r\n  flex: 1;\r\n}\r\n\r\n.filter-name {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.filter-description {\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n}\r\n\r\n.filter-arrow {\r\n  font-size: 18px;\r\n  color: #9ca3af;\r\n  flex-shrink: 0;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.smart-filter-item:hover .filter-arrow {\r\n  transform: translateX(4px);\r\n  color: #3b82f6;\r\n}\r\n\r\n.smart-filters-footer {\r\n  padding: 16px 24px;\r\n  border-top: 1px solid #e5e7eb;\r\n}\r\n\r\n.smart-filter-clear-btn {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #dc2626;\r\n  background: white;\r\n  color: #dc2626;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.smart-filter-clear-btn:hover {\r\n  background: #dc2626;\r\n  color: white;\r\n}\r\n\r\n/* Active Filter Badge */\r\n.smart-filter-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\r\n  color: white;\r\n  border-radius: 8px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  margin-left: 16px;\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.badge-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.badge-text {\r\n  white-space: nowrap;\r\n}\r\n\r\n.badge-clear {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: none;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  color: white;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.badge-clear:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.1);\r\n}\r\n\r\n/* Dark theme support */\r\n.dark-theme .quick-triage-content,\r\n.dark-theme .smart-filters-content {\r\n  background: #1f2937;\r\n  border: 1px solid #374151;\r\n}\r\n\r\n.dark-theme .quick-triage-header,\r\n.dark-theme .smart-filters-header,\r\n.dark-theme .smart-filters-footer {\r\n  border-color: #374151;\r\n}\r\n\r\n.dark-theme .quick-triage-header h2,\r\n.dark-theme .smart-filters-header h2,\r\n.dark-theme .quick-triage-empty-state h2 {\r\n  color: #f9fafb;\r\n}\r\n\r\n.dark-theme .triage-issue-card,\r\n.dark-theme .smart-filter-item {\r\n  background: #111827;\r\n  border-color: #374151;\r\n}\r\n\r\n.dark-theme .triage-issue-card:hover,\r\n.dark-theme .smart-filter-item:hover {\r\n  background: #1f2937;\r\n}\r\n\r\n.dark-theme .triage-issue-summary,\r\n.dark-theme .filter-name {\r\n  color: #f9fafb;\r\n}\r\n\r\n.dark-theme .quick-triage-close,\r\n.dark-theme .smart-filters-close,\r\n.dark-theme .triage-btn-secondary {\r\n  background: #374151;\r\n  color: #f9fafb;\r\n}\r\n\r\n.dark-theme .quick-triage-close:hover,\r\n.dark-theme .smart-filters-close:hover,\r\n.dark-theme .triage-btn-secondary:hover {\r\n  background: #4b5563;\r\n}\r\n\r\n.dark-theme .triage-issue-key,\r\n.dark-theme .filter-count {\r\n  color: #a5b4fc;\r\n}\r\n\r\n.dark-theme .triage-badge,\r\n.dark-theme .filter-active-badge {\r\n  background: rgba(99, 102, 241, 0.2);\r\n  color: #a5b4fc;\r\n}\r\n\r\n.dark-theme .triage-issue-assignee,\r\n.dark-theme .filter-description {\r\n  color: #9ca3af;\r\n}\r\n\r\n.dark-theme .quick-triage-subtitle {\r\n  color: #9ca3af;\r\n}\r\n\r\n.dark-theme .triage-btn-primary {\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n}\r\n\r\n.dark-theme .triage-btn-primary:hover {\r\n  background: linear-gradient(135deg, #7c3aed, #a855f7);\r\n}\r\n\r\n/* ============================================\r\n   LIGHT THEME - ML ANALYSIS\r\n   ============================================ */\r\n\r\nbody:not(.theme-dark) .ml-suggestion-card,\r\nbody.theme-light .ml-suggestion-card {\r\n  background: rgba(243, 244, 246, 0.8);\r\n  border: 1px solid rgba(251, 191, 36, 0.4);\r\n}\r\n\r\nbody:not(.theme-dark) .ml-suggestion-card:hover,\r\nbody.theme-light .ml-suggestion-card:hover {\r\n  background: rgba(243, 244, 246, 1);\r\n  border-color: rgba(251, 191, 36, 0.6);\r\n}\r\n\r\nbody:not(.theme-dark) .ml-missing-count,\r\nbody.theme-light .ml-missing-count {\r\n  background: rgba(251, 191, 36, 0.25);\r\n  color: #d97706;\r\n}\r\n\r\nbody:not(.theme-dark) .ml-missing-fields,\r\nbody.theme-light .ml-missing-fields {\r\n  color: #64748b;\r\n}\r\n\r\nbody:not(.theme-dark) .bg-modal-primary-btn,\r\nbody.theme-light .bg-modal-primary-btn {\r\n  background: linear-gradient(135deg, #6366f1, #4f46e5);\r\n  color: white;\r\n}\r\n\r\nbody:not(.theme-dark) .bg-modal-primary-btn:hover,\r\nbody.theme-light .bg-modal-primary-btn:hover {\r\n  background: linear-gradient(135deg, #4f46e5, #4338ca);\r\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/right-sidebar.css",
    "ranges": [
      {
        "start": 358,
        "end": 790
      },
      {
        "start": 794,
        "end": 948
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Right Sidebar (FlowingContext focused)\r\n * Minimal, glassmorphism-first stylesheet for the FlowingContext/FlowingContextBar.\r\n * This file intentionally keeps a compact surface and isolates legacy ticket-details\r\n * rendering to the new FlowingContext implementation.\r\n */\r\n\r\n/* Base right-sidebar container - lightweight and glassy */\r\n.right-sidebar,\r\n#rightSidebar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-width: 240px;\r\n  max-width: 480px;\r\n  box-sizing: border-box;\r\n  background: rgba(255, 255, 255, 0.55);\r\n  backdrop-filter: blur(10px) saturate(120%);\r\n  -webkit-backdrop-filter: blur(10px) saturate(120%);\r\n  border-left: 1px solid rgba(255, 255, 255, 0.12);\r\n  box-shadow: -8px 0 30px rgba(2, 6, 23, 0.06);\r\n  overflow: hidden;\r\n}\r\n\r\nbody.theme-dark .right-sidebar,\r\nbody.theme-dark #rightSidebar {\r\n  background: rgba(12, 14, 20, 0.6);\r\n  border-left-color: rgba(255, 255, 255, 0.04);\r\n}\r\n\r\n/* Compact modifier used by FlowingContext to shrink the bar */\r\n.flowing-context-sidebar,\r\n#rightSidebar.flowing-context-sidebar,\r\n.right-sidebar.flowing-context-sidebar {\r\n  width: 320px !important;\r\n  max-width: 32% !important;\r\n  min-width: 240px !important;\r\n  padding: 0;\r\n}\r\n\r\n/* Close button */\r\n.btn-close-sidebar {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  background: rgba(0, 0, 0, 0.06);\r\n  color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  z-index: 40;\r\n}\r\n\r\nbody.theme-dark .btn-close-sidebar {\r\n  background: rgba(255, 255, 255, 0.06);\r\n  color: rgba(255, 255, 255, 0.85);\r\n}\r\n\r\n/* FLOWING SUGGESTIONS HEADER */\r\n.flowing-suggestions-header {\r\n  padding: 10px 14px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.04);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.flowing-suggestions-header-inner {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n}\r\n\r\n.flowing-suggestions-title {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #0f172a;\r\n}\r\n\r\nbody.theme-dark .flowing-suggestions-title {\r\n  color: #e6f0ff;\r\n}\r\n\r\n.flowing-suggestions-context {\r\n  font-size: 12px;\r\n  color: #475569;\r\n  opacity: 0.9;\r\n}\r\n\r\nbody.theme-dark .flowing-suggestions-context {\r\n  color: rgba(255, 255, 255, 0.75);\r\n}\r\n\r\n/* Suggestions bar */\r\n.flowing-suggestions-bar {\r\n  display: flex;\r\n  gap: 10px;\r\n  padding: 10px 12px;\r\n  overflow: auto;\r\n  align-items: flex-start;\r\n}\r\n\r\n.flowing-suggestions-empty {\r\n  padding: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\nbody.theme-dark .flowing-suggestions-empty {\r\n  color: #9ca3af;\r\n}\r\n\r\n.suggestion-card {\r\n  min-width: 200px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 8px;\r\n  padding: 10px;\r\n  box-shadow: 0 6px 18px rgba(2, 6, 23, 0.04);\r\n  border: 1px solid rgba(0, 0, 0, 0.04);\r\n}\r\n\r\nbody.theme-dark .suggestion-card {\r\n  background: rgba(6, 10, 15, 0.6);\r\n  border-color: rgba(255, 255, 255, 0.04);\r\n}\r\n\r\n.suggestion-card-inner {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n.suggestion-card-title {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #0f172a;\r\n}\r\n\r\nbody.theme-dark .suggestion-card-title {\r\n  color: #e6f0ff;\r\n}\r\n\r\n.suggestion-card-priority {\r\n  font-size: 12px;\r\n  color: #475569;\r\n  opacity: 0.85;\r\n}\r\n\r\n.suggestion-card-desc {\r\n  margin-top: 8px;\r\n  font-size: 13px;\r\n  color: #374151;\r\n}\r\n\r\nbody.theme-dark .suggestion-card-desc {\r\n  color: #d1d5db;\r\n}\r\n\r\n.suggestion-card-footer {\r\n  margin-top: 10px;\r\n  text-align: right;\r\n}\r\n\r\n.flowing-exec-btn {\r\n  background: linear-gradient(90deg, #7c3aed, #06b6d4);\r\n  color: #fff;\r\n  border: none;\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n\r\n.flowing-exec-btn:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 6px 14px rgba(7, 89, 133, 0.12);\r\n}\r\n\r\n/* Results area */\r\n.flowing-suggestions-results {\r\n  padding: 12px;\r\n  overflow: auto;\r\n  height: calc(100% - 180px);\r\n}\r\n\r\n.flowing-suggestions-placeholder {\r\n  color: #6b7280;\r\n}\r\n\r\nbody.theme-dark .flowing-suggestions-placeholder {\r\n  color: #9ca3af;\r\n}\r\n\r\n.flowing-result-item {\r\n  padding: 10px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.04);\r\n}\r\n\r\nbody.theme-dark .flowing-result-item {\r\n  border-bottom-color: rgba(255, 255, 255, 0.04);\r\n}\r\n\r\n.flowing-result-item-title {\r\n  font-weight: 600;\r\n}\r\n\r\n.flowing-result-item-sim {\r\n  font-weight: 400;\r\n  color: #6b7280;\r\n}\r\n\r\n.flowing-result-item-body {\r\n  color: #111827;\r\n  margin-top: 4px;\r\n}\r\n\r\nbody.theme-dark .flowing-result-item-body {\r\n  color: #d1d5db;\r\n}\r\n\r\n.flowing-processing {\r\n  color: #374151;\r\n}\r\n\r\n.flowing-error {\r\n  color: #dc2626;\r\n  font-weight: 700;\r\n}\r\n\r\n.flowing-json {\r\n  white-space: pre-wrap;\r\n  font-size: 13px;\r\n  color: #111827;\r\n}\r\n\r\nbody.theme-dark .flowing-json {\r\n  color: #e6eef8;\r\n}\r\n\r\n/* Floating bulb button (FlowingContext namespace to avoid colliding with Flowing MVP) */\r\n.fc-toggle-btn,\r\n#fcToggleBtn {\r\n  position: fixed;\r\n  right: 20px;\r\n  top: 20px;\r\n  z-index: 12000;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n  background: linear-gradient(90deg, #7c3aed, #06b6d4);\r\n  color: white;\r\n  border: none;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n}\r\n\r\n@media (max-width:800px) {\r\n\r\n  .flowing-context-sidebar,\r\n  #rightSidebar.flowing-context-sidebar,\r\n  .right-sidebar.flowing-context-sidebar {\r\n    width: 280px;\r\n    max-width: 60%;\r\n  }\r\n\r\n  .fc-toggle-btn,\r\n  #fcToggleBtn {\r\n    right: 12px;\r\n    top: 12px;\r\n  }\r\n}\r\n\r\n/* Keep file minimal ‚Äî legacy ticket-details removed intentionally */"
  },
  {
    "url": "http://localhost:5005/static/css/components/shadows.css?v=1765920148",
    "ranges": [
      {
        "start": 203,
        "end": 1034
      },
      {
        "start": 1103,
        "end": 1329
      },
      {
        "start": 1380,
        "end": 1566
      },
      {
        "start": 1632,
        "end": 1913
      },
      {
        "start": 1957,
        "end": 2231
      },
      {
        "start": 2289,
        "end": 2469
      },
      {
        "start": 2703,
        "end": 2807
      },
      {
        "start": 2879,
        "end": 3267
      },
      {
        "start": 3502,
        "end": 3545
      },
      {
        "start": 3579,
        "end": 3773
      },
      {
        "start": 3808,
        "end": 3940
      },
      {
        "start": 3967,
        "end": 4068
      },
      {
        "start": 4110,
        "end": 4166
      },
      {
        "start": 4357,
        "end": 4502
      },
      {
        "start": 4742,
        "end": 4888
      },
      {
        "start": 4892,
        "end": 5130
      },
      {
        "start": 5179,
        "end": 5313
      },
      {
        "start": 5399,
        "end": 5626
      },
      {
        "start": 5685,
        "end": 5836
      },
      {
        "start": 5878,
        "end": 6113
      },
      {
        "start": 6157,
        "end": 6298
      },
      {
        "start": 6391,
        "end": 6558
      }
    ],
    "text": "/* Global shadows to add depth across the UI\r\n   Uses design tokens in :root (variables.css). This file provides stronger\r\n   shadows and dark-mode overrides to improve legibility in dark themes.\r\n*/\r\n\r\n:root {\r\n  /* Softer, lower-elevation shadows by default */\r\n  --shadow: 0 8px 24px rgba(2,6,23,0.10);\r\n  --shadow-md: 0 10px 30px rgba(2,6,23,0.12);\r\n  --shadow-sm: 0 4px 12px rgba(2,6,23,0.08);\r\n  --transition-base: 220ms;\r\n  --transition-fast: 120ms;\r\n  /* Typography color tokens (simplified palette for consistent UI)\r\n     --ff-text-primary: main content color\r\n     --ff-text-muted: secondary / muted text\r\n     --ff-accent: brand/accent links and highlights\r\n     --ff-accent-strong: stronger accent for titles\r\n     --ff-success/: success, danger, warning\r\n  */\r\n  --ff-text-primary: #1f2937; /* slate-800 */\r\n  --ff-text-muted: #6b7280; /* gray-500 */\r\n  --ff-accent: #6366f1; /* indigo-500 */\r\n  --ff-accent-strong: #111827; /* slate-900 */\r\n  --ff-success: #10b981;\r\n  --ff-danger: #ef4444;\r\n  --ff-warning: #f59e0b;\r\n}\r\n\r\n/* Apply shadows only to essential, small-to-medium elements */\r\n:where(.issue-card, .card, .flowing-footer, .mentions-autocomplete-dropdown, .comment) {\r\n  box-shadow: var(--shadow) !important;\r\n  transition: box-shadow var(--transition-base) ease, transform var(--transition-fast) ease;\r\n}\r\n\r\n/* Keep other large panels flat by default */\r\n:where(.panel, .panel-card, .sla-monitor-container, .ml-actions-section, .ticket-description-section, .left-column, .right-column, .comments-section) {\r\n  box-shadow: none !important;\r\n}\r\n\r\n/* Smaller elements (buttons, small cards, mention items) */\r\n:where(button, .btn, .btn-add-comment, .btn-add-comment-footer, .comment-action-btn, .comment-toolbar-btn, .mention-item, .mention-option) {\r\n  box-shadow: var(--shadow-sm) !important;\r\n  transition: box-shadow var(--transition-fast) ease, transform var(--transition-fast) ease;\r\n}\r\n\r\n/* Hover/active states for emphasis */\r\n:where(.card:hover, [class*=\"card\"]:hover, .panel:hover, .issue-card:hover, .flowing-footer:hover, .mentions-autocomplete-dropdown .mention-item:hover, button:hover, .btn:hover, .comment:hover) {\r\n  box-shadow: var(--shadow-md) !important;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n/* Focus states should also show slight elevation */\r\n:where(button:focus, .btn:focus, .mention-item:focus, .field-input:focus, textarea:focus, input:focus) {\r\n  outline: none !important;\r\n  box-shadow: var(--shadow-md) !important;\r\n}\r\n\r\n/* Make the mentions dropdown items clearly separated */\r\n.mentions-autocomplete-dropdown .mention-item {\r\n  border-radius: 6px;\r\n  margin: 6px;\r\n  padding: 6px 8px;\r\n}\r\n\r\n/* Subtle inner shadows for cards that contain images */\r\n.issue-card .card-image, .comment .comment-avatar {\r\n  box-shadow: var(--shadow-sm) inset !important;\r\n}\r\n\r\n/* Dark mode overrides: force readable backgrounds and contrast */\r\nbody[data-theme=\"dark\"] :where(.ticket-description-section, .field-input, .ml-actions-section, .comments-section, .suggestion-item, .flowing-footer, .left-column, .right-column, .panel, .panel-card, .issue-card) {\r\n  background: linear-gradient(180deg, rgba(10,12,18,0.6), rgba(8,10,14,0.6)) !important;\r\n  color: #e6eef8 !important;\r\n  border-color: rgba(255,255,255,0.04) !important;\r\n}\r\n\r\n/* Global typography color normalization\r\n   Reduce the number of distinct font colors by mapping common UI text\r\n   to a small, pleasant palette. Use !important sparingly to override\r\n   legacy inline colors where necessary.\r\n*/\r\nbody {\r\n  color: var(--ff-text-primary);\r\n}\r\n\r\n/* Muted / secondary text */\r\n.ff-text-muted,\r\n.ticket-meta,\r\n.flowing-subtitle,\r\n.flowing-label,\r\n.context-text,\r\n.comment-time,\r\n.field-label,\r\n.footer-subtext,\r\n.small-muted {\r\n  color: var(--ff-text-muted) !important;\r\n}\r\n\r\n/* Accent / links / titles */\r\na,\r\n.flowing-title-text h3,\r\n.footer-title,\r\n.ticket-key-header,\r\n.ticket-summary-header {\r\n  color: var(--ff-accent) !important;\r\n}\r\n\r\n/* Strong headings */\r\nh1,h2,h3,h4,h5,h6,\r\n.flowing-title,\r\n.footer-title {\r\n  color: var(--ff-accent-strong) !important;\r\n}\r\n\r\n/* Status colors mapped to tokens */\r\n.status-success { color: var(--ff-success) !important; }\r\n.status-danger { color: var(--ff-danger) !important; }\r\n.status-warning { color: var(--ff-warning) !important; }\r\n\r\n/* Dark theme: pick lighter palette for text while preserving tokens */\r\nbody[data-theme=\"dark\"] {\r\n  --ff-text-primary: #e6eef8;\r\n  --ff-text-muted: #cbd5e1;\r\n  --ff-accent: #8b5cf6;\r\n  --ff-accent-strong: #f8fafc;\r\n}\r\n\r\n/* Ensure Flowing MVP / ML footer and balanced view honor the typography tokens\r\n   and adapt automatically to dark mode via the variables above. This avoids\r\n   hard-coded colors in legacy CSS causing poor contrast in dark theme.\r\n*/\r\n.flowing-footer, .footer-two-columns, #balancedView {\r\n  color: var(--ff-text-primary) !important;\r\n  background-color: transparent !important;\r\n}\r\n\r\n.flowing-footer .ticket-description-content,\r\n.flowing-footer .ticket-meta,\r\n.flowing-footer .flowing-subtitle,\r\n.footer-subtext,\r\n.ticket-summary,\r\n.ticket-key,\r\n.left-column, .right-column {\r\n  color: var(--ff-text-muted) !important;\r\n}\r\n\r\n/* Links and strong titles inside footer */\r\n.flowing-footer a,\r\n.flowing-footer .footer-title,\r\n.flowing-footer .flowing-title-text h3 {\r\n  color: var(--ff-accent) !important;\r\n}\r\n\r\n/* Dark-mode specific tweaks for footer backgrounds to preserve glassmorphism */\r\nbody[data-theme=\"dark\"] .flowing-footer,\r\nbody.theme-dark .flowing-footer {\r\n  background: linear-gradient(180deg, rgba(17,24,39,0.76), rgba(12,14,18,0.72)) !important;\r\n  border-top-color: rgba(255,255,255,0.04) !important;\r\n}\r\n\r\n/* Ensure white text for small labels in dark mode */\r\nbody[data-theme=\"dark\"] .field-label, body[data-theme=\"dark\"] .comment-author, body[data-theme=\"dark\"] .comment-time {\r\n  color: #cbd5e1 !important;\r\n}\r\n\r\n/* Mentions dropdown in dark mode */\r\nbody[data-theme=\"dark\"] .mentions-autocomplete-dropdown {\r\n  background: #071022 !important;\r\n  color: #e6eef8 !important;\r\n  border: 1px solid rgba(255,255,255,0.06) !important;\r\n  box-shadow: 0 8px 24px rgba(0,0,0,0.6) !important;\r\n}\r\n\r\n/* Attachments preview in dark mode */\r\nbody[data-theme=\"dark\"] .attachments-preview, body[data-theme=\"dark\"] .attachments-preview-footer {\r\n  background: transparent !important;\r\n}\r\n\r\n/* Remove shadows for large layout panels to keep UI light and avoid heavy elevation */\r\n:where(.panel, .panel-card, .sla-monitor-container, .ml-actions-section, .ticket-description-section, .left-column, .right-column) {\r\n  box-shadow: none !important;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/sidebar-actions.css",
    "ranges": [
      {
        "start": 4630,
        "end": 4860
      },
      {
        "start": 4864,
        "end": 4965
      },
      {
        "start": 8133,
        "end": 8707
      },
      {
        "start": 8711,
        "end": 8771
      },
      {
        "start": 8775,
        "end": 8932
      },
      {
        "start": 8955,
        "end": 9009
      },
      {
        "start": 9182,
        "end": 9237
      },
      {
        "start": 9241,
        "end": 9272
      },
      {
        "start": 9276,
        "end": 9425
      },
      {
        "start": 9429,
        "end": 9516
      },
      {
        "start": 9520,
        "end": 9635
      },
      {
        "start": 9639,
        "end": 9720
      },
      {
        "start": 10066,
        "end": 10508
      },
      {
        "start": 10512,
        "end": 10553
      },
      {
        "start": 10557,
        "end": 11014
      },
      {
        "start": 11018,
        "end": 11085
      },
      {
        "start": 11089,
        "end": 11256
      },
      {
        "start": 11260,
        "end": 11447
      },
      {
        "start": 11451,
        "end": 11567
      },
      {
        "start": 11571,
        "end": 11653
      },
      {
        "start": 11657,
        "end": 11957
      },
      {
        "start": 11961,
        "end": 12077
      },
      {
        "start": 12081,
        "end": 12148
      },
      {
        "start": 12152,
        "end": 12321
      },
      {
        "start": 12325,
        "end": 12508
      },
      {
        "start": 12512,
        "end": 12591
      },
      {
        "start": 12595,
        "end": 12752
      },
      {
        "start": 12756,
        "end": 12868
      },
      {
        "start": 12953,
        "end": 13096
      },
      {
        "start": 13323,
        "end": 13360
      },
      {
        "start": 13364,
        "end": 13507
      },
      {
        "start": 13511,
        "end": 13780
      },
      {
        "start": 13784,
        "end": 13848
      },
      {
        "start": 13852,
        "end": 13971
      },
      {
        "start": 13975,
        "end": 14053
      },
      {
        "start": 14057,
        "end": 14142
      },
      {
        "start": 14146,
        "end": 14191
      },
      {
        "start": 14195,
        "end": 14233
      },
      {
        "start": 14237,
        "end": 14283
      },
      {
        "start": 14287,
        "end": 14393
      },
      {
        "start": 14397,
        "end": 14481
      },
      {
        "start": 14485,
        "end": 14670
      },
      {
        "start": 14674,
        "end": 14727
      },
      {
        "start": 14731,
        "end": 14827
      },
      {
        "start": 14831,
        "end": 14916
      },
      {
        "start": 14920,
        "end": 15014
      },
      {
        "start": 15018,
        "end": 15326
      },
      {
        "start": 15330,
        "end": 15602
      },
      {
        "start": 19337,
        "end": 19372
      },
      {
        "start": 19376,
        "end": 19417
      },
      {
        "start": 19421,
        "end": 19463
      },
      {
        "start": 19467,
        "end": 19614
      },
      {
        "start": 19618,
        "end": 19703
      },
      {
        "start": 19707,
        "end": 20069
      },
      {
        "start": 20073,
        "end": 20247
      },
      {
        "start": 20251,
        "end": 20508
      },
      {
        "start": 20512,
        "end": 20569
      },
      {
        "start": 20573,
        "end": 20680
      },
      {
        "start": 20684,
        "end": 20787
      },
      {
        "start": 20791,
        "end": 20920
      },
      {
        "start": 23806,
        "end": 24247
      },
      {
        "start": 24251,
        "end": 24468
      },
      {
        "start": 24472,
        "end": 24692
      },
      {
        "start": 24696,
        "end": 24810
      },
      {
        "start": 24814,
        "end": 24870
      },
      {
        "start": 24874,
        "end": 24989
      },
      {
        "start": 24993,
        "end": 25099
      }
    ],
    "text": "/**\r\n * SIDEBAR ACTIONS STYLES\r\n * Estilos para notificaciones, toasts y paneles de sidebar actions\r\n */\r\n\r\n/* ========================================\r\n   NOTIFICATIONS PANEL\r\n   ======================================== */\r\n\r\n.notifications-panel {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  width: 380px;\r\n  max-height: 600px;\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.95));\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.3));\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n  z-index: 9999;\r\n  display: none;\r\n  opacity: 0;\r\n  transform: translateY(-20px);\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.notifications-panel.active {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Dark theme adjustments */\r\nbody.theme-dark .notifications-panel {\r\n  background: var(--glass-bg-dark, rgba(20, 20, 30, 0.95));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n/* Notifications Header */\r\n.notifications-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px 20px;\r\n  border-bottom: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.notifications-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\nbody.theme-dark .notifications-header h3 {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.notifications-header .close-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  color: var(--text-secondary, #666);\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 28px;\r\n  height: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.notifications-header .close-btn:hover {\r\n  background: var(--hover-bg, rgba(0, 0, 0, 0.05));\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\nbody.theme-dark .notifications-header .close-btn:hover {\r\n  background: var(--hover-bg-dark, rgba(255, 255, 255, 0.1));\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n/* Notifications Body */\r\n.notifications-body {\r\n  max-height: 440px;\r\n  overflow-y: auto;\r\n  padding: 8px 0;\r\n}\r\n\r\n.notifications-body::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.notifications-body::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.notifications-body::-webkit-scrollbar-thumb {\r\n  background: var(--glass-border, rgba(0, 0, 0, 0.2));\r\n  border-radius: 3px;\r\n}\r\n\r\n.notifications-body::-webkit-scrollbar-thumb:hover {\r\n  background: var(--glass-border, rgba(0, 0, 0, 0.3));\r\n}\r\n\r\n/* Notification Item */\r\n.notification-item {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n  border-left: 3px solid transparent;\r\n}\r\n\r\n.notification-item:hover {\r\n  background: var(--hover-bg, rgba(0, 0, 0, 0.03));\r\n}\r\n\r\n.notification-item.unread {\r\n  background: var(--accent-bg, rgba(59, 130, 246, 0.05));\r\n  border-left-color: var(--accent-color, #3b82f6);\r\n}\r\n\r\nbody.theme-dark .notification-item:hover {\r\n  background: var(--hover-bg-dark, rgba(255, 255, 255, 0.05));\r\n}\r\n\r\nbody.theme-dark .notification-item.unread {\r\n  background: var(--accent-bg-dark, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\n.notification-icon {\r\n  font-size: 24px;\r\n  flex-shrink: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.05));\r\n  border-radius: 8px;\r\n}\r\n\r\nbody.theme-dark .notification-icon {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n.notification-content {\r\n  flex: 1;\r\n}\r\n\r\n.notification-content strong {\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 4px;\r\n}\r\n\r\nbody.theme-dark .notification-content strong {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.notification-content p {\r\n  font-size: 13px;\r\n  color: var(--text-secondary, #666);\r\n  margin: 0 0 4px 0;\r\n  line-height: 1.4;\r\n}\r\n\r\nbody.theme-dark .notification-content p {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.notification-content small {\r\n  font-size: 12px;\r\n  color: var(--text-tertiary, #999);\r\n}\r\n\r\nbody.theme-dark .notification-content small {\r\n  color: var(--text-tertiary-dark, #666);\r\n}\r\n\r\n/* Notification message elements */\r\n.notification-message {\r\n  font-size: 14px;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 8px;\r\n  line-height: 1.5;\r\n}\r\n\r\nbody.theme-dark .notification-message {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.notif-issue-key {\r\n  display: inline-block;\r\n  padding: 2px 6px;\r\n  background: var(--accent-bg, rgba(59, 130, 246, 0.1));\r\n  color: var(--accent-color, #3b82f6);\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n  font-size: 13px;\r\n}\r\n\r\nbody.theme-dark .notif-issue-key {\r\n  background: var(--accent-bg-dark, rgba(59, 130, 246, 0.15));\r\n}\r\n\r\n.notif-issue-summary {\r\n  font-size: 13px;\r\n  color: var(--text-secondary, #666);\r\n  margin-top: 4px;\r\n  font-style: italic;\r\n}\r\n\r\nbody.theme-dark .notif-issue-summary {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.notif-comment-preview {\r\n  padding: 8px 12px;\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.03));\r\n  border-left: 3px solid var(--accent-color, #3b82f6);\r\n  border-radius: 4px;\r\n  font-size: 13px;\r\n  color: var(--text-secondary, #666);\r\n  margin-top: 8px;\r\n  line-height: 1.4;\r\n  font-style: italic;\r\n}\r\n\r\nbody.theme-dark .notif-comment-preview {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.05));\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.notification-time {\r\n  font-size: 12px;\r\n  color: var(--text-tertiary, #999);\r\n  margin-top: 4px;\r\n}\r\n\r\nbody.theme-dark .notification-time {\r\n  color: var(--text-tertiary-dark, #666);\r\n}\r\n\r\n/* Notification actions */\r\n.notification-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n  flex-shrink: 0;\r\n  margin-left: 12px;\r\n}\r\n\r\n.notification-action-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 16px;\r\n  padding: 6px;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: all 0.2s;\r\n  opacity: 0.6;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.notification-action-btn:hover {\r\n  opacity: 1;\r\n  background: var(--hover-bg, rgba(0, 0, 0, 0.05));\r\n}\r\n\r\nbody.theme-dark .notification-action-btn:hover {\r\n  background: var(--hover-bg-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n.notification-action-btn.delete:hover {\r\n  background: rgba(239, 68, 68, 0.1);\r\n  color: #ef4444;\r\n}\r\n\r\n/* Notification card layout */\r\n.notification-card {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 12px 16px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  border-left: 3px solid transparent;\r\n  border-radius: 4px;\r\n  margin: 4px 8px;\r\n}\r\n\r\n.notification-card:hover {\r\n  background: var(--hover-bg, rgba(0, 0, 0, 0.03));\r\n}\r\n\r\n.notification-card.unread {\r\n  background: var(--accent-bg, rgba(59, 130, 246, 0.05));\r\n  border-left-color: var(--accent-color, #3b82f6);\r\n}\r\n\r\n.notification-card.read {\r\n  opacity: 0.7;\r\n}\r\n\r\nbody.theme-dark .notification-card:hover {\r\n  background: var(--hover-bg-dark, rgba(255, 255, 255, 0.05));\r\n}\r\n\r\nbody.theme-dark .notification-card.unread {\r\n  background: var(--accent-bg-dark, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\n/* Notifications Footer */\r\n.notifications-footer {\r\n  display: flex;\r\n  gap: 8px;\r\n  padding: 12px 20px;\r\n  border-top: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.notifications-footer .btn-text {\r\n  flex: 1;\r\n  background: none;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--accent-color, #3b82f6);\r\n  cursor: pointer;\r\n  border-radius: 6px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.notifications-footer .btn-text:hover {\r\n  background: var(--accent-bg, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\nbody.theme-dark .notifications-footer .btn-text:hover {\r\n  background: var(--accent-bg-dark, rgba(59, 130, 246, 0.15));\r\n}\r\n\r\n/* ========================================\r\n   TOAST NOTIFICATIONS\r\n   ======================================== */\r\n\r\n.toast {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  min-width: 300px;\r\n  max-width: 400px;\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.95));\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.3));\r\n  border-radius: 10px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\r\n  padding: 16px;\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: flex-start;\r\n  z-index: 10000;\r\n  opacity: 0;\r\n  transform: translateX(100%);\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.toast.show {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\nbody.theme-dark .toast {\r\n  background: var(--glass-bg-dark, rgba(20, 20, 30, 0.95));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n/* Toast Types */\r\n.toast-success {\r\n  border-left: 3px solid #10b981;\r\n}\r\n\r\n.toast-error {\r\n  border-left: 3px solid #ef4444;\r\n}\r\n\r\n.toast-warning {\r\n  border-left: 3px solid #f59e0b;\r\n}\r\n\r\n.toast-info {\r\n  border-left: 3px solid #3b82f6;\r\n}\r\n\r\n.toast-icon {\r\n  font-size: 24px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.toast-content {\r\n  flex: 1;\r\n}\r\n\r\n.toast-content strong {\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 4px;\r\n}\r\n\r\nbody.theme-dark .toast-content strong {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.toast-content p {\r\n  font-size: 13px;\r\n  color: var(--text-secondary, #666);\r\n  margin: 0;\r\n  line-height: 1.4;\r\n}\r\n\r\nbody.theme-dark .toast-content p {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n/* ========================================\r\n   SPIN ANIMATION\r\n   ======================================== */\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* ========================================\r\n   MODAL OVERLAYS\r\n   ======================================== */\r\n\r\n.modal-overlay {\r\n  /* Common modal overlay styles - see .modal-overlay-base in common.css */\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6); /* Slightly darker for consistency */\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10000;\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.modal-overlay.active {\r\n  opacity: 1;\r\n}\r\n\r\n.modal-container {\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.98));\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.3));\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); /* TODO: Use .shadow-modal-heavy class */\r\n  max-width: 90vw;\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: scale(0.9);\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.modal-overlay.active .modal-container {\r\n  transform: scale(1);\r\n}\r\n\r\nbody.theme-dark .modal-container {\r\n  background: var(--glass-bg-dark, rgba(20, 20, 30, 0.98));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n.modal-header {\r\n  padding: 24px 30px;\r\n  border-bottom: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal-header h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\nbody.theme-dark .modal-header h2 {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 32px;\r\n  color: var(--text-secondary, #666);\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 36px;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.modal-close:hover {\r\n  background: var(--hover-bg, rgba(0, 0, 0, 0.05));\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\n.modal-body {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 30px;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 20px 30px;\r\n  border-top: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.btn-primary,\r\n.btn-secondary {\r\n  padding: 10px 24px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  border: none;\r\n}\r\n\r\n.btn-primary {\r\n  background: var(--accent-color, #3b82f6);\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: var(--accent-color-hover, #2563eb);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.btn-secondary {\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.05));\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.1));\r\n}\r\n\r\nbody.theme-dark .btn-secondary {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.1));\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\nbody.theme-dark .btn-secondary:hover {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.15));\r\n}\r\n\r\n/* ========================================\r\n   SETTINGS MODAL\r\n   ======================================== */\r\n\r\n.settings-modal {\r\n  width: 800px;\r\n}\r\n\r\n.settings-tabs {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 24px;\r\n  border-bottom: 2px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.settings-tab {\r\n  padding: 12px 20px;\r\n  background: none;\r\n  border: none;\r\n  border-bottom: 2px solid transparent;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: var(--text-secondary, #666);\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  margin-bottom: -2px;\r\n}\r\n\r\n.settings-tab:hover {\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\n.settings-tab.active {\r\n  color: var(--accent-color, #3b82f6);\r\n  border-bottom-color: var(--accent-color, #3b82f6);\r\n}\r\n\r\nbody.theme-dark .settings-tab {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\nbody.theme-dark .settings-tab:hover {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.settings-content {\r\n  position: relative;\r\n}\r\n\r\n.settings-panel {\r\n  display: none;\r\n}\r\n\r\n.settings-panel.active {\r\n  display: block;\r\n}\r\n\r\n.settings-panel h3 {\r\n  margin: 0 0 20px 0;\r\n  font-size: 18px;\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\nbody.theme-dark .settings-panel h3 {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.setting-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px 0;\r\n  border-bottom: 1px solid var(--glass-border, rgba(0, 0, 0, 0.05));\r\n}\r\n\r\n.setting-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.setting-item label {\r\n  font-size: 14px;\r\n  color: var(--text-primary, #1a1a1a);\r\n  flex: 1;\r\n}\r\n\r\nbody.theme-dark .setting-item label {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.setting-item input[type=\"checkbox\"] {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.setting-item input[type=\"number\"],\r\n.setting-item select {\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.2));\r\n  border-radius: 6px;\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.5));\r\n  color: var(--text-primary, #1a1a1a);\r\n  font-size: 14px;\r\n  min-width: 200px;\r\n}\r\n\r\nbody.theme-dark .setting-item input[type=\"number\"],\r\nbody.theme-dark .setting-item select {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.05));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n/* ========================================\r\n   REPORTS MODAL\r\n   ======================================== */\r\n\r\n.reports-modal {\r\n  width: 1200px;\r\n}\r\n\r\n.reports-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n.report-card {\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.6));\r\n  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.report-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nbody.theme-dark .report-card {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.05));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\n.report-card h3 {\r\n  margin: 0 0 16px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\nbody.theme-dark .report-card h3 {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.report-value {\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 8px;\r\n}\r\n\r\nbody.theme-dark .report-value {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.report-change {\r\n  font-size: 12px;\r\n  color: var(--text-tertiary, #999);\r\n}\r\n\r\n.summary-card {\r\n  min-height: 140px;\r\n}\r\n\r\n.chart-card {\r\n  grid-column: span 2;\r\n  min-height: 300px;\r\n}\r\n\r\n.chart-card.full-width {\r\n  grid-column: span 4;\r\n}\r\n\r\n.chart-container {\r\n  margin-top: 12px;\r\n}\r\n\r\n.chart-bar {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.chart-label {\r\n  font-size: 13px;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 4px;\r\n}\r\n\r\nbody.theme-dark .chart-label {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.chart-bar-container {\r\n  height: 8px;\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.1));\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.chart-bar-fill {\r\n  height: 100%;\r\n  background: var(--accent-color, #3b82f6);\r\n  border-radius: 4px;\r\n  transition: width 0.3s;\r\n}\r\n\r\n.chart-bar-fill.priority-critical {\r\n  background: #ef4444;\r\n}\r\n\r\n.chart-bar-fill.priority-high {\r\n  background: #f59e0b;\r\n}\r\n\r\n.chart-bar-fill.priority-medium {\r\n  background: #3b82f6;\r\n}\r\n\r\n.chart-bar-fill.priority-low {\r\n  background: #10b981;\r\n}\r\n\r\n.chart-value {\r\n  font-size: 12px;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\nbody.theme-dark .chart-value {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.activity-list {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.activity-item {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.02));\r\n  transition: background 0.2s;\r\n}\r\n\r\n.activity-item:hover {\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.05));\r\n}\r\n\r\nbody.theme-dark .activity-item {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.03));\r\n}\r\n\r\nbody.theme-dark .activity-item:hover {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.06));\r\n}\r\n\r\n.activity-icon {\r\n  font-size: 24px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.activity-content {\r\n  flex: 1;\r\n}\r\n\r\n.activity-content strong {\r\n  color: var(--text-primary, #1a1a1a);\r\n  font-size: 14px;\r\n}\r\n\r\nbody.theme-dark .activity-content strong {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.activity-content p {\r\n  margin: 4px 0;\r\n  font-size: 13px;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\nbody.theme-dark .activity-content p {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.activity-content small {\r\n  font-size: 12px;\r\n  color: var(--text-tertiary, #999);\r\n}\r\n\r\n.no-data {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\n/* ========================================\r\n   SEARCH MODAL\r\n   ======================================== */\r\n\r\n.search-modal {\r\n  width: 900px;\r\n}\r\n\r\n.search-form {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.search-field {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-field label {\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 8px;\r\n}\r\n\r\nbody.theme-dark .search-field label {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.search-field input[type=\"text\"],\r\n.search-field input[type=\"date\"],\r\n.search-field select {\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.2));\r\n  border-radius: 8px;\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.5));\r\n  color: var(--text-primary, #1a1a1a);\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.search-field input:focus,\r\n.search-field select:focus {\r\n  outline: none;\r\n  border-color: var(--accent-color, #3b82f6);\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\nbody.theme-dark .search-field input,\r\nbody.theme-dark .search-field select {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.05));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.search-field select[multiple] {\r\n  min-height: 100px;\r\n}\r\n\r\n.search-row {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 16px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n  margin-top: 24px;\r\n}\r\n\r\n.search-results {\r\n  margin-top: 32px;\r\n  padding-top: 24px;\r\n  border-top: 2px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.search-results h3 {\r\n  margin: 0 0 16px 0;\r\n  font-size: 18px;\r\n  color: var(--text-primary, #1a1a1a);\r\n}\r\n\r\nbody.theme-dark .search-results h3 {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.results-list {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.result-item {\r\n  padding: 16px;\r\n  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n  border-radius: 8px;\r\n  margin-bottom: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.result-item:hover {\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.02));\r\n  border-color: var(--accent-color, #3b82f6);\r\n  transform: translateX(4px);\r\n}\r\n\r\nbody.theme-dark .result-item {\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.1));\r\n}\r\n\r\nbody.theme-dark .result-item:hover {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.05));\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.result-header strong {\r\n  font-size: 14px;\r\n  color: var(--accent-color, #3b82f6);\r\n}\r\n\r\n.result-status {\r\n  padding: 4px 12px;\r\n  background: var(--glass-bg, rgba(0, 0, 0, 0.05));\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\nbody.theme-dark .result-status {\r\n  background: var(--glass-bg-dark, rgba(255, 255, 255, 0.1));\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.result-summary {\r\n  font-size: 14px;\r\n  color: var(--text-primary, #1a1a1a);\r\n  margin-bottom: 8px;\r\n}\r\n\r\nbody.theme-dark .result-summary {\r\n  color: var(--text-primary-dark, #ffffff);\r\n}\r\n\r\n.result-meta {\r\n  display: flex;\r\n  gap: 16px;\r\n  font-size: 12px;\r\n  color: var(--text-secondary, #666);\r\n}\r\n\r\nbody.theme-dark .result-meta {\r\n  color: var(--text-secondary-dark, #999);\r\n}\r\n\r\n.no-results {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: var(--text-secondary, #666);\r\n  font-size: 14px;\r\n}\r\n\r\n/* ========================================\r\n   RESPONSIVE\r\n   ======================================== */\r\n\r\n@media (max-width: 768px) {\r\n  .notifications-panel {\r\n    right: 10px;\r\n    left: 10px;\r\n    width: auto;\r\n  }\r\n\r\n  .toast {\r\n    right: 10px;\r\n    left: 10px;\r\n    min-width: auto;\r\n  }\r\n\r\n  .modal-container {\r\n    max-width: 95vw;\r\n    max-height: 95vh;\r\n  }\r\n\r\n  .settings-modal,\r\n  .reports-modal,\r\n  .search-modal {\r\n    width: 100%;\r\n  }\r\n\r\n  .reports-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .chart-card,\r\n  .chart-card.full-width {\r\n    grid-column: span 1;\r\n  }\r\n\r\n  .search-row {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .settings-tabs {\r\n    overflow-x: auto;\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .modal-body {\r\n    padding: 20px;\r\n  }\r\n\r\n  .modal-header {\r\n    padding: 16px 20px;\r\n  }\r\n\r\n  .modal-footer {\r\n    padding: 16px 20px;\r\n  }\r\n}\r\n\r\n/* ========================================\r\n   SEARCH AUTOCOMPLETE SUGGESTIONS\r\n   ======================================== */\r\n\r\n.search-suggestions {\r\n  position: absolute;\r\n  top: calc(100% + 4px);\r\n  left: 0;\r\n  right: 0;\r\n  background: var(--glass-bg, rgba(255, 255, 255, 0.98));\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.1));\r\n  border-radius: 8px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  z-index: 10000;\r\n  display: none;\r\n}\r\n\r\nbody.theme-dark .search-suggestions {\r\n  background: var(--glass-bg-dark, rgba(20, 20, 30, 0.98));\r\n  border-color: var(--glass-border-dark, rgba(255, 255, 255, 0.15));\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.suggestion-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border-bottom: 1px solid var(--glass-border, rgba(0, 0, 0, 0.05));\r\n}\r\n\r\nbody.theme-dark .suggestion-item {\r\n  border-bottom-color: var(--glass-border-dark, rgba(255, 255, 255, 0.05));\r\n}\r\n\r\n.suggestion-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.suggestion-item:hover {\r\n  background: var(--hover-bg, rgba(59, 130, 246, 0.1));\r\n  transform: translateX(2px);\r\n}\r\n\r\nbody.theme-dark .suggestion-item:hover {\r\n  background: var(--hover-bg-dark, rgba(59, 130, 246, 0.15));\r\n}\r\n\r\n.suggestion-icon {\r\n  font-size: 16px;\r\n  flex-shrink: 0;\r\n  opacity: 0.7;\r\n}\r\n\r\n.suggestion-label {\r\n  flex: 1;\r\n  font-size: 13px;\r\n  color: var(--text-primary, #1a1a1a);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\nbody.theme-dark .suggestion-label {\r\n  color: var(--text-primary-dark, #e0e0e0);\r\n}\r\n\r\n/* Scrollbar styling for suggestions */\r\n.search-suggestions::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.search-suggestions::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.search-suggestions::-webkit-scrollbar-thumb {\r\n  background: rgba(0, 0, 0, 0.2);\r\n  border-radius: 3px;\r\n}\r\n\r\nbody.theme-dark .search-suggestions::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.search-suggestions::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\nbody.theme-dark .search-suggestions::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/sidebar-inline-editor.css",
    "ranges": [],
    "text": "/**\r\n * SIDEBAR INLINE EDITOR STYLES\r\n * Estilos para el sistema de edici√≥n inline con AI suggestions\r\n */\r\n\r\n/* AI Suggestions Button */\r\n.sidebar-ai-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.15), rgba(139,92,246,0.15));\r\n  border: 1px solid rgba(168,85,247,0.3);\r\n  border-radius: 8px;\r\n  color: #cbd5e1;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.sidebar-ai-btn:hover {\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.25), rgba(139,92,246,0.25));\r\n  border-color: rgba(168,85,247,0.5);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.sidebar-ai-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n/* AI Suggestions Banner */\r\n.ai-suggestions-banner {\r\n  animation: slideDown 0.3s ease;\r\n}\r\n\r\n.ai-suggestions-banner.success {\r\n  animation: slideDown 0.3s ease, fadeOut 0.5s ease 4.5s forwards;\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeOut {\r\n  to {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n}\r\n\r\n.btn-primary-sm {\r\n  padding: 6px 12px;\r\n  background: linear-gradient(135deg, #a855f7, #9333ea);\r\n  border: none;\r\n  border-radius: 6px;\r\n  color: white;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.btn-primary-sm:hover {\r\n  background: linear-gradient(135deg, #9333ea, #7e22ce);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(168,85,247,0.3);\r\n}\r\n\r\n/* Field with AI Suggestion */\r\n.has-ai-suggestion {\r\n  position: relative;\r\n  border: 1px solid rgba(168,85,247,0.3) !important;\r\n  border-radius: 8px;\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.05), transparent);\r\n  padding: 12px !important;\r\n  margin-bottom: 16px !important;\r\n}\r\n\r\n.has-ai-suggestion::before {\r\n  content: '‚ú®';\r\n  position: absolute;\r\n  top: -8px;\r\n  left: 12px;\r\n  background: rgba(17, 24, 39, 0.9);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n/* Inline AI Suggestion */\r\n.inline-ai-suggestion {\r\n  margin-top: 12px;\r\n  padding: 12px;\r\n  background: rgba(168,85,247,0.1);\r\n  border-left: 3px solid #a855f7;\r\n  border-radius: 8px;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n.suggestion-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.suggestion-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.suggestion-label {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #cbd5e1;\r\n}\r\n\r\n.confidence-badge {\r\n  margin-left: auto;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #fff;\r\n}\r\n\r\n.suggestion-value {\r\n  font-size: 13px;\r\n  color: #94a3b8;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.suggestion-value strong {\r\n  color: #cbd5e1;\r\n  font-weight: 600;\r\n}\r\n\r\n.suggestion-reason {\r\n  font-size: 12px;\r\n  color: #64748b;\r\n  font-style: italic;\r\n  margin-bottom: 12px;\r\n  padding-left: 8px;\r\n  border-left: 2px solid rgba(168,85,247,0.3);\r\n}\r\n\r\n.suggestion-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.btn-suggestion-apply,\r\n.btn-suggestion-dismiss {\r\n  flex: 1;\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.btn-suggestion-apply {\r\n  background: linear-gradient(135deg, #10b981, #059669);\r\n  color: white;\r\n}\r\n\r\n.btn-suggestion-apply:hover {\r\n  background: linear-gradient(135deg, #059669, #047857);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(16,185,129,0.3);\r\n}\r\n\r\n.btn-suggestion-dismiss {\r\n  background: rgba(239,68,68,0.1);\r\n  border: 1px solid rgba(239,68,68,0.3);\r\n  color: #f87171;\r\n}\r\n\r\n.btn-suggestion-dismiss:hover {\r\n  background: rgba(239,68,68,0.2);\r\n  border-color: rgba(239,68,68,0.5);\r\n}\r\n\r\n/* Field Updated Animation */\r\n.field-updated {\r\n  animation: highlight 3s ease;\r\n}\r\n\r\n@keyframes highlight {\r\n  0%, 100% {\r\n    background: transparent;\r\n  }\r\n  10% {\r\n    background: rgba(16,185,129,0.3);\r\n  }\r\n  50% {\r\n    background: rgba(16,185,129,0.2);\r\n  }\r\n}\r\n\r\n/* Dark Theme Adjustments */\r\nbody.theme-dark .sidebar-ai-btn {\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.2), rgba(139,92,246,0.2));\r\n  border-color: rgba(168,85,247,0.4);\r\n  color: #e9d5ff;\r\n}\r\n\r\nbody.theme-dark .sidebar-ai-btn:hover {\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.3), rgba(139,92,246,0.3));\r\n  border-color: rgba(168,85,247,0.6);\r\n}\r\n\r\nbody.theme-dark .has-ai-suggestion {\r\n  border-color: rgba(168,85,247,0.4) !important;\r\n  background: linear-gradient(135deg, rgba(168,85,247,0.08), transparent);\r\n}\r\n\r\nbody.theme-dark .inline-ai-suggestion {\r\n  background: rgba(168,85,247,0.15);\r\n  border-left-color: #c084fc;\r\n}\r\n\r\nbody.theme-dark .suggestion-label {\r\n  color: #e9d5ff;\r\n}\r\n\r\nbody.theme-dark .suggestion-value {\r\n  color: #cbd5e1;\r\n}\r\n\r\nbody.theme-dark .suggestion-value strong {\r\n  color: #f3e8ff;\r\n}\r\n\r\nbody.theme-dark .suggestion-reason {\r\n  color: #94a3b8;\r\n  border-left-color: rgba(168,85,247,0.4);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .sidebar-ai-btn {\r\n    font-size: 12px;\r\n    padding: 6px 12px;\r\n  }\r\n\r\n  .inline-ai-suggestion {\r\n    padding: 10px;\r\n  }\r\n\r\n  .suggestion-actions {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .btn-suggestion-apply,\r\n  .btn-suggestion-dismiss {\r\n    width: 100%;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/components/transition-fields-modal.css?v=1765920148",
    "ranges": [],
    "text": "/**\r\n * TRANSITION FIELDS MODAL\r\n * Modal para capturar campos requeridos en transiciones\r\n */\r\n\r\n.transition-fields-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 10000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.transition-fields-modal.show {\r\n  opacity: 1;\r\n  pointer-events: all;\r\n}\r\n\r\n.transition-fields-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(8px);\r\n}\r\n\r\n.transition-fields-content {\r\n  position: relative;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(40px) saturate(200%);\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 16px;\r\n  box-shadow: \r\n    0 30px 80px rgba(0, 0, 0, 0.35),\r\n    0 0 0 1px rgba(255, 255, 255, 0.6) inset;\r\n  width: 90%;\r\n  max-width: 700px;\r\n  max-height: 85vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transform: scale(0.9) translateY(-20px);\r\n  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n}\r\n\r\n.transition-fields-modal.show .transition-fields-content {\r\n  transform: scale(1) translateY(0);\r\n}\r\n\r\n/* Header */\r\n.transition-fields-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid rgba(99, 102, 241, 0.2);\r\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));\r\n}\r\n\r\n.transition-fields-header h3 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #1e293b;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.transition-fields-header p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #64748b;\r\n}\r\n\r\n/* Form */\r\n.transition-fields-form {\r\n  padding: 24px;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n.transition-field {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.transition-field:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.transition-field label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #334155;\r\n}\r\n\r\n.transition-field label .required {\r\n  color: #ef4444;\r\n  margin-left: 4px;\r\n}\r\n\r\n.transition-field input[type=\"text\"],\r\n.transition-field textarea,\r\n.transition-field select {\r\n  width: 100%;\r\n  padding: 12px 14px;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n  border: 2px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 8px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #1e293b;\r\n  transition: all 0.2s ease;\r\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\r\n}\r\n\r\n.transition-field input[type=\"text\"]:focus,\r\n.transition-field textarea:focus,\r\n.transition-field select:focus {\r\n  outline: none;\r\n  border-color: #6366f1;\r\n  background: white;\r\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.transition-field textarea {\r\n  resize: vertical;\r\n  min-height: 200px;\r\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\r\n  font-size: 13px;\r\n  line-height: 1.7;\r\n}\r\n\r\n.transition-field input::placeholder,\r\n.transition-field textarea::placeholder {\r\n  color: #94a3b8;\r\n}\r\n\r\n.field-input-container {\r\n  position: relative;\r\n}\r\n\r\n.field-hint {\r\n  margin-top: 8px;\r\n  padding: 8px 12px;\r\n  font-size: 12px;\r\n  color: #6366f1;\r\n  background: rgba(99, 102, 241, 0.05);\r\n  border-left: 3px solid #6366f1;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.field-checkbox {\r\n  margin-top: 12px;\r\n  padding: 10px 12px;\r\n  background: rgba(16, 185, 129, 0.05);\r\n  border: 1px solid rgba(16, 185, 129, 0.2);\r\n  border-radius: 6px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.field-checkbox:hover {\r\n  background: rgba(16, 185, 129, 0.08);\r\n  border-color: rgba(16, 185, 129, 0.3);\r\n}\r\n\r\n.field-checkbox label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  margin: 0 !important;\r\n  font-weight: 500 !important;\r\n  font-size: 13px !important;\r\n  color: #059669 !important;\r\n}\r\n\r\n.field-checkbox input[type=\"checkbox\"] {\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n  accent-color: #10b981;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.field-checkbox span {\r\n  user-select: none;\r\n}\r\n\r\n/* Dark theme checkbox */\r\nbody.theme-dark .field-checkbox {\r\n  background: rgba(16, 185, 129, 0.1);\r\n  border-color: rgba(16, 185, 129, 0.3);\r\n}\r\n\r\nbody.theme-dark .field-checkbox:hover {\r\n  background: rgba(16, 185, 129, 0.15);\r\n  border-color: rgba(16, 185, 129, 0.4);\r\n}\r\n\r\nbody.theme-dark .field-checkbox label {\r\n  color: #34d399 !important;\r\n}\r\n\r\n/* Actions */\r\n.transition-fields-actions {\r\n  padding: 16px 24px;\r\n  border-top: 1px solid rgba(99, 102, 241, 0.2);\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n  background: rgba(248, 250, 252, 0.8);\r\n}\r\n\r\n.transition-fields-actions button {\r\n  padding: 10px 20px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-family: inherit;\r\n}\r\n\r\n.transition-fields-actions .btn-cancel {\r\n  background: rgba(148, 163, 184, 0.15);\r\n  color: #64748b;\r\n  border: 1px solid rgba(148, 163, 184, 0.3);\r\n}\r\n\r\n.transition-fields-actions .btn-cancel:hover {\r\n  background: rgba(148, 163, 184, 0.25);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.transition-fields-actions .btn-submit {\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\r\n}\r\n\r\n.transition-fields-actions .btn-submit:hover {\r\n  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.transition-fields-actions .btn-submit:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Dark theme */\r\nbody.theme-dark .transition-fields-content {\r\n  background: rgba(30, 41, 59, 0.98);\r\n  border-color: rgba(139, 92, 246, 0.3);\r\n}\r\n\r\nbody.theme-dark .transition-fields-header {\r\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(168, 85, 247, 0.15));\r\n}\r\n\r\nbody.theme-dark .transition-fields-header h3 {\r\n  color: #f1f5f9;\r\n}\r\n\r\nbody.theme-dark .transition-fields-header p {\r\n  color: #94a3b8;\r\n}\r\n\r\nbody.theme-dark .transition-field label {\r\n  color: #e2e8f0;\r\n}\r\n\r\nbody.theme-dark .transition-field input,\r\nbody.theme-dark .transition-field textarea,\r\nbody.theme-dark .transition-field select {\r\n  background: rgba(15, 23, 42, 0.6);\r\n  border-color: rgba(139, 92, 246, 0.3);\r\n  color: #f1f5f9;\r\n}\r\n\r\nbody.theme-dark .transition-field input:focus,\r\nbody.theme-dark .transition-field textarea:focus,\r\nbody.theme-dark .transition-field select:focus {\r\n  border-color: #8b5cf6;\r\n  background: rgba(15, 23, 42, 0.8);\r\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);\r\n}\r\n\r\nbody.theme-dark .transition-fields-actions {\r\n  background: rgba(15, 23, 42, 0.6);\r\n  border-color: rgba(139, 92, 246, 0.2);\r\n}\r\n\r\nbody.theme-dark .transition-fields-actions .btn-cancel {\r\n  background: rgba(71, 85, 105, 0.3);\r\n  color: #cbd5e1;\r\n  border-color: rgba(71, 85, 105, 0.5);\r\n}\r\n\r\nbody.theme-dark .transition-fields-actions .btn-cancel:hover {\r\n  background: rgba(71, 85, 105, 0.4);\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/core/animations.css",
    "ranges": [],
    "text": "/**\r\n * SPEEDYFLOW - Centralized Animations\r\n * All reusable CSS animations and keyframes\r\n * Use these instead of duplicating animations across files\r\n */\r\n\r\n/* ============================================================\r\n   SLIDE ANIMATIONS\r\n   ============================================================ */\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n@keyframes slideOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(20px);\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   FADE ANIMATIONS\r\n   ============================================================ */\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes fadeInOut {\r\n  0%, 100% {\r\n    opacity: 0;\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   PULSE ANIMATIONS\r\n   ============================================================ */\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n    opacity: 0.8;\r\n  }\r\n}\r\n\r\n@keyframes dotPulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    transform: scale(1.2);\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   LOADING ANIMATIONS\r\n   ============================================================ */\r\n\r\n@keyframes loadingProgress {\r\n  0% {\r\n    width: 0%;\r\n  }\r\n  100% {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   BOUNCE ANIMATIONS\r\n   ============================================================ */\r\n\r\n@keyframes bounce {\r\n  0%, 100% {\r\n    transform: translateY(0);\r\n  }\r\n  50% {\r\n    transform: translateY(-10px);\r\n  }\r\n}\r\n\r\n@keyframes bounceIn {\r\n  0% {\r\n    opacity: 0;\r\n    transform: scale(0.3);\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n    transform: scale(1.05);\r\n  }\r\n  70% {\r\n    transform: scale(0.9);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   SHAKE ANIMATION\r\n   ============================================================ */\r\n\r\n@keyframes shake {\r\n  0%, 100% {\r\n    transform: translateX(0);\r\n  }\r\n  10%, 30%, 50%, 70%, 90% {\r\n    transform: translateX(-5px);\r\n  }\r\n  20%, 40%, 60%, 80% {\r\n    transform: translateX(5px);\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   UTILITY CLASSES\r\n   ============================================================ */\r\n\r\n/* Apply animations via classes */\r\n.animate-slideUp {\r\n  animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.animate-slideDown {\r\n  animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.animate-slideIn {\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n.animate-fadeIn {\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n.animate-fadeOut {\r\n  animation: fadeOut 0.3s ease;\r\n}\r\n\r\n.animate-pulse {\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.animate-bounce {\r\n  animation: bounce 1s infinite;\r\n}\r\n\r\n.animate-spin {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.animate-shake {\r\n  animation: shake 0.5s;\r\n}\r\n\r\n/* Disable all animations (accessibility) */\r\n@media (prefers-reduced-motion: reduce) {\r\n  *,\r\n  *::before,\r\n  *::after {\r\n    animation-duration: 0.01ms !important;\r\n    animation-iteration-count: 1 !important;\r\n    transition-duration: 0.01ms !important;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/core/design-system.css",
    "ranges": [
      {
        "start": 0,
        "end": 1261
      },
      {
        "start": 1263,
        "end": 1450
      },
      {
        "start": 1486,
        "end": 2153
      },
      {
        "start": 9534,
        "end": 9814
      },
      {
        "start": 10783,
        "end": 10802
      },
      {
        "start": 11340,
        "end": 11406
      }
    ],
    "text": ":root {\r\n  /* Color Palette */\r\n  --color-bg-page: linear-gradient(135deg,#f7f9fc 0%, #eef1f6 100%);\r\n  --color-surface: #ffffff;\r\n  --color-surface-alt: #f4f6fa;\r\n  --color-border: #d9e2ef;\r\n  --color-border-strong: #c2cedb;\r\n  --color-shadow: rgba(17, 24, 39, 0.08);\r\n  --color-shadow-strong: rgba(17, 24, 39, 0.16);\r\n  --color-text-primary: #1f2937;\r\n  --color-text-secondary: #4b5563;\r\n  --color-text-muted: #6b7280;\r\n  --color-accent: #2563eb;\r\n  --color-accent-hover: #1d4ed8;\r\n  --color-accent-soft: #eff6ff;\r\n  --color-danger: #dc2626;\r\n  --color-warning: #f59e0b;\r\n  --color-success: #16a34a;\r\n  --color-info: #0ea5e9;\r\n  /* Spacing Scale */\r\n  --space-2: 8px;\r\n  --space-3: 12px;\r\n  --space-4: 16px;\r\n  --space-6: 24px;\r\n  /* Border Radius */\r\n  --radius-md: 8px;\r\n  --radius-lg: 14px;\r\n  --radius-pill: 999px;\r\n  /* Font & Transitions */\r\n  --font-stack: 'Inter', 'Aptos', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;\r\n  --focus-ring: 0 0 0 3px rgba(37,99,235,0.35);\r\n  --transition: 140ms cubic-bezier(.4,.2,.2,1);\r\n  /* Elevations */\r\n  --elevation-sm: 0 1px 2px var(--color-shadow);\r\n  --elevation-md: 0 2px 6px var(--color-shadow);\r\n}\r\nbody.theme-light, body.theme-dark {\r\n  font-family: var(--font-stack);\r\n  background: var(--color-bg-page);\r\n  color: var(--color-text-primary);\r\n  -webkit-font-smoothing: antialiased;\r\n}\r\n/* Dark theme token overrides */\r\nbody.theme-dark {\r\n  --color-bg-page: linear-gradient(135deg,#12141a 0%, #1e2127 100%);\r\n  --color-surface: #1e2127;\r\n  --color-surface-alt: #22262d;\r\n  --color-border: #2d323a;\r\n  --color-border-strong: #3a4049;\r\n  --color-shadow: rgba(0,0,0,0.55);\r\n  --color-shadow-strong: rgba(0,0,0,0.7);\r\n  --color-text-primary: #f1f5f9;\r\n  --color-text-secondary: #cbd5e1;\r\n  --color-text-muted: #94a3b8;\r\n  --color-accent: #3b82f6;\r\n  --color-accent-hover: #1d4ed8;\r\n  --color-accent-soft: rgba(59,130,246,0.12);\r\n  --color-danger: #f87171;\r\n  --color-warning: #fbbf24;\r\n  --color-success: #34d399;\r\n  --color-info: #0ea5e9;\r\n  --focus-ring: 0 0 0 3px rgba(59,130,246,0.5);\r\n}\r\n/* Card / surface - base styles for all card-like elements */\r\n.ds-surface,\r\n.main-header-pro {\r\n  /* Background controlled by glassmorphism-opacity-controller.js */\r\n  border: 1px solid var(--color-border);\r\n  border-radius: var(--radius-lg);\r\n  box-shadow: var(--elevation-sm);\r\n}\r\n/* Unified header */\r\n.main-header-pro {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: var(--space-4) var(--space-4);\r\n  margin: 0;\r\n  min-width: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  gap: var(--space-4);\r\n}\r\n.main-header-pro h1 {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  flex: 0 0 auto;\r\n}\r\n.header-status {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.header-status .status-text {\r\n  padding: var(--space-2) var(--space-3);\r\n  font-size: 12px;\r\n  border-radius: var(--radius-sm);\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n}\r\n/* OLD FILTER BAR STYLES - DEPRECATED - Now using filter-bar-enhanced.css\r\n.filter-bar-pro {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: var(--space-2);\r\n  padding: var(--space-3) var(--space-4) var(--space-4);\r\n  margin: 0;\r\n  flex-wrap: nowrap;\r\n  overflow-x: auto;\r\n  min-width: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n.filter-bar-pro .group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-2);\r\n  min-width: 80px;\r\n  flex: 0 0 auto;\r\n  flex-basis: auto;\r\n}\r\n.filter-bar-pro .group:has(.view-toggle-pro) {\r\n  min-width: 100px;\r\n}\r\n.filter-bar-pro .group-ux-effects {\r\n  min-width: 120px;\r\n  position: relative;\r\n}\r\n.queue-controls {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--space-2);\r\n  align-items: center;\r\n}\r\n.queue-controls select {\r\n  flex: 1;\r\n}\r\n.ux-controls {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--space-2);\r\n  align-items: center;\r\n}\r\n.btn-ux-effect {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.08) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n  padding: var(--space-2) var(--space-3);\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: var(--color-text);\r\n  white-space: nowrap;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: var(--space-1);\r\n}\r\n.btn-unified:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  color: var(--color-text);\r\n  transform: translateY(-1px);\r\n}\r\n*/ /* END DEPRECATED FILTER BAR STYLES */\r\n/* Enhanced save icon button */\r\n.btn-emoji-icon {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(22, 163, 74, 0.08) 100%);\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n  padding: var(--space-2);\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border-radius: var(--radius-sm);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 36px;\r\n  min-height: 36px;\r\n  color: rgba(34, 197, 94, 0.8);\r\n}\r\n.btn-emoji-icon:hover {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(22, 163, 74, 0.15) 100%);\r\n  border-color: rgba(34, 197, 94, 0.4);\r\n  transform: translateY(-1px) scale(1.05);\r\n  /* Blur controlled by transparency-manager.css */\r\n  /*  */\r\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);\r\n  color: rgba(34, 197, 94, 1);\r\n}\r\n.btn-emoji-icon svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  transition: all 0.2s ease;\r\n}\r\n.btn-emoji-icon:hover svg {\r\n  transform: scale(1.1);\r\n}\r\n/* ===========================================\r\n   UNIFIED BUTTON SYSTEM - All buttons and menus follow this standard\r\n   =========================================== */\r\n/* Base button class - can be applied to any button element */\r\n.btn-unified {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.08) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n  padding: var(--space-2) var(--space-3);\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: var(--color-text);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: var(--space-1);\r\n  white-space: nowrap;\r\n}\r\n.btn-unified:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  transform: translateY(-1px);\r\n}\r\n.btn-unified:active {\r\n  transform: translateY(0);\r\n}\r\n/* Success variant for save buttons */\r\n.btn-unified.btn-success {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(22, 163, 74, 0.08) 100%);\r\n  border: 1px solid rgba(34, 197, 94, 0.25);\r\n  color: rgba(34, 197, 94, 0.8);\r\n}\r\n.btn-unified.btn-success:hover {\r\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(22, 163, 74, 0.15) 100%);\r\n  border-color: rgba(34, 197, 94, 0.4);\r\n  color: rgba(34, 197, 94, 1);\r\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);\r\n}\r\n/* Theme dropdown menu */\r\n.theme-dropdown {\r\n  display: none;\r\n  position: absolute;\r\n  background: var(--color-surface);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: var(--radius-sm);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  z-index: 999999;\r\n  min-width: 140px;\r\n  margin-top: var(--space-2);\r\n}\r\n.theme-dropdown.visible {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.theme-dropdown .theme-option {\r\n  background: transparent;\r\n  border: none;\r\n  padding: var(--space-2) var(--space-3);\r\n  cursor: pointer;\r\n  text-align: left;\r\n  color: var(--color-text);\r\n  font-size: 12px;\r\n  transition: var(--transition);\r\n}\r\n.theme-dropdown .theme-option:hover {\r\n  background: var(--color-accent);\r\n  color: #fff;\r\n}\r\n/* OLD FILTER BAR STYLES - DEPRECATED - Now using filter-bar-enhanced.css\r\n.filter-bar-pro label {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  letter-spacing: .5px;\r\n  text-transform: uppercase;\r\n  color: var(--color-text-muted);\r\n}\r\n.filter-bar-pro select,\r\n.filter-bar-pro input {\r\n  width: 100%;\r\n  padding: var(--space-2) var(--space-3);\r\n  border-radius: var(--radius-md);\r\n  border: 1px solid var(--color-border-strong);\r\n  font-size: 14px;\r\n  background: var(--color-surface-alt);\r\n  transition: var(--transition);\r\n}\r\n.filter-bar-pro select:focus {\r\n  outline: none;\r\n  box-shadow: var(--focus-ring);\r\n  border-color: var(--color-accent);\r\n}\r\n.filter-bar-pro select:hover {\r\n  border-color: var(--color-accent);\r\n  background: var(--color-accent-soft);\r\n}\r\n.view-toggle-pro {\r\n  display: flex;\r\n  gap: var(--space-2);\r\n}\r\n.view-toggle-pro button {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.08) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.25);\r\n  padding: var(--space-2) var(--space-4);\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  border-radius: var(--radius-pill);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: var(--color-text);\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n.view-toggle-pro button.active,\r\n.view-toggle-pro button:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%);\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  color: var(--color-text);\r\n  transform: translateY(-1px);\r\n}\r\n*/ /* END DEPRECATED FILTER BAR STYLES */\r\n/* Board wrapper */\r\n.board-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--space-4);\r\n  margin: 0;\r\n  padding: var(--space-4) var(--space-4);\r\n  flex: 1;\r\n  min-width: 0;\r\n  min-height: 0;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n}\r\n/* Placeholder for empty states */\r\n.placeholder-pro {\r\n  background: transparent !important;\r\n  padding: var(--space-6);\r\n  text-align: center;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333333 !important;\r\n  border: none !important;\r\n  box-shadow: none !important;\r\n  z-index: 10;\r\n  position: relative;\r\n}\r\n/* Skeleton loader animation */\r\n.skeleton-line {\r\n  height: 12px;\r\n  background: var(--color-surface-alt);\r\n  border-radius: var(--radius-pill);\r\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\r\n}\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n}\r\n/* Utility classes */\r\n.mt-2 { margin-top: var(--space-2); }\r\n.mt-4 { margin-top: var(--space-4); }\r\n.mb-4 { margin-bottom: var(--space-4); }\r\n.flex { display: flex; }\r\n.space-between { justify-content: space-between; }\r\n.center { justify-content: center; align-items: center; }\r\n/* Responsive adjustments */\r\n/* Tablet and below (max-width: 768px) */\r\n@media (max-width: 768px) {\r\n  /* OLD FILTER BAR RESPONSIVE - DEPRECATED\r\n  .filter-bar-pro {\r\n    gap: var(--space-2);\r\n    padding: var(--space-2) var(--space-3) var(--space-3);\r\n    overflow-x: auto;\r\n  }\r\n  .filter-bar-pro .group {\r\n    min-width: 70px;\r\n    flex: 0 0 auto;\r\n  }\r\n  .filter-bar-pro .group:has(.view-toggle-pro) {\r\n    min-width: 85px;\r\n  }\r\n  .filter-bar-pro .group-ux-effects {\r\n    min-width: 110px;\r\n  }\r\n  .filter-bar-pro select,\r\n  .filter-bar-pro button {\r\n    font-size: 12px;\r\n    padding: var(--space-2) var(--space-3);\r\n  }\r\n  */\r\n  .board-wrapper {\r\n    padding: var(--space-3) var(--space-3);\r\n  }\r\n  .main-header-pro {\r\n    padding: var(--space-3) var(--space-3);\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: var(--space-2);\r\n  }\r\n  .main-header-pro h1 {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/core/font-glyph-adaptations.css",
    "ranges": [
      {
        "start": 4430,
        "end": 4766
      },
      {
        "start": 6053,
        "end": 6072
      },
      {
        "start": 6144,
        "end": 6203
      },
      {
        "start": 6405,
        "end": 6425
      },
      {
        "start": 6498,
        "end": 6563
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Font Glyph Adaptations\r\n * Documentaci√≥n y ajustes espec√≠ficos para combinar familias de fuentes con Aptos/Century\r\n * \r\n * METODOLOG√çA:\r\n * - Aptos como referencia base para UI (altura x, peso visual)  \r\n * - Century como referencia para contenido (legibilidad, espaciado)\r\n * - Ajustes calculados basados en caracter√≠sticas de glyph espec√≠ficas\r\n */\r\n\r\n/* ==================== GLYPH CHARACTERISTICS REFERENCE ==================== */\r\n/*\r\nAPTOS CHARACTERISTICS:\r\n- X-height: Medium-high (0.52 ratio)\r\n- Letter width: Medium\r\n- Visual weight: Medium (400-500 range feels natural)\r\n- Optimal line-height: 1.4-1.5\r\n- Natural letter-spacing: 0em to 0.01em\r\n\r\nCENTURY GOTHIC CHARACTERISTICS:\r\n- X-height: High (0.58 ratio)\r\n- Letter width: Slightly condensed\r\n- Visual weight: Medium-light \r\n- Optimal line-height: 1.5-1.6\r\n- Natural letter-spacing: 0.01em to 0.02em\r\n*/\r\n\r\n/* ==================== FAMILY-SPECIFIC ADAPTATIONS ==================== */\r\n\r\n/* SEGOE UI (Business Classic) */\r\n/* \r\nCaracter√≠sticas vs Aptos:\r\n- X-height: Ligeramente menor (0.49 vs 0.52)\r\n- Width: Similar pero m√°s consistente\r\n- Weight: Visualmente m√°s pesada\r\n- Spacing: M√°s compacta\r\n*/\r\n.font-adaptation-segoe {\r\n  --line-height-factor: 0.95; /* Compensar menor x-height */\r\n  --letter-spacing-factor: 0.005em; /* A√±adir respiro */\r\n  --weight-factor: -15; /* Reducir peso visual */\r\n}\r\n\r\n/* INTER (Modern Professional) */\r\n/*\r\nCaracter√≠sticas vs Aptos:\r\n- X-height: Ligeramente mayor (0.54 vs 0.52)\r\n- Width: M√°s amplia, especialmente en bold\r\n- Weight: M√°s ligera visualmente\r\n- Spacing: M√°s abierta\r\n*/\r\n.font-adaptation-inter {\r\n  --line-height-factor: 1.02; /* Aprovechar mayor x-height */\r\n  --letter-spacing-factor: -0.002em; /* Reducir por mayor amplitud */\r\n  --weight-factor: 10; /* Aumentar peso visual ligeramente */\r\n}\r\n\r\n/* IBM PLEX SANS (Corporate Executive) */\r\n/*\r\nCaracter√≠sticas vs Aptos:\r\n- X-height: Mayor (0.56 vs 0.52)\r\n- Width: M√°s amplia y espaciosa\r\n- Weight: M√°s ligera, especialmente en regular\r\n- Spacing: Muy abierta por dise√±o\r\n*/\r\n.font-adaptation-ibm-plex {\r\n  --line-height-factor: 1.05; /* Aprovechar x-height superior */\r\n  --letter-spacing-factor: 0.008em; /* Mantener apertura caracter√≠stica */\r\n  --weight-factor: 25; /* Compensar ligereza visual */\r\n}\r\n\r\n/* POPPINS (Creative Studio) */\r\n/*\r\nCaracter√≠sticas vs Aptos:\r\n- X-height: Significativamente mayor (0.58 vs 0.52)\r\n- Width: M√°s amplia y redondeada\r\n- Weight: M√°s ligera, formas m√°s abiertas\r\n- Spacing: Muy abierta, dise√±o geom√©trico\r\n*/\r\n.font-adaptation-poppins {\r\n  --line-height-factor: 1.08; /* X-height muy superior */\r\n  --letter-spacing-factor: 0.003em; /* Sutil respiro adicional */\r\n  --weight-factor: 35; /* Compensar ligereza considerable */\r\n}\r\n\r\n/* ==================== SERIF ADAPTATIONS (vs Century Gothic) ==================== */\r\n\r\n/* GEORGIA (Business Classic) */\r\n/*\r\nCaracter√≠sticas vs Century Gothic:\r\n- M√°s tradicional, menos geom√©trica\r\n- Mejor para texto largo\r\n- Espaciado natural m√°s generoso\r\n*/\r\n.font-adaptation-georgia {\r\n  --serif-line-height-factor: 1.0; /* Georgia ya es √≥ptima */\r\n  --serif-letter-spacing-factor: 0.005em; /* Respiro adicional sutil */\r\n}\r\n\r\n/* SOURCE SERIF PRO (Modern Professional) */\r\n/*\r\nCaracter√≠sticas vs Century Gothic:\r\n- Dise√±o m√°s t√©cnico y preciso\r\n- Mejor legibilidad en pantalla\r\n- Espaciado m√°s controlado\r\n*/\r\n.font-adaptation-source-serif {\r\n  --serif-line-height-factor: 0.98; /* Ligeramente m√°s compacta */\r\n  --serif-letter-spacing-factor: 0.002em; /* Espaciado m√≠nimo */\r\n}\r\n\r\n/* PLAYFAIR DISPLAY (Corporate Executive) */\r\n/*\r\nCaracter√≠sticas vs Century Gothic:\r\n- Mucho m√°s elegante y display-oriented\r\n- Contraste alto, necesita m√°s espacio\r\n- Mejor para t√≠tulos que cuerpo\r\n*/\r\n.font-adaptation-playfair {\r\n  --serif-line-height-factor: 1.1; /* Necesita m√°s espacio vertical */\r\n  --serif-letter-spacing-factor: 0.008em; /* Respiro generoso */\r\n}\r\n\r\n/* CRIMSON TEXT (Creative Studio) */\r\n/*\r\nCaracter√≠sticas vs Century Gothic:\r\n- M√°s org√°nica y literaria\r\n- Mejor para lectura larga\r\n- Espaciado equilibrado\r\n*/\r\n.font-adaptation-crimson {\r\n  --serif-line-height-factor: 1.03; /* Ligeramente m√°s espaciosa */\r\n  --serif-letter-spacing-factor: 0.003em; /* Espaciado sutil */\r\n}\r\n\r\n/* ==================== AUTOMATIC APPLICATION CLASSES ==================== */\r\n/* Estas clases se aplican autom√°ticamente via JavaScript */\r\n\r\n/* Cuando se usa Business Classic */\r\n.font-preset-business h1,\r\n.font-preset-business h2,\r\n.font-preset-business h3,\r\n.font-preset-business h4,\r\n.font-preset-business h5,\r\n.font-preset-business h6 {\r\n  line-height: calc(var(--combo-line-height) * 0.95);\r\n  letter-spacing: calc(var(--combo-letter-spacing) + 0.005em);\r\n  font-weight: calc(var(--combo-font-weight) - 15);\r\n}\r\n\r\n/* Cuando se usa Modern Professional */\r\n.font-preset-modern h1,\r\n.font-preset-modern h2,\r\n.font-preset-modern h3,\r\n.font-preset-modern h4,\r\n.font-preset-modern h5,\r\n.font-preset-modern h6 {\r\n  line-height: calc(var(--combo-line-height) * 1.02);\r\n  letter-spacing: calc(var(--combo-letter-spacing) - 0.002em);\r\n  font-weight: calc(var(--combo-font-weight) + 10);\r\n}\r\n\r\n/* Cuando se usa Corporate Executive */\r\n.font-preset-corporate h1,\r\n.font-preset-corporate h2,\r\n.font-preset-corporate h3,\r\n.font-preset-corporate h4,\r\n.font-preset-corporate h5,\r\n.font-preset-corporate h6 {\r\n  line-height: calc(var(--combo-line-height) * 1.05);\r\n  letter-spacing: calc(var(--combo-letter-spacing) + 0.008em);\r\n  font-weight: calc(var(--combo-font-weight) + 25);\r\n}\r\n\r\n/* Cuando se usa Creative Studio */\r\n.font-preset-creative h1,\r\n.font-preset-creative h2,\r\n.font-preset-creative h3,\r\n.font-preset-creative h4,\r\n.font-preset-creative h5,\r\n.font-preset-creative h6 {\r\n  line-height: calc(var(--combo-line-height) * 1.08);\r\n  letter-spacing: calc(var(--combo-letter-spacing) + 0.003em);\r\n  font-weight: calc(var(--combo-font-weight) + 35);\r\n}\r\n\r\n/* ==================== RESPONSIVE GLYPH ADJUSTMENTS ==================== */\r\n/* Ajustes adicionales para diferentes tama√±os de pantalla */\r\n\r\n@media (max-width: 768px) {\r\n  /* En m√≥viles, reducir compensaciones para mejor legibilidad */\r\n  .font-preset-business { --line-height-compensation: 0.97; }\r\n  .font-preset-modern { --line-height-compensation: 1.01; }\r\n  .font-preset-corporate { --line-height-compensation: 1.03; }\r\n  .font-preset-creative { --line-height-compensation: 1.05; }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  /* En pantallas grandes, aprovechar mejor las caracter√≠sticas */\r\n  .font-preset-business { --letter-spacing-compensation: 0.008em; }\r\n  .font-preset-modern { --letter-spacing-compensation: 0.001em; }\r\n  .font-preset-corporate { --letter-spacing-compensation: 0.012em; }\r\n  .font-preset-creative { --letter-spacing-compensation: 0.006em; }\r\n}\r\n\r\n/* ==================== DEBUG HELPERS ==================== */\r\n/* Clases para visualizar diferencias durante desarrollo */\r\n\r\n.debug-font-metrics::before {\r\n  content: \r\n    \"Family: \" attr(data-font-family) \r\n    \" | Line-height: \" var(--combo-line-height) \r\n    \" | Letter-spacing: \" var(--combo-letter-spacing)\r\n    \" | Weight: \" var(--combo-font-weight);\r\n  display: block;\r\n  font-size: 0.75rem;\r\n  color: #666;\r\n  font-family: monospace;\r\n  margin-bottom: 0.5rem;\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/core/font-presets.css",
    "ranges": [
      {
        "start": 240,
        "end": 1882
      },
      {
        "start": 3318,
        "end": 3834
      },
      {
        "start": 5534,
        "end": 5692
      },
      {
        "start": 5820,
        "end": 6531
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Font Family Customization System\r\n * Sistema de personalizaci√≥n de familias de fuentes\r\n * 3 opciones profesionales para diferentes contextos\r\n */\r\n\r\n/* ==================== FONT FAMILY PRESETS ==================== */\r\n:root {\r\n  /* PRESET 1: Business Classic - Familiar y profesional */\r\n  --preset-business-ui: 'Segoe UI', system-ui, -apple-system, sans-serif;\r\n  --preset-business-content: 'Georgia', 'Times New Roman', serif;\r\n  --preset-business-display: 'Segoe UI Semibold', 'Segoe UI', system-ui, sans-serif;\r\n  --preset-business-mono: 'Consolas', 'Courier New', monospace;\r\n\r\n  /* PRESET 2: Modern Professional - Tecnol√≥gico y limpio */\r\n  --preset-modern-ui: 'Inter', 'Segoe UI', system-ui, sans-serif;\r\n  --preset-modern-content: 'Source Serif Pro', 'Georgia', serif;\r\n  --preset-modern-display: 'Inter Display', 'Inter', 'Segoe UI', sans-serif;\r\n  --preset-modern-mono: 'JetBrains Mono', 'Consolas', monospace;\r\n\r\n  /* PRESET 3: Corporate Executive - Elegante y corporativo */\r\n  --preset-corporate-ui: 'IBM Plex Sans', 'Segoe UI', system-ui, sans-serif;\r\n  --preset-corporate-content: 'Playfair Display', 'Georgia', serif;\r\n  --preset-corporate-display: 'IBM Plex Sans Medium', 'IBM Plex Sans', system-ui, sans-serif;\r\n  --preset-corporate-mono: 'IBM Plex Mono', 'Consolas', monospace;\r\n\r\n  /* PRESET 4: Creative Studio (Bonus) */\r\n  --preset-creative-ui: 'Poppins', 'Segoe UI', system-ui, sans-serif;\r\n  --preset-creative-content: 'Crimson Text', 'Georgia', serif;\r\n  --preset-creative-display: 'Poppins SemiBold', 'Poppins', sans-serif;\r\n  --preset-creative-mono: 'Fira Code', 'Consolas', monospace;\r\n\r\n  /* DEFAULT PRESET - Business Classic por defecto */\r\n  --font-ui: var(--preset-business-ui);\r\n  --font-content: var(--preset-business-content);\r\n  --font-display: var(--preset-business-display);\r\n  --font-mono: var(--preset-business-mono);\r\n}\r\n\r\n/* ==================== GOOGLE FONTS IMPORTS ==================== */\r\n/* Importamos solo las fuentes que no son del sistema */\r\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Inter+Display:wght@400;500;600;700;800&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap');\r\n\r\n/* ==================== PRESET CLASSES ==================== */\r\n/* Aplicaci√≥n autom√°tica de presets via JavaScript */\r\n\r\n/* Business Classic */\r\n.font-preset-business {\r\n  --font-ui: var(--preset-business-ui);\r\n  --font-content: var(--preset-business-content);\r\n  --font-display: var(--preset-business-display);\r\n  --font-mono: var(--preset-business-mono);\r\n  \r\n  /* Adaptaci√≥n Aptos/Century: Segoe UI + Georgia */\r\n  --line-height-compensation: 0.95; /* Segoe UI m√°s compacta que Aptos */\r\n  --letter-spacing-compensation: 0.005em; /* Georgia necesita m√°s espacio que Century */\r\n  --weight-compensation: -15; /* Segoe UI visualmente m√°s pesada que Aptos */\r\n}\r\n\r\n/* Modern Professional */\r\n.font-preset-modern {\r\n  --font-ui: var(--preset-modern-ui);\r\n  --font-content: var(--preset-modern-content);\r\n  --font-display: var(--preset-modern-display);\r\n  --font-mono: var(--preset-modern-mono);\r\n  \r\n  /* Adaptaci√≥n Aptos/Century: Inter + Source Serif Pro */\r\n  --line-height-compensation: 1.02; /* Inter ligeramente m√°s alta que Aptos */\r\n  --letter-spacing-compensation: -0.002em; /* Inter m√°s ancha que Aptos */\r\n  --weight-compensation: 10; /* Inter m√°s ligera visualmente */\r\n}\r\n\r\n/* Corporate Executive */\r\n.font-preset-corporate {\r\n  --font-ui: var(--preset-corporate-ui);\r\n  --font-content: var(--preset-corporate-content);\r\n  --font-display: var(--preset-corporate-display);\r\n  --font-mono: var(--preset-corporate-mono);\r\n  \r\n  /* Adaptaci√≥n Aptos/Century: IBM Plex + Playfair Display */\r\n  --line-height-compensation: 1.05; /* IBM Plex m√°s espaciosa que Aptos */\r\n  --letter-spacing-compensation: 0.008em; /* Playfair necesita m√°s respiro */\r\n  --weight-compensation: 25; /* IBM Plex m√°s ligera que Aptos */\r\n}\r\n\r\n/* Creative Studio */\r\n.font-preset-creative {\r\n  --font-ui: var(--preset-creative-ui);\r\n  --font-content: var(--preset-creative-content);\r\n  --font-display: var(--preset-creative-display);\r\n  --font-mono: var(--preset-creative-mono);\r\n  \r\n  /* Adaptaci√≥n Aptos/Century: Poppins + Crimson Text */\r\n  --line-height-compensation: 1.08; /* Poppins m√°s alta que Aptos */\r\n  --letter-spacing-compensation: 0.003em; /* Crimson Text m√°s estrecha */\r\n  --weight-compensation: 35; /* Poppins m√°s ligera que Aptos */\r\n}\r\n\r\n/* ==================== COMPATIBILITY LAYER ==================== */\r\n/* Mantiene compatibilidad con el sistema existente */\r\n:root {\r\n  --font-interface: var(--font-ui);\r\n  --font-heading: var(--font-display);\r\n  --font-body: var(--font-content);\r\n  --font-code: var(--font-mono);\r\n}\r\n\r\n/* ==================== PRESET METADATA ==================== */\r\n/* Informaci√≥n para el selector de fuentes en settings */\r\n:root {\r\n  --preset-business-name: \"Business Classic\";\r\n  --preset-business-description: \"Familiar y profesional - Segoe UI + Georgia\";\r\n  --preset-business-category: \"professional\";\r\n\r\n  --preset-modern-name: \"Modern Professional\";\r\n  --preset-modern-description: \"Tecnol√≥gico y limpio - Inter + Source Serif Pro\";\r\n  --preset-modern-category: \"modern\";\r\n\r\n  --preset-corporate-name: \"Corporate Executive\";\r\n  --preset-corporate-description: \"Elegante y corporativo - IBM Plex + Playfair\";\r\n  --preset-corporate-category: \"executive\";\r\n\r\n  --preset-creative-name: \"Creative Studio\";\r\n  --preset-creative-description: \"Creativo y din√°mico - Poppins + Crimson Text\";\r\n  --preset-creative-category: \"creative\";\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/core/glassmorphism.css",
    "ranges": [
      {
        "start": 236,
        "end": 1216
      },
      {
        "start": 1252,
        "end": 1990
      },
      {
        "start": 4352,
        "end": 4452
      },
      {
        "start": 4456,
        "end": 4577
      },
      {
        "start": 4581,
        "end": 4982
      },
      {
        "start": 4986,
        "end": 5112
      },
      {
        "start": 5116,
        "end": 5256
      },
      {
        "start": 5260,
        "end": 5319
      },
      {
        "start": 5323,
        "end": 5461
      },
      {
        "start": 9517,
        "end": 9801
      },
      {
        "start": 11900,
        "end": 12779
      },
      {
        "start": 12806,
        "end": 13032
      },
      {
        "start": 13036,
        "end": 13151
      },
      {
        "start": 13155,
        "end": 13311
      },
      {
        "start": 13315,
        "end": 13472
      },
      {
        "start": 15402,
        "end": 16121
      },
      {
        "start": 16157,
        "end": 16353
      },
      {
        "start": 19149,
        "end": 20008
      },
      {
        "start": 20012,
        "end": 20310
      },
      {
        "start": 20314,
        "end": 20430
      },
      {
        "start": 20434,
        "end": 20490
      },
      {
        "start": 20544,
        "end": 20809
      },
      {
        "start": 21086,
        "end": 21278
      },
      {
        "start": 21282,
        "end": 21357
      },
      {
        "start": 21385,
        "end": 21466
      },
      {
        "start": 21550,
        "end": 21648
      },
      {
        "start": 21670,
        "end": 22365
      },
      {
        "start": 22369,
        "end": 22422
      },
      {
        "start": 22426,
        "end": 22627
      },
      {
        "start": 22631,
        "end": 22797
      },
      {
        "start": 22801,
        "end": 23070
      },
      {
        "start": 23074,
        "end": 23250
      },
      {
        "start": 23277,
        "end": 23424
      },
      {
        "start": 25329,
        "end": 25695
      },
      {
        "start": 28028,
        "end": 28552
      },
      {
        "start": 28586,
        "end": 29218
      },
      {
        "start": 29222,
        "end": 29325
      },
      {
        "start": 29329,
        "end": 29398
      },
      {
        "start": 29402,
        "end": 29477
      },
      {
        "start": 29632,
        "end": 30182
      },
      {
        "start": 30232,
        "end": 30390
      },
      {
        "start": 30444,
        "end": 31209
      },
      {
        "start": 31523,
        "end": 31810
      },
      {
        "start": 31814,
        "end": 32064
      },
      {
        "start": 32303,
        "end": 32522
      },
      {
        "start": 32559,
        "end": 32836
      },
      {
        "start": 32887,
        "end": 33220
      },
      {
        "start": 33224,
        "end": 33502
      },
      {
        "start": 37508,
        "end": 37527
      },
      {
        "start": 37532,
        "end": 37670
      },
      {
        "start": 37678,
        "end": 37836
      },
      {
        "start": 37844,
        "end": 37945
      },
      {
        "start": 37959,
        "end": 37978
      },
      {
        "start": 37983,
        "end": 38121
      },
      {
        "start": 38129,
        "end": 38286
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Glassmorphism System\r\n * Centralized backdrop blur, frosted glass effects, transparency, acrylicos\r\n * Last Updated: December 1, 2025\r\n */\r\n\r\n/* ==================== GLASSMORPHISM VARIABLES ==================== */\r\n:root {\r\n  /* Base Glass Variables */\r\n  --glass-blur-light: blur(8px);\r\n  --glass-blur-medium: blur(16px);\r\n  --glass-blur-heavy: blur(24px);\r\n  --glass-blur-extreme: blur(40px);\r\n  \r\n  /* Light Theme Glassmorphism */\r\n  --glass-bg-primary: rgba(255, 255, 255, 0.85);\r\n  --glass-bg-secondary: rgba(255, 255, 255, 0.75);\r\n  --glass-bg-tertiary: rgba(255, 255, 255, 0.65);\r\n  --glass-bg-overlay: rgba(255, 255, 255, 0.9);\r\n  --glass-border-light: 1px solid rgba(255, 255, 255, 0.18);\r\n  --glass-border-medium: 1px solid rgba(255, 255, 255, 0.25);\r\n  --glass-border-strong: 1px solid rgba(255, 255, 255, 0.4);\r\n  --glass-shadow-light: 0 8px 32px 0 rgba(31, 38, 135, 0.15);\r\n  --glass-shadow-medium: 0 12px 48px 0 rgba(31, 38, 135, 0.25);\r\n  --glass-shadow-heavy: 0 20px 64px 0 rgba(31, 38, 135, 0.35);\r\n  \r\n  /* Interactive States */\r\n  --glass-hover-bg: rgba(255, 255, 255, 0.95);\r\n  --glass-active-bg: rgba(255, 255, 255, 0.7);\r\n  --glass-disabled-bg: rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n/* Dark Theme Glassmorphism */\r\nbody.theme-dark,\r\n[data-theme=\"dark\"] {\r\n  --glass-bg-primary: rgba(20, 20, 35, 0.85);\r\n  --glass-bg-secondary: rgba(30, 30, 45, 0.75);\r\n  --glass-bg-tertiary: rgba(40, 40, 55, 0.65);\r\n  --glass-bg-overlay: rgba(15, 15, 30, 0.9);\r\n  --glass-border-light: 1px solid rgba(255, 255, 255, 0.08);\r\n  --glass-border-medium: 1px solid rgba(255, 255, 255, 0.15);\r\n  --glass-border-strong: 1px solid rgba(255, 255, 255, 0.25);\r\n  --glass-shadow-light: 0 8px 32px 0 rgba(0, 0, 0, 0.4);\r\n  --glass-shadow-medium: 0 12px 48px 0 rgba(0, 0, 0, 0.5);\r\n  --glass-shadow-heavy: 0 20px 64px 0 rgba(0, 0, 0, 0.6);\r\n  \r\n  --glass-hover-bg: rgba(40, 40, 55, 0.95);\r\n  --glass-active-bg: rgba(20, 20, 35, 0.7);\r\n  --glass-disabled-bg: rgba(60, 60, 75, 0.5);\r\n}\r\n\r\n/* ==================== BASE GLASS EFFECTS ==================== */\r\n.glass-effect {\r\n  background: var(--glass-bg-primary);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border: var(--glass-border-light);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n.glass-effect-light {\r\n  background: var(--glass-bg-secondary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border: var(--glass-border-light);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n.glass-effect-heavy {\r\n  background: var(--glass-bg-primary);\r\n  backdrop-filter: var(--glass-blur-heavy);\r\n  -webkit-backdrop-filter: var(--glass-blur-heavy);\r\n  border: var(--glass-border-strong);\r\n  box-shadow: var(--glass-shadow-heavy);\r\n}\r\n\r\n.glass-panel {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border-radius: 12px;\r\n  border: var(--glass-border-medium);\r\n  box-shadow: var(--glass-shadow-medium);\r\n  padding: 16px;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n/* ==================== INTERACTIVE ELEMENTS ==================== */\r\n.glass-button {\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border: var(--glass-border-light);\r\n  border-radius: 8px;\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.glass-button::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n  transition: left 0.5s;\r\n}\r\n\r\n.glass-button:hover {\r\n  background: var(--glass-hover-bg);\r\n  border: var(--glass-border-medium);\r\n  transform: translateY(-2px);\r\n  box-shadow: var(--glass-shadow-medium);\r\n}\r\n\r\n.glass-button:hover::before {\r\n  left: 100%;\r\n}\r\n\r\n.glass-button:active {\r\n  background: var(--glass-active-bg);\r\n  transform: translateY(0);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n.glass-button:disabled {\r\n  background: var(--glass-disabled-bg);\r\n  cursor: not-allowed;\r\n  opacity: 0.6;\r\n}\r\n\r\n\r\n\r\n/* ==================== HEADER ACCOUNT ICONS ==================== */\r\n.header-account-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  height: 100%;\r\n}\r\n\r\n.header-divider-vertical {\r\n  width: 1px;\r\n  height: 24px;\r\n  background: var(--glass-border-light);\r\n  margin: 0 8px;\r\n}\r\n\r\n.header-icon-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border: none;\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n}\r\n\r\n.header-icon-btn .icon {\r\n  font-size: 18px;\r\n  line-height: 1;\r\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.header-icon-btn:hover {\r\n  background: var(--glass-hover-bg);\r\n  transform: translateY(-2px);\r\n  box-shadow: var(--glass-shadow-medium);\r\n}\r\n\r\n.header-icon-btn:hover .icon {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.header-icon-btn:active {\r\n  background: var(--glass-active-bg);\r\n  transform: translateY(0);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n.header-icon-btn[aria-expanded=\"true\"] {\r\n  background: var(--glass-active-bg);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n/* ==================== DROPDOWNS & MENUS ==================== */\r\n.glass-dropdown {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-heavy);\r\n  -webkit-backdrop-filter: var(--glass-blur-heavy);\r\n  border: var(--glass-border-strong);\r\n  border-radius: 12px;\r\n  box-shadow: var(--glass-shadow-heavy);\r\n  overflow: hidden;\r\n}\r\n\r\n.dropdown-item {\r\n  background: transparent;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n}\r\n\r\n/* ==================== MODALS & OVERLAYS ==================== */\r\n.glass-modal-backdrop {\r\n  background: rgba(0, 0, 0, 0.4);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: var(--z-modal-backdrop);\r\n}\r\n\r\n.glass-modal {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-heavy);\r\n  -webkit-backdrop-filter: var(--glass-blur-heavy);\r\n  border: var(--glass-border-strong);\r\n  border-radius: 16px;\r\n  box-shadow: var(--glass-shadow-heavy);\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: var(--z-modal);\r\n  max-width: 90vw;\r\n  max-height: 90vh;\r\n  overflow: auto;\r\n}\r\n\r\n/* ==================== CARDS & PANELS ==================== */\r\n.glass-card {\r\n  background: var(--glass-bg-primary);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border: var(--glass-border-light);\r\n  border-radius: 12px;\r\n  box-shadow: var(--glass-shadow-light);\r\n  padding: 16px;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.glass-card:hover {\r\n  background: var(--glass-hover-bg);\r\n  box-shadow: var(--glass-shadow-medium);\r\n  transform: translateY(-4px);\r\n}\r\n\r\n.glass-card::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 1px;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.glass-card:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n/* ==================== TOOLTIPS ==================== */\r\n.glass-tooltip {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border: var(--glass-border-medium);\r\n  border-radius: 8px;\r\n  box-shadow: var(--glass-shadow-medium);\r\n  padding: 8px 12px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  z-index: var(--z-tooltip);\r\n}\r\n\r\n/* ==================== HEADER & NAVIGATION ==================== */\r\n/* .header-enhanced styles consolidated below in line ~396 */\r\n/* .filter-bar-enhanced styles in filter-bar.css */\r\n\r\n/* ==================== NOTIFICATIONS ==================== */\r\n.glass-notification {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-heavy);\r\n  -webkit-backdrop-filter: var(--glass-blur-heavy);\r\n  border: var(--glass-border-strong);\r\n  border-radius: 12px;\r\n  box-shadow: var(--glass-shadow-heavy);\r\n  border-left: 4px solid var(--color-primary);\r\n}\r\n\r\n.notification-success {\r\n  border-left-color: var(--color-success);\r\n}\r\n\r\n.notification-warning {\r\n  border-left-color: var(--color-warning);\r\n}\r\n\r\n.notification-error {\r\n  border-left-color: var(--color-error);\r\n}\r\n\r\n/* ==================== LOADING STATES ==================== */\r\n.glass-loading {\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-extreme);\r\n  -webkit-backdrop-filter: var(--glass-blur-extreme);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: var(--z-loading-overlay);\r\n}\r\n\r\n.loading-spinner {\r\n  background: var(--glass-bg-primary);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border: var(--glass-border-medium);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  box-shadow: var(--glass-shadow-heavy);\r\n}\r\n\r\n/* ==================== ANIMATIONS ==================== */\r\n@keyframes glassSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    backdrop-filter: blur(0px);\r\n    -webkit-backdrop-filter: blur(0px);\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    backdrop-filter: var(--glass-blur-medium);\r\n    -webkit-backdrop-filter: var(--glass-blur-medium);\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes glassSlideOut {\r\n  from {\r\n    opacity: 1;\r\n    backdrop-filter: var(--glass-blur-medium);\r\n    -webkit-backdrop-filter: var(--glass-blur-medium);\r\n    transform: translateY(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    backdrop-filter: blur(0px);\r\n    -webkit-backdrop-filter: blur(0px);\r\n    transform: translateY(-10px);\r\n  }\r\n}\r\n\r\n@keyframes glassShimmer {\r\n  0% {\r\n    background-position: -200% center;\r\n  }\r\n  100% {\r\n    background-position: 200% center;\r\n  }\r\n}\r\n\r\n.glass-animate-in {\r\n  animation: glassSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.glass-animate-out {\r\n  animation: glassSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.glass-shimmer {\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\r\n  background-size: 200% 100%;\r\n  animation: glassShimmer 2s infinite;\r\n}\r\n\r\n/* ==================== ACCESSIBILITY ==================== */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .glass-button,\r\n  .glass-card,\r\n  .glass-panel,\r\n  .sidebar-menu-item {\r\n    transition: none;\r\n  }\r\n  \r\n  .glass-animate-in,\r\n  .glass-animate-out,\r\n  .glass-shimmer {\r\n    animation: none;\r\n  }\r\n}\r\n\r\n/* Disable backdrop-filter for better performance on low-end devices */\r\n@media (max-width: 480px) {\r\n  .glass-effect,\r\n  .glass-effect-light,\r\n  .glass-effect-heavy,\r\n  .glass-panel,\r\n  .glass-button,\r\n  .glass-dropdown,\r\n  .glass-modal,\r\n  .glass-card,\r\n  .glass-tooltip,\r\n  .glass-notification,\r\n  .glass-loading,\r\n  .loading-spinner {\r\n    backdrop-filter: none;\r\n    -webkit-backdrop-filter: none;\r\n  }\r\n}\r\n\r\n/* ==================== ENHANCED HEADER GLASSMORPHISM ==================== */\r\n\r\n/* Main Header Container - Glassmorphic Design */\r\n.header-enhanced,\r\n.header-bar-enhanced {\r\n  position: relative !important;\r\n  top: 0 !important;\r\n  z-index: var(--z-header) !important;\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  justify-content: space-between !important;\r\n  gap: 16px !important;\r\n  flex-wrap: nowrap !important;\r\n  flex-direction: row !important;\r\n  padding: 8px 20px !important;\r\n  background: var(--glass-bg-primary) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  border-radius: 16px !important;\r\n  margin: 12px 16px !important;\r\n  box-shadow: var(--glass-shadow-medium) !important;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;\r\n  min-height: 48px !important;\r\n  height: auto !important;\r\n  border: var(--glass-border-medium) !important;\r\n  overflow: visible !important;\r\n}\r\n\r\n/* Header Sections */\r\n.header-left-section,\r\n.header-center-section,\r\n.header-right-section {\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  gap: 10px !important;\r\n  flex-wrap: nowrap !important;\r\n  flex-shrink: 1 !important;\r\n}\r\n\r\n.header-left-section {\r\n  flex: 0 1 auto !important;\r\n  min-width: 0 !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n.header-center-section {\r\n  flex: 0 1 auto !important;\r\n  justify-content: center !important;\r\n  min-width: 0 !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n.header-right-section {\r\n  flex: 0 1 auto !important;\r\n  justify-content: flex-end !important;\r\n  min-width: 0 !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n/* Header Toggle Buttons */\r\n.header-enhanced .header-toggle-btn,\r\n.header-bar-enhanced .header-toggle-btn {\r\n  padding: 8px 12px !important;\r\n  background: rgba(255, 255, 255, 0.1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n  border-radius: 10px !important;\r\n  color: #374151 !important;\r\n  font-size: 13px !important;\r\n  font-weight: 500 !important;\r\n  cursor: pointer !important;\r\n  transition: all 0.25s ease !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  min-width: 70px !important;\r\n  justify-content: center !important;\r\n}\r\n\r\n.header-enhanced .header-toggle-btn:hover,\r\n.header-bar-enhanced .header-toggle-btn:hover {\r\n  background: rgba(59, 130, 246, 0.15) !important;\r\n  border-color: rgba(59, 130, 246, 0.3) !important;\r\n  color: #3b82f6 !important;\r\n  transform: translateY(-1px) !important;\r\n}\r\n\r\n/* Header Action Button (ML Analyze) */\r\n.header-action-btn {\r\n  padding: 8px 16px !important;\r\n  background: rgba(139, 92, 246, 0.1) !important;\r\n  border: 1px solid rgba(139, 92, 246, 0.3) !important;\r\n  border-radius: 10px !important;\r\n  color: #6d28d9 !important;\r\n  font-size: 13px !important;\r\n  font-weight: 600 !important;\r\n  cursor: pointer !important;\r\n  transition: all 0.25s ease !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  gap: 6px !important;\r\n}\r\n\r\n.header-action-btn:hover {\r\n  background: rgba(139, 92, 246, 0.2) !important;\r\n  border-color: rgba(139, 92, 246, 0.5) !important;\r\n  color: #5b21b6 !important;\r\n  transform: translateY(-1px) !important;\r\n  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2) !important;\r\n}\r\n\r\n.header-btn-icon {\r\n  font-size: 16px !important;\r\n}\r\n\r\n.header-btn-text {\r\n  font-size: 13px !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n/* ==================== SIDEBAR GLASSMORPHISM ==================== */\r\n\r\n/* Sidebar Header Component (Toggle Button) */\r\n.sidebar-header-component {\r\n  width: var(--sidebar-expanded-width);\r\n  height: auto;\r\n  min-height: 56px;\r\n  padding: 12px 14px;\r\n  position: fixed;\r\n  left: 16px;\r\n  top: 16px;\r\n  z-index: var(--z-sidebar);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: var(--glass-bg-primary) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  box-shadow: var(--glass-shadow-medium) !important;\r\n  border: var(--glass-border-medium) !important;\r\n  border-radius: 12px 12px 12px 12px !important;\r\n  transition: all var(--sidebar-transition-duration) cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Collapsed Sidebar Header */\r\n.sidebar-content-component.collapsed ~ .sidebar-header-component,\r\n.sidebar-header-component.collapsed {\r\n  width: 70px !important;\r\n  min-width: 70px !important;\r\n  max-width: 70px !important;\r\n}\r\n\r\n/* Sidebar Action Component (Between Header and Content) */\r\n.sidebar-action-component {\r\n  width: var(--sidebar-expanded-width);\r\n  height: auto;\r\n  min-height: 48px;\r\n  padding: 6px 14px;\r\n  position: fixed;\r\n  left: 16px;\r\n  top: 88px; /* 16px (header top) + 56px (header height) + 16px (gap) */\r\n  z-index: var(--z-sidebar);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: transparent !important;\r\n  transition: all var(--sidebar-transition-duration) cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Collapsed Sidebar Action */\r\n.sidebar-content-component.collapsed ~ .sidebar-action-component,\r\n.sidebar-action-component.collapsed {\r\n  width: 70px !important;\r\n  min-width: 70px !important;\r\n  max-width: 70px !important;\r\n}\r\n\r\n/* Quick Action Button */\r\n.sidebar-quick-action-btn {\r\n  width: 100%;\r\n  height: 40px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(37, 99, 235, 0.95));\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.sidebar-quick-action-btn:hover {\r\n  background: linear-gradient(135deg, rgba(37, 99, 235, 0.95), rgba(29, 78, 216, 1));\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n.sidebar-quick-action-btn:active {\r\n  transform: translateY(0);\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.sidebar-quick-action-btn .action-icon {\r\n  font-size: 18px;\r\n  line-height: 1;\r\n}\r\n\r\n.sidebar-quick-action-btn .action-label {\r\n  font-size: 14px;\r\n  line-height: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Collapsed state - show only icon */\r\n.sidebar-content-component.collapsed ~ .sidebar-action-component .sidebar-quick-action-btn .action-label,\r\n.sidebar-action-component.collapsed .sidebar-quick-action-btn .action-label {\r\n  display: none;\r\n}\r\n\r\n.sidebar-content-component.collapsed ~ .sidebar-action-component .sidebar-quick-action-btn,\r\n.sidebar-action-component.collapsed .sidebar-quick-action-btn {\r\n  width: 42px;\r\n  height: 42px;\r\n  border-radius: 50%;\r\n  padding: 0;\r\n}\r\n\r\n/* Dark theme adjustments */\r\nbody.theme-dark .sidebar-quick-action-btn {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(37, 99, 235, 1));\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\nbody.theme-dark .sidebar-quick-action-btn:hover {\r\n  background: linear-gradient(135deg, rgba(37, 99, 235, 1), rgba(29, 78, 216, 1));\r\n  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);\r\n}\r\n\r\n/* Sidebar Content Component (Navigation) */\r\n.sidebar-content-component {\r\n  width: var(--sidebar-expanded-width);\r\n  height: calc(100vh - 222px); /* Aligned with kanban board: 112px (header) + 94px (filter) + 16px (margin) = 222px */\r\n  position: fixed;\r\n  left: 16px;\r\n  top: 206px; /* Aligned with board start: 112px (header total) + 94px (filter total) = 206px */\r\n  z-index: var(--z-sidebar);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: var(--glass-bg-primary) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  box-shadow: var(--glass-shadow-medium) !important;\r\n  border: var(--glass-border-medium) !important;\r\n  border-radius: 12px 12px 12px 12px !important;\r\n  transition: all var(--sidebar-transition-duration) cubic-bezier(0.4, 0, 0.2, 1);\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.sidebar-toggle-btn {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: #374151;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.sidebar-toggle-btn:hover {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  color: #3b82f6;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.toggle-icon {\r\n  font-size: 20px;\r\n  line-height: 1;\r\n}\r\n\r\n/* Sidebar Content - Updated 2025-12-02 09:56 */\r\n.sidebar-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px 8px 8px 8px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  border-radius: 0 0 12px 12px;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\r\n}\r\n\r\n.sidebar-content::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.sidebar-content::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.sidebar-content::-webkit-scrollbar-thumb {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Section Labels */\r\n.sidebar-section-label {\r\n  font-size: 10px;\r\n  font-weight: 700;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.6px;\r\n  color: #a0a0a0;\r\n  padding: 16px 8px 8px 8px;\r\n  display: block;\r\n}\r\n\r\n.sidebar-section:first-child .sidebar-section-label {\r\n  padding-top: 0;\r\n}\r\n\r\n/* Sidebar Sections */\r\n.sidebar-section {\r\n  width: 100%;\r\n  padding-bottom: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.sidebar-section:last-child {\r\n  padding-bottom: 0;\r\n}\r\n\r\n/* Menu Container */\r\n.sidebar-menu {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Menu Items */\r\n.sidebar-menu-item {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px 14px;\r\n  margin-top: 8px;\r\n  border-radius: 10px;\r\n  height: 44px;\r\n  box-sizing: border-box;\r\n  flex-shrink: 0;\r\n  color: #d0d0d0;\r\n  text-decoration: none;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  line-height: 1.3;\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border: var(--glass-border-light);\r\n  box-shadow: var(--glass-shadow-light);\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  text-align: left;\r\n  position: relative;\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.sidebar-menu-item:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.sidebar-menu-item .icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 22px;\r\n  height: 22px;\r\n  font-size: 14px;\r\n  flex-shrink: 0;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.sidebar-menu-item .label {\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  transition: opacity 0.2s ease, width 0.3s ease;\r\n}\r\n\r\n.sidebar-menu-item:hover {\r\n  background: linear-gradient(135deg, rgba(120, 120, 120, 0.18), rgba(128, 128, 128, 0.18));\r\n  border-color: rgba(120, 120, 120, 0.42);\r\n  color: #ffffff;\r\n  transform: translateX(3px);\r\n  box-shadow: 0 3px 8px rgba(120, 120, 120, 0.12);\r\n}\r\n\r\n.sidebar-menu-item.active {\r\n  background: var(--glass-active-bg);\r\n  border-color: var(--glass-border-strong);\r\n  color: #d0d0d0;\r\n  box-shadow: var(--glass-shadow-medium);\r\n}\r\n\r\n/* Section Divider */\r\n.sidebar-divider {\r\n  height: 1px;\r\n  background: linear-gradient(90deg, transparent, var(--glass-border-light), transparent);\r\n  margin: 8px 0;\r\n}\r\n\r\n/* Collapse Button */\r\n.sidebar-collapse-btn {\r\n  position: absolute;\r\n  top: 16px;\r\n  right: -12px;\r\n  width: 24px;\r\n  height: 24px;\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border: var(--glass-border-medium);\r\n  border-radius: 50%;\r\n  color: #ffffff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  cursor: pointer;\r\n  z-index: var(--z-sidebar-btn);\r\n  transition: all 0.2s ease;\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n.sidebar-collapse-btn:hover {\r\n  background: var(--glass-hover-bg);\r\n  border-color: var(--glass-border-strong);\r\n  transform: scale(1.1);\r\n  box-shadow: var(--glass-shadow-medium);\r\n}\r\n\r\n/* Sidebar Action Buttons */\r\n.btn-sidebar-icon,\r\n.btn-theme-bubble,\r\n.btn-user-menu-sidebar {\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border: var(--glass-border-medium);\r\n  color: rgba(255, 255, 255, 1) !important;\r\n  width: 46px;\r\n  height: 46px;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 19px;\r\n  font-weight: 600;\r\n  letter-spacing: .5px;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  box-shadow: var(--glass-shadow-medium);\r\n}\r\n\r\n.btn-sidebar-icon:hover,\r\n.btn-theme-bubble:hover,\r\n.btn-user-menu-sidebar:hover {\r\n  background: var(--glass-hover-bg);\r\n  border-color: var(--glass-border-strong);\r\n  color: rgba(255, 255, 255, 1) !important;\r\n  transform: translateY(-3px) scale(1.03);\r\n  box-shadow: var(--glass-shadow-heavy);\r\n}\r\n\r\n.btn-sidebar-icon:active,\r\n.btn-theme-bubble:active,\r\n.btn-user-menu-sidebar:active {\r\n  transform: translateY(0) scale(0.97);\r\n  box-shadow: var(--glass-shadow-light);\r\n}\r\n\r\n/* Notification Badge */\r\n.notification-badge {\r\n  position: relative;\r\n  background: #ef4444;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 16px;\r\n  height: 16px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 9px;\r\n  font-weight: bold;\r\n  box-shadow: 0 1px 3px rgba(239,68,68,0.5);\r\n  border: var(--glass-border-strong);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.btn-sidebar-icon.btn-notifications .notification-badge,\r\n.sidebar-menu-item.action-item .notification-badge {\r\n  position: absolute;\r\n  top: -4px;\r\n  right: -4px;\r\n  background: #ef4444;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  font-weight: bold;\r\n  box-shadow: 0 2px 6px rgba(239,68,68,0.5);\r\n  border: var(--glass-border-strong);\r\n}\r\n\r\n/* User Menu */\r\n.user-menu-container {\r\n  position: relative;\r\n  width: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-user-menu-sidebar {\r\n  width: 44px;\r\n  height: 44px;\r\n  gap: 0;\r\n  padding: 0;\r\n}\r\n\r\n.user-avatar {\r\n  font-size: 20px;\r\n}\r\n\r\n.user-dropdown {\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  margin-bottom: 56px;\r\n  background: var(--glass-bg-overlay);\r\n  backdrop-filter: var(--glass-blur-heavy);\r\n  -webkit-backdrop-filter: var(--glass-blur-heavy);\r\n  border: var(--glass-border-medium);\r\n  border-radius: 12px;\r\n  padding: 12px;\r\n  min-width: 200px;\r\n  box-shadow: var(--glass-shadow-heavy);\r\n  z-index: var(--z-dropdown);\r\n}\r\n\r\n.user-dropdown-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding-bottom: 12px;\r\n}\r\n\r\n.user-avatar-large {\r\n  font-size: 28px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.user-full-name {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #ffffff;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.user-email {\r\n  font-size: 11px;\r\n  color: #a0a0a0;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.user-dropdown-divider {\r\n  height: 1px;\r\n  background: var(--glass-border-light);\r\n  margin: 8px 0;\r\n}\r\n\r\n.user-dropdown-item {\r\n  display: block;\r\n  padding: 10px 12px;\r\n  color: #d0d0d0;\r\n  text-decoration: none;\r\n  font-size: 12px;\r\n  border-radius: 8px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.user-dropdown-item:hover {\r\n  background: var(--glass-bg-tertiary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  color: #ffffff;\r\n}\r\n\r\n/* ==================== SIDEBAR TEXT ENFORCEMENT ==================== */\r\n/* ALL text elements in sidebars must be fully opaque */\r\n.sidebar p,\r\n.sidebar span,\r\n.sidebar label,\r\n.sidebar h1,\r\n.sidebar h2,\r\n.sidebar h3,\r\n.sidebar h4,\r\n.sidebar h5,\r\n.sidebar h6,\r\n.sidebar a,\r\n.sidebar button,\r\n.sidebar li,\r\n.sidebar td,\r\n.sidebar-content-component th,\r\n.sidebar-content-component strong,\r\n.sidebar-content-component em,\r\n.sidebar-content-component small,\r\n.panel-title,\r\n.sidebar-content-component .panel-title,\r\n.sidebar-section-label,\r\n.sidebar-menu-item .label,\r\n.user-full-name,\r\n.user-email {\r\n  opacity: 1 !important;\r\n  color: #1f2937 !important;\r\n}\r\n\r\n/* Dark theme text colors */\r\nbody.theme-dark .sidebar-content-component p,\r\nbody.theme-dark .sidebar-content-component span,\r\nbody.theme-dark .sidebar-content-component label,\r\nbody.theme-dark .sidebar-content-component h1,\r\nbody.theme-dark .sidebar-content-component h2,\r\nbody.theme-dark .sidebar-content-component h3,\r\nbody.theme-dark .sidebar-content-component h4,\r\nbody.theme-dark .sidebar-content-component h5,\r\nbody.theme-dark .sidebar-content-component h6,\r\nbody.theme-dark .sidebar-content-component a,\r\nbody.theme-dark .sidebar-content-component button,\r\nbody.theme-dark .panel-title,\r\nbody.theme-dark .user-full-name {\r\n  color: #ffffff !important;\r\n}\r\n\r\nbody.theme-dark .sidebar-section-label,\r\nbody.theme-dark .user-email {\r\n  color: #a0a0a0 !important;\r\n}\r\n\r\nbody.theme-dark .sidebar-menu-item {\r\n  color: #d0d0d0 !important;\r\n}\r\n\r\nbody.theme-dark .sidebar-menu-item:hover {\r\n  color: #ffffff !important;\r\n}\r\n\r\n/* ==================== SIDEBAR COLLAPSED MODE (GLASSMORPHIC BUTTONS) ==================== */\r\n\r\n/* Collapsed Sidebar - Glassmorphic Toggle Design */\r\n.sidebar-content-component.collapsed {\r\n  width: 70px !important;\r\n  min-width: 70px !important;\r\n  max-width: 70px !important;\r\n  height: auto !important;\r\n  max-height: calc(100vh - 120px) !important;\r\n  background: var(--glass-bg-primary) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  border-radius: 16px !important;\r\n  box-shadow: var(--glass-shadow-medium) !important;\r\n  border: var(--glass-border-medium) !important;\r\n  overflow: visible !important;\r\n}\r\n\r\n/* Hide labels and text in collapsed mode */\r\n.sidebar-content-component.collapsed .sidebar-section-label,\r\n.sidebar-content-component.collapsed .sidebar-menu-item .label {\r\n  display: none !important;\r\n}\r\n\r\n/* Collapsed Menu Items - Toggle Button Style */\r\n.sidebar-content-component.collapsed .sidebar-menu-item {\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  justify-content: center !important;\r\n  width: 40px !important;\r\n  height: 40px !important;\r\n  padding: 0 !important;\r\n  margin: 2px auto !important;\r\n  border-radius: 10px !important;\r\n  background: rgba(255, 255, 255, 0.1) !important;\r\n  border: none !important;\r\n  border-width: 0 !important;\r\n  border-style: none !important;\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n  color: #374151 !important;\r\n  font-size: 16px !important;\r\n  cursor: pointer !important;\r\n  transition: all 0.25s ease !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  text-decoration: none !important;\r\n  position: relative !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-menu-item:hover {\r\n  background: rgba(59, 130, 246, 0.15) !important;\r\n  border-color: rgba(59, 130, 246, 0.3) !important;\r\n  color: #3b82f6 !important;\r\n  transform: translateY(-2px) !important;\r\n  box-shadow: 0 8px 16px rgba(59, 130, 246, 0.2) !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-menu-item.active {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%) !important;\r\n  color: white !important;\r\n  border-color: rgba(59, 130, 246, 0.4) !important;\r\n  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4) !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-menu-item .icon {\r\n  font-size: 16px !important;\r\n  opacity: 0.9 !important;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;\r\n  animation: iconFloat 3s ease-in-out infinite !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-menu-item:hover .icon {\r\n  opacity: 1 !important;\r\n  animation: iconPulse 0.5s ease-in-out infinite, iconGlow 1s ease-in-out infinite !important;\r\n  transform: scale(1.1) !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-menu-item.active .icon {\r\n  opacity: 1 !important;\r\n  animation: iconGlow 2s ease-in-out infinite !important;\r\n  text-shadow: 0 0 8px rgba(255, 255, 255, 0.8) !important;\r\n}\r\n\r\n/* Collapsed Sidebar Content */\r\n.sidebar-content-component.collapsed .sidebar-content {\r\n  padding: 8px 4px !important;\r\n  display: flex !important;\r\n  flex-direction: column !important;\r\n  align-items: center !important;\r\n  gap: 4px !important;\r\n  height: auto !important;\r\n  overflow: visible !important;\r\n}\r\n\r\n/* Collapsed Sections - Minimal Separators */\r\n.sidebar-content-component.collapsed .sidebar-section {\r\n  background: transparent !important;\r\n  border: none !important;\r\n  padding: 0 !important;\r\n  margin: 4px 0 !important;\r\n  width: 100% !important;\r\n  display: flex !important;\r\n  flex-direction: column !important;\r\n  align-items: center !important;\r\n  gap: 2px !important;\r\n}\r\n\r\n.sidebar-content-component.collapsed .sidebar-section:not(:last-child)::after {\r\n  content: '' !important;\r\n  width: 20px !important;\r\n  height: 1px !important;\r\n  background: rgba(255, 255, 255, 0.2) !important;\r\n  margin: 4px 0 !important;\r\n  border-radius: 1px !important;\r\n}\r\n\r\n/* Glassmorphic Tooltips for Collapsed Mode */\r\n.sidebar-content-component.collapsed .sidebar-menu-item[data-tooltip]:hover::after {\r\n  content: attr(data-tooltip) !important;\r\n  position: fixed !important;\r\n  display: block !important;\r\n  left: 90px !important;\r\n  top: 50% !important;\r\n  transform: translateY(-50%) !important;\r\n  background: var(--glass-bg-overlay) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  color: #374151 !important;\r\n  padding: 8px 12px !important;\r\n  border-radius: 8px !important;\r\n  font-size: 12px !important;\r\n  font-weight: 600 !important;\r\n  white-space: nowrap !important;\r\n  z-index: 999999 !important;\r\n  border: var(--glass-border-light) !important;\r\n  box-shadow: var(--glass-shadow-heavy) !important;\r\n  pointer-events: none !important;\r\n  opacity: 1 !important;\r\n  visibility: visible !important;\r\n  animation: fadeInTooltip 0.2s ease !important;\r\n}\r\n\r\n/* Dark theme tooltips for collapsed sidebar */\r\n[data-theme=\"dark\"] .sidebar-content-component.collapsed .sidebar-menu-item[data-tooltip]:hover::after,\r\nbody.theme-dark .sidebar-content-component.collapsed .sidebar-menu-item[data-tooltip]:hover::after {\r\n  background: rgba(0, 0, 0, 0.95) !important;\r\n  color: rgba(255, 255, 255, 0.95) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5) !important;\r\n}\r\n\r\n@keyframes fadeInTooltip {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-50%) translateX(-8px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(-50%) translateX(0);\r\n  }\r\n}\r\n\r\n/* Animaciones para emojis en modo colapsado */\r\n@keyframes iconFloat {\r\n  0%, 100% {\r\n    transform: translateY(0px) scale(1);\r\n  }\r\n  50% {\r\n    transform: translateY(-2px) scale(1.05);\r\n  }\r\n}\r\n\r\n@keyframes iconPulse {\r\n  0%, 100% {\r\n    filter: brightness(1) contrast(1);\r\n  }\r\n  50% {\r\n    filter: brightness(1.2) contrast(1.1);\r\n  }\r\n}\r\n\r\n@keyframes iconGlow {\r\n  0%, 100% {\r\n    text-shadow: 0 0 5px rgba(59, 130, 246, 0.3);\r\n  }\r\n  50% {\r\n    text-shadow: 0 0 10px rgba(59, 130, 246, 0.6);\r\n  }\r\n}\r\n\r\n/* ==================== FILTER BAR GLASSMORPHISM ==================== */\r\n\r\n/* View Toggle Filters Glassmorphic Design */\r\n.view-toggle-filter-bar {\r\n  background: var(--glass-bg-primary) !important;\r\n  backdrop-filter: var(--glass-blur-medium) !important;\r\n  -webkit-backdrop-filter: var(--glass-blur-medium) !important;\r\n  border-radius: 16px !important;\r\n  box-shadow: var(--glass-shadow-medium) !important;\r\n  border: var(--glass-border-medium) !important;\r\n}\r\n\r\n.view-toggle-button {\r\n  background: rgba(255, 255, 255, 0.1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n  border-radius: 12px !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  transition: all 0.25s ease !important;\r\n}\r\n\r\n.view-toggle-button:hover {\r\n  background: rgba(59, 130, 246, 0.15) !important;\r\n  border-color: rgba(59, 130, 246, 0.3) !important;\r\n  transform: translateY(-1px) !important;\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2) !important;\r\n}\r\n\r\n.view-toggle-button.active {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%) !important;\r\n  color: white !important;\r\n  border-color: rgba(59, 130, 246, 0.4) !important;\r\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3) !important;\r\n}\r\n\r\n/* Diskette Save Button */\r\n.diskette-save-btn {\r\n  background: rgba(255, 255, 255, 0.1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n  border-radius: 12px !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  transition: all 0.25s ease !important;\r\n}\r\n\r\n.diskette-save-btn:hover {\r\n  background: rgba(34, 197, 94, 0.15) !important;\r\n  border-color: rgba(34, 197, 94, 0.3) !important;\r\n  transform: translateY(-2px) scale(1.05) !important;\r\n  box-shadow: 0 8px 20px rgba(34, 197, 94, 0.3) !important;\r\n}\r\n\r\n/* ==================== RESPONSIVE GLASSMORPHISM ==================== */\r\n\r\n@media (max-width: 768px) {\r\n  .sidebar-content-component.collapsed {\r\n    width: 60px !important;\r\n    min-width: 60px !important;\r\n    max-width: 60px !important;\r\n  }\r\n  \r\n  .sidebar-content-component.collapsed .sidebar-menu-item {\r\n    width: 40px !important;\r\n    height: 40px !important;\r\n    border-radius: 10px !important;\r\n  }\r\n  \r\n  .sidebar-content-component.collapsed .sidebar-menu-item .icon {\r\n    font-size: 16px !important;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .sidebar-content-component.collapsed {\r\n    width: 55px !important;\r\n    min-width: 55px !important;\r\n    max-width: 55px !important;\r\n  }\r\n  \r\n  .sidebar-content-component.collapsed .sidebar-menu-item {\r\n    width: 36px !important;\r\n    height: 36px !important;\r\n    border-radius: 8px !important;\r\n  }\r\n}\r\n\r\n/* ==================== PRINT STYLES ==================== */\r\n@media print {\r\n  .glass-effect,\r\n  .glass-panel,\r\n  .glass-card,\r\n  .header-enhanced,\r\n  .sidebar,\r\n  .view-toggle-filter-bar {\r\n    background: white !important;\r\n    backdrop-filter: none !important;\r\n    -webkit-backdrop-filter: none !important;\r\n    border: 1px solid #ccc !important;\r\n    box-shadow: none !important;\r\n  }\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/core/layout.css",
    "ranges": [
      {
        "start": 192,
        "end": 254
      },
      {
        "start": 258,
        "end": 340
      },
      {
        "start": 398,
        "end": 906
      },
      {
        "start": 970,
        "end": 1209
      },
      {
        "start": 1220,
        "end": 1239
      },
      {
        "start": 1244,
        "end": 1303
      },
      {
        "start": 1506,
        "end": 1525
      },
      {
        "start": 1530,
        "end": 1885
      },
      {
        "start": 3822,
        "end": 4321
      },
      {
        "start": 4332,
        "end": 4352
      },
      {
        "start": 4357,
        "end": 4438
      },
      {
        "start": 4452,
        "end": 4471
      },
      {
        "start": 4476,
        "end": 4649
      },
      {
        "start": 4663,
        "end": 4682
      },
      {
        "start": 4687,
        "end": 4765
      },
      {
        "start": 4820,
        "end": 4936
      },
      {
        "start": 7550,
        "end": 7988
      },
      {
        "start": 7992,
        "end": 8248
      },
      {
        "start": 8338,
        "end": 8791
      },
      {
        "start": 8795,
        "end": 8964
      },
      {
        "start": 8968,
        "end": 9175
      },
      {
        "start": 13814,
        "end": 13833
      },
      {
        "start": 13838,
        "end": 13872
      },
      {
        "start": 15713,
        "end": 15732
      },
      {
        "start": 15737,
        "end": 15777
      },
      {
        "start": 16200,
        "end": 16220
      },
      {
        "start": 16225,
        "end": 16265
      },
      {
        "start": 16448,
        "end": 16467
      },
      {
        "start": 16472,
        "end": 16512
      }
    ],
    "text": "/**\r\n * Layout Styles - Core Layout Structure\r\n * Application layout, grid systems, flexbox utilities\r\n * SpeedyFlow Application\r\n */\r\n\r\n/* ==================== RESET ==================== */\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n  width: 100%;\r\n  height: auto;\r\n  max-width: 100vw;\r\n  overflow: auto;\r\n}\r\n\r\n/* ==================== BASE ==================== */\r\nbody {\r\n  font-family: var(--font-family);\r\n  color: var(--text-primary);\r\n  font-size: var(--font-size-base);\r\n  line-height: var(--line-height-normal);\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  min-height: 100vh;\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 100vw;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n  /* Background removed to allow AI background container to show through */\r\n  background: transparent;\r\n}\r\n\r\n/* ==================== APP LAYOUT ==================== */\r\n.app,\r\n.app-container {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  position: relative;\r\n  z-index: 1;\r\n  width: 100%;\r\n  max-width: 100vw;\r\n  box-sizing: border-box;\r\n  background: transparent; /* Allow AI backgrounds to show through */\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .app,\r\n  .app-container {\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n/* ==================== SIDEBAR (COMPONENTS) ==================== */\r\n/* Sidebar styles moved to glassmorphism.css:\r\n * - .sidebar-header-component\r\n * - .sidebar-content-component\r\n */\r\n\r\n@media (max-width: 768px) {\r\n  .sidebar-header-component,\r\n  .sidebar-content-component {\r\n    width: 100%;\r\n    height: auto;\r\n    position: static;\r\n    border-right: none;\r\n    border-bottom: 1px solid rgba(239, 68, 68, 0.2);\r\n    overflow: visible;\r\n    padding: var(--spacing-md);\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  }\r\n}\r\n\r\n@keyframes sidebarFadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.sidebar h1 {\r\n  font-size: var(--font-size-xl);\r\n  margin-bottom: var(--spacing-lg);\r\n  font-weight: var(--font-weight-bold);\r\n  padding: var(--spacing-lg);\r\n  padding-bottom: 0;\r\n  /* Colors moved to theme-specific files */\r\n}\r\n\r\n/* Sidebar inner content padding */\r\n.sidebar > div:not(.sidebar-toggle) {\r\n  padding-left: var(--spacing-lg);\r\n  padding-right: var(--spacing-lg);\r\n}\r\n\r\n.sidebar > div:first-of-type {\r\n  padding-top: var(--spacing-lg);\r\n}\r\n\r\n/* Fade in animations for sidebar elements */\r\n@keyframes fadeInDown {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Sidebar form groups - animation removed to prevent layout shift */\r\n/* No animation delays needed */\r\n\r\n@keyframes fadeInUp {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Form styles moved to theme-specific files to avoid conflicts */\r\n\r\n.sidebar-header {\r\n  padding: var(--spacing-md);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.sidebar-header h2 {\r\n  font-size: var(--font-size-lg);\r\n  margin: 0;\r\n  /* Color moved to theme files */\r\n}\r\n\r\n/* Sidebar primary button styles moved to sidebar-components.css */\r\n/* This prevents theme conflicts and improves maintainability */\r\n\r\n/* Other sidebar buttons inherit standard styling */\r\n.sidebar .btn {\r\n  padding: 8px 12px;\r\n  border-radius: var(--border-radius);\r\n  font-size: var(--font-size-sm);\r\n  cursor: pointer;\r\n  transition: all var(--transition-base);\r\n}\r\n\r\n.sidebar-toggle {\r\n  display: none;\r\n  background: none;\r\n  border: none;\r\n  font-size: var(--font-size-lg);\r\n  cursor: pointer;\r\n  padding: var(--spacing-sm);\r\n}\r\n\r\n/* .sidebar-content moved to glassmorphism.css to avoid conflicts */\r\n\r\n/* ==================== MAIN CONTENT ==================== */\r\n.main-content,\r\n.main-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n  height: 100%;\r\n  position: relative;\r\n  background: transparent !important;\r\n  backdrop-filter: none !important;\r\n  -webkit-backdrop-filter: none !important;\r\n  z-index: 2;\r\n  width: 100%;\r\n  margin-left: var(--sidebar-expanded-width);\r\n  padding: 0 16px 16px 16px;\r\n  box-sizing: border-box;\r\n  overflow: visible;\r\n  /* Inmune a efectos de glasmorfismo */\r\n  opacity: 1 !important;\r\n}\r\n\r\n@media (max-width: 1024px) {\r\n  .main-content,\r\n  .main-wrapper {\r\n    padding: 0 12px 12px 12px !important;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .main-content,\r\n  .main-wrapper {\r\n    min-height: auto !important;\r\n    margin-left: 0 !important;\r\n    padding: 0 8px 8px 8px !important;\r\n    width: 100% !important;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .main-content,\r\n  .main-wrapper {\r\n    padding: 0 6px 6px 6px !important;\r\n  }\r\n}\r\n\r\n/* When sidebar is collapsed, reduce margin */\r\n.sidebar-content-component.collapsed ~ .main-wrapper {\r\n  margin-left: var(--sidebar-collapsed-width) !important;\r\n}\r\n\r\n/* ==================== HEADER/NAVBAR ==================== */\r\n.header,\r\n.navbar {\r\n  background: transparent;\r\n  backdrop-filter: none;\r\n  padding: var(--spacing-md) var(--spacing-lg);\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: none;\r\n  flex-wrap: wrap;\r\n  gap: var(--spacing-md);\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-lg);\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.header-center {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex: 1;\r\n  gap: var(--spacing-md);\r\n}\r\n\r\n.header h2 {\r\n  font-size: var(--font-size-lg);\r\n  font-weight: var(--font-weight-semibold);\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  gap: var(--spacing-md);\r\n  align-items: center;\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.navbar-content {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: var(--spacing-lg);\r\n  min-width: 0;\r\n}\r\n\r\n.navbar-actions {\r\n  display: flex;\r\n  gap: var(--spacing-md);\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n/* ==================== FILTERS BAR ==================== */\r\n/* Filters bar - contains tabs and search - transparent parent, children style themselves */\r\n.filters-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  background: transparent;\r\n  padding: 8px 12px;\r\n  box-sizing: border-box;\r\n  gap: 8px;\r\n  flex-wrap: nowrap;\r\n  overflow-x: auto;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n/* Tabs container (header & filters bar) */\r\n.tabs-container {\r\n  display: flex;\r\n  gap: 2px;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  width: auto;\r\n  max-width: none;\r\n  box-sizing: border-box;\r\n  scrollbar-gutter: stable;\r\n  background: transparent;\r\n  flex-shrink: 0;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Tab buttons in filters bar */\r\n.tabs-container .tab-btn {\r\n  padding: 4px 10px;\r\n  border-radius: var(--border-radius);\r\n  font-size: var(--font-size-sm);\r\n  font-weight: var(--font-weight-semibold);\r\n  cursor: pointer;\r\n  transition: all var(--transition-base);\r\n  margin: 0;\r\n  /* Theme-specific colors, backgrounds, borders moved to theme files */\r\n}\r\n\r\n.tabs-container .tab-btn:hover {\r\n  /* Theme-specific hover styles moved to theme files */\r\n}\r\n\r\n.tabs-container .tab-btn.active {\r\n  /* Theme-specific active styles moved to theme files */\r\n}\r\n\r\n.filter-item {\r\n  display: flex;\r\n  flex: 1;\r\n  min-width: 120px;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  scrollbar-gutter: stable;\r\n}\r\n\r\n.filter-input,\r\n.filter-select {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  padding: var(--space-2) var(--space-3);\r\n  border-radius: var(--radius-sm);\r\n  font-size: var(--font-size-sm);\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  box-sizing: border-box;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(37, 99, 235, 0.04) 100%);\r\n  border: 1px solid rgba(59, 130, 246, 0.15);\r\n  color: var(--color-text);\r\n}\r\n\r\n.filter-input:focus,\r\n.filter-select:focus {\r\n  outline: none;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.08) 100%);\r\n  border-color: rgba(59, 130, 246, 0.3);\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n/* Placeholder styles moved to theme files */\r\n\r\n/* View Toggle Buttons - Styling */\r\n.view-btn {\r\n  padding: 8px 14px;\r\n  border: 1px solid rgba(59, 130, 246, 0.2);\r\n  border-radius: var(--border-radius);\r\n  background: transparent !important;\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(8px); */\r\n  font-size: var(--font-size-sm);\r\n  font-weight: var(--font-weight-semibold);\r\n  color: rgba(59, 130, 246, 0.7);\r\n  cursor: pointer;\r\n  transition: all var(--transition-base);\r\n  white-space: nowrap;\r\n}\r\n\r\n.view-btn:hover {\r\n  background: rgba(255, 255, 255, 1);\r\n  border-color: var(--primary);\r\n  color: var(--primary);\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.12);\r\n}\r\n\r\n.view-btn.active {\r\n  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\r\n  color: white;\r\n  border-color: var(--primary);\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n/* ==================== VIEW TOGGLE BAR - CENTERED ==================== */\r\n.view-toggle-bar {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  background: transparent;\r\n  padding: 8px 12px;\r\n  box-sizing: border-box;\r\n  gap: 8px;\r\n}\r\n\r\n.view-toggle-container {\r\n  display: flex;\r\n  gap: 6px;\r\n  align-items: center;\r\n}\r\n\r\n/* ==================== CONTENT AREA ==================== -->\r\n.content-area,\r\n.content-container {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding: var(--spacing-lg) var(--spacing-lg);\r\n  background: transparent;\r\n  position: relative;\r\n  z-index: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n@media (min-width: 769px) {\r\n  .content-area,\r\n  .content-container {\r\n    overflow: visible;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .content-area,\r\n  .content-container {\r\n    padding: var(--spacing-md);\r\n  }\r\n}\r\n\r\n.tab-content {\r\n  display: none;\r\n}\r\n\r\n.tab-content.active {\r\n  display: block;\r\n}\r\n\r\n/* ==================== GRID SYSTEM ==================== */\r\n.container {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 calc(var(--spacing-md) * -1);\r\n}\r\n\r\n.col {\r\n  flex: 1;\r\n  padding: 0 var(--spacing-md);\r\n}\r\n\r\n/* Column Widths */\r\n.col-1 { flex: 0 0 8.333%; max-width: 8.333%; }\r\n.col-2 { flex: 0 0 16.666%; max-width: 16.666%; }\r\n.col-3 { flex: 0 0 25%; max-width: 25%; }\r\n.col-4 { flex: 0 0 33.333%; max-width: 33.333%; }\r\n.col-6 { flex: 0 0 50%; max-width: 50%; }\r\n.col-8 { flex: 0 0 66.666%; max-width: 66.666%; }\r\n.col-9 { flex: 0 0 75%; max-width: 75%; }\r\n.col-12 { flex: 0 0 100%; max-width: 100%; }\r\n\r\n/* ==================== UTILITY CLASSES ==================== */\r\n\r\n/* Display */\r\n.d-none { display: none !important; }\r\n.d-block { display: block !important; }\r\n.d-flex { display: flex !important; }\r\n.d-inline { display: inline !important; }\r\n.d-inline-block { display: inline-block !important; }\r\n\r\n/* Flexbox */\r\n.flex-row { flex-direction: row !important; }\r\n.flex-column { flex-direction: column !important; }\r\n.flex-wrap { flex-wrap: wrap !important; }\r\n.flex-nowrap { flex-wrap: nowrap !important; }\r\n.justify-start { justify-content: flex-start !important; }\r\n.justify-center { justify-content: center !important; }\r\n.justify-end { justify-content: flex-end !important; }\r\n.justify-between { justify-content: space-between !important; }\r\n.align-start { align-items: flex-start !important; }\r\n.align-center { align-items: center !important; }\r\n.align-end { align-items: flex-end !important; }\r\n.gap-sm { gap: var(--spacing-sm) !important; }\r\n.gap-md { gap: var(--spacing-md) !important; }\r\n.gap-lg { gap: var(--spacing-lg) !important; }\r\n\r\n/* Spacing */\r\n.m-0 { margin: 0 !important; }\r\n.mt-sm { margin-top: var(--spacing-sm) !important; }\r\n.mt-md { margin-top: var(--spacing-md) !important; }\r\n.mt-lg { margin-top: var(--spacing-lg) !important; }\r\n.mb-sm { margin-bottom: var(--spacing-sm) !important; }\r\n.mb-md { margin-bottom: var(--spacing-md) !important; }\r\n.mb-lg { margin-bottom: var(--spacing-lg) !important; }\r\n.p-0 { padding: 0 !important; }\r\n.p-sm { padding: var(--spacing-sm) !important; }\r\n.p-md { padding: var(--spacing-md) !important; }\r\n.p-lg { padding: var(--spacing-lg) !important; }\r\n\r\n/* Text Alignment */\r\n.text-left { text-align: left !important; }\r\n.text-center { text-align: center !important; }\r\n.text-right { text-align: right !important; }\r\n\r\n/* Font Weight */\r\n.font-normal { font-weight: var(--font-weight-normal) !important; }\r\n.font-medium { font-weight: var(--font-weight-medium) !important; }\r\n.font-semibold { font-weight: var(--font-weight-semibold) !important; }\r\n.font-bold { font-weight: var(--font-weight-bold) !important; }\r\n\r\n/* Overflow */\r\n.overflow-auto { overflow: auto !important; }\r\n.overflow-hidden { overflow: hidden !important; }\r\n.overflow-y-auto { overflow-y: auto !important; }\r\n\r\n/* Position */\r\n.position-relative { position: relative !important; }\r\n.position-absolute { position: absolute !important; }\r\n.position-fixed { position: fixed !important; }\r\n\r\n/* Width & Height */\r\n.w-100 { width: 100% !important; }\r\n.h-100 { height: 100% !important; }\r\n\r\n/* ==================== RESPONSIVE ==================== */\r\n\r\n/* Tablet (max-width: 1024px) */\r\n@media (max-width: 1024px) {\r\n  .sidebar {\r\n    width: 240px;\r\n  }\r\n  \r\n  .sidebar.collapsed {\r\n    width: 60px;\r\n  }\r\n  \r\n  .main-content {\r\n    flex: 1;\r\n  }\r\n  \r\n  .content-area,\r\n  .content-container {\r\n    padding: var(--spacing-md);\r\n  }\r\n}\r\n\r\n/* Mobile (max-width: 768px) */\r\n@media (max-width: 768px) {\r\n  body {\r\n    overflow-y: auto;\r\n  }\r\n  \r\n  .app {\r\n    flex-direction: column;\r\n    height: auto;\r\n    min-height: 100vh;\r\n    overflow: visible;\r\n  }\r\n  \r\n  .sidebar {\r\n    width: 100%;\r\n    position: static;\r\n    height: auto;\r\n    transform: none;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .sidebar.open {\r\n    transform: none;\r\n  }\r\n  \r\n  .sidebar.collapsed {\r\n    transform: none;\r\n  }\r\n  \r\n  .sidebar-toggle {\r\n    display: none;\r\n  }\r\n  \r\n  .main-content {\r\n    height: auto;\r\n    overflow: visible;\r\n  }\r\n  \r\n  .header,\r\n  .navbar {\r\n    padding: var(--spacing-sm) var(--spacing-md);\r\n  }\r\n  \r\n  .content-area,\r\n  .content-container {\r\n    padding: var(--spacing-md);\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    flex: 1;\r\n  }\r\n  \r\n  /* Responsive filters bar - keep everything in one line */\r\n  .filters-bar {\r\n    padding: var(--spacing-sm) var(--spacing-md);\r\n    flex-wrap: nowrap;\r\n    gap: var(--spacing-sm);\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  .tabs-container {\r\n    padding-right: var(--spacing-sm);\r\n    border-right: 1px solid rgba(59, 130, 246, 0.15);\r\n    border-bottom: none;\r\n    width: auto;\r\n    max-width: none;\r\n    padding-bottom: 0;\r\n    margin-bottom: 0;\r\n    flex-shrink: 0;\r\n    box-sizing: border-box;\r\n    white-space: nowrap;\r\n  }\r\n  \r\n  .filter-item {\r\n    flex: 0 0 auto;\r\n    min-width: auto;\r\n    max-width: none;\r\n    box-sizing: border-box;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  /* View toggle bar - always centered */\r\n  .view-toggle-bar {\r\n    padding: var(--spacing-sm) var(--spacing-md);\r\n    justify-content: center;\r\n  }\r\n\r\n  .view-toggle-container {\r\n    display: flex;\r\n    gap: 6px;\r\n  }\r\n  \r\n  /* Stack columns on mobile */\r\n  .col-1, .col-2, .col-3, .col-4, \r\n  .col-6, .col-8, .col-9, .col-12 {\r\n    flex: 0 0 100%;\r\n    max-width: 100%;\r\n  }\r\n}\r\n\r\n/* Tablets and Mobile (max-width: 768px) */\r\n@media (max-width: 768px) {\r\n  :root {\r\n    --sidebar-width: 100%;\r\n  }\r\n  \r\n  .sidebar {\r\n    width: 100%;\r\n  }\r\n  \r\n  .header,\r\n  .navbar {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .content-area,\r\n  .content-container {\r\n    padding: var(--spacing-sm);\r\n  }\r\n}\r\n\r\n/* ==================== RIGHT SIDEBAR LAYOUT ==================== */\r\n/* Right sidebar styles moved to components/right-sidebar.css for better organization */\r\n\r\n/* Right sidebar responsive */\r\n@media (max-width: 1400px) {\r\n  .right-sidebar {\r\n    width: 500px;\r\n  }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .sidebar-two-columns {\r\n    flex-direction: column;\r\n    overflow-y: auto;\r\n  }\r\n  \r\n  .sidebar-column {\r\n    flex: 0 0 auto;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .right-sidebar {\r\n    width: 100vw;\r\n  }\r\n  \r\n  .sidebar-two-columns {\r\n    padding: 12px;\r\n    gap: 12px;\r\n  }\r\n}\r\n\r\n/* ==================== THEME OVERRIDES MOVED TO THEME FILES ==================== */\r\n/* All theme-specific styles have been moved to:\r\n * - theme-dark.css\r\n * - theme-light.css\r\n * This prevents conflicts and improves maintainability\r\n */\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/core/positioning-system.css",
    "ranges": [
      {
        "start": 220,
        "end": 994
      },
      {
        "start": 1063,
        "end": 1667
      },
      {
        "start": 1735,
        "end": 2414
      },
      {
        "start": 2483,
        "end": 2611
      },
      {
        "start": 6801,
        "end": 6910
      },
      {
        "start": 7632,
        "end": 7651
      },
      {
        "start": 7656,
        "end": 7799
      },
      {
        "start": 7813,
        "end": 7832
      },
      {
        "start": 7837,
        "end": 7941
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Positioning System Controller\r\n * Centralizes all position, display, and z-index management\r\n * Last Updated: December 1, 2025\r\n */\r\n\r\n/* ==================== Z-INDEX SYSTEM ==================== */\r\n:root {\r\n  /* Base layers (0-99) - Background and foundational elements */\r\n  --z-base: 1;\r\n  --z-background: 10;\r\n  --z-content: 20;\r\n  --z-overlay-bg: 30;\r\n  \r\n  /* UI layers (100-999) - Interface elements */\r\n  --z-sidebar-btn: 100;\r\n  --z-filter-bar: 150;\r\n  --z-sidebar: 200;\r\n  --z-header: 250;\r\n  --z-main-content: 400;\r\n  \r\n  /* Interactive layers (1000-1999) - Dropdowns, modals, etc. */\r\n  --z-dropdown: 1000;\r\n  --z-sticky: 1020;\r\n  --z-fixed: 1030;\r\n  --z-modal-backdrop: 1040;\r\n  --z-modal: 1050;\r\n  --z-popover: 1060;\r\n  --z-tooltip: 1070;\r\n  --z-notification: 1080;\r\n  --z-context-menu: 1090;\r\n  \r\n  /* System layers (2000+) - Critical system elements */\r\n  --z-system-tooltip: 2000;\r\n  --z-loading-overlay: 8000;\r\n  --z-debug: 9000;\r\n  --z-critical: 9999;\r\n}\r\n\r\n/* ==================== POSITION SYSTEM ==================== */\r\n:root {\r\n  /* Sidebar positioning */\r\n  --sidebar-collapsed-width: 70px;\r\n  --sidebar-expanded-width: 280px;\r\n  --sidebar-transition-duration: 0.3s;\r\n  --sidebar-transition-ease: cubic-bezier(0.4, 0, 0.2, 1);\r\n  \r\n  /* Header positioning */\r\n  --header-height: 64px;\r\n  --header-z-index: var(--z-header);\r\n  \r\n  /* Tooltip positioning */\r\n  --tooltip-offset: 10px;\r\n  --tooltip-arrow-size: 6px;\r\n  \r\n  /* Modal positioning */\r\n  --modal-margin: 20px;\r\n  --modal-max-width: 90vw;\r\n  --modal-max-height: 90vh;\r\n  \r\n  /* Dropdown positioning */\r\n  --dropdown-offset: 4px;\r\n  --dropdown-max-height: 300px;\r\n}\r\n\r\n/* ==================== DISPLAY SYSTEM ==================== */\r\n:root {\r\n  /* Layout displays */\r\n  --display-flex: flex;\r\n  --display-grid: grid;\r\n  --display-block: block;\r\n  --display-inline-block: inline-block;\r\n  --display-none: none;\r\n  --display-inline-flex: inline-flex;\r\n  \r\n  /* Flex configurations */\r\n  --flex-row: row;\r\n  --flex-column: column;\r\n  --flex-wrap: wrap;\r\n  --flex-nowrap: nowrap;\r\n  \r\n  /* Alignment */\r\n  --align-start: flex-start;\r\n  --align-center: center;\r\n  --align-end: flex-end;\r\n  --align-stretch: stretch;\r\n  \r\n  --justify-start: flex-start;\r\n  --justify-center: center;\r\n  --justify-end: flex-end;\r\n  --justify-between: space-between;\r\n  --justify-around: space-around;\r\n  --justify-evenly: space-evenly;\r\n}\r\n\r\n/* ==================== OVERFLOW SYSTEM ==================== */\r\n:root {\r\n  --overflow-visible: visible;\r\n  --overflow-hidden: hidden;\r\n  --overflow-scroll: scroll;\r\n  --overflow-auto: auto;\r\n}\r\n\r\n/* ==================== POSITIONING UTILITIES ==================== */\r\n.pos-relative { position: relative !important; }\r\n.pos-absolute { position: absolute !important; }\r\n.pos-fixed { position: fixed !important; }\r\n.pos-sticky { position: sticky !important; }\r\n\r\n/* Display utilities */\r\n.d-none { display: var(--display-none) !important; }\r\n.d-block { display: var(--display-block) !important; }\r\n.d-flex { display: var(--display-flex) !important; }\r\n.d-inline-flex { display: var(--display-inline-flex) !important; }\r\n.d-grid { display: var(--display-grid) !important; }\r\n\r\n/* Flex utilities */\r\n.flex-row { flex-direction: var(--flex-row) !important; }\r\n.flex-column { flex-direction: var(--flex-column) !important; }\r\n.flex-wrap { flex-wrap: var(--flex-wrap) !important; }\r\n.flex-nowrap { flex-wrap: var(--flex-nowrap) !important; }\r\n\r\n/* Alignment utilities */\r\n.align-start { align-items: var(--align-start) !important; }\r\n.align-center { align-items: var(--align-center) !important; }\r\n.align-end { align-items: var(--align-end) !important; }\r\n.align-stretch { align-items: var(--align-stretch) !important; }\r\n\r\n.justify-start { justify-content: var(--justify-start) !important; }\r\n.justify-center { justify-content: var(--justify-center) !important; }\r\n.justify-end { justify-content: var(--justify-end) !important; }\r\n.justify-between { justify-content: var(--justify-between) !important; }\r\n.justify-around { justify-content: var(--justify-around) !important; }\r\n.justify-evenly { justify-content: var(--justify-evenly) !important; }\r\n\r\n/* Z-index utilities */\r\n.z-base { z-index: var(--z-base) !important; }\r\n.z-background { z-index: var(--z-background) !important; }\r\n.z-content { z-index: var(--z-content) !important; }\r\n.z-header { z-index: var(--z-header) !important; }\r\n.z-sidebar { z-index: var(--z-sidebar) !important; }\r\n.z-dropdown { z-index: var(--z-dropdown) !important; }\r\n.z-modal { z-index: var(--z-modal) !important; }\r\n.z-tooltip { z-index: var(--z-tooltip) !important; }\r\n.z-critical { z-index: var(--z-critical) !important; }\r\n\r\n/* Overflow utilities */\r\n.overflow-visible { overflow: var(--overflow-visible) !important; }\r\n.overflow-hidden { overflow: var(--overflow-hidden) !important; }\r\n.overflow-scroll { overflow: var(--overflow-scroll) !important; }\r\n.overflow-auto { overflow: var(--overflow-auto) !important; }\r\n\r\n.overflow-x-visible { overflow-x: var(--overflow-visible) !important; }\r\n.overflow-x-hidden { overflow-x: var(--overflow-hidden) !important; }\r\n.overflow-x-scroll { overflow-x: var(--overflow-scroll) !important; }\r\n.overflow-x-auto { overflow-x: var(--overflow-auto) !important; }\r\n\r\n.overflow-y-visible { overflow-y: var(--overflow-visible) !important; }\r\n.overflow-y-hidden { overflow-y: var(--overflow-hidden) !important; }\r\n.overflow-y-scroll { overflow-y: var(--overflow-scroll) !important; }\r\n.overflow-y-auto { overflow-y: var(--overflow-auto) !important; }\r\n\r\n/* ==================== COMPONENT SPECIFIC POSITIONING ==================== */\r\n\r\n/* Sidebar positioning rules */\r\n.sidebar {\r\n  z-index: var(--z-sidebar);\r\n  width: var(--sidebar-expanded-width);\r\n  transition: width var(--sidebar-transition-duration) var(--sidebar-transition-ease);\r\n}\r\n\r\n.sidebar.collapsed {\r\n  width: var(--sidebar-collapsed-width);\r\n  max-width: var(--sidebar-collapsed-width);\r\n}\r\n\r\n.sidebar-collapse-btn {\r\n  z-index: var(--z-sidebar-btn);\r\n}\r\n\r\n/* Header positioning moved to glassmorphism.css */\r\n\r\n/* Modal positioning */\r\n.modal-backdrop {\r\n  z-index: var(--z-modal-backdrop);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.modal {\r\n  z-index: var(--z-modal);\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  max-width: var(--modal-max-width);\r\n  max-height: var(--modal-max-height);\r\n}\r\n\r\n/* Dropdown positioning */\r\n.dropdown {\r\n  z-index: var(--z-dropdown);\r\n  position: absolute;\r\n  max-height: var(--dropdown-max-height);\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Tooltip positioning */\r\n.tooltip {\r\n  z-index: var(--z-tooltip);\r\n  position: absolute;\r\n}\r\n\r\n.tooltip-fixed {\r\n  z-index: var(--z-system-tooltip);\r\n  position: fixed;\r\n}\r\n\r\n/* Right sidebar positioning */\r\n.right-sidebar {\r\n  z-index: var(--z-modal);\r\n  position: fixed;\r\n  right: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n}\r\n\r\n.btn-close-sidebar {\r\n  z-index: calc(var(--z-modal) + 1);\r\n  position: absolute;\r\n}\r\n\r\n/* Filter bar positioning moved to filter-bar.css */\r\n\r\n/* User dropdown positioning */\r\n.user-dropdown {\r\n  z-index: var(--z-dropdown);\r\n  position: absolute;\r\n}\r\n\r\n/* Loading overlay positioning */\r\n.loading-overlay {\r\n  z-index: var(--z-loading-overlay);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* Notification positioning */\r\n.notification {\r\n  z-index: var(--z-notification);\r\n  position: fixed;\r\n}\r\n\r\n/* Debug elements positioning */\r\n.debug-info {\r\n  z-index: var(--z-debug);\r\n  position: fixed;\r\n}\r\n\r\n/* ==================== RESPONSIVE POSITIONING ==================== */\r\n@media (max-width: 768px) {\r\n  :root {\r\n    --sidebar-expanded-width: 100vw;\r\n    --sidebar-collapsed-width: 60px;\r\n    --modal-margin: 10px;\r\n    --header-height: 56px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  :root {\r\n    --sidebar-collapsed-width: 50px;\r\n    --modal-margin: 5px;\r\n    --tooltip-offset: 5px;\r\n  }\r\n}\r\n\r\n/* ==================== PRINT POSITIONING ==================== */\r\n@media print {\r\n  .sidebar,\r\n  .modal-backdrop,\r\n  .tooltip,\r\n  .dropdown,\r\n  .notification {\r\n    display: none !important;\r\n  }\r\n  \r\n  .main-content {\r\n    width: 100% !important;\r\n    margin: 0 !important;\r\n  }\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/core/typography-system.css",
    "ranges": [
      {
        "start": 340,
        "end": 2631
      },
      {
        "start": 2706,
        "end": 2751
      },
      {
        "start": 2755,
        "end": 2918
      },
      {
        "start": 3040,
        "end": 3341
      },
      {
        "start": 3345,
        "end": 3649
      },
      {
        "start": 3653,
        "end": 3933
      },
      {
        "start": 3937,
        "end": 4214
      },
      {
        "start": 4964,
        "end": 5249
      },
      {
        "start": 5838,
        "end": 5990
      },
      {
        "start": 6159,
        "end": 6284
      },
      {
        "start": 6288,
        "end": 6423
      },
      {
        "start": 7124,
        "end": 7179
      },
      {
        "start": 7748,
        "end": 7908
      },
      {
        "start": 7912,
        "end": 8042
      },
      {
        "start": 8250,
        "end": 8372
      },
      {
        "start": 8444,
        "end": 8632
      },
      {
        "start": 8636,
        "end": 8766
      },
      {
        "start": 8835,
        "end": 8883
      },
      {
        "start": 8885,
        "end": 8933
      },
      {
        "start": 10454,
        "end": 10473
      },
      {
        "start": 10478,
        "end": 10588
      },
      {
        "start": 10673,
        "end": 10693
      },
      {
        "start": 10698,
        "end": 10812
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Typography System\r\n * Sistema coherente y cohesivo de fuentes: Aptos + Century\r\n * \r\n * FILOSOF√çA:\r\n * - Aptos: UI moderna, navegaci√≥n, interacci√≥n\r\n * - Century: Contenido, legibilidad, profesionalismo\r\n * - Jerarqu√≠a clara y consistente\r\n */\r\n\r\n/* ==================== FONT STACKS DEFINITION ==================== */\r\n:root {\r\n  /* PRIMARY STACKS */\r\n  --font-ui: 'Aptos', 'Segoe UI', system-ui, -apple-system, sans-serif;\r\n  --font-display: 'Aptos Display', 'Aptos', 'Segoe UI Semibold', system-ui, sans-serif;\r\n  --font-content: 'Century', 'Century Gothic', 'Aptos', 'Times New Roman', serif;\r\n  --font-mono: 'Aptos Mono', 'Consolas', 'Courier New', monospace;\r\n  \r\n  /* SPECIALIZED STACKS */\r\n  --font-heading: var(--font-display);\r\n  --font-body: var(--font-content);\r\n  --font-interface: var(--font-ui);\r\n  --font-code: var(--font-mono);\r\n  \r\n  /* ==================== APTOS/CENTURY ADAPTATION VARIABLES ==================== */\r\n  /* Variables para adaptar glyphs de otras familias con Aptos/Century */\r\n  \r\n  /* Compensaciones de altura de l√≠nea */\r\n  --aptos-line-height-base: 1.4;\r\n  --century-line-height-base: 1.5;\r\n  --line-height-compensation: 1.0; /* Factor multiplicador din√°mico */\r\n  \r\n  /* Compensaciones de espaciado */\r\n  --aptos-letter-spacing-base: 0em;\r\n  --century-letter-spacing-base: 0.01em;\r\n  --letter-spacing-compensation: 0em; /* Ajuste din√°mico */\r\n  \r\n  /* Compensaciones de peso visual */\r\n  --aptos-weight-base: 400;\r\n  --century-weight-base: 400;\r\n  --weight-compensation: 0; /* Ajuste de peso para armon√≠a */\r\n  \r\n  /* Variables combinadas aplicables */\r\n  --combo-line-height: calc(var(--aptos-line-height-base) * var(--line-height-compensation));\r\n  --combo-letter-spacing: calc(var(--aptos-letter-spacing-base) + var(--letter-spacing-compensation));\r\n  --combo-font-weight: calc(var(--aptos-weight-base) + var(--weight-compensation));\r\n  \r\n  /* TYPOGRAPHY SCALE */\r\n  --text-xs: 0.75rem;    /* 12px */\r\n  --text-sm: 0.825rem;   /* 13px */\r\n  --text-base: 0.875rem; /* 14px */\r\n  --text-md: 0.9375rem;  /* 15px */\r\n  --text-lg: 1rem;       /* 16px */\r\n  --text-xl: 1.125rem;   /* 18px */\r\n  --text-2xl: 1.25rem;   /* 20px */\r\n  --text-3xl: 1.5rem;    /* 24px */\r\n  --text-4xl: 1.875rem;  /* 30px */\r\n  --text-5xl: 2.25rem;   /* 36px */\r\n  \r\n  /* FONT WEIGHTS */\r\n  --weight-light: 300;\r\n  --weight-normal: 400;\r\n  --weight-medium: 500;\r\n  --weight-semibold: 600;\r\n  --weight-bold: 700;\r\n  --weight-extrabold: 800;\r\n  \r\n  /* LINE HEIGHTS */\r\n  --leading-tight: 1.25;\r\n  --leading-snug: 1.375;\r\n  --leading-normal: 1.5;\r\n  --leading-relaxed: 1.625;\r\n  --leading-loose: 2;\r\n}\r\n\r\n/* ==================== BASE TYPOGRAPHY RESET ==================== */\r\n* {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\nhtml, body {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-base);\r\n  line-height: var(--leading-normal);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* ==================== HEADING HIERARCHY ==================== */\r\n/* Aptos Display para encabezados - UI moderno */\r\nh1, .h1 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-4xl);\r\n  font-weight: calc(var(--weight-bold) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-tight) * var(--line-height-compensation));\r\n  letter-spacing: calc(-0.025em + var(--letter-spacing-compensation));\r\n}\r\n\r\nh2, .h2 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-3xl);\r\n  font-weight: calc(var(--weight-semibold) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-tight) * var(--line-height-compensation));\r\n  letter-spacing: calc(-0.02em + var(--letter-spacing-compensation));\r\n}\r\n\r\nh3, .h3 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-2xl);\r\n  font-weight: calc(var(--weight-semibold) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-snug) * var(--line-height-compensation));\r\n  letter-spacing: var(--combo-letter-spacing);\r\n}\r\n\r\nh4, .h4 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-xl);\r\n  font-weight: calc(var(--weight-medium) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-snug) * var(--line-height-compensation));\r\n  letter-spacing: var(--combo-letter-spacing);\r\n}\r\n\r\nh5, .h5 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-lg);\r\n  font-weight: calc(var(--weight-medium) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-normal) * var(--line-height-compensation));\r\n  letter-spacing: var(--combo-letter-spacing);\r\n}\r\n\r\nh6, .h6 {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-base);\r\n  font-weight: calc(var(--weight-semibold) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-normal) * var(--line-height-compensation));\r\n  text-transform: uppercase;\r\n  letter-spacing: calc(0.05em + var(--letter-spacing-compensation));\r\n}\r\n\r\n/* ==================== CONTENT TYPOGRAPHY ==================== */\r\n/* Century para contenido - Legibilidad profesional */\r\np, .paragraph {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-base);\r\n  font-weight: calc(var(--weight-normal) + var(--weight-compensation));\r\n  line-height: calc(var(--leading-relaxed) * var(--line-height-compensation));\r\n  letter-spacing: var(--combo-letter-spacing);\r\n}\r\n\r\n/* Texto largo y descripciones */\r\n.content, .description, .article {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-md);\r\n  font-weight: var(--weight-normal);\r\n  line-height: var(--leading-relaxed);\r\n}\r\n\r\n/* Lead text para introduciones */\r\n.lead {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-xl);\r\n  font-weight: var(--weight-light);\r\n  line-height: var(--leading-relaxed);\r\n}\r\n\r\n/* ==================== INTERFACE TYPOGRAPHY ==================== */\r\n/* Aptos para elementos de UI */\r\n.sidebar, .navbar, .menu {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\nbutton, .btn {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-medium);\r\n  letter-spacing: 0.025em;\r\n}\r\n\r\n.nav-item, .menu-item {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* Labels y formularios */\r\nlabel, .label {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-medium);\r\n}\r\n\r\ninput, textarea, select {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* ==================== SPECIALIZED ELEMENTS ==================== */\r\n/* Badges y tags */\r\n.badge, .tag, .chip {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-semibold);\r\n  letter-spacing: 0.05em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n/* Tooltips */\r\n.tooltip {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-medium);\r\n}\r\n\r\n/* Code y monospace */\r\ncode, pre, .code {\r\n  font-family: var(--font-code);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* ==================== ISSUE CARD TYPOGRAPHY ==================== */\r\n/* Sistema espec√≠fico para tarjetas de issues */\r\n.issue-card {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n.issue-card .issue-title {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-base);\r\n  font-weight: var(--weight-semibold);\r\n  line-height: var(--leading-snug);\r\n}\r\n\r\n.issue-card .issue-description {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-normal);\r\n  line-height: var(--leading-normal);\r\n}\r\n\r\n.issue-card .issue-meta {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* ==================== KANBAN TYPOGRAPHY ==================== */\r\n.kanban-column-title {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-lg);\r\n  font-weight: var(--weight-semibold);\r\n  letter-spacing: 0.025em;\r\n}\r\n\r\n.kanban-column-count {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-bold);\r\n}\r\n\r\n/* ==================== MODAL & DIALOG TYPOGRAPHY ==================== */\r\n.modal-title {\r\n  font-family: var(--font-heading);\r\n  font-size: var(--text-2xl);\r\n  font-weight: var(--weight-semibold);\r\n}\r\n\r\n.modal-body {\r\n  font-family: var(--font-body);\r\n  font-size: var(--text-base);\r\n  line-height: var(--leading-relaxed);\r\n}\r\n\r\n/* ==================== SIDEBAR TYPOGRAPHY ==================== */\r\n.sidebar-section-label {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-xs);\r\n  font-weight: var(--weight-bold);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.1em;\r\n}\r\n\r\n.sidebar-menu-item {\r\n  font-family: var(--font-interface);\r\n  font-size: var(--text-sm);\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* ==================== UTILITY CLASSES ==================== */\r\n.font-ui { font-family: var(--font-interface); }\r\n.font-content { font-family: var(--font-body); }\r\n.font-heading { font-family: var(--font-heading); }\r\n.font-mono { font-family: var(--font-code); }\r\n\r\n.text-xs { font-size: var(--text-xs); }\r\n.text-sm { font-size: var(--text-sm); }\r\n.text-base { font-size: var(--text-base); }\r\n.text-md { font-size: var(--text-md); }\r\n.text-lg { font-size: var(--text-lg); }\r\n.text-xl { font-size: var(--text-xl); }\r\n.text-2xl { font-size: var(--text-2xl); }\r\n.text-3xl { font-size: var(--text-3xl); }\r\n\r\n.font-light { font-weight: var(--weight-light); }\r\n.font-normal { font-weight: var(--weight-normal); }\r\n.font-medium { font-weight: var(--weight-medium); }\r\n.font-semibold { font-weight: var(--weight-semibold); }\r\n.font-bold { font-weight: var(--weight-bold); }\r\n\r\n.leading-tight { line-height: var(--leading-tight); }\r\n.leading-snug { line-height: var(--leading-snug); }\r\n.leading-normal { line-height: var(--leading-normal); }\r\n.leading-relaxed { line-height: var(--leading-relaxed); }\r\n.leading-loose { line-height: var(--leading-loose); }\r\n\r\n/* ==================== THEME ADAPTATIONS ==================== */\r\n/* Light theme - Century m√°s suave */\r\nbody.theme-light .content,\r\nbody.theme-light .description,\r\nbody.theme-light .issue-description {\r\n  font-weight: var(--weight-normal);\r\n}\r\n\r\n/* Dark theme - Century m√°s definido */\r\nbody.theme-dark .content,\r\nbody.theme-dark .description,\r\nbody.theme-dark .issue-description {\r\n  font-weight: var(--weight-medium);\r\n  letter-spacing: 0.01em;\r\n}\r\n\r\n/* ==================== RESPONSIVE TYPOGRAPHY ==================== */\r\n@media (max-width: 768px) {\r\n  :root {\r\n    --text-base: 0.8125rem; /* 13px en m√≥vil */\r\n    --text-sm: 0.75rem;     /* 12px en m√≥vil */\r\n  }\r\n  \r\n  .issue-card .issue-title {\r\n    font-size: var(--text-sm);\r\n  }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  :root {\r\n    --text-base: 0.9375rem; /* 15px en desktop */\r\n    --text-md: 1rem;        /* 16px en desktop */\r\n  }\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/core/variables.css",
    "ranges": [
      {
        "start": 157,
        "end": 6970
      },
      {
        "start": 7044,
        "end": 9451
      }
    ],
    "text": "/**\r\n * CSS Variables - Design System\r\n * Centralized design tokens for colors, spacing, typography, etc.\r\n * SpeedyFlow Application - Modern Design\r\n */\r\n\r\n:root {\r\n  /* ==================== DEFAULT THEME COLORS - LIGHT ==================== */\r\n  /* These are the light theme colors (default on page load) */\r\n  /* Overridden by body.theme-dark when dark mode is active */\r\n  \r\n  /* Primary Colors - Purple/Blue (Light Theme) */\r\n  --text-primary: #312e81;\r\n  --text-secondary: #6366f1;\r\n  --text-muted: #a5b4fc;\r\n  --bg-primary: #ffffff;\r\n  --bg-secondary: #f3f0ff;\r\n  --bg-tertiary: #ede9fe;\r\n  --border-color: #e9d5ff;\r\n  \r\n  /* Theme-specific colors that were in light-theme.css */\r\n  --success: #7c3aed;\r\n  --success-light: #f3e8ff;\r\n  --success-dark: #5b21b6;\r\n  --warning: #6366f1;\r\n  --warning-light: #ede9fe;\r\n  --warning-dark: #3730a3;\r\n  --danger: #5b21b6;\r\n  --danger-light: #f3e8ff;\r\n  --danger-dark: #3730a3;\r\n  --info: #6366f1;\r\n  --info-light: #ede9fe;\r\n  --info-dark: #3730a3;\r\n  \r\n  /* Shadows - Purple tinted */\r\n  --shadow-sm: 0 0.125rem 0.25rem rgba(109, 40, 217, 0.08);\r\n  --shadow-md: 0 0.5rem 1rem rgba(109, 40, 217, 0.12);\r\n  --shadow-lg: 0 1rem 3rem rgba(109, 40, 217, 0.15);\r\n  \r\n  /* Original :root variables */\r\n  --primary: #6d28d9;         /* Bright Purple */\r\n  --primary-dark: #581c87;    /* Deep Purple */\r\n  --primary-light: #a78bfa;   /* Light Purple */\r\n  \r\n  --accent-red: #ef4444;      /* Bright Red */\r\n  --accent-red-dark: #b91c1c; /* Deep Red */\r\n  --accent-red-light: #fca5a5;/* Light Red */\r\n  \r\n  /* Background Colors - White with glassmorphism */\r\n  --bg: #ffffff;\r\n  --card-bg: rgba(255, 255, 255, 0.95);     /* Frosted white */\r\n  --card-bg-hover: rgba(255, 255, 255, 0.98);\r\n  \r\n  /* Glassmorphism backgrounds with pops of color */\r\n  --glass-blue-light: rgba(109, 40, 217, 0.1);     /* 10% purple */\r\n  --glass-red-light: rgba(239, 68, 68, 0.1);       /* 10% red */\r\n  --glass-blue-medium: rgba(109, 40, 217, 0.15);   /* 15% purple */\r\n  --glass-red-medium: rgba(239, 68, 68, 0.15);     /* 15% red */\r\n  \r\n  /* Text Colors (legacy - use --text-primary, --text-secondary, --text-muted instead) */\r\n  --text: #1f2937;\r\n  \r\n  /* Border & Dividers - Glassmorphism */\r\n  --border: rgba(59, 130, 246, 0.2);        /* Blue tinted border */\r\n  --border-light: rgba(239, 68, 68, 0.1);   /* Red tinted light border */\r\n  \r\n  /* ==================== SHADOWS - GLASSMORPHISM ==================== */\r\n  --shadow: 0 4px 12px rgba(59, 130, 246, 0.12);\r\n  --shadow-xl: 0 20px 40px rgba(59, 130, 246, 0.15);\r\n  \r\n  /* ==================== SPACING ==================== */\r\n  --spacing-xs: 4px;\r\n  --spacing-sm: 8px;\r\n  --spacing-md: 12px;\r\n  --spacing-lg: 16px;\r\n  --spacing-xl: 24px;\r\n  --spacing-2xl: 32px;\r\n  \r\n  /* ==================== TYPOGRAPHY ==================== */\r\n  --font-family: 'Aptos', 'Aptos Display', 'Aptos Mono', sans-serif;\r\n  --font-family-mono: 'Aptos Mono', 'Menlo', 'Monaco', 'Courier New', monospace;\r\n  \r\n  --font-size-xs: 12px;\r\n  --font-size-sm: 13px;\r\n  --font-size-base: 14px;\r\n  --font-size-md: 15px;\r\n  --font-size-lg: 16px;\r\n  --font-size-xl: 18px;\r\n  --font-size-2xl: 20px;\r\n  \r\n  --font-weight-normal: 400;\r\n  --font-weight-medium: 500;\r\n  --font-weight-semibold: 600;\r\n  --font-weight-bold: 700;\r\n  \r\n  --line-height-tight: 1.25;\r\n  --line-height-normal: 1.5;\r\n  --line-height-relaxed: 1.75;\r\n  \r\n  /* ==================== BORDERS ==================== */\r\n  --border-radius-sm: 4px;\r\n  --border-radius: 6px;\r\n  --border-radius-md: 8px;\r\n  --border-radius-lg: 12px;\r\n  --border-radius-full: 9999px;\r\n  \r\n  --border-width: 1px;\r\n  --border-width-thick: 2px;\r\n  \r\n  /* ==================== TRANSITIONS ==================== */\r\n  --transition-fast: 0.15s;\r\n  --transition-base: 0.25s;\r\n  --transition-slow: 0.3s;\r\n  --transition-cubic: cubic-bezier(0.34, 1.56, 0.64, 1);\r\n  --transition-ease: cubic-bezier(0.4, 0, 0.2, 1);\r\n  \r\n  /* ==================== TRANSFORMS ==================== */\r\n  --transform-hover-lift: translateY(-2px);\r\n  --transform-hover-scale: scale(1.02);\r\n  --transform-active-scale: scale(0.98);\r\n  --transform-sidebar-slide: translateX(3px);\r\n  \r\n  /* ==================== Z-INDEX ==================== */\r\n  --z-dropdown: 1000;\r\n  --z-sticky: 1020;\r\n  --z-fixed: 1030;\r\n  --z-modal-backdrop: 1040;\r\n  --z-modal: 1050;\r\n  --z-popover: 1060;\r\n  --z-tooltip: 1070;\r\n  --z-ai-preview: 10000;\r\n  \r\n  /* ==================== LAYOUT ==================== */\r\n  --sidebar-width: 280px;\r\n  --navbar-height: 64px;\r\n  --header-height: 56px;\r\n  --max-content-width: 100%;\r\n  \r\n  /* ==================== GLASSMORPHISM EFFECTS ==================== */\r\n  --glass-blur: blur(10px);\r\n  --glass-backdrop: rgba(255, 255, 255, 0.8);\r\n  \r\n  /* Glassmorphism Variables - Centralized Control */\r\n  --glasmorphic-primary-opacity: 0.7;\r\n  --glasmorphic-primary-blur: 20px;\r\n  --glasmorphic-secondary-opacity: 0.65;\r\n  --glasmorphic-secondary-blur: 15px;\r\n  --glasmorphic-tertiary-opacity: 0.6;\r\n  --glasmorphic-tertiary-blur: 10px;\r\n  --glasmorphic-overlay-opacity: 0.0;\r\n  \r\n  /* ==================== OPACITY SYSTEM ==================== */\r\n  --opacity-subtle: 0.1;     /* Hints, borders ligeros */\r\n  --opacity-light: 0.2;      /* Estados, highlights */\r\n  --opacity-medium: 0.5;     /* Overlays, modals */\r\n  --opacity-strong: 0.8;     /* Componentes principales */\r\n  --opacity-solid: 1.0;      /* Texto, elementos cr√≠ticos */\r\n  \r\n  /* ==================== ADDITIONAL COLORS - LIGHT THEME ==================== */\r\n  --bg-accent: rgba(99, 102, 241, var(--opacity-subtle));\r\n  --bg-hover: rgba(99, 102, 241, var(--opacity-subtle));\r\n  --text-disabled: rgba(49, 46, 129, 0.5);\r\n  --border-base: rgba(99, 102, 241, 0.12);\r\n  --border-emphasis: rgba(99, 102, 241, var(--opacity-light));\r\n  \r\n  /* ==================== STATUS COLORS - COMPLETE SET ==================== */\r\n  --status-success: #7c3aed;\r\n  --status-success-bg: rgba(124, 58, 237, var(--opacity-light));\r\n  --status-success-hover: rgba(124, 58, 237, var(--opacity-strong));\r\n  \r\n  --status-warning: #6366f1;\r\n  --status-warning-bg: rgba(99, 102, 241, var(--opacity-light));\r\n  --status-warning-hover: rgba(99, 102, 241, var(--opacity-strong));\r\n  \r\n  --status-danger: #5b21b6;\r\n  --status-danger-bg: rgba(91, 33, 182, var(--opacity-light));\r\n  --status-danger-hover: rgba(91, 33, 182, var(--opacity-strong));\r\n  \r\n  --status-info: #6366f1;\r\n  --status-info-bg: rgba(99, 102, 241, var(--opacity-light));\r\n  --status-info-hover: rgba(99, 102, 241, var(--opacity-strong));\r\n  \r\n  --status-neutral: #a5b4fc;\r\n  --status-neutral-bg: rgba(165, 180, 252, 0.15);\r\n  \r\n  /* ==================== ACCENT COLORS ==================== */\r\n  --accent-primary: #6d28d9;\r\n  --accent-primary-dark: #581c87;\r\n  --accent-secondary: #8b5cf6;\r\n  \r\n  /* ==================== SPECIAL EFFECTS ==================== */\r\n  --glow-blue: rgba(109, 40, 217, 0.1);\r\n  --glow-red: rgba(91, 33, 182, 0.06);\r\n  --backdrop-blur: blur(20px);\r\n  --backdrop-blur-light: blur(10px);\r\n}\r\n\r\n/* ==================== DARK THEME OVERRIDES ==================== */\r\nbody.theme-dark {\r\n  /* Glassmorphism Variables - Dark Theme Overrides */\r\n  --glasmorphic-primary-opacity: 0.75;\r\n  --glasmorphic-secondary-opacity: 0.6;\r\n  --glasmorphic-tertiary-opacity: 0.5;\r\n  --glasmorphic-overlay-opacity: 0.0;\r\n  \r\n  /* Background Colors - Dark Theme */\r\n  --bg: #000000;\r\n  --bg-primary: #0a0a0a;\r\n  --bg-secondary: #1a1a1a;\r\n  --bg-tertiary: #2a2a2a;\r\n  --bg-accent: rgba(42, 42, 42, var(--opacity-subtle));\r\n  --bg-hover: rgba(50, 50, 50, var(--opacity-subtle));\r\n  --card-bg: rgba(10, 10, 10, 0.95);\r\n  --card-bg-hover: rgba(20, 20, 20, 0.98);\r\n  \r\n  /* Text Colors - Dark Theme */\r\n  --text: #e0e6f0;\r\n  --text-primary: #ffffff;\r\n  --text-secondary: #e0e0e0;\r\n  --text-muted: #b0b8c8;\r\n  --text-disabled: rgba(176, 184, 200, 0.5);\r\n  \r\n  /* Border & Dividers - Dark Theme */\r\n  --border: rgba(59, 130, 246, 0.25);\r\n  --border-color: rgba(59, 130, 246, 0.2);\r\n  --border-base: rgba(120, 120, 120, var(--opacity-subtle));\r\n  --border-light: rgba(100, 100, 100, 0.05);\r\n  --border-emphasis: rgba(140, 140, 140, var(--opacity-light));\r\n  \r\n  /* Status Colors - Dark Theme */\r\n  --status-success: #4ade80;\r\n  --status-success-bg: rgba(74, 222, 128, var(--opacity-light));\r\n  --status-success-hover: rgba(74, 222, 128, var(--opacity-strong));\r\n  \r\n  --status-warning: #fbbf24;\r\n  --status-warning-bg: rgba(251, 191, 36, var(--opacity-light));\r\n  --status-warning-hover: rgba(251, 191, 36, var(--opacity-strong));\r\n  \r\n  --status-danger: #ff6b6b;\r\n  --status-danger-bg: rgba(255, 107, 107, var(--opacity-light));\r\n  --status-danger-hover: rgba(255, 107, 107, var(--opacity-strong));\r\n  \r\n  --status-info: #8a8a8a;\r\n  --status-info-bg: rgba(120, 120, 120, var(--opacity-light));\r\n  --status-info-hover: rgba(140, 140, 140, var(--opacity-strong));\r\n  \r\n  --status-neutral: #b0b8c8;\r\n  --status-neutral-bg: rgba(176, 184, 200, 0.15);\r\n  \r\n  /* Accent Colors - Dark Theme */\r\n  --accent-primary: #8a8a8a;\r\n  --accent-primary-dark: #666666;\r\n  --accent-secondary: #b0b0b0;\r\n  \r\n  /* Shadows - Dark Theme */\r\n  --shadow-sm: 0 2px 8px rgba(0, 0, 0, var(--opacity-light));\r\n  --shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\r\n  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.25);\r\n  --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n  --shadow-xl: 0 30px 80px rgba(0, 0, 0, 0.35);\r\n  \r\n  /* Special Effects - Dark Theme */\r\n  --glow-gray: rgba(120, 120, 120, 0.1);\r\n  --glow-light: rgba(100, 100, 100, 0.06);\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/flowing-mvp-footer.css?v=1765920148",
    "ranges": [
      {
        "start": 84,
        "end": 132
      },
      {
        "start": 196,
        "end": 536
      },
      {
        "start": 540,
        "end": 866
      },
      {
        "start": 943,
        "end": 1060
      },
      {
        "start": 1400,
        "end": 1449
      },
      {
        "start": 1723,
        "end": 1922
      },
      {
        "start": 1988,
        "end": 2146
      },
      {
        "start": 2227,
        "end": 2470
      },
      {
        "start": 3303,
        "end": 4244
      },
      {
        "start": 4294,
        "end": 4407
      },
      {
        "start": 4437,
        "end": 4725
      },
      {
        "start": 8243,
        "end": 8434
      },
      {
        "start": 8620,
        "end": 8864
      },
      {
        "start": 8868,
        "end": 9045
      },
      {
        "start": 9049,
        "end": 9214
      },
      {
        "start": 9285,
        "end": 9401
      },
      {
        "start": 9405,
        "end": 9495
      },
      {
        "start": 9599,
        "end": 9735
      },
      {
        "start": 9739,
        "end": 9966
      },
      {
        "start": 10063,
        "end": 10221
      },
      {
        "start": 10387,
        "end": 10514
      },
      {
        "start": 10518,
        "end": 10612
      },
      {
        "start": 10738,
        "end": 10816
      },
      {
        "start": 10837,
        "end": 11113
      },
      {
        "start": 11117,
        "end": 11285
      },
      {
        "start": 11289,
        "end": 11630
      },
      {
        "start": 11634,
        "end": 11666
      },
      {
        "start": 11670,
        "end": 11780
      },
      {
        "start": 11871,
        "end": 11950
      },
      {
        "start": 12770,
        "end": 12871
      },
      {
        "start": 12875,
        "end": 12955
      },
      {
        "start": 12959,
        "end": 13097
      },
      {
        "start": 13101,
        "end": 13139
      },
      {
        "start": 13143,
        "end": 13426
      },
      {
        "start": 13599,
        "end": 13792
      },
      {
        "start": 14515,
        "end": 14980
      },
      {
        "start": 14984,
        "end": 15146
      },
      {
        "start": 17484,
        "end": 17513
      },
      {
        "start": 18353,
        "end": 18395
      },
      {
        "start": 18399,
        "end": 18706
      },
      {
        "start": 18710,
        "end": 18809
      },
      {
        "start": 18813,
        "end": 18870
      },
      {
        "start": 18941,
        "end": 18989
      },
      {
        "start": 20290,
        "end": 20335
      },
      {
        "start": 20339,
        "end": 20493
      },
      {
        "start": 20497,
        "end": 20606
      },
      {
        "start": 20610,
        "end": 20831
      },
      {
        "start": 20835,
        "end": 20912
      },
      {
        "start": 21290,
        "end": 21344
      },
      {
        "start": 21760,
        "end": 21823
      },
      {
        "start": 23541,
        "end": 23622
      },
      {
        "start": 23683,
        "end": 23974
      },
      {
        "start": 24012,
        "end": 24117
      },
      {
        "start": 24121,
        "end": 24204
      },
      {
        "start": 24208,
        "end": 24268
      },
      {
        "start": 24272,
        "end": 24353
      },
      {
        "start": 29755,
        "end": 29827
      },
      {
        "start": 31034,
        "end": 31119
      },
      {
        "start": 33950,
        "end": 34084
      },
      {
        "start": 34117,
        "end": 35072
      },
      {
        "start": 35122,
        "end": 35268
      },
      {
        "start": 35295,
        "end": 35367
      },
      {
        "start": 35371,
        "end": 35547
      },
      {
        "start": 35551,
        "end": 35628
      },
      {
        "start": 35650,
        "end": 36032
      },
      {
        "start": 36057,
        "end": 36337
      },
      {
        "start": 36341,
        "end": 36417
      },
      {
        "start": 36421,
        "end": 36491
      },
      {
        "start": 36495,
        "end": 36533
      },
      {
        "start": 36575,
        "end": 37129
      },
      {
        "start": 37271,
        "end": 37422
      },
      {
        "start": 37426,
        "end": 37505
      },
      {
        "start": 37509,
        "end": 37792
      },
      {
        "start": 37796,
        "end": 37875
      },
      {
        "start": 37879,
        "end": 37942
      },
      {
        "start": 38049,
        "end": 38147
      },
      {
        "start": 38151,
        "end": 38248
      },
      {
        "start": 38339,
        "end": 38452
      },
      {
        "start": 38479,
        "end": 38641
      },
      {
        "start": 39289,
        "end": 39580
      },
      {
        "start": 39584,
        "end": 39697
      },
      {
        "start": 39727,
        "end": 39923
      },
      {
        "start": 39927,
        "end": 40007
      },
      {
        "start": 40036,
        "end": 40092
      },
      {
        "start": 40096,
        "end": 40202
      },
      {
        "start": 40206,
        "end": 40311
      },
      {
        "start": 40647,
        "end": 40733
      },
      {
        "start": 40955,
        "end": 41257
      },
      {
        "start": 41261,
        "end": 41524
      },
      {
        "start": 41831,
        "end": 42090
      },
      {
        "start": 42094,
        "end": 42216
      },
      {
        "start": 42409,
        "end": 42514
      },
      {
        "start": 42518,
        "end": 42573
      },
      {
        "start": 42577,
        "end": 42639
      },
      {
        "start": 42643,
        "end": 42708
      },
      {
        "start": 42712,
        "end": 42793
      },
      {
        "start": 42797,
        "end": 42860
      },
      {
        "start": 42885,
        "end": 43156
      },
      {
        "start": 43160,
        "end": 43309
      },
      {
        "start": 43313,
        "end": 43351
      },
      {
        "start": 43355,
        "end": 43394
      },
      {
        "start": 43416,
        "end": 43581
      },
      {
        "start": 43585,
        "end": 43718
      },
      {
        "start": 43722,
        "end": 43828
      },
      {
        "start": 43832,
        "end": 44259
      },
      {
        "start": 44392,
        "end": 44530
      },
      {
        "start": 44648,
        "end": 44699
      },
      {
        "start": 44703,
        "end": 45072
      },
      {
        "start": 45721,
        "end": 45740
      },
      {
        "start": 45745,
        "end": 45790
      },
      {
        "start": 45796,
        "end": 45851
      },
      {
        "start": 45857,
        "end": 45932
      },
      {
        "start": 45938,
        "end": 46085
      },
      {
        "start": 46091,
        "end": 46158
      },
      {
        "start": 46164,
        "end": 46207
      },
      {
        "start": 46213,
        "end": 46261
      },
      {
        "start": 46320,
        "end": 46364
      },
      {
        "start": 46370,
        "end": 46421
      },
      {
        "start": 46427,
        "end": 46471
      },
      {
        "start": 46477,
        "end": 46527
      },
      {
        "start": 46673,
        "end": 46790
      },
      {
        "start": 46794,
        "end": 46943
      },
      {
        "start": 46947,
        "end": 47027
      },
      {
        "start": 47031,
        "end": 47112
      },
      {
        "start": 47218,
        "end": 47723
      },
      {
        "start": 48026,
        "end": 48089
      },
      {
        "start": 48093,
        "end": 48315
      },
      {
        "start": 48403,
        "end": 48504
      },
      {
        "start": 49369,
        "end": 49567
      },
      {
        "start": 49660,
        "end": 49882
      },
      {
        "start": 49886,
        "end": 50346
      },
      {
        "start": 50350,
        "end": 50556
      },
      {
        "start": 50560,
        "end": 50687
      },
      {
        "start": 50747,
        "end": 50796
      },
      {
        "start": 50800,
        "end": 50901
      },
      {
        "start": 50981,
        "end": 51109
      },
      {
        "start": 51113,
        "end": 51214
      },
      {
        "start": 51218,
        "end": 51358
      },
      {
        "start": 54191,
        "end": 54251
      },
      {
        "start": 54255,
        "end": 54319
      },
      {
        "start": 54323,
        "end": 54598
      },
      {
        "start": 54669,
        "end": 54845
      },
      {
        "start": 55238,
        "end": 55326
      },
      {
        "start": 55605,
        "end": 55741
      },
      {
        "start": 55745,
        "end": 55913
      },
      {
        "start": 55981,
        "end": 56155
      },
      {
        "start": 56423,
        "end": 56667
      },
      {
        "start": 56671,
        "end": 56989
      },
      {
        "start": 57088,
        "end": 57142
      },
      {
        "start": 57299,
        "end": 57495
      },
      {
        "start": 57499,
        "end": 57626
      },
      {
        "start": 57658,
        "end": 57865
      },
      {
        "start": 57899,
        "end": 58125
      },
      {
        "start": 58129,
        "end": 58389
      },
      {
        "start": 58393,
        "end": 58526
      },
      {
        "start": 58530,
        "end": 58658
      },
      {
        "start": 58662,
        "end": 58873
      }
    ],
    "text": "/* Disable layout shift caused by footer: do not push or translate main content */\r\nhtml,\r\nbody {\r\n  transition: none !important;\r\n}\r\n\r\n/* Ensure footer overlays content instead of pushing it */\r\nbody.flowing-footer-expanded #kanbanView,\r\nbody.flowing-footer-expanded .board-wrapper,\r\nbody.flowing-footer-expanded #listView,\r\nbody.flowing-footer-expanded .list-wrapper,\r\nbody.flowing-footer-expanded .header-enhanced,\r\nbody.flowing-footer-expanded .filter-bar-enhanced {\r\n  transform: none !important;\r\n  transition: none !important;\r\n}\r\n\r\nbody.sidebar-collapsed.flowing-footer-expanded #kanbanView,\r\nbody.sidebar-collapsed.flowing-footer-expanded .board-wrapper,\r\nbody.sidebar-collapsed.flowing-footer-expanded .header-enhanced,\r\nbody.sidebar-collapsed.flowing-footer-expanded .filter-bar-enhanced {\r\n  transform: none !important;\r\n  transition: none !important;\r\n}\r\n\r\n/* Expanded state visual: footer may grow but should overlay content */\r\n.flowing-footer:not(.collapsed) {\r\n  transition: max-height 0.28s ease, box-shadow 0.2s ease;\r\n  max-height: 60vh;\r\n}\r\n\r\n\r\n\r\n/* ===================================\r\n   FLOWING MVP - FOOTER ML ASSISTANT V2\r\n   Dise√±o optimizado con checkboxes\r\n   \r\n   ‚ö†Ô∏è INTEGRATION NOTE: This CSS is scoped to .flowing-footer\r\n   to avoid conflicts with main app styles\r\n   =================================== */\r\n\r\n/* SCOPED RESET - Only applies inside flowing-footer */\r\n.flowing-footer * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Remove global styles that conflict with main app */\r\n/* body, body::before styles removed - handled by main app */\r\n\r\n/* Loading spinner animation */\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.loading-spinner {\r\n  border: 4px solid #f3f4f6;\r\n  border-top: 4px solid #3b82f6;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Ensure board-wrapper has padding for footer visibility */\r\n.board-wrapper,\r\n#kanbanView,\r\n#listView {\r\n  /* Do not reserve extra space for the footer; footer will overlay content */\r\n  padding-bottom: 0 !important;\r\n}\r\n\r\n/* When collapsed, keep default small safe spacing if desired (optional) */\r\n.flowing-footer.collapsed~.main-wrapper .board-wrapper,\r\nbody:has(.flowing-footer.collapsed) .board-wrapper,\r\nbody:has(.flowing-footer.collapsed) #kanbanView,\r\nbody:has(.flowing-footer.collapsed) #listView {\r\n  padding-bottom: 0 !important;\r\n}\r\n\r\n.ticket-key {\r\n  font-weight: 600;\r\n  color: #667eea;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.ticket-summary {\r\n  color: #2d3748;\r\n  font-size: 0.9rem;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.ticket-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.priority {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n}\r\n\r\n.priority.low {\r\n  background: #c6f6d5;\r\n  color: #22543d;\r\n}\r\n\r\n.priority.medium {\r\n  background: #feebc8;\r\n  color: #7c2d12;\r\n}\r\n\r\n.priority.high {\r\n  background: #fed7d7;\r\n  color: #742a2a;\r\n}\r\n\r\n.priority.critical {\r\n  background: #fc8181;\r\n  color: white;\r\n}\r\n\r\n.assignee {\r\n  color: #4a5568;\r\n}\r\n\r\n/* ===================================\r\n   ML FOOTER - GLASSMORPHISM (Uses CSS Variables)\r\n   =================================== */\r\n\r\n.flowing-footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  /* Glassmorphism background using CSS variables (controlled by transparency manager) */\r\n  background: var(--glass-backdrop, rgba(255, 255, 255, 0.85));\r\n  backdrop-filter: var(--backdrop-blur, blur(12px));\r\n  -webkit-backdrop-filter: var(--backdrop-blur, blur(12px));\r\n  border-top: 1px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  box-shadow:\r\n    0 -8px 32px rgba(31, 38, 135, 0.15),\r\n    0 -4px 16px rgba(0, 0, 0, 0.1),\r\n    inset 0 1px 0 rgba(255, 255, 255, 0.5);\r\n  z-index: var(--z-modal, 1000);\r\n  transition: all 0.4s var(--transition-ease, cubic-bezier(0.4, 0, 0.2, 1));\r\n  max-height: 60vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  /* Floating element styling */\r\n  border-radius: 16px 16px 0 0;\r\n\r\n  /* Align with main-content/board-wrapper (sidebar 280px + 16px padding) */\r\n  width: calc(100% - 280px - 32px);\r\n  left: 280px;\r\n  margin: 0 16px;\r\n}\r\n\r\n/* When sidebar is collapsed (60px width) */\r\nbody.sidebar-collapsed .flowing-footer {\r\n  width: calc(100% - 60px - 32px);\r\n  left: 60px;\r\n  margin: 0 16px;\r\n}\r\n\r\n/* Dark Theme Support */\r\nbody.theme-dark .flowing-footer {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  border-top-color: var(--border, rgba(59, 130, 246, 0.25));\r\n  box-shadow:\r\n    0 -8px 32px rgba(0, 0, 0, 0.4),\r\n    0 -4px 16px rgba(0, 0, 0, 0.3),\r\n    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.flowing-header {\r\n  /* Consolidated header for Flowing footer (single source of truth) */\r\n  position: absolute;\r\n  /* positioned at top of footer */\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px 24px;\r\n  cursor: pointer;\r\n  transition: all var(--transition-base, 0.25s) ease;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\r\n  background: radial-gradient(circle at 8% 30%, rgba(139, 92, 246, 0.06) 0%, rgba(139, 92, 246, 0.03) 18%, transparent 35%), rgba(255, 255, 255, 0.56);\r\n  backdrop-filter: blur(10px) saturate(1.02);\r\n}\r\n\r\n.flowing-header:hover {\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\n/* Dark theme overrides for header */\r\n[data-theme=\"dark\"] .flowing-header,\r\nbody.theme-dark .flowing-footer .flowing-header {\r\n  border-bottom-color: rgba(255, 255, 255, 0.06);\r\n  background: radial-gradient(circle at 8% 30%, rgba(139, 92, 246, 0.06) 0%, rgba(139, 92, 246, 0.03) 18%, transparent 35%), rgba(17, 24, 39, 0.72);\r\n  backdrop-filter: blur(10px) saturate(1.04);\r\n}\r\n\r\n.flowing-title-text h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: var(--ff-accent-strong, #1f2937);\r\n  background: linear-gradient(135deg, var(--ff-accent, #6366f1) 0%, #8b5cf6 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.footer-header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.footer-icon {\r\n  color: var(--accent-primary, #6366f1);\r\n  font-size: 1.3rem;\r\n  filter: drop-shadow(0 2px 4px rgba(99, 102, 241, 0.4));\r\n}\r\n\r\nbody.theme-dark .footer-icon {\r\n  color: var(--accent-primary, #8a8a8a);\r\n}\r\n\r\n.footer-title {\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  color: var(--text-primary, #1f2937);\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\nbody.theme-dark .footer-title {\r\n  color: var(--text-primary, #ffffff);\r\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.footer-header-center {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.ticket-info-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.ticket-info-header.hidden {\r\n  display: none;\r\n}\r\n\r\n.ticket-key-header {\r\n  font-weight: 700;\r\n  color: var(--accent-primary, #6366f1);\r\n}\r\n\r\n.ticket-separator {\r\n  color: var(--text-muted, #4a5568);\r\n}\r\n\r\n.ticket-summary-header {\r\n  color: var(--text-primary, #1f2937);\r\n  font-weight: 600;\r\n}\r\n\r\nbody.theme-dark .ticket-summary-header {\r\n  color: var(--text-primary, #ffffff);\r\n}\r\n\r\n.footer-header-right {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn-footer-chevron {\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.15));\r\n  border: 2px solid var(--border, rgba(59, 130, 246, 0.3));\r\n  color: var(--text-primary, #1f2937);\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition-base, 0.25s);\r\n  backdrop-filter: var(--glass-blur, blur(10px));\r\n}\r\n\r\nbody.theme-dark .btn-footer-chevron {\r\n  color: var(--text-primary, #ffffff);\r\n  background: var(--bg-hover, rgba(50, 50, 50, 0.2));\r\n}\r\n\r\n.btn-footer-chevron:hover {\r\n  background: var(--accent-primary, #6366f1);\r\n  border-color: var(--accent-primary, #6366f1);\r\n  color: white;\r\n  transform: translateY(-2px) scale(1.05);\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n/* Footer Content */\r\n.flowing-content,\r\n.ml-footer-content {\r\n  max-height: 70vh;\r\n  overflow-y: auto;\r\n  animation: slideUp 0.3s ease;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Ticket Description */\r\n.ticket-description-section {\r\n  padding: 1rem 2rem;\r\n  background: var(--glass-backdrop, rgba(249, 250, 251, 0.5));\r\n  backdrop-filter: var(--glass-blur, blur(10px));\r\n  border-bottom: 1px solid var(--border-light, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\nbody.theme-dark .ticket-description-section {\r\n  background: var(--bg-secondary, rgba(26, 26, 26, 0.5));\r\n  border-bottom-color: var(--border-base, rgba(120, 120, 120, 0.1));\r\n}\r\n\r\n.section-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #4a5568;\r\n  font-weight: 600;\r\n  font-size: 0.9rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.section-label i {\r\n  color: var(--accent-primary, #6366f1);\r\n}\r\n\r\n.ticket-description-content {\r\n  color: var(--text-primary, #2d3748);\r\n  line-height: 1.6;\r\n  font-size: 0.95rem;\r\n}\r\n\r\nbody.theme-dark .ticket-description-content {\r\n  color: var(--text-secondary, #e0e0e0);\r\n}\r\n\r\n/* Description uses native <details> so collapse is browser-driven and layout reflows naturally */\r\ndetails.ticket-description-section {\r\n  padding: 0;\r\n  background: transparent;\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.08);\r\n}\r\n\r\ndetails.ticket-description-section summary {\r\n  list-style: none;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 16px 20px;\r\n  cursor: pointer;\r\n  color: var(--text-primary, #374151);\r\n  font-weight: 600;\r\n}\r\n\r\ndetails.ticket-description-section summary::-webkit-details-marker {\r\n  display: none;\r\n}\r\n\r\ndetails.ticket-description-section .ticket-description-content {\r\n  padding: 0 20px 16px 20px;\r\n  color: var(--text-primary, #4b5563);\r\n  line-height: 1.6;\r\n}\r\n\r\n/* Rotate the chevron icon when open (assumes SVG inside summary as last child) */\r\n/* By default (collapsed) rotate the chevron up; when open, reset to down */\r\ndetails.ticket-description-section summary> :last-child {\r\n  transform: rotate(180deg);\r\n  transition: transform 180ms ease;\r\n}\r\n\r\ndetails.ticket-description-section[open] summary> :last-child {\r\n  transform: rotate(0deg);\r\n}\r\n\r\n/* Two Columns Layout: consolidated later in file (keep single canonical definition near bottom) */\r\n\r\n/* LEFT COLUMN */\r\n.left-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n/* ML Banner */\r\n.ml-suggestions-banner {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n  border: 1px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  border-radius: var(--border-radius-lg, 12px);\r\n}\r\n\r\nbody.theme-dark .ml-suggestions-banner {\r\n  background: var(--glass-blue-medium, rgba(59, 130, 246, 0.15));\r\n  border-color: var(--border, rgba(59, 130, 246, 0.25));\r\n}\r\n\r\n.banner-icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  background: linear-gradient(135deg, var(--accent-primary, #6366f1) 0%, var(--accent-secondary, #818cf8) 100%);\r\n  color: white;\r\n  border-radius: var(--border-radius-lg, 12px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.5rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.banner-content {\r\n  flex: 1;\r\n}\r\n\r\n.banner-content h4 {\r\n  color: var(--text-primary, #2d3748);\r\n  font-size: 1rem;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.banner-content p {\r\n  color: var(--text-muted, #4a5568);\r\n  font-size: 0.85rem;\r\n}\r\n\r\nbody.theme-dark .banner-content h4 {\r\n  color: var(--text-primary, #ffffff);\r\n}\r\n\r\nbody.theme-dark .banner-content p {\r\n  color: var(--text-muted, #b0b8c8);\r\n}\r\n\r\n.btn-banner-action {\r\n  padding: 0.5rem 1rem;\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.95));\r\n  border: 2px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  color: var(--accent-primary, #6366f1);\r\n  border-radius: var(--border-radius-md, 8px);\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all var(--transition-base, 0.25s) ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn-banner-action:hover {\r\n  background: var(--accent-primary, #6366f1);\r\n  color: white;\r\n  transform: scale(1.05);\r\n}\r\n\r\nbody.theme-dark .btn-banner-action {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  border-color: var(--border, rgba(59, 130, 246, 0.25));\r\n}\r\n\r\n/* Essential Fields Grid (3 columns) */\r\n.essential-fields-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 1rem;\r\n}\r\n\r\n.field-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.field-label {\r\n  color: #4a5568;\r\n  font-weight: 600;\r\n  font-size: 0.85rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.field-label i {\r\n  color: #667eea;\r\n}\r\n\r\n.field-input {\r\n  padding: 0.75rem;\r\n  border: 2px solid var(--border-light, rgba(59, 130, 246, 0.1));\r\n  border-radius: var(--border-radius-md, 8px);\r\n  font-size: 0.9rem;\r\n  transition: all var(--transition-base, 0.25s);\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.95));\r\n}\r\n\r\n.field-input:focus {\r\n  outline: none;\r\n  border-color: var(--accent-primary, #6366f1);\r\n  box-shadow: 0 0 0 3px var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\nbody.theme-dark .field-input {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  border-color: var(--border-base, rgba(120, 120, 120, 0.1));\r\n  color: var(--text-secondary, #e0e0e0);\r\n}\r\n\r\n.labels-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n  padding: 0.5rem;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  background: white;\r\n  min-height: 42px;\r\n}\r\n\r\n.label-tag {\r\n  padding: 0.25rem 0.75rem;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-add-label {\r\n  background: transparent;\r\n  border: 2px dashed #cbd5e0;\r\n  color: #718096;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-add-label:hover {\r\n  border-color: #667eea;\r\n  color: #667eea;\r\n}\r\n\r\n/* ML Suggestion Checkbox */\r\n.ml-suggestion-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.75rem;\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.9));\r\n  backdrop-filter: var(--glass-blur, blur(10px));\r\n  border: 1px solid var(--border-light, rgba(59, 130, 246, 0.1));\r\n  border-radius: var(--border-radius-lg, 12px);\r\n  cursor: pointer;\r\n  transition: all var(--transition-base, 0.25s);\r\n  box-shadow: var(--shadow-sm, 0 2px 8px rgba(0, 0, 0, 0.05));\r\n}\r\n\r\nbody.theme-dark .ml-suggestion-checkbox {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  border-color: var(--border-base, rgba(120, 120, 120, 0.1));\r\n}\r\n\r\n.ml-suggestion-checkbox:hover {\r\n  border-color: var(--accent-primary, #6366f1);\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.05));\r\n}\r\n\r\n.ml-cb {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.ml-suggestion-checkbox label {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.ml-icon {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.ml-text {\r\n  color: #4a5568;\r\n  flex: 1;\r\n}\r\n\r\n.ml-text strong {\r\n  color: var(--accent-primary, #6366f1);\r\n  font-weight: 600;\r\n}\r\n\r\n.ml-conf {\r\n  padding: 0.25rem 0.5rem;\r\n  background: var(--accent-primary, #6366f1);\r\n  color: white;\r\n  border-radius: var(--border-radius-full, 12px);\r\n  font-size: 0.7rem;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Chat-only view: hide left column and expand right */\r\n.flowing-footer.chat-only .footer-two-columns {\r\n  grid-template-columns: 1fr;\r\n  gap: 0;\r\n}\r\n\r\n.flowing-footer.chat-only .left-column {\r\n  display: none;\r\n}\r\n\r\n.flowing-footer.chat-only .right-column {\r\n  width: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n/* Hide ticket description when in chat-only mode */\r\n.flowing-footer.chat-only .ticket-description-section {\r\n  display: none;\r\n}\r\n\r\n/* Hide ML actions in right column when in chat mode */\r\n.flowing-footer.chat-only .ml-actions-section {\r\n  display: none;\r\n}\r\n\r\n/* Hide mode tabs when in chat-only mode */\r\n.flowing-footer.chat-only .mode-tabs {\r\n  display: none;\r\n}\r\n\r\n/* Expand comments-ai-container to full width in chat-only mode */\r\n.flowing-footer.chat-only .comments-ai-container {\r\n  width: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n/* Ensure active panel is visible in chat-only mode */\r\n.flowing-footer.chat-only .mode-panel.active {\r\n  display: block !important;\r\n}\r\n\r\n.ml-actions-section#mlActionsLeft {\r\n  display: none;\r\n}\r\n\r\n/* SLA Section */\r\n.sla-section {\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.sla-card {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);\r\n  border: 2px solid #fc8181;\r\n  border-radius: 12px;\r\n}\r\n\r\n.sla-icon-warning {\r\n  width: 48px;\r\n  height: 48px;\r\n  background: linear-gradient(135deg, #fc8181 0%, #f56565 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.5rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.sla-content {\r\n  flex: 1;\r\n}\r\n\r\n.sla-content h4 {\r\n  color: #2d3748;\r\n  font-size: 0.9rem;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.sla-risk {\r\n  color: #c53030;\r\n  font-weight: 700;\r\n  font-size: 1.1rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.sla-bar {\r\n  width: 100%;\r\n  height: 6px;\r\n  background: #e2e8f0;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.sla-bar-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #fc8181 0%, #f56565 100%);\r\n  transition: width 0.3s;\r\n}\r\n\r\n.sla-prob {\r\n  color: #718096;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.btn-sla-details {\r\n  padding: 0.5rem 1rem;\r\n  background: white;\r\n  border: 2px solid #fc8181;\r\n  color: #c53030;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-sla-details:hover {\r\n  background: #fc8181;\r\n  color: white;\r\n}\r\n\r\n/* Extra Details */\r\n.extra-details {\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.btn-toggle-details {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  justify-content: center;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-toggle-details:hover {\r\n  background: #f7fafc;\r\n  border-color: #667eea;\r\n  color: #667eea;\r\n}\r\n\r\n.btn-toggle-details i {\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.btn-toggle-details.active i {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.extra-details-content {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.details-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 1rem;\r\n}\r\n\r\n.detail-item label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #4a5568;\r\n  font-weight: 600;\r\n  font-size: 0.85rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.detail-item label i {\r\n  color: #667eea;\r\n}\r\n\r\n.detail-item input {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  background: #f7fafc;\r\n  color: #2d3748;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* Apply Selected Button */\r\n.apply-selected-container {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.btn-apply-selected {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background: linear-gradient(135deg, var(--accent-primary, #6366f1) 0%, var(--accent-secondary, #818cf8) 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--border-radius-md, 8px);\r\n  cursor: pointer;\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  transition: all var(--transition-base, 0.25s);\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n.btn-apply-selected:hover {\r\n  transform: var(--transform-hover-lift, translateY(-2px));\r\n  box-shadow: var(--shadow-md, 0 8px 24px rgba(59, 130, 246, 0.25));\r\n}\r\n\r\n/* ML Actions Section */\r\n.ml-actions-section {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.ml-actions-section h4 {\r\n  color: #2d3748;\r\n  font-size: 0.95rem;\r\n  margin-bottom: 0.75rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.suggested-comments {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.suggestion-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.suggestion-item:hover {\r\n  border-color: #667eea;\r\n  background: #f7fafc;\r\n}\r\n\r\n.suggestion-text {\r\n  flex: 1;\r\n  color: #2d3748;\r\n  font-size: 0.85rem;\r\n  line-height: 1.4;\r\n}\r\n\r\n.btn-copy {\r\n  background: transparent;\r\n  border: 1px solid #e2e8f0;\r\n  color: #718096;\r\n  padding: 0.5rem;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-copy:hover {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n  color: white;\r\n}\r\n\r\n.quick-actions {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  color: #4a5568;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.action-btn:hover {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n  color: white;\r\n}\r\n\r\n/* RIGHT COLUMN */\r\n.right-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.comments-ai-container {\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* Mode Tabs */\r\n.mode-tabs {\r\n  display: flex;\r\n  background: #f7fafc;\r\n  border-bottom: 2px solid #e2e8f0;\r\n  position: relative;\r\n  z-index: 10;\r\n  pointer-events: all;\r\n}\r\n\r\n.mode-tab {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  background: transparent;\r\n  border: none;\r\n  color: #718096;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  pointer-events: all;\r\n  position: relative;\r\n  z-index: 11;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  position: relative;\r\n}\r\n\r\n.mode-tab:hover {\r\n  color: var(--accent-primary, #6366f1);\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\n.mode-tab.active {\r\n  color: var(--accent-primary, #6366f1);\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.95));\r\n}\r\n\r\nbody.theme-dark .mode-tab.active {\r\n  background: var(--bg-hover, rgba(50, 50, 50, 0.1));\r\n}\r\n\r\n.mode-tab.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -2px;\r\n  left: 0;\r\n  right: 0;\r\n  height: 2px;\r\n  background: linear-gradient(90deg, var(--accent-primary, #6366f1) 0%, var(--accent-secondary, #818cf8) 100%);\r\n}\r\n\r\n/* Mode Content */\r\n.mode-content {\r\n  flex: 1;\r\n  position: relative;\r\n  min-height: 250px;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.mode-panel {\r\n  display: none;\r\n  padding: 1rem;\r\n}\r\n\r\n.mode-panel.active {\r\n  display: block;\r\n}\r\n\r\n/* Comments List */\r\n.comments-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.comment-item {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.comment-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 700;\r\n  font-size: 0.8rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.comment-body {\r\n  flex: 1;\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.comment-author {\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.comment-time {\r\n  color: #718096;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.comment-text {\r\n  color: #4a5568;\r\n  font-size: 0.85rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* AI Messages */\r\n.ai-messages {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.ai-message {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  padding: 0.75rem;\r\n  background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);\r\n  border-radius: 8px;\r\n  border-left: 4px solid #667eea;\r\n}\r\n\r\n.ai-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: linear-gradient(135deg, var(--primary, #3b82f6) 0%, var(--primary-light, #93c5fd) 100%);\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n.ai-text {\r\n  flex: 1;\r\n  color: #4a5568;\r\n  font-size: 0.85rem;\r\n  line-height: 1.6;\r\n}\r\n\r\n.ai-text ul {\r\n  margin-top: 0.5rem;\r\n  margin-left: 1.25rem;\r\n}\r\n\r\n.ai-text li {\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n/* Input Area */\r\n.input-area {\r\n  border-top: 1px solid var(--border-light, rgba(59, 130, 246, 0.1));\r\n  background: var(--glass-backdrop, rgba(255, 255, 255, 0.7));\r\n  backdrop-filter: var(--glass-blur, blur(10px));\r\n  padding: 16px 24px;\r\n}\r\n\r\nbody.theme-dark .input-area {\r\n  border-top-color: var(--border-base, rgba(120, 120, 120, 0.1));\r\n  background: var(--bg-hover, rgba(50, 50, 50, 0.1));\r\n}\r\n\r\n.input-mode-badge {\r\n  padding: 0.5rem 0.75rem;\r\n  background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);\r\n  border-radius: 6px;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n}\r\n\r\n.input-toolbar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.tool-btn {\r\n  background: transparent;\r\n  border: 1px solid #e2e8f0;\r\n  color: #718096;\r\n  padding: 0.5rem;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.tool-btn:hover {\r\n  background: #f7fafc;\r\n  border-color: #667eea;\r\n  color: #667eea;\r\n}\r\n\r\n.visibility-toggle {\r\n  margin-left: auto;\r\n}\r\n\r\n.visibility-toggle input {\r\n  display: none;\r\n}\r\n\r\n.visibility-toggle label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem 0.75rem;\r\n  background: #f7fafc;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.visibility-toggle input:checked+label {\r\n  background: #fef5e7;\r\n  border-color: #f59e0b;\r\n  color: #92400e;\r\n}\r\n\r\n.input-wrapper {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n#unifiedInput {\r\n  flex: 1;\r\n  min-height: 44px;\r\n  max-height: 120px;\r\n  padding: 12px 16px;\r\n  border: 2px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  border-radius: var(--border-radius-lg, 12px);\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.9));\r\n  backdrop-filter: var(--glass-blur, blur(10px));\r\n  font-size: var(--font-size-base, 14px);\r\n  font-family: var(--font-family, 'Aptos', sans-serif);\r\n  color: var(--text-primary, #1f2937);\r\n  resize: none;\r\n  transition: all var(--transition-base, 0.25s) ease;\r\n  outline: none;\r\n}\r\n\r\n#unifiedInput:focus {\r\n  border-color: var(--accent-primary, #6366f1);\r\n  background: var(--bg-primary, #ffffff);\r\n  box-shadow: 0 0 0 3px var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n}\r\n\r\nbody.theme-dark #unifiedInput {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  border-color: var(--border, rgba(59, 130, 246, 0.25));\r\n  color: var(--text-secondary, #e0e0e0);\r\n}\r\n\r\nbody.theme-dark #unifiedInput:focus {\r\n  background: var(--card-bg-hover, rgba(20, 20, 20, 0.98));\r\n  border-color: var(--accent-primary, #8a8a8a);\r\n}\r\n\r\n.btn-send {\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: var(--border-radius-lg, 12px);\r\n  background: linear-gradient(135deg, var(--accent-primary, #6366f1) 0%, var(--accent-secondary, #818cf8) 100%);\r\n  border: none;\r\n  cursor: pointer;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition-base, 0.25s) ease;\r\n  flex-shrink: 0;\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n.btn-send:hover {\r\n  transform: var(--transform-hover-lift, translateY(-2px));\r\n  box-shadow: var(--shadow-md, 0 8px 24px rgba(59, 130, 246, 0.25));\r\n}\r\n\r\n.btn-send:active {\r\n  transform: var(--transform-active-scale, scale(0.98));\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 1200px) {\r\n  .essential-fields-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .details-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n\r\n  .ml-status {\r\n    display: none;\r\n  }\r\n\r\n  .main-content {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .board-columns {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  /* footer-two-columns padding handled by consolidated block */\r\n}\r\n\r\n/* ===================================\r\n   SLA COMBINED SECTION\r\n   =================================== */\r\n\r\n.sla-combined-section {\r\n  margin: 1.5rem 0;\r\n}\r\n\r\n.sla-combined-section .sla-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  padding: 1.5rem;\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.95));\r\n  border: 1px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  border-left: 4px solid #fc8181;\r\n  border-radius: var(--border-radius-lg, 12px);\r\n  box-shadow: var(--shadow-sm, 0 2px 8px rgba(0, 0, 0, 0.05));\r\n}\r\n\r\nbody.theme-dark .sla-combined-section .sla-card {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n}\r\n\r\n.sla-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.sla-header h4 {\r\n  color: var(--text-primary, #2d3748);\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  margin: 0;\r\n}\r\n\r\nbody.theme-dark .sla-header h4 {\r\n  color: var(--text-primary, #ffffff);\r\n}\r\n\r\n.sla-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.sla-metric {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.sla-label {\r\n  font-size: 0.85rem;\r\n  color: var(--text-muted, #4a5568);\r\n  font-weight: 600;\r\n}\r\n\r\n.sla-risk {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.risk-badge {\r\n  padding: 0.5rem 1rem;\r\n  border-radius: var(--border-radius, 6px);\r\n  font-weight: 700;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.risk-badge.critical {\r\n  background: var(--status-danger-bg, rgba(255, 107, 107, 0.2));\r\n  color: var(--status-danger, #ff6b6b);\r\n  border: 1px solid var(--status-danger, #ff6b6b);\r\n}\r\n\r\n/* ===================================\r\n   DETAILS GRID 3 COLUMNS\r\n   =================================== */\r\n\r\n.details-grid-3col {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 1rem;\r\n}\r\n\r\n/* ===================================\r\n   ACTION BUTTONS CONTAINER\r\n   =================================== */\r\n\r\n.action-buttons-container {\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.btn-apply-selected {\r\n  flex: 2;\r\n  padding: 1rem;\r\n  background: linear-gradient(135deg, var(--accent-primary, #6366f1) 0%, var(--accent-secondary, #818cf8) 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--border-radius-md, 8px);\r\n  cursor: pointer;\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  transition: all var(--transition-base, 0.25s);\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n.btn-apply-selected:hover {\r\n  transform: var(--transform-hover-lift, translateY(-2px));\r\n  box-shadow: var(--shadow-md, 0 8px 24px rgba(59, 130, 246, 0.25));\r\n}\r\n\r\n.btn-cancel,\r\n.btn-resuggest {\r\n  flex: 1;\r\n  padding: 1rem;\r\n  background: var(--card-bg, rgba(255, 255, 255, 0.95));\r\n  color: var(--text-primary, #1f2937);\r\n  border: 2px solid var(--border, rgba(59, 130, 246, 0.2));\r\n  border-radius: var(--border-radius-md, 8px);\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  transition: all var(--transition-base, 0.25s);\r\n}\r\n\r\nbody.theme-dark .btn-cancel,\r\nbody.theme-dark .btn-resuggest {\r\n  background: var(--card-bg, rgba(10, 10, 10, 0.95));\r\n  color: var(--text-secondary, #e0e0e0);\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background: var(--status-danger-bg, rgba(255, 107, 107, 0.1));\r\n  border-color: var(--status-danger, #ff6b6b);\r\n  color: var(--status-danger, #ff6b6b);\r\n  transform: var(--transform-hover-lift, translateY(-2px));\r\n}\r\n\r\n.btn-resuggest:hover {\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.1));\r\n  border-color: var(--accent-primary, #6366f1);\r\n  color: var(--accent-primary, #6366f1);\r\n  transform: var(--transform-hover-lift, translateY(-2px));\r\n}\r\n\r\n/* BTN FOOTER TOGGLE */\r\n.btn-footer-toggle {\r\n  background: var(--glass-blue-light, rgba(59, 130, 246, 0.15));\r\n  border: 2px solid var(--border, rgba(59, 130, 246, 0.3));\r\n  color: var(--text-primary, #1f2937);\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all var(--transition-base, 0.25s);\r\n}\r\n\r\nbody.theme-dark .btn-footer-toggle {\r\n  color: var(--text-primary, #ffffff);\r\n  background: var(--bg-hover, rgba(50, 50, 50, 0.2));\r\n}\r\n\r\n.btn-footer-toggle:hover {\r\n  background: var(--accent-primary, #6366f1);\r\n  border-color: var(--accent-primary, #6366f1);\r\n  color: white;\r\n  transform: scale(1.05);\r\n  box-shadow: var(--shadow, 0 4px 12px rgba(59, 130, 246, 0.12));\r\n}\r\n\r\n/* ============================================\r\n   FLOWING MVP FOOTER\r\n   Collapsible glassmorphic chat assistant\r\n   ============================================ */\r\n\r\n/* Ensure main content area has space for footer */\r\n#kanbanView,\r\n.board-wrapper {\r\n  padding-bottom: 70px !important;\r\n  transition: padding-bottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n/* Main Footer Container */\r\n.flowing-footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 900;\r\n  /* Below modals (1000+), above kanban board */\r\n  /* Glassmorphism background */\r\n  background: rgba(255, 255, 255, 0.85);\r\n  backdrop-filter: blur(12px);\r\n  -webkit-backdrop-filter: blur(12px);\r\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\r\n  box-shadow:\r\n    0 -8px 32px rgba(31, 38, 135, 0.15),\r\n    0 -4px 16px rgba(0, 0, 0, 0.1),\r\n    inset 0 1px 0 rgba(255, 255, 255, 0.5);\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  max-height: 60vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\r\n\r\n  /* Floating element styling */\r\n  border-radius: 16px 16px 0 0;\r\n\r\n  /* Align with main-content/board-wrapper (sidebar 280px + 16px padding) */\r\n  width: calc(100% - 280px - 32px) !important;\r\n  left: 280px !important;\r\n  margin: 0 16px !important;\r\n}\r\n\r\n/* When sidebar is collapsed (60px width) */\r\nbody.sidebar-collapsed .flowing-footer {\r\n  width: calc(100% - 60px - 32px) !important;\r\n  left: 60px !important;\r\n  margin: 0 16px !important;\r\n}\r\n\r\n/* Collapsed State */\r\n.flowing-footer.collapsed {\r\n  max-height: 56px;\r\n  overflow: hidden;\r\n}\r\n\r\n.flowing-footer.collapsed .flowing-content {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transform: none !important;\r\n  /* avoid translating header/content when collapsing */\r\n}\r\n\r\n.flowing-footer.collapsed .flowing-chevron {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n/* Dark Theme */\r\n[data-theme=\"dark\"] .flowing-footer {\r\n  /* Glassmorphism background for dark theme */\r\n  background: rgba(17, 24, 39, 0.85);\r\n  backdrop-filter: blur(12px);\r\n  -webkit-backdrop-filter: blur(12px);\r\n  border-top-color: rgba(255, 255, 255, 0.1);\r\n  box-shadow:\r\n    0 -8px 32px rgba(0, 0, 0, 0.4),\r\n    0 -4px 16px rgba(0, 0, 0, 0.3),\r\n    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n/* Toggle Button */\r\n.flowing-toggle-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  gap: 12px;\r\n  width: 100%;\r\n  padding: 14px 24px;\r\n  background: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  color: var(--ff-text-primary);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-toggle-btn {\r\n  color: var(--ff-text-muted);\r\n}\r\n\r\n.flowing-toggle-btn:hover {\r\n  background: rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.flowing-icon {\r\n  font-size: 24px;\r\n}\r\n\r\n/* SF Logo with water wave effect */\r\n.flowing-sf-logo {\r\n  font-weight: 800;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  background: linear-gradient(135deg,\r\n      #3b82f6 0%,\r\n      #60a5fa 25%,\r\n      #93c5fd 50%,\r\n      #60a5fa 75%,\r\n      #3b82f6 100%);\r\n  background-size: 200% 200%;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  animation: flowWave 3s ease-in-out infinite;\r\n  text-shadow: 0 0 20px rgba(59, 130, 246, 0.3);\r\n  filter: drop-shadow(0 2px 8px rgba(59, 130, 246, 0.4));\r\n}\r\n\r\n@keyframes flowWave {\r\n\r\n  0%,\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n}\r\n\r\n.flowing-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n  text-align: left;\r\n  overflow: hidden;\r\n}\r\n\r\n.flowing-label {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.flowing-suggestion {\r\n  font-size: 13px;\r\n  font-weight: 400;\r\n  opacity: 0;\r\n  color: var(--ff-text-muted);\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  transition: opacity 0.6s ease, transform 0.6s ease;\r\n  transform: translateY(3px);\r\n}\r\n\r\n.flowing-suggestion.visible {\r\n  opacity: 0.75;\r\n  transform: translateY(0);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-suggestion {\r\n  color: #9ca3af;\r\n}\r\n\r\n.flowing-suggestion.suggestion-critical {\r\n  color: #ef4444;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.flowing-suggestion.suggestion-warning {\r\n  color: #f59e0b;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.flowing-suggestion.suggestion-info {\r\n  color: #3b82f6;\r\n  font-weight: 500;\r\n  opacity: 0.9;\r\n}\r\n\r\n.flowing-suggestion.suggestion-success {\r\n  color: #10b981;\r\n  font-weight: 500;\r\n}\r\n\r\n.flowing-chevron {\r\n  font-size: 12px;\r\n  transition: transform 0.3s ease;\r\n  opacity: 0.7;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Copilot Content */\r\n.flowing-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  opacity: 1;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n  min-height: 0;\r\n}\r\n\r\n\r\n.flowing-title-text h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-title-text h3 {\r\n  background: linear-gradient(135deg, #818cf8 0%, #a78bfa 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.flowing-subtitle {\r\n  margin: 4px 0 0 0;\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-subtitle {\r\n  color: #9ca3af;\r\n}\r\n\r\n.flowing-close-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 8px;\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  color: #6b7280;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.flowing-close-btn:hover {\r\n  background: rgba(239, 68, 68, 0.1);\r\n  color: #ef4444;\r\n  transform: scale(1.1);\r\n}\r\n\r\n/* Messages Container */\r\n.flowing-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px 24px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  background: rgba(249, 250, 251, 0.5);\r\n  min-height: 0;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-messages {\r\n  background: rgba(17, 24, 39, 0.3);\r\n}\r\n\r\n/* Scrollbar Styling */\r\n.flowing-messages::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.flowing-messages::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border-radius: 4px;\r\n}\r\n\r\n.flowing-messages::-webkit-scrollbar-thumb {\r\n  background: rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n}\r\n\r\n.flowing-messages::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-messages::-webkit-scrollbar-track {\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-messages::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* Message */\r\n.flowing-message {\r\n  display: flex;\r\n  gap: 12px;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.flowing-message.user {\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.message-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  flex-shrink: 0;\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.message-avatar.flowing-sf-logo {\r\n  font-size: 14px;\r\n  font-weight: 900;\r\n  letter-spacing: 0.5px;\r\n  background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 50%, #3b82f6 100%);\r\n  background-size: 200% 200%;\r\n  animation: avatarFlow 3s ease-in-out infinite;\r\n}\r\n\r\n@keyframes avatarFlow {\r\n\r\n  0%,\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n}\r\n\r\n.flowing-message.user .message-avatar {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\r\n}\r\n\r\n.message-content {\r\n  flex: 1;\r\n  padding: 12px 16px;\r\n  border-radius: 16px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  max-width: 80%;\r\n}\r\n\r\n[data-theme=\"dark\"] .message-content {\r\n  background: rgba(30, 41, 59, 0.8);\r\n  border-color: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.flowing-message.user .message-content {\r\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);\r\n  border-color: rgba(99, 102, 241, 0.3);\r\n}\r\n\r\n.message-content p {\r\n  margin: 0 0 8px 0;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n  color: #374151;\r\n}\r\n\r\n.message-content p:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n[data-theme=\"dark\"] .message-content p {\r\n  color: #e5e7eb;\r\n}\r\n\r\n.message-content ul {\r\n  margin: 8px 0;\r\n  padding-left: 20px;\r\n}\r\n\r\n.message-content li {\r\n  margin: 4px 0;\r\n  font-size: 14px;\r\n  color: #4b5563;\r\n}\r\n\r\n[data-theme=\"dark\"] .message-content li {\r\n  color: #d1d5db;\r\n}\r\n\r\n/* Context Badge */\r\n.flowing-context-badge {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  background: rgba(99, 102, 241, 0.1);\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  color: #6366f1;\r\n  margin: 0 24px;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-context-badge {\r\n  background: rgba(99, 102, 241, 0.15);\r\n  border-color: rgba(99, 102, 241, 0.3);\r\n  color: #818cf8;\r\n}\r\n\r\n.context-icon {\r\n  font-size: 14px;\r\n}\r\n\r\n.context-text {\r\n  font-weight: 600;\r\n}\r\n\r\n/* Input Area */\r\n.flowing-input-area {\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(10px);\r\n  padding: 16px 24px;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-input-area {\r\n  border-top-color: rgba(255, 255, 255, 0.1);\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.flowing-input-wrapper {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 12px;\r\n  margin-top: 12px;\r\n}\r\n\r\n.flowing-input {\r\n  flex: 1;\r\n  min-height: 44px;\r\n  max-height: 120px;\r\n  padding: 12px 16px;\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 12px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  backdrop-filter: blur(10px);\r\n  font-size: 14px;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  color: #1f2937;\r\n  resize: none;\r\n  transition: all 0.2s ease;\r\n  outline: none;\r\n}\r\n\r\n.flowing-input:focus {\r\n  border-color: #6366f1;\r\n  background: #ffffff;\r\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-input {\r\n  background: rgba(30, 41, 59, 0.8);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  color: #e5e7eb;\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-input:focus {\r\n  background: rgba(30, 41, 59, 0.95);\r\n  border-color: #818cf8;\r\n}\r\n\r\n.flowing-input::placeholder {\r\n  color: #9ca3af;\r\n}\r\n\r\n.flowing-send-btn {\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 12px;\r\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\r\n  border: none;\r\n  cursor: pointer;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n.flowing-send-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.5);\r\n}\r\n\r\n.flowing-send-btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.flowing-send-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n/* Loading State */\r\n.flowing-message.loading .message-content::after {\r\n  content: '‚óè‚óè‚óè';\r\n  display: inline-block;\r\n  animation: ellipsis 1.5s infinite;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n@keyframes ellipsis {\r\n\r\n  0%,\r\n  20% {\r\n    content: '‚óè‚óã‚óã';\r\n  }\r\n\r\n  40% {\r\n    content: '‚óè‚óè‚óã';\r\n  }\r\n\r\n  60%,\r\n  100% {\r\n    content: '‚óè‚óè‚óè';\r\n  }\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  .flowing-footer {\r\n    max-height: 80vh;\r\n  }\r\n\r\n  .flowing-footer.collapsed {\r\n    max-height: 60px;\r\n  }\r\n\r\n  #kanbanView,\r\n  .board-wrapper {\r\n    padding-bottom: 80px !important;\r\n  }\r\n\r\n  body:has(.flowing-footer.collapsed) #kanbanView,\r\n  body:has(.flowing-footer.collapsed) .board-wrapper {\r\n    padding-bottom: 70px !important;\r\n  }\r\n\r\n  .flowing-toggle-btn {\r\n    padding: 12px 16px;\r\n    gap: 10px;\r\n  }\r\n\r\n  .flowing-label {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .flowing-suggestion {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .flowing-header {\r\n    padding: 12px 16px;\r\n  }\r\n\r\n  .flowing-messages {\r\n    padding: 16px;\r\n  }\r\n\r\n  .flowing-input-area {\r\n    padding: 12px 16px;\r\n  }\r\n\r\n  .message-content {\r\n    max-width: 85%;\r\n  }\r\n\r\n  .flowing-context-badge {\r\n    margin: 0 16px;\r\n  }\r\n}\r\n\r\n/* Balanced view responsiveness: keep existing grid (.footer-two-columns) but make it wrap on narrow widths to avoid horizontal scroll */\r\n#balancedView {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 16px 24px 24px 24px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.footer-two-columns {\r\n  display: grid;\r\n  grid-template-columns: 60% 40%;\r\n  gap: 1rem;\r\n  padding: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.footer-two-columns .left-column {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n}\r\n\r\n.footer-two-columns .right-column {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n}\r\n\r\n/* Make the two-column area fill the footer content area (excluding header) and scroll internally */\r\n.flowing-footer .footer-two-columns {\r\n  /* fill the footer content area: use computed footer max or measured height */\r\n  height: calc(var(--flowing-footer-max, 640px) - var(--flowing-header-height, 72px));\r\n  max-height: calc(var(--flowing-footer-max, 640px) - var(--flowing-header-height, 72px));\r\n  overflow-y: auto;\r\n  padding: 8px 12px;\r\n  /* minimal internal padding so content touches footer edges */\r\n  background: transparent;\r\n  /* make container transparent so footer glass shows through */\r\n}\r\n\r\n/* Ensure internal panels don't force overflow horizontally */\r\n.flowing-footer .footer-two-columns .panel,\r\n.flowing-footer .footer-two-columns .panel-card {\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Remove horizontal scroll inside footer two-columns and allow children to shrink */\r\n.flowing-footer .footer-two-columns {\r\n  overflow-x: hidden;\r\n}\r\n\r\n.footer-two-columns .left-column,\r\n.footer-two-columns .right-column,\r\n.footer-two-columns .panel,\r\n.footer-two-columns .panel-card {\r\n  min-width: 0;\r\n  /* allow columns to shrink below content width */\r\n  width: 100%;\r\n}\r\n\r\n/* Ensure column backgrounds are transparent so footer glassmorphism is visible */\r\n.footer-two-columns .left-column,\r\n.footer-two-columns .right-column {\r\n  background: transparent;\r\n}\r\n\r\n/* Panels keep subtle card background but with some transparency to blend */\r\n.footer-two-columns .panel,\r\n.footer-two-columns .panel-card {\r\n  /* Use a subtle semi-transparent surface that respects dark/light themes */\r\n  background: rgba(255, 255, 255, 0.06) !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.04) !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n/* Dark theme: slightly different transparency */\r\n[data-theme=\"dark\"] .footer-two-columns .panel,\r\nbody.theme-dark .footer-two-columns .panel,\r\n[data-theme=\"dark\"] .footer-two-columns .panel-card,\r\nbody.theme-dark .footer-two-columns .panel-card {\r\n  background: rgba(17, 24, 39, 0.22) !important;\r\n  border-color: rgba(255, 255, 255, 0.04) !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n/* If any higher-specificity rules set solid backgrounds elsewhere, force transparency inside footer */\r\n.flowing-footer .panel,\r\n.flowing-footer .panel-card,\r\n.flowing-footer .left-column,\r\n.flowing-footer .right-column {\r\n  background-clip: padding-box;\r\n  background-color: transparent !important;\r\n}\r\n\r\n/* SLA Monitor & Breach: consistent sizing and improved styling for prototype parity */\r\n.footer-two-columns .sla-monitor-container,\r\n.footer-two-columns .sla-breach-risk,\r\n.footer-two-columns .sla-monitor-wrapper {\r\n  background: transparent !important;\r\n  border: none !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n.footer-two-columns .sla-monitor-container>.sla-monitor,\r\n.footer-two-columns .sla-breach-risk,\r\n.footer-two-columns .breach-risk-content {\r\n  /* consistent card look but semi-transparent to respect footer glass */\r\n  background: rgba(255, 255, 255, 0.04) !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.06) !important;\r\n  border-radius: 10px;\r\n  padding: 12px;\r\n  min-height: 140px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.footer-two-columns .sla-monitor-container .sla-title,\r\n.footer-two-columns .sla-breach-risk h4 {\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  color: var(--ff-text-primary, #1f2937);\r\n  margin: 0 0 8px 0;\r\n}\r\n\r\n.footer-two-columns .breach-risk-content {\r\n  text-align: left;\r\n  color: var(--ff-text-muted, #9ca3af);\r\n  font-size: 13px;\r\n}\r\n\r\n/* Make SLA monitor and breach equal height columns */\r\n.footer-two-columns {\r\n  align-items: stretch;\r\n}\r\n\r\n.footer-two-columns .sla-monitor-wrapper,\r\n.footer-two-columns .sla-breach-risk {\r\n  height: 100%;\r\n}\r\n\r\n/* Adjust small elements inside SLA panels for a cleaner prototype look */\r\n.footer-two-columns .cycle-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.footer-two-columns .cycle-name {\r\n  font-weight: 600;\r\n  color: var(--ff-accent-strong, #4c1d95);\r\n}\r\n\r\n.footer-two-columns .cycle-status {\r\n  font-size: 12px;\r\n  padding: 4px 8px;\r\n  border-radius: 999px;\r\n  background: rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n/* Risk card styles (prototype-like) */\r\n.risk-card {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border-radius: 12px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.02)) !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.06) !important;\r\n}\r\n\r\n.risk-card::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 6px;\r\n  background: linear-gradient(180deg, var(--ff-accent-strong, #4c1d95), var(--ff-accent, #6366f1));\r\n}\r\n\r\n.risk-gauge {\r\n  width: 72px;\r\n  height: 72px;\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.risk-gauge-svg {\r\n  transform: rotate(-90deg);\r\n}\r\n\r\n.risk-percent {\r\n  position: absolute;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n}\r\n\r\n.risk-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n  padding-left: 8px;\r\n}\r\n\r\n.risk-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.risk-title {\r\n  font-weight: 700;\r\n  color: var(--ff-text-primary, #1f2937);\r\n  font-size: 14px;\r\n}\r\n\r\n.risk-badge {\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  padding: 4px 8px;\r\n  border-radius: 999px;\r\n}\r\n\r\n.risk-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.risk-line {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: var(--ff-text-muted, #9ca3af);\r\n  font-size: 13px;\r\n}\r\n\r\n.risk-line-value.risk-warning {\r\n  color: #f59e0b;\r\n  font-weight: 700;\r\n}\r\n\r\n.risk-note {\r\n  margin-top: 6px;\r\n  color: #b45309;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n  .risk-card {\r\n    background: rgba(17, 24, 39, 0.18);\r\n    border-color: rgba(255, 255, 255, 0.04);\r\n  }\r\n\r\n  .risk-card::before {\r\n    background: linear-gradient(180deg, #8b5cf6, #6366f1);\r\n  }\r\n}\r\n\r\n/* Stronger specificity to override inline styles or other rules that hide the new markup */\r\n.footer-two-columns .breach-risk-content .risk-card,\r\n.flowing-footer .breach-risk-content .risk-card {\r\n  display: flex !important;\r\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.02)) !important;\r\n  border-radius: 12px !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.06) !important;\r\n  padding: 12px !important;\r\n  gap: 12px !important;\r\n  align-items: center !important;\r\n}\r\n\r\n.footer-two-columns .breach-risk-content .risk-card .risk-info,\r\n.flowing-footer .breach-risk-content .risk-card .risk-info {\r\n  display: block !important;\r\n}\r\n\r\n\r\n@media (max-width: 1100px) {\r\n  .footer-two-columns {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n/* Compact adjustments for right-column panels in balanced view */\r\n.footer-two-columns {\r\n  gap: 0.5rem;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.footer-two-columns .right-column {\r\n  padding-left: 0.25rem;\r\n}\r\n\r\n.footer-two-columns .right-column .panel,\r\n.footer-two-columns .right-column .panel-card,\r\n.footer-two-columns .right-column .ml-actions-section,\r\n.footer-two-columns .right-column .sla-monitor-container {\r\n  padding: 6px 6px;\r\n  margin-bottom: 6px;\r\n  border-radius: 6px;\r\n}\r\n\r\n/* Make form controls and buttons in right column very compact */\r\n.footer-two-columns .right-column .btn,\r\n.footer-two-columns .right-column button,\r\n.footer-two-columns .right-column .field-input {\r\n  padding: 6px 8px;\r\n  font-size: 12px;\r\n}\r\n\r\n/* Reduce vertical spacing for detail rows */\r\n.footer-two-columns .right-column .detail-row {\r\n  gap: 6px;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n/* Smaller subtitles and titles in right column */\r\n.footer-two-columns .right-column .panel h3,\r\n.footer-two-columns .right-column .panel-title {\r\n  font-size: 12px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n/* Reduce margin around context badge inside footer */\r\n.flowing-context-badge {\r\n  margin: 0 12px;\r\n  padding: 6px 10px;\r\n  font-size: 11px;\r\n}\r\n\r\n/* Ensure panels do not overflow their column */\r\n.footer-two-columns .panel,\r\n.footer-two-columns .panel-card {\r\n  box-sizing: border-box;\r\n  max-width: 100%;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n/* Tweak flowing-footer width calc to be robust to sidebar width variables */\r\n.flowing-footer {\r\n  left: calc(var(--sidebar-width, 280px) + 16px) !important;\r\n  right: 16px !important;\r\n  width: auto !important;\r\n}\r\n\r\nbody.sidebar-collapsed .flowing-footer {\r\n  left: calc(var(--sidebar-collapsed-width, 60px) + 16px) !important;\r\n  right: 16px !important;\r\n  width: auto !important;\r\n}\r\n\r\n/* Purple dark gradient dividers used across sidebar/footer */\r\n.purple-divider {\r\n  height: 1px;\r\n  border: none;\r\n  margin: 12px 0;\r\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0), #4c1d95, rgba(0, 0, 0, 0));\r\n  opacity: 0.95;\r\n}\r\n\r\n/* Stronger accent variant */\r\n.purple-divider-strong {\r\n  height: 2px;\r\n  background: linear-gradient(90deg, rgba(76, 29, 149, 0), rgba(76, 29, 149, 0.9), rgba(76, 29, 149, 0));\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Footer color variables and consistency overrides */\r\n.flowing-footer,\r\n.footer-two-columns {\r\n  --ff-text-primary: var(--text-primary, #1f2937);\r\n  --ff-text-muted: var(--text-muted, #6b7280);\r\n  --ff-accent: var(--accent-primary, #6366f1);\r\n  --ff-accent-strong: var(--accent-strong, #4c1d95);\r\n}\r\n\r\n[data-theme=\"dark\"] .flowing-footer,\r\nbody.theme-dark .flowing-footer,\r\n[data-theme=\"dark\"] .footer-two-columns {\r\n  --ff-text-primary: var(--text-primary, #e5e7eb);\r\n  --ff-text-muted: var(--text-muted, #9ca3af);\r\n  --ff-accent: var(--accent-primary, #818cf8);\r\n  --ff-accent-strong: var(--accent-strong, #8b5cf6);\r\n}\r\n\r\n/* Use primary text for main content and muted for secondary text; accents for keys/titles */\r\n.flowing-footer {\r\n  color: var(--ff-text-primary);\r\n}\r\n\r\n.flowing-title-text h3,\r\n.footer-title,\r\n.ticket-key,\r\n.ticket-key-header,\r\n.ticket-summary-header {\r\n  color: var(--ff-accent-strong) !important;\r\n}\r\n\r\n.flowing-subtitle,\r\n.flowing-suggestion,\r\n.message-content p,\r\n.message-content li,\r\n.ticket-summary,\r\n.ticket-meta,\r\n.flowing-label,\r\n.context-text {\r\n  color: var(--ff-text-muted) !important;\r\n}\r\n\r\n.flowing-header,\r\n.flowing-content,\r\n.message-content,\r\n.footer-header-center {\r\n  color: var(--ff-text-primary) !important;\r\n}\r\n\r\n/* Context badge accent */\r\n.flowing-context-badge {\r\n  color: var(--ff-accent) !important;\r\n  border-color: color-mix(in srgb, var(--ff-accent) 20%, transparent);\r\n  background: color-mix(in srgb, var(--ff-accent) 8%, transparent);\r\n}\r\n\r\n\r\n/* Comments area styles */\r\n.comments-section .comment {\r\n  display: flex;\r\n  gap: 10px;\r\n  padding: 10px;\r\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));\r\n  border-radius: 8px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.comments-section .comment-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 700;\r\n  color: white;\r\n  background: linear-gradient(135deg, #6d28d9, #8b5cf6);\r\n}\r\n\r\n.comments-section .comment-content .comment-header {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.comment-composer textarea {\r\n  border: 1px solid rgba(76, 29, 149, 0.08);\r\n  box-shadow: 0 4px 12px rgba(76, 29, 149, 0.04);\r\n}\r\n\r\n.comment-visibility-badge.internal {\r\n  background: linear-gradient(90deg, rgba(76, 29, 149, 0.08), rgba(76, 29, 149, 0.04));\r\n  padding: 2px 6px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  color: #4c1d95;\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/main.css",
    "ranges": [
      {
        "start": 589,
        "end": 739
      },
      {
        "start": 775,
        "end": 826
      },
      {
        "start": 830,
        "end": 873
      },
      {
        "start": 904,
        "end": 1021
      },
      {
        "start": 1025,
        "end": 1066
      },
      {
        "start": 1321,
        "end": 1364
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - CSS Fallback\r\n * ========================\r\n * Last resort fallback for any missing styles\r\n * \r\n * IMPORTANT: This file should remain minimal\r\n * All production styles are imported via app.bundle.css\r\n * \r\n * This file handles:\r\n * - Legacy browser compatibility\r\n * - Unsupported feature fallbacks\r\n * - Emergency safe defaults\r\n */\r\n\r\n/* ============================================================\r\n   FALLBACK: Basic Resets (if needed)\r\n   ============================================================ */\r\n\r\n/* Ensure body has minimal styling if all else fails */\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: system-ui, -apple-system, sans-serif;\r\n  background: transparent !important;\r\n  color: #000000;\r\n}\r\n\r\n/* Ensure links are visible */\r\na {\r\n  color: #0066cc;\r\n  text-decoration: none;\r\n}\r\n\r\na:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Ensure buttons work */\r\nbutton {\r\n  cursor: pointer;\r\n  border: none;\r\n  background: #f0f0f0;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton:hover {\r\n  background: #e0e0e0;\r\n}\r\n\r\n/* ============================================================\r\n   UTILITY CLASSES FOR INLINE STYLES REMOVAL\r\n   ============================================================ */\r\n\r\n/* Display utilities */\r\n.hidden {\r\n  display: none !important;\r\n}\r\n\r\n.visible {\r\n  display: block !important;\r\n}\r\n\r\n/* Filter bar groups */\r\n.group {\r\n  /* Used in filter-bar-pro */\r\n}\r\n\r\n.group[data-min-width=\"140px\"] {\r\n  min-width: 140px;\r\n}\r\n\r\n.group[data-min-width=\"150px\"] {\r\n  min-width: 150px;\r\n}\r\n\r\n/* Panels and dropdowns */\r\n.panel-hidden {\r\n  display: none;\r\n}\r\n\r\n.panel-visible {\r\n  display: block;\r\n}\r\n\r\n/* ============================================================\r\n   NOTE: All production styles load from app.bundle.css\r\n   This file is a safety net only\r\n   ============================================================ */\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/themes-consolidated/background-manager.css",
    "ranges": [
      {
        "start": 220,
        "end": 428
      },
      {
        "start": 432,
        "end": 503
      },
      {
        "start": 507,
        "end": 577
      },
      {
        "start": 656,
        "end": 919
      },
      {
        "start": 1072,
        "end": 1394
      },
      {
        "start": 1398,
        "end": 1546
      },
      {
        "start": 1550,
        "end": 1697
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Background Manager\r\n * Controls AI-generated background images and overlays\r\n * Coordinated with background-manager.js\r\n */\r\n\r\n/* ==================== BACKGROUND CONTAINER ==================== */\r\n\r\n.app-background-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -1;\r\n  pointer-events: none;\r\n  background: var(--bg-primary);\r\n}\r\n\r\nbody.theme-light .app-background-container {\r\n  background: #ffffff;\r\n}\r\n\r\nbody.theme-dark .app-background-container {\r\n  background: #0f0f0f;\r\n}\r\n\r\n/* ==================== BACKGROUND IMAGE LAYERS ==================== */\r\n\r\n.background-image-layer {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-attachment: fixed;\r\n  opacity: 1;\r\n  transition: opacity 0.6s ease;\r\n  z-index: 0;\r\n}\r\n\r\n.background-image-layer.hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n/* ==================== BACKGROUND OVERLAY ==================== */\r\n\r\n.background-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n  /* COMPLETELY TRANSPARENT - no overlay interference */\r\n  background: transparent !important;\r\n  backdrop-filter: none !important;\r\n  -webkit-backdrop-filter: none !important;\r\n}\r\n\r\nbody.theme-light .background-overlay {\r\n  background: transparent !important;\r\n  /* No overlay effects to preserve crisp background visibility */\r\n}\r\n\r\nbody.theme-dark .background-overlay {\r\n  background: transparent !important;\r\n  /* No overlay effects to preserve crisp background visibility */\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/themes-consolidated/theme-dark.css",
    "ranges": [
      {
        "start": 330,
        "end": 432
      },
      {
        "start": 436,
        "end": 1278
      },
      {
        "start": 1282,
        "end": 1678
      },
      {
        "start": 1903,
        "end": 2214
      },
      {
        "start": 2425,
        "end": 2632
      },
      {
        "start": 2636,
        "end": 2897
      },
      {
        "start": 3204,
        "end": 3329
      },
      {
        "start": 3333,
        "end": 3428
      },
      {
        "start": 3500,
        "end": 3731
      },
      {
        "start": 3812,
        "end": 3885
      },
      {
        "start": 3889,
        "end": 4166
      },
      {
        "start": 4170,
        "end": 4314
      },
      {
        "start": 4318,
        "end": 4460
      },
      {
        "start": 4464,
        "end": 4604
      },
      {
        "start": 4627,
        "end": 4794
      },
      {
        "start": 4798,
        "end": 4903
      },
      {
        "start": 4907,
        "end": 5011
      },
      {
        "start": 5015,
        "end": 5111
      },
      {
        "start": 5115,
        "end": 5196
      },
      {
        "start": 5235,
        "end": 5427
      },
      {
        "start": 5905,
        "end": 6191
      },
      {
        "start": 6195,
        "end": 6432
      },
      {
        "start": 6481,
        "end": 6615
      },
      {
        "start": 6619,
        "end": 6779
      },
      {
        "start": 6826,
        "end": 6959
      },
      {
        "start": 6963,
        "end": 7121
      },
      {
        "start": 7181,
        "end": 7200
      },
      {
        "start": 7205,
        "end": 7292
      },
      {
        "start": 7298,
        "end": 7394
      },
      {
        "start": 7541,
        "end": 8385
      },
      {
        "start": 12374,
        "end": 12500
      },
      {
        "start": 12504,
        "end": 12781
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Dark Theme\r\n * Premium dark theme with glassmorphism\r\n * Applied via: body.theme-dark\r\n * \r\n * Single source of truth for dark theme colors and styles\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT COLORS ==================== */\r\n/* ALL text elements must be fully opaque regardless of parent opacity */\r\nbody.theme-dark,\r\nbody.theme-dark * {\r\n  /* Ensure text is never affected by parent transparency */\r\n}\r\n\r\nbody.theme-dark p,\r\nbody.theme-dark span,\r\nbody.theme-dark div,\r\nbody.theme-dark label,\r\nbody.theme-dark h1,\r\nbody.theme-dark h2,\r\nbody.theme-dark h3,\r\nbody.theme-dark h4,\r\nbody.theme-dark h5,\r\nbody.theme-dark h6,\r\nbody.theme-dark a,\r\nbody.theme-dark button,\r\nbody.theme-dark input,\r\nbody.theme-dark textarea,\r\nbody.theme-dark select,\r\nbody.theme-dark li,\r\nbody.theme-dark td,\r\nbody.theme-dark th,\r\nbody.theme-dark strong,\r\nbody.theme-dark em,\r\nbody.theme-dark code,\r\nbody.theme-dark pre,\r\nbody.theme-dark small,\r\nbody.theme-dark mark,\r\nbody.theme-dark .sidebar *,\r\nbody.theme-dark .action-label,\r\nbody.theme-dark .btn-theme-bubble,\r\nbody.theme-dark .btn-user-menu-sidebar,\r\nbody.theme-dark .form-group label,\r\nbody.theme-dark .form-group select,\r\nbody.theme-dark .form-group input {\r\n  opacity: 1 !important;\r\n  color: inherit !important;\r\n}\r\n\r\nbody.theme-dark {\r\n  /* ==================== DARK THEME - SOLO OVERRIDES DE COLOR ==================== */\r\n  /* Todas las variables centralizadas en variables.css */\r\n  /* Este archivo solo debe contener color overrides en selectores espec√≠ficos */\r\n\r\n  background: transparent !important;\r\n  /* Always show app-background-container through */\r\n  color: #ffffff;\r\n  /* Dark theme text color */\r\n}\r\n\r\n/* ==================== DARK THEME COMPONENT STYLES ==================== */\r\n\r\n/* Main layout components - Keep sidebars with proper glassmorphic backgrounds */\r\n/* Sidebar styling managed by transparency-manager.css */\r\nbody.theme-dark .sidebar,\r\n/* Right sidebar styles consolidated in components/right-sidebar.css */\r\n\r\n/* Ensure main content area is transparent to show AI backgrounds */\r\nbody.theme-dark .app-container,\r\nbody.theme-dark .main-content,\r\nbody.theme-dark .board-wrapper {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-dark .sidebar {\r\n  border-right: 1px solid var(--border-emphasis);\r\n}\r\n\r\n/* Header background and styles managed centrally by variables.css and transparency-manager.css */\r\n\r\n/* Form elements */\r\nbody.theme-dark input,\r\nbody.theme-dark textarea,\r\nbody.theme-dark select {\r\n  background: rgba(37, 37, 37, var(--opacity-strong));\r\n  border: 1px solid var(--border-light);\r\n  color: var(--text-primary);\r\n}\r\n\r\nbody.theme-dark input:focus,\r\nbody.theme-dark textarea:focus,\r\nbody.theme-dark select:focus {\r\n  border-color: var(--accent-primary);\r\n  box-shadow: 0 0 0 3px rgba(100, 181, 246, var(--opacity-subtle));\r\n  background: rgba(52, 52, 52, var(--opacity-strong));\r\n}\r\n\r\n/* Modal, dropdown, tooltip - consolidated */\r\nbody.theme-dark .modal,\r\nbody.theme-dark .dropdown,\r\nbody.theme-dark .tooltip {\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: var(--text-primary);\r\n  border: 1px solid var(--border-emphasis);\r\n  /* backdrop-filter: blur(...); */\r\n}\r\n\r\n/* Primary button */\r\nbody.theme-dark .btn-primary {\r\n  background: var(--accent-primary);\r\n  color: #000;\r\n  border: none;\r\n  font-weight: 600;\r\n}\r\n\r\nbody.theme-dark .btn-primary:hover {\r\n  background: var(--accent-secondary);\r\n  color: #000;\r\n}\r\n\r\n/* ==================== THEME VISIBILITY ==================== */\r\n\r\nbody.theme-dark {\r\n  background: transparent !important;\r\n  /* Allow app-background-container to show through */\r\n  background-attachment: fixed;\r\n  -webkit-font-smoothing: subpixel-antialiased;\r\n  -moz-osx-font-smoothing: auto;\r\n}\r\n\r\n/* ==================== DARK THEME - KANBAN BOARD ==================== */\r\n\r\nbody.theme-dark .kanban-board {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-dark .kanban-column {\r\n  /* Background ser√° controlado por Transparency Manager */\r\n  border: 1px solid rgba(128, 128, 128, 0.3);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  /* Backdrop-filter ser√° controlado por Transparency Manager */\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(1) {\r\n  border-color: rgba(128, 128, 128, 0.2);\r\n  box-shadow: 0 4px 12px rgba(128, 128, 128, 0.15);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(2) {\r\n  border-color: rgba(217, 70, 239, 0.2);\r\n  box-shadow: 0 4px 12px rgba(217, 70, 239, 0.15);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(3) {\r\n  border-color: rgba(6, 182, 212, 0.2);\r\n  box-shadow: 0 4px 12px rgba(6, 182, 212, 0.15);\r\n}\r\n\r\n/* Hover state */\r\nbody.theme-dark .kanban-column:hover {\r\n  /* Background y backdrop-filter controlados por Transparency Manager */\r\n  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.1);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(2):hover {\r\n  box-shadow: 0 8px 20px rgba(217, 70, 239, 0.2);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(3):hover {\r\n  box-shadow: 0 8px 20px rgba(6, 182, 212, 0.2);\r\n}\r\n\r\nbody.theme-dark .kanban-column-header {\r\n  border-bottom: 1px solid rgba(128, 128, 128, 0.2);\r\n}\r\n\r\nbody.theme-dark .kanban-column-title {\r\n  color: #cbd5e1;\r\n  font-weight: 700;\r\n}\r\n\r\n/* (notch overrides removed) */\r\n\r\nbody.theme-dark .kanban-column-count {\r\n  background: rgba(80, 80, 80, 0.15);\r\n  border: 1px solid rgba(120, 120, 120, 0.3);\r\n  color: #b0b8c8;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\nbody.theme-dark .kanban-cards::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\nbody.theme-dark .kanban-cards::-webkit-scrollbar-thumb {\r\n  background: linear-gradient(180deg, rgba(100, 100, 100, 0.5) 0%, rgba(80, 80, 80, 0.3) 100%);\r\n}\r\n\r\nbody.theme-dark .kanban-cards::-webkit-scrollbar-thumb:hover {\r\n  background: linear-gradient(180deg, rgba(120, 120, 120, 0.7) 0%, rgba(100, 100, 100, 0.5) 100%);\r\n}\r\n\r\n/* Issue cards in dark theme - base styles */\r\nbody.theme-dark .issue-card {\r\n  background: rgba(30, 30, 30, 0.95) !important;\r\n  /* backdrop-filter: blur(8px) saturate(150%); */\r\n  border: 1px solid rgba(128, 128, 128, var(--opacity-subtle));\r\n  border-left: 3px solid #3b82f6;\r\n  box-shadow: var(--shadow-sm);\r\n  color: #e2e8f0;\r\n}\r\n\r\nbody.theme-dark .issue-card:hover {\r\n  background: rgba(30, 41, 59, 0.98) !important;\r\n  /* backdrop-filter: blur(12px) saturate(180%); */\r\n  box-shadow: 0 4px 12px rgba(128, 128, 128, 0.3);\r\n  border-color: rgba(128, 128, 128, 0.25);\r\n}\r\n\r\n/* Column 2 cards (purple) in dark theme */\r\nbody.theme-dark .kanban-column:nth-child(2) .issue-card {\r\n  border-left-color: #d946ef;\r\n  border-color: rgba(217, 70, 239, 0.15);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(2) .issue-card:hover {\r\n  box-shadow: 0 4px 12px rgba(217, 70, 239, 0.2);\r\n  border-color: rgba(217, 70, 239, 0.25);\r\n}\r\n\r\n/* Column 3 cards (cyan) in dark theme */\r\nbody.theme-dark .kanban-column:nth-child(3) .issue-card {\r\n  border-left-color: #06b6d4;\r\n  border-color: rgba(6, 182, 212, 0.15);\r\n}\r\n\r\nbody.theme-dark .kanban-column:nth-child(3) .issue-card:hover {\r\n  box-shadow: 0 4px 12px rgba(6, 182, 212, 0.2);\r\n  border-color: rgba(6, 182, 212, 0.25);\r\n}\r\n\r\n/* Responsive optimizations for dark theme */\r\n\r\n@media (max-width: 768px) {\r\n  body.theme-dark .kanban-column-count {\r\n    font-size: 9px;\r\n    padding: 3px 8px;\r\n  }\r\n\r\n  body.theme-dark .issue-card {\r\n    padding: var(--spacing-sm);\r\n    border-left-width: 2px;\r\n  }\r\n}\r\n\r\n/* ==================== DARK THEME - ENHANCED TEXT CONTRAST ==================== */\r\n\r\n/* Base badge styling - apply to all badge types */\r\nbody.theme-dark .status-badge,\r\nbody.theme-dark .priority-badge,\r\nbody.theme-dark .status-open,\r\nbody.theme-dark .status-progress,\r\nbody.theme-dark .status-done,\r\nbody.theme-dark .priority-highest,\r\nbody.theme-dark .priority-critico,\r\nbody.theme-dark .priority-high,\r\nbody.theme-dark .priority-medium,\r\nbody.theme-dark .priority-low,\r\nbody.theme-dark .priority-lowest,\r\nbody.theme-dark .sla-healthy,\r\nbody.theme-dark .sla-on-track,\r\nbody.theme-dark .sla-warning,\r\nbody.theme-dark .sla-critical,\r\nbody.theme-dark .sla-breached,\r\nbody.theme-dark .sla-completed,\r\nbody.theme-dark .sla-unknown,\r\nbody.theme-dark .sla-na,\r\nbody.theme-dark .sla-default,\r\nbody.theme-dark .sla-paused {\r\n  background: rgba(30, 41, 59, 0.9);\r\n  /* backdrop-filter: blur(...); */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\r\n  border: 1px solid;\r\n  font-weight: 700;\r\n}\r\n\r\n/* Status colors with enhanced contrast */\r\nbody.theme-dark .status-open {\r\n  color: #64b5f6;\r\n  border-color: rgba(100, 181, 246, 0.4);\r\n}\r\n\r\nbody.theme-dark .status-progress {\r\n  color: #fbbf24;\r\n  border-color: rgba(251, 191, 36, 0.4);\r\n}\r\n\r\nbody.theme-dark .status-done {\r\n  color: #4ade80;\r\n  border-color: rgba(74, 222, 128, 0.4);\r\n}\r\n\r\n/* Priority colors with enhanced contrast for dark theme */\r\nbody.theme-dark .priority-highest,\r\nbody.theme-dark .priority-critico {\r\n  color: #93c5fd;\r\n  border-color: rgba(147, 197, 253, 0.5);\r\n  text-shadow: 0 0 8px rgba(100, 181, 246, 0.5);\r\n  border-width: 2px;\r\n}\r\n\r\nbody.theme-dark .priority-high {\r\n  color: #fcd34d;\r\n  border-color: rgba(252, 211, 77, 0.5);\r\n  border-width: 2px;\r\n}\r\n\r\nbody.theme-dark .priority-medium {\r\n  color: #64b5f6;\r\n  border-color: rgba(100, 181, 246, 0.4);\r\n  border-width: 2px;\r\n}\r\n\r\nbody.theme-dark .priority-low {\r\n  color: #86efac;\r\n  border-color: rgba(134, 239, 172, 0.4);\r\n  border-width: 2px;\r\n}\r\n\r\nbody.theme-dark .priority-lowest {\r\n  color: #cbd5e1;\r\n  border-color: rgba(203, 213, 225, 0.3);\r\n  border-width: 2px;\r\n}\r\n\r\n/* SLA Badge Colors with Enhanced Contrast */\r\nbody.theme-dark .sla-healthy {\r\n  color: #86efac;\r\n  border-color: rgba(134, 239, 172, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-on-track {\r\n  color: #fcd34d;\r\n  border-color: rgba(252, 211, 77, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-warning {\r\n  color: #fb923c;\r\n  border-color: rgba(251, 146, 60, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-critical {\r\n  color: #ff6b6b;\r\n  border-color: rgba(255, 107, 107, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-breached {\r\n  color: #ff6b6b;\r\n  border-color: rgba(255, 107, 107, 0.5);\r\n}\r\n\r\nbody.theme-dark .sla-completed {\r\n  color: #86efac;\r\n  border-color: rgba(134, 239, 172, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-unknown,\r\nbody.theme-dark .sla-na {\r\n  color: #cbd5e1;\r\n  border-color: rgba(203, 213, 225, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-default {\r\n  color: #93c5fd;\r\n  border-color: rgba(147, 197, 253, 0.3);\r\n}\r\n\r\nbody.theme-dark .sla-paused {\r\n  color: #d8b4fe;\r\n  border-color: rgba(216, 180, 254, 0.3);\r\n}\r\n\r\n/* Form Elements - Consolidated */\r\nbody.theme-dark .form-group label,\r\nbody.theme-dark .form-label {\r\n  color: #e0e0e0 !important;\r\n  font-weight: 600;\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-dark .form-group select,\r\nbody.theme-dark .form-group input,\r\nbody.theme-dark .form-control {\r\n  background: rgba(30, 41, 59, 0.8);\r\n  border: 1px solid rgba(100, 181, 246, 0.2);\r\n  color: #e0e0e0 !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-dark .form-group select::placeholder,\r\nbody.theme-dark .form-group input::placeholder {\r\n  color: #909090 !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-dark .form-group select:focus,\r\nbody.theme-dark .form-group input:focus,\r\nbody.theme-dark .form-control:focus {\r\n  background: rgba(30, 41, 59, 0.95);\r\n  border-color: rgba(100, 181, 246, 0.5);\r\n  color: #ffffff;\r\n}\r\n\r\n/* Button text contrast */\r\nbody.theme-dark .btn {\r\n  color: #ffffff;\r\n  font-weight: 600;\r\n}\r\n\r\nbody.theme-dark .btn-success,\r\nbody.theme-dark .btn-danger {\r\n  color: #ffffff;\r\n}\r\n\r\nbody.theme-dark .btn-warning {\r\n  color: #000000;\r\n}\r\n\r\n/* Text elements in cards and modals */\r\nbody.theme-dark .issue-card h3,\r\nbody.theme-dark .issue-card h4 {\r\n  color: #ffffff;\r\n  font-weight: 600;\r\n}\r\n\r\nbody.theme-dark .issue-card p {\r\n  color: #cbd5e1;\r\n}\r\n\r\nbody.theme-dark .issue-card .issue-key {\r\n  color: #93c5fd;\r\n  font-weight: 700;\r\n}\r\n\r\n/* Modal and Dropdown Text */\r\nbody.theme-dark .modal h2,\r\nbody.theme-dark .modal h3 {\r\n  color: #ffffff;\r\n  font-weight: 700;\r\n}\r\n\r\nbody.theme-dark .modal p,\r\nbody.theme-dark .dropdown p {\r\n  color: #cbd5e1;\r\n}\r\n\r\n/* Tooltip Text */\r\nbody.theme-dark .tooltip::after {\r\n  background: rgba(15, 15, 15, 0.95);\r\n  color: #e0e0e0;\r\n}\r\n\r\n/* Right sidebar styles consolidated in components/right-sidebar.css */\r\n\r\n/* ==================== FINAL TRANSPARENCY OVERRIDE ==================== */\r\n/* Ensure NO text elements have any transparency issues */\r\nbody.theme-dark *:not(.background-overlay):not(.background-image-layer):not([class*=\"opacity\"]) {\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-dark .sidebar *,\r\nbody.theme-dark .header *,\r\nbody.theme-dark .kanban-board *,\r\nbody.theme-dark .issue-card *,\r\nbody.theme-dark .form-group *,\r\nbody.theme-dark label,\r\nbody.theme-dark button,\r\nbody.theme-dark span,\r\nbody.theme-dark div {\r\n  opacity: 1 !important;\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/themes-consolidated/theme-light.css",
    "ranges": [
      {
        "start": 343,
        "end": 1216
      },
      {
        "start": 1220,
        "end": 1610
      },
      {
        "start": 1951,
        "end": 2025
      },
      {
        "start": 2029,
        "end": 2262
      },
      {
        "start": 2266,
        "end": 2458
      },
      {
        "start": 2462,
        "end": 2584
      },
      {
        "start": 2785,
        "end": 2961
      },
      {
        "start": 3675,
        "end": 3903
      },
      {
        "start": 3984,
        "end": 4126
      },
      {
        "start": 6772,
        "end": 7065
      },
      {
        "start": 7367,
        "end": 7661
      },
      {
        "start": 7709,
        "end": 7783
      },
      {
        "start": 8675,
        "end": 8894
      },
      {
        "start": 9164,
        "end": 9275
      },
      {
        "start": 9416,
        "end": 9543
      },
      {
        "start": 9547,
        "end": 9833
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Light Theme\r\n * Modern light theme with purple and blue accents\r\n * Applied via: body.theme-light\r\n * \r\n * Single source of truth for light theme colors and styles\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT COLORS ==================== */\r\n/* ALL text elements must be fully opaque regardless of parent opacity */\r\nbody.theme-light p,\r\nbody.theme-light span,\r\nbody.theme-light div,\r\nbody.theme-light label,\r\nbody.theme-light h1,\r\nbody.theme-light h2,\r\nbody.theme-light h3,\r\nbody.theme-light h4,\r\nbody.theme-light h5,\r\nbody.theme-light h6,\r\nbody.theme-light a,\r\nbody.theme-light button,\r\nbody.theme-light input,\r\nbody.theme-light textarea,\r\nbody.theme-light select,\r\nbody.theme-light li,\r\nbody.theme-light td,\r\nbody.theme-light th,\r\nbody.theme-light strong,\r\nbody.theme-light em,\r\nbody.theme-light code,\r\nbody.theme-light pre,\r\nbody.theme-light small,\r\nbody.theme-light mark,\r\nbody.theme-light .sidebar *,\r\nbody.theme-light .action-label,\r\nbody.theme-light .btn-theme-bubble,\r\nbody.theme-light .btn-user-menu-sidebar,\r\nbody.theme-light .form-group label,\r\nbody.theme-light .form-group select,\r\nbody.theme-light .form-group input {\r\n  opacity: 1 !important;\r\n  color: inherit !important;\r\n}\r\n\r\nbody.theme-light {\r\n  /* ==================== LIGHT THEME - SOLO OVERRIDES DE COLOR ==================== */\r\n  /* Todas las variables centralizadas en variables.css */\r\n  /* Este archivo solo debe contener color overrides en selectores espec√≠ficos */\r\n\r\n  background: transparent;\r\n  /* Allow app-background-container to show through */\r\n  color: #312e81;\r\n  /* Light theme text color */\r\n}\r\n\r\n/* ==================== LIGHT THEME COMPONENT STYLES ==================== */\r\n\r\nbody.theme-light .sidebar {\r\n  /* Background controlled by glassmorphism-opacity-controller.js */\r\n  border-right: 1px solid var(--border-emphasis);\r\n}\r\n\r\n/* Header background and styles managed centrally by variables.css and transparency-manager.css */\r\n\r\nbody.theme-light .kanban-board {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-light .kanban-column {\r\n  /* Background ser√° controlado por Transparency Manager */\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-radius: 8px;\r\n  /* Backdrop-filter ser√° controlado por Transparency Manager */\r\n}\r\n\r\nbody.theme-light .issue-card {\r\n  background: rgba(255, 255, 255, 0.98) !important;\r\n  border: 1px solid var(--border-light);\r\n  box-shadow: var(--shadow-sm);\r\n  color: var(--text-primary);\r\n}\r\n\r\nbody.theme-light .issue-card:hover {\r\n  box-shadow: var(--shadow-md);\r\n  background: rgba(255, 255, 255, 1) !important;\r\n}\r\n\r\nbody.theme-light .btn-primary {\r\n  background: var(--accent-primary);\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\nbody.theme-light .btn-primary:hover {\r\n  background: var(--accent-primary-dark);\r\n}\r\n\r\nbody.theme-light input,\r\nbody.theme-light textarea,\r\nbody.theme-light select {\r\n  background: white;\r\n  border: 1px solid var(--border-light);\r\n  color: var(--text-primary);\r\n}\r\n\r\nbody.theme-light input:focus,\r\nbody.theme-light textarea:focus,\r\nbody.theme-light select:focus {\r\n  border-color: var(--accent-primary);\r\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\r\n}\r\n\r\nbody.theme-light .modal,\r\nbody.theme-light .dropdown,\r\nbody.theme-light .tooltip {\r\n  background: white;\r\n  color: var(--text-primary);\r\n  border: 1px solid var(--border-emphasis);\r\n}\r\n\r\n/* Right sidebar styles consolidated in components/right-sidebar.css */\r\n\r\nbody.theme-light .right-sidebar .panel-title {\r\n  color: #1f2937 !important;\r\n}\r\n\r\n/* ==================== THEME VISIBILITY ==================== */\r\n\r\n/* ==================== LIGHT THEME COMPONENT OVERRIDES ==================== */\r\n\r\n/* Page and body */\r\nbody.theme-light {\r\n  background: transparent !important;\r\n  /* Allow app-background-container to show through */\r\n  background-attachment: fixed;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n/* Ensure main content containers are transparent to show AI backgrounds */\r\nbody.theme-light .app-container,\r\nbody.theme-light .main-content,\r\nbody.theme-light .board-wrapper {\r\n  background: transparent !important;\r\n}\r\n\r\n/* Sidebar light theme - blur controlled by transparency-manager.css */\r\n/* Sidebar styling managed by transparency-manager.css */\r\nbody.theme-light .sidebar {\r\n  /* Background managed by transparency-manager.css */\r\n  border-right: 1px solid rgba(59, 130, 246, var(--opacity-subtle)) !important;\r\n  box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.6), 2px 0 8px rgba(59, 130, 246, var(--opacity-subtle)) !important;\r\n}\r\n\r\nbody.theme-light .sidebar h1,\r\nbody.theme-light .sidebar-title {\r\n  color: #1f2937 !important;\r\n  background: none !important;\r\n  -webkit-background-clip: unset !important;\r\n  -webkit-text-fill-color: #1f2937 !important;\r\n  background-clip: unset !important;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .sidebar-header {\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .sidebar-header h2 {\r\n  color: #1f2937 !important;\r\n  text-shadow: none !important;\r\n}\r\n\r\nbody.theme-light .sidebar .form-group label {\r\n  color: #101a27 !important;\r\n  text-shadow: none !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-light .sidebar .form-group select,\r\nbody.theme-light .sidebar .form-group input {\r\n  background: rgba(255, 255, 255, 1) !important;\r\n  color: #1f2937 !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.2) !important;\r\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.3) inset, 0 2px 4px rgba(59, 130, 246, 0.05) !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-light .sidebar .form-group select:focus,\r\nbody.theme-light .sidebar .form-group input:focus {\r\n  background: rgba(255, 255, 255, 1) !important;\r\n  border-color: rgba(37, 99, 235, 0.5) !important;\r\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.5) inset, 0 0 0 3px rgba(59, 130, 246, 0.1), 0 2px 8px rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .sidebar button,\r\nbody.theme-light .sidebar .btn {\r\n  background: linear-gradient(135deg, rgba(240, 244, 255, 0.98) 0%, rgba(224, 242, 254, 0.95) 100%) !important;\r\n  color: #1f2937 !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.25) !important;\r\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 2px 4px rgba(59, 130, 246, 0.08), 0 0 8px rgba(59, 130, 246, 0.08) !important;\r\n}\r\n\r\nbody.theme-light .sidebar button:hover,\r\nbody.theme-light .sidebar .btn:hover {\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(240, 248, 255, 1) 100%) !important;\r\n  border-color: rgba(59, 130, 246, 0.4) !important;\r\n  box-shadow: 0 0 1px rgba(255, 255, 255, 1) inset, 0 2px 8px rgba(59, 130, 246, 0.15), 0 0 12px rgba(59, 130, 246, 0.12) !important;\r\n}\r\n\r\n/* Sidebar menu items - light theme */\r\nbody.theme-light .sidebar-menu-item {\r\n  color: #1f2937 !important;\r\n  background: linear-gradient(135deg, rgba(224, 242, 254, 0.6), rgba(207, 250, 254, 0.4)) !important;\r\n  border: 1.2px solid rgba(59, 130, 246, 0.3) !important;\r\n  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .sidebar-menu-item:hover {\r\n  color: #0369a1 !important;\r\n  background: linear-gradient(135deg, rgba(207, 250, 254, 0.8), rgba(186, 230, 253, 0.6)) !important;\r\n  border-color: rgba(59, 130, 246, 0.5) !important;\r\n  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .sidebar-menu-item.active {\r\n  color: #0369a1 !important;\r\n  background: linear-gradient(135deg, rgba(186, 230, 253, 0.9), rgba(165, 243, 252, 0.8)) !important;\r\n  border-color: rgba(59, 130, 246, 0.6) !important;\r\n  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.2) !important;\r\n}\r\n\r\n/* Sidebar section labels - light theme */\r\nbody.theme-light .sidebar-section-label {\r\n  color: #4b5563 !important;\r\n}\r\n\r\n/* Header and navbar */\r\nbody.theme-light .navbar {\r\n  background: transparent !important;\r\n  border-bottom-color: rgba(59, 130, 246, 0.1) !important;\r\n  color: #1f2937;\r\n}\r\n\r\n/* Header background managed by transparency-manager.css */\r\n\r\nbody.theme-light .header h1,\r\nbody.theme-light .header h2,\r\nbody.theme-light .navbar h1,\r\nbody.theme-light .navbar h2 {\r\n  color: #1f2937 !important;\r\n}\r\n\r\n/* Cards and containers */\r\nbody.theme-light .card,\r\nbody.theme-light .ds-surface {\r\n  background: rgba(255, 255, 255, 1) !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.1) !important;\r\n  color: #1f2937;\r\n  box-shadow: 0 1px 3px rgba(59, 130, 246, 0.05) !important;\r\n}\r\n\r\n/* (notch overrides removed) */\r\n\r\nbody.theme-light .section {\r\n  background: rgba(255, 255, 255, 0.98) !important;\r\n  border-color: rgba(59, 130, 246, 0.1) !important;\r\n  color: #1f2937;\r\n}\r\n\r\n/* Form elements */\r\nbody.theme-light input,\r\nbody.theme-light select,\r\nbody.theme-light textarea {\r\n  background: rgba(255, 255, 255, 1) !important;\r\n  color: #1f2937 !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.15) !important;\r\n}\r\n\r\nbody.theme-light input:focus,\r\nbody.theme-light select:focus,\r\nbody.theme-light textarea:focus {\r\n  border-color: rgba(37, 99, 235, 0.5) !important;\r\n  background: rgba(255, 255, 255, 1) !important;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\nbody.theme-light input::placeholder,\r\nbody.theme-light textarea::placeholder {\r\n  color: #9ca3af !important;\r\n}\r\n\r\n/* ==================== FINAL TRANSPARENCY OVERRIDE ==================== */\r\n/* Ensure NO text elements have any transparency issues */\r\nbody.theme-light *:not(.background-overlay):not(.background-image-layer):not([class*=\"opacity\"]) {\r\n  opacity: 1 !important;\r\n}\r\n\r\nbody.theme-light .sidebar *,\r\nbody.theme-light .header *,\r\nbody.theme-light .kanban-board *,\r\nbody.theme-light .issue-card *,\r\nbody.theme-light .form-group *,\r\nbody.theme-light label,\r\nbody.theme-light button,\r\nbody.theme-light span,\r\nbody.theme-light div {\r\n  opacity: 1 !important;\r\n}"
  },
  {
    "url": "http://localhost:5005/static/css/themes-consolidated/transparency-manager.css",
    "ranges": [
      {
        "start": 2383,
        "end": 3335
      },
      {
        "start": 3339,
        "end": 4069
      },
      {
        "start": 4157,
        "end": 4248
      },
      {
        "start": 4252,
        "end": 4326
      },
      {
        "start": 8833,
        "end": 9530
      },
      {
        "start": 9552,
        "end": 10223
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Transparency Manager\r\n * Controls glassmorphism opacity and blur effects\r\n * Coordinated with transparency-manager.js\r\n */\r\n\r\n/* ==================== GLASSMORPHIC VARIABLES ==================== */\r\n/* All glassmorphic variables are now centralized in core/variables.css */\r\n/* This file only contains component styling using those variables */\r\n\r\n/* ==================== GLASSMORPHISM EFFECTS ==================== */\r\n\r\n/* Primary glassmorphic layer - High blur */\r\n.glasmorphic-primary {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-primary-opacity));\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  box-shadow: 0 8px 32px 0 rgba(99, 102, 241, 0.15);\r\n}\r\n\r\nbody.theme-dark .glassmorphic-primary {\r\n  background: rgba(26, 26, 26, var(--glasmorphic-primary-opacity));\r\n  box-shadow: 0 8px 32px 0 rgba(100, 181, 246, 0.2);\r\n}\r\n\r\n/* Secondary glassmorphic layer - Medium blur */\r\n.glasmorphic-secondary {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-secondary-opacity));\r\n  border: 1px solid rgba(255, 255, 255, 0.08);\r\n  box-shadow: 0 4px 16px 0 rgba(99, 102, 241, 0.12);\r\n}\r\n\r\nbody.theme-dark .glasmorphic-secondary {\r\n  background: rgba(37, 37, 37, var(--glasmorphic-secondary-opacity));\r\n  box-shadow: 0 4px 16px 0 rgba(100, 181, 246, 0.15);\r\n}\r\n\r\n/* Tertiary glassmorphic layer - Light blur */\r\n.glasmorphic-tertiary {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-tertiary-opacity));\r\n  border: 1px solid rgba(255, 255, 255, 0.06);\r\n  box-shadow: 0 2px 8px 0 rgba(99, 102, 241, 0.08);\r\n}\r\n\r\nbody.theme-dark .glasmorphic-tertiary {\r\n  background: rgba(42, 42, 42, var(--glasmorphic-tertiary-opacity));\r\n  box-shadow: 0 2px 8px 0 rgba(100, 181, 246, 0.1);\r\n}\r\n\r\n/* Overlay layer - Very subtle */\r\n.glassmorphic-overlay {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-overlay-opacity));\r\n  border: 1px solid rgba(255, 255, 255, 0.04);\r\n}\r\n\r\nbody.theme-dark .glasmorphic-overlay {\r\n  background: rgba(26, 26, 26, var(--glasmorphic-overlay-opacity));\r\n}\r\n\r\n/* ==================== CONTAINER STYLING ==================== */\r\n\r\n/* ==================== PRIMARY COMPONENTS - UNIFIED BACKGROUND ==================== */\r\n/* MAXIMUM SPECIFICITY: These styles OVERRIDE ALL other definitions */\r\n/* Header, Sidebar, Right Sidebar, Filter Bar - Unified glasmorphic appearance */\r\n\r\n/* Header and Sidebars - Unified glasmorphic appearance */\r\nhtml body .header,\r\nhtml body .header-enhanced,\r\nhtml body .header-bar-enhanced,\r\nhtml body .sidebar,\r\nhtml body .sidebar-header-component,\r\nhtml body .sidebar-content-component,\r\nhtml body .right-sidebar,\r\nhtml body.theme-light .header,\r\nhtml body.theme-light .header-enhanced,\r\nhtml body.theme-light .header-bar-enhanced,\r\nhtml body.theme-light .sidebar,\r\nhtml body.theme-light .sidebar-header-component,\r\nhtml body.theme-light .sidebar-content-component,\r\nhtml body.theme-light .right-sidebar {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-primary-opacity)) !important;\r\n  backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  -webkit-backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1), 0 2px 16px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n}\r\n\r\nhtml body.theme-dark .header,\r\nhtml body.theme-dark .header-enhanced,\r\nhtml body.theme-dark .header-bar-enhanced,\r\nhtml body.theme-dark .sidebar,\r\nhtml body.theme-dark .sidebar-header-component,\r\nhtml body.theme-dark .sidebar-content-component,\r\nhtml body.theme-dark .right-sidebar {\r\n  background: rgba(26, 26, 26, var(--glasmorphic-primary-opacity)) !important;\r\n  backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  -webkit-backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 2px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\r\n}\r\n\r\n/* Board Wrapper - TRANSPARENT (no background interference with AI backgrounds) */\r\n.board-wrapper {\r\n  background: transparent !important;\r\n  padding-bottom: 0 !important;\r\n}\r\n\r\nbody.theme-dark .board-wrapper {\r\n  background: transparent !important;\r\n}\r\n\r\n/* Header - Secondary layer */\r\n.main-header-pro {\r\n  background: transparent !important;\r\n}\r\n\r\nbody.theme-dark .main-header-pro {\r\n  background: transparent !important;\r\n}\r\n\r\n/* Filter Bar configuration moved to unified primary components section above */\r\n\r\n/* ==================== TRANSPARENCY CONTROLS UI ==================== */\r\n\r\n.transparency-controls-section {\r\n  background: rgba(59, 130, 246, 0.08) !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.2) !important;\r\n  border-radius: 6px !important;\r\n  margin: 8px 8px !important;\r\n  padding: 0 !important;\r\n  gap: 0 !important;\r\n  flex-direction: column !important;\r\n}\r\n\r\nbody.theme-dark .transparency-controls-section {\r\n  background: rgba(100, 181, 246, 0.08) !important;\r\n  border: 1px solid rgba(100, 181, 246, 0.2) !important;\r\n}\r\n\r\n.transparency-controls-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: background-color 0.2s ease;\r\n  border-radius: 6px;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.1));\r\n  font-weight: 600;\r\n  color: rgba(59, 130, 246, 1);\r\n}\r\n\r\nbody.theme-dark .transparency-controls-header {\r\n  background: linear-gradient(135deg, rgba(100, 181, 246, 0.2), rgba(100, 181, 246, 0.1));\r\n  color: rgba(100, 181, 246, 1);\r\n}\r\n\r\n.transparency-controls-header:hover {\r\n  background-color: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.controls-toggle-icon {\r\n  display: inline-block;\r\n  transition: transform 0.3s ease;\r\n  font-size: 12px;\r\n}\r\n\r\n.transparency-controls-panel {\r\n  padding: 12px 16px;\r\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n  background: rgba(255, 255, 255, 0.03);\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.control-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.control-label {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  opacity: 0.9;\r\n}\r\n\r\n.control-value {\r\n  font-weight: 600;\r\n  color: #3b82f6;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\nbody.theme-dark .control-value {\r\n  color: #64b5f6;\r\n}\r\n\r\n.transparency-slider {\r\n  width: 100%;\r\n  height: 6px;\r\n  border-radius: 3px;\r\n  background: linear-gradient(90deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.4));\r\n  outline: none;\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n}\r\n\r\nbody.theme-dark .transparency-slider {\r\n  background: linear-gradient(90deg, rgba(100, 181, 246, 0.2), rgba(100, 181, 246, 0.4));\r\n}\r\n\r\n.transparency-slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(99, 102, 241, 0.8));\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\r\n  transition: box-shadow 0.2s ease;\r\n}\r\n\r\n.transparency-slider::-webkit-slider-thumb:hover {\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6);\r\n}\r\n\r\n.transparency-slider::-moz-range-thumb {\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(99, 102, 241, 0.8));\r\n  cursor: pointer;\r\n  border: none;\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\r\n  transition: box-shadow 0.2s ease;\r\n}\r\n\r\n.transparency-slider::-moz-range-thumb:hover {\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6);\r\n}\r\n\r\n.btn-reset-effects {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  margin-top: 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(99, 102, 241, 0.2));\r\n  color: #2563eb;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.btn-reset-effects:hover {\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(99, 102, 241, 0.4));\r\n  color: #1d4ed8;\r\n}\r\n\r\nbody.theme-dark .btn-reset-effects {\r\n  background: linear-gradient(135deg, rgba(100, 181, 246, 0.3), rgba(100, 181, 246, 0.2));\r\n  color: #64b5f6;\r\n}\r\n\r\nbody.theme-dark .btn-reset-effects:hover {\r\n  background: linear-gradient(135deg, rgba(100, 181, 246, 0.5), rgba(100, 181, 246, 0.4));\r\n  color: #93c5fd;\r\n}\r\n\r\n/* ============================================================\r\n   FILTER BAR - FORCE SAME BACKGROUND AS HEADER/SIDEBAR\r\n   MAXIMUM SPECIFICITY - Must override all other styles\r\n   ============================================================ */\r\n\r\n/* Light Theme */\r\nhtml body:not(.theme-dark):not([data-theme=\"dark\"]) .filter-bar-enhanced,\r\nhtml body.theme-light .filter-bar-enhanced,\r\nhtml body[data-theme=\"light\"] .filter-bar-enhanced,\r\nbody:not(.theme-dark):not([data-theme=\"dark\"]) .filter-bar-enhanced {\r\n  background: rgba(255, 255, 255, var(--glasmorphic-primary-opacity)) !important;\r\n  backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  -webkit-backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1), 0 2px 16px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n}\r\n\r\n/* Dark Theme */\r\nhtml body.theme-dark .filter-bar-enhanced,\r\nhtml body[data-theme=\"dark\"] .filter-bar-enhanced,\r\nbody.theme-dark .filter-bar-enhanced,\r\nbody[data-theme=\"dark\"] .filter-bar-enhanced,\r\n[data-theme=\"dark\"] .filter-bar-enhanced {\r\n  background: rgba(26, 26, 26, var(--glasmorphic-primary-opacity)) !important;\r\n  backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  -webkit-backdrop-filter: blur(var(--glasmorphic-primary-blur)) saturate(180%) !important;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 2px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\r\n}\r\n\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/user-setup-modal.css?v=1765920148",
    "ranges": [],
    "text": "/**\r\n * SpeedyFlow Login Modal Styles\r\n * First-time login and configuration\r\n */\r\n\r\n.setup-modal {\r\n    display: none;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.8);\r\n    backdrop-filter: blur(10px);\r\n    z-index: 10000;\r\n    align-items: center;\r\n    justify-content: center;\r\n    animation: fadeIn 0.3s ease;\r\n}\r\n\r\n.setup-modal-content {\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    border-radius: 24px;\r\n    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\r\n    max-width: 600px;\r\n    width: 90%;\r\n    max-height: 90vh;\r\n    overflow-y: auto;\r\n    padding: 0;\r\n    animation: slideUp 0.4s ease;\r\n}\r\n\r\n.setup-modal-header {\r\n    background: rgba(255, 255, 255, 0.15);\r\n    backdrop-filter: blur(10px);\r\n    padding: 40px 32px 32px;\r\n    text-align: center;\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.setup-logo {\r\n    width: 220px;\r\n    height: auto;\r\n    margin-bottom: 24px;\r\n    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\r\n}\r\n\r\n.setup-modal-header h2 {\r\n    margin: 0 0 8px 0;\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n    color: #fff;\r\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.setup-modal-header p {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    color: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n.setup-modal-body {\r\n    padding: 32px;\r\n    background: #fff;\r\n}\r\n\r\n.setup-form-group {\r\n    margin-bottom: 24px;\r\n}\r\n\r\n.setup-form-group label {\r\n    display: block;\r\n    margin-bottom: 12px;\r\n    color: #2d3748;\r\n    font-size: 14px;\r\n}\r\n\r\n.setup-form-group label strong {\r\n    display: block;\r\n    font-size: 16px;\r\n    margin-bottom: 4px;\r\n}\r\n\r\n.setup-hint {\r\n    color: #718096;\r\n    font-size: 13px;\r\n    font-weight: normal;\r\n}\r\n\r\n.setup-hint.setup-required {\r\n    color: #e53e3e;\r\n    font-weight: 600;\r\n}\r\n\r\n.setup-form-group input {\r\n    width: 100%;\r\n    padding: 14px 16px;\r\n    font-size: 16px;\r\n    border: 2px solid #e2e8f0;\r\n    border-radius: 12px;\r\n    transition: all 0.2s;\r\n    font-weight: 600;\r\n    letter-spacing: 0.5px;\r\n}\r\n\r\n.setup-form-group input:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n}\r\n\r\n.setup-help {\r\n    display: block;\r\n    margin-top: 8px;\r\n    color: #718096;\r\n    font-size: 13px;\r\n}\r\n\r\n.setup-help code {\r\n    background: #f7fafc;\r\n    padding: 2px 6px;\r\n    border-radius: 4px;\r\n    font-family: 'Monaco', 'Menlo', monospace;\r\n    color: #667eea;\r\n    font-weight: 600;\r\n}\r\n\r\n/* Token Guide Expandable */\r\n.token-guide {\r\n    margin-top: 12px;\r\n    border: 2px solid #e2e8f0;\r\n    border-radius: 12px;\r\n    overflow: hidden;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.token-guide summary {\r\n    padding: 12px 16px;\r\n    background: #f7fafc;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #667eea;\r\n    user-select: none;\r\n    transition: all 0.2s;\r\n}\r\n\r\n.token-guide summary:hover {\r\n    background: #edf2f7;\r\n}\r\n\r\n.token-guide[open] summary {\r\n    background: #667eea;\r\n    color: white;\r\n}\r\n\r\n.token-guide-content {\r\n    padding: 20px;\r\n    background: white;\r\n    border-top: 1px solid #e2e8f0;\r\n}\r\n\r\n.token-guide-content h4 {\r\n    margin: 0 0 16px 0;\r\n    font-size: 16px;\r\n    color: #2d3748;\r\n}\r\n\r\n.token-guide-content ol {\r\n    margin: 0 0 16px 0;\r\n    padding-left: 24px;\r\n}\r\n\r\n.token-guide-content li {\r\n    margin-bottom: 8px;\r\n    color: #4a5568;\r\n    line-height: 1.6;\r\n}\r\n\r\n.token-guide-content a {\r\n    color: #667eea;\r\n    text-decoration: underline;\r\n    font-weight: 600;\r\n}\r\n\r\n.token-guide-content strong {\r\n    color: #2d3748;\r\n}\r\n\r\n.token-guide-warning {\r\n    background: #fff3cd;\r\n    border: 2px solid #ffc107;\r\n    border-radius: 8px;\r\n    padding: 12px;\r\n    color: #856404;\r\n    font-size: 13px;\r\n    line-height: 1.5;\r\n}\r\n\r\n.token-guide-warning strong {\r\n    color: #856404;\r\n}\r\n\r\n/* Project Key Warning Note */\r\n.setup-warning-note {\r\n    margin-top: 12px;\r\n    padding: 12px;\r\n    background: #fff3cd;\r\n    border-left: 4px solid #ff9800;\r\n    border-radius: 6px;\r\n    font-size: 13px;\r\n    color: #856404;\r\n    line-height: 1.5;\r\n}\r\n\r\n.setup-warning-note strong {\r\n    color: #ff6f00;\r\n    display: block;\r\n    margin-bottom: 4px;\r\n}\r\n\r\n/* Error and Success Messages */\r\n.setup-error {\r\n    background: #fed7d7;\r\n    border: 2px solid #fc8181;\r\n    border-radius: 12px;\r\n    padding: 12px 16px;\r\n    color: #c53030;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    margin-top: 16px;\r\n}\r\n\r\n.setup-success {\r\n    background: #c6f6d5;\r\n    border: 2px solid #68d391;\r\n    border-radius: 12px;\r\n    padding: 12px 16px;\r\n    color: #276749;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    margin-top: 16px;\r\n}\r\n\r\n.setup-loading {\r\n    text-align: center;\r\n    padding: 24px;\r\n    color: #718096;\r\n}\r\n\r\n.setup-loading .spinner {\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 3px solid #e2e8f0;\r\n    border-top-color: #667eea;\r\n    border-radius: 50%;\r\n    animation: spin 0.8s linear infinite;\r\n    margin-right: 8px;\r\n}\r\n\r\n.setup-no-projects {\r\n    text-align: center;\r\n    padding: 24px;\r\n    color: #718096;\r\n    background: #f7fafc;\r\n    border-radius: 8px;\r\n}\r\n\r\n.setup-modal-footer {\r\n    padding: 24px 32px;\r\n    background: #f7fafc;\r\n    border-top: 1px solid #e2e8f0;\r\n    text-align: center;\r\n}\r\n\r\n.setup-btn-primary {\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: #fff;\r\n    border: none;\r\n    padding: 14px 32px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    border-radius: 12px;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\r\n    min-width: 200px;\r\n}\r\n\r\n.setup-btn-primary:hover:not(:disabled) {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);\r\n}\r\n\r\n.setup-btn-primary:active {\r\n    transform: translateY(0);\r\n}\r\n\r\n.setup-btn-primary:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n}\r\n\r\n.setup-btn-primary.success {\r\n    background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);\r\n}\r\n\r\n@keyframes fadeIn {\r\n    from {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes slideUp {\r\n    from {\r\n        transform: translateY(30px);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        transform: translateY(0);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes spin {\r\n    to {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n/* Mobile responsive */\r\n@media (max-width: 600px) {\r\n    .setup-modal-content {\r\n        width: 95%;\r\n        max-width: none;\r\n    }\r\n\r\n    .setup-modal-header,\r\n    .setup-modal-body,\r\n    .setup-modal-footer {\r\n        padding: 24px;\r\n    }\r\n\r\n    .setup-projects-grid {\r\n        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\r\n    }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utilities/fonts.css",
    "ranges": [
      {
        "start": 773,
        "end": 992
      },
      {
        "start": 1165,
        "end": 1247
      },
      {
        "start": 1251,
        "end": 1349
      },
      {
        "start": 1407,
        "end": 1549
      },
      {
        "start": 1607,
        "end": 1748
      },
      {
        "start": 1802,
        "end": 1956
      },
      {
        "start": 2336,
        "end": 2423
      },
      {
        "start": 2563,
        "end": 2646
      },
      {
        "start": 2700,
        "end": 2760
      },
      {
        "start": 3126,
        "end": 3208
      },
      {
        "start": 3481,
        "end": 3552
      }
    ],
    "text": "/* \r\n * SPEEDYFLOW TYPOGRAPHY SYSTEM - Aptos + Century\r\n * Sistema coherente y cohesivo de fuentes profesional\r\n * Date: December 1, 2025\r\n * \r\n * ESTRATEGIA:\r\n * - Aptos: UI moderna, navegaci√≥n, interacci√≥n (sans-serif)\r\n * - Century: Contenido editorial, texto largo, profesionalismo (serif)\r\n * - Jerarqu√≠a clara y consistente\r\n */\r\n\r\n/* Font imports - system fonts primero para fallback */\r\n/* Aptos es una fuente del sistema de Microsoft (Windows 11+), no est√° en Google Fonts */\r\n/* Fallback a Segoe UI (Windows 7+) y system-ui para m√°xima compatibilidad */\r\n\r\n/* Century est√° disponible en Windows por defecto, fallback a Georgia/Times */\r\n/* No necesita @import, es una fuente del sistema */\r\n\r\n/* DEPRECATED - Legacy font stacks (mantenido por compatibilidad) */\r\n:root {\r\n  --font-primary: 'Aptos', 'Segoe UI', system-ui, sans-serif;\r\n  --font-display: 'Aptos Display', 'Aptos', 'Segoe UI Semibold', sans-serif;\r\n  --font-mono: 'Aptos Mono', 'Consolas', 'Courier New', monospace;\r\n}\r\n\r\n/* SISTEMA COHESIVO - Referencia a typography-system.css */\r\n/* El nuevo sistema est√° en core/typography-system.css */\r\n\r\n/* Global base - Aptos para UI por defecto */\r\n* {\r\n  font-family: var(--font-ui, 'Aptos', 'Segoe UI', system-ui, sans-serif);\r\n}\r\n\r\nhtml, body {\r\n  font-family: var(--font-interface, 'Aptos', 'Segoe UI', system-ui, sans-serif);\r\n}\r\n\r\n/* Headings - Aptos Display para jerarqu√≠a visual */\r\nh1, h2, h3, h4, h5, h6,\r\n.heading, .title {\r\n  font-family: var(--font-heading, 'Aptos Display', 'Aptos', 'Segoe UI Semibold', sans-serif);\r\n}\r\n\r\n/* Contenido editorial - Century para legibilidad */\r\np, .paragraph, .content, .description, .article {\r\n  font-family: var(--font-body, 'Century', 'Century Gothic', 'Times New Roman', serif);\r\n}\r\n\r\n/* Form elements - Aptos para consistencia UI */\r\ninput, textarea, select, button, .btn, .form-control, .input-group {\r\n  font-family: var(--font-interface, 'Aptos', 'Segoe UI', system-ui, sans-serif);\r\n}\r\n\r\n/* Code elements - Aptos Mono */\r\ncode, pre, .code, .monospace, .highlight {\r\n  font-family: var(--font-code, 'Aptos Mono', 'Consolas', 'Courier New', monospace);\r\n}\r\n\r\n/* UI Components - Sistema cohesivo */\r\n.nav, .navbar, .sidebar, .card, .panel, .modal, .dropdown, .tooltip {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* Labels y badges - Aptos para consistencia UI */\r\nlabel, .label, .text-muted, .text-secondary {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n.badge, .tag, .chip, .label-inline {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* Notificaciones y alertas - Aptos para claridad */\r\n.alert, .notification, .toast, .popover {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* Tablas - Century para legibilidad de datos */\r\ntable, .table, th, td {\r\n  font-family: var(--font-body);\r\n}\r\n\r\n/* APLICACIONES ESPEC√çFICAS */\r\n\r\n/* Issue cards - Sistema mixto optimizado */\r\n.issue-card .issue-title {\r\n  font-family: var(--font-heading); /* Aptos Display */\r\n}\r\n\r\n.issue-card .issue-description {\r\n  font-family: var(--font-body); /* Century */  \r\n}\r\n\r\n.issue-card .issue-meta {\r\n  font-family: var(--font-interface); /* Aptos */\r\n}\r\n\r\n/* Kanban board */\r\n.kanban-column-title {\r\n  font-family: var(--font-heading); /* Aptos Display */\r\n}\r\n\r\n/* Streamlit components - Aptos para consistencia */\r\n.stTextInput, .stNumberInput, .stSelectbox, .stMultiSelect, \r\n.stButton, .stSlider, .stDateInput, .stTimeInput {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* Mensajes y comentarios - Century para legibilidad */\r\n.message, .chat-bubble, .comment {\r\n  font-family: var(--font-body);\r\n}\r\n\r\n/* Navegaci√≥n - Aptos para UI */\r\n.menu-item, .dropdown-item, .nav-item {\r\n  font-family: var(--font-interface);\r\n}\r\n\r\n/* M√©tricas - Aptos Display para impacto visual */\r\n.metric, .stat, .counter {\r\n  font-family: var(--font-heading);\r\n}\r\n\r\n/* Footer - Century para legibilidad */\r\nfooter, .footer {\r\n  font-family: var(--font-body);\r\n}\r\n\r\n/* ==================== LEGACY COMPATIBILITY ==================== */\r\n/* Mantiene compatibilidad con clases existentes */\r\n.font-aptos { font-family: var(--font-interface); }\r\n.font-century { font-family: var(--font-body); }\r\n.font-display { font-family: var(--font-heading); }\r\n.font-mono { font-family: var(--font-code); }\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utilities/loading-dots.css",
    "ranges": [
      {
        "start": 146,
        "end": 326
      },
      {
        "start": 330,
        "end": 505
      },
      {
        "start": 509,
        "end": 567
      },
      {
        "start": 571,
        "end": 629
      },
      {
        "start": 633,
        "end": 687
      },
      {
        "start": 792,
        "end": 942
      },
      {
        "start": 981,
        "end": 1321
      }
    ],
    "text": "/**\r\n * LOADING DOTS - Simple pulsing animation\r\n * Replaces skeleton shimmer with elegant dots\r\n */\r\n\r\n/* ===== LOADING DOTS CONTAINER ===== */\r\n.loading-dots {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n  gap: 8px;\r\n  font-size: 24px;\r\n  color: var(--color-primary, #6366f1);\r\n}\r\n\r\n.loading-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background-color: currentColor;\r\n  animation: dotPulse 1.4s infinite ease-in-out;\r\n  opacity: 0.6;\r\n}\r\n\r\n.loading-dot:nth-child(1) {\r\n  animation-delay: -0.32s;\r\n}\r\n\r\n.loading-dot:nth-child(2) {\r\n  animation-delay: -0.16s;\r\n}\r\n\r\n.loading-dot:nth-child(3) {\r\n  animation-delay: 0s;\r\n}\r\n\r\n/* Animation dotPulse is now imported from core/animations.css */\r\n\r\n/* ===== LOADING TEXT ===== */\r\n.loading-text {\r\n  text-align: center;\r\n  margin-top: 16px;\r\n  font-size: 14px;\r\n  color: var(--text-secondary, #6b7280);\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n/* ===== LOADING WRAPPER ===== */\r\n.loading-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 300px;\r\n  background: linear-gradient(135deg, rgba(120, 120, 120, 0.03) 0%, rgba(128, 128, 128, 0.03) 100%);\r\n  border-radius: 12px;\r\n  /* Variables glasmorphic gestionadas centralmente por variables.css */\r\n}\r\n\r\n/* ===== LOADING STATE FOR CARDS ===== */\r\n.cards-loading {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n  gap: 16px;\r\n  padding: 20px;\r\n}\r\n\r\n.card-placeholder {\r\n  background: transparent !important;\r\n  background-size: 200% 100%;\r\n  animation: none;\r\n  border-radius: 12px;\r\n  height: 240px;\r\n}\r\n\r\n@keyframes fadeInOut {\r\n  0%, 100% {\r\n    opacity: 0.4;\r\n  }\r\n  50% {\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n/* ===== MINI LOADING (for small sections) ===== */\r\n.loading-dots-mini {\r\n  display: inline-flex;\r\n  gap: 4px;\r\n  align-items: center;\r\n}\r\n\r\n.loading-dots-mini .loading-dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  font-size: 16px;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utilities/mentions-system.css",
    "ranges": [],
    "text": "/**\r\n * Mentions System - CSS Styles\r\n * Dropdown styling, highlighting, and animations\r\n */\r\n\r\n/* ===== MENTIONS DROPDOWN ===== */\r\n.mentions-dropdown {\r\n  background: rgba(20, 25, 45, 0.95);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: 8px;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  z-index: var(--z-popover);\r\n  animation: slideUp 0.2s ease;\r\n}\r\n\r\n/* Animation slideUp is now imported from core/animations.css */\r\n\r\n/* ===== MENTION OPTION ===== */\r\n.mention-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 12px;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  border-left: 2px solid transparent;\r\n}\r\n\r\n.mention-option:hover,\r\n.mention-option.selected {\r\n  background: rgba(128, 128, 128, 0.2);\r\n  border-left-color: var(--ff-accent);\r\n}\r\n\r\n.mention-avatar {\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, var(--ff-accent), #d946ef);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.mention-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.mention-name {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.mention-email {\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.7;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* ===== MENTION HIGHLIGHTING ===== */\r\n.mention-highlighted {\r\n  background: rgba(128, 128, 128, 0.2);\r\n  color: var(--ff-accent);\r\n  padding: 2px 4px;\r\n  border-radius: 3px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.mention-highlighted:hover {\r\n  background: rgba(128, 128, 128, 0.3);\r\n  text-decoration: underline;\r\n}\r\n\r\n/* ===== MENTION NOTIFICATION ===== */\r\n.mention-notification {\r\n  background: rgba(128, 128, 128, 0.1);\r\n  border: 1px solid rgba(128, 128, 128, 0.3);\r\n  border-radius: 6px;\r\n  padding: 8px 12px;\r\n  margin: 8px 0;\r\n  font-size: 12px;\r\n  color: var(--ff-accent);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n/* Animation slideIn is now imported from core/animations.css */\r\n\r\n.mention-notification::before {\r\n  content: 'üë§';\r\n  font-size: 14px;\r\n}\r\n\r\n/* ===== SCROLLBAR STYLING ===== */\r\n.mentions-dropdown::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.mentions-dropdown::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.mentions-dropdown::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 3px;\r\n}\r\n\r\n.mentions-dropdown::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* ===== COMMENT WITH MENTIONS ===== */\r\n.comment-text-with-mentions {\r\n  line-height: 1.6;\r\n  word-break: break-word;\r\n}\r\n\r\n/* ===== MENTION HELP TEXT ===== */\r\n.mention-help-text {\r\n  font-size: 11px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.6;\r\n  margin-top: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.mention-help-text::before {\r\n  content: '‚ÑπÔ∏è';\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utilities/sla-monitor.css",
    "ranges": [
      {
        "start": 1825,
        "end": 1998
      },
      {
        "start": 2002,
        "end": 2168
      },
      {
        "start": 2172,
        "end": 2345
      },
      {
        "start": 2580,
        "end": 2672
      },
      {
        "start": 2676,
        "end": 3040
      },
      {
        "start": 3634,
        "end": 3778
      },
      {
        "start": 4083,
        "end": 4191
      },
      {
        "start": 4195,
        "end": 4356
      },
      {
        "start": 4360,
        "end": 4581
      },
      {
        "start": 5052,
        "end": 5202
      },
      {
        "start": 6740,
        "end": 6845
      },
      {
        "start": 6849,
        "end": 7134
      },
      {
        "start": 7138,
        "end": 7252
      },
      {
        "start": 7256,
        "end": 7333
      },
      {
        "start": 7485,
        "end": 7504
      },
      {
        "start": 7509,
        "end": 7727
      },
      {
        "start": 8241,
        "end": 8365
      },
      {
        "start": 10566,
        "end": 11057
      },
      {
        "start": 11086,
        "end": 11574
      },
      {
        "start": 15184,
        "end": 15381
      },
      {
        "start": 15385,
        "end": 15426
      },
      {
        "start": 17258,
        "end": 17389
      },
      {
        "start": 17840,
        "end": 17898
      },
      {
        "start": 17902,
        "end": 17977
      },
      {
        "start": 19161,
        "end": 19216
      },
      {
        "start": 20747,
        "end": 20839
      },
      {
        "start": 20843,
        "end": 20938
      },
      {
        "start": 21049,
        "end": 21282
      },
      {
        "start": 22037,
        "end": 22232
      },
      {
        "start": 22434,
        "end": 22497
      },
      {
        "start": 23056,
        "end": 23236
      },
      {
        "start": 23644,
        "end": 23874
      },
      {
        "start": 23878,
        "end": 23943
      },
      {
        "start": 23947,
        "end": 24012
      },
      {
        "start": 24708,
        "end": 24787
      },
      {
        "start": 24791,
        "end": 24849
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - SLA Monitor Styling\r\n * Real-time SLA tracking visualization with progress bars and status indicators\r\n */\r\n\r\n/* ============================================================\r\n   SLA PANEL - Main Container\r\n   ============================================================ */\r\n\r\n.sla-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  width: 100%;\r\n  padding: 14px;\r\n  background: var(--glass-bg-primary);\r\n  backdrop-filter: var(--glass-blur-medium);\r\n  -webkit-backdrop-filter: var(--glass-blur-medium);\r\n  border: var(--glass-border-medium);\r\n  border-radius: 12px;\r\n  box-shadow: var(--glass-shadow-medium);\r\n  animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n/* Make SLA panel transparent by default for compact/footer usage */\r\n.sla-panel.transparent, .sla-panel.is-transparent, body .sla-panel {\r\n  background: transparent !important;\r\n  border: none !important;\r\n  box-shadow: none !important;\r\n  padding: 8px !important;\r\n}\r\n\r\n/* Make header/footer and inner cards transparent when panel is marked transparent */\r\n.sla-panel.is-transparent .sla-header,\r\n.sla-panel.is-transparent .sla-footer,\r\n.sla-panel.is-transparent .sla-content,\r\n.sla-panel.is-transparent .cycle-details,\r\n.sla-panel.is-transparent .detail-row {\r\n  background: transparent !important;\r\n  border: none !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n.sla-panel.is-transparent .sla-header {\r\n  padding: 0 4px 6px 4px !important;\r\n  margin-bottom: 0 !important;\r\n  border-bottom: none !important;\r\n}\r\n\r\n.sla-panel.is-transparent .sla-footer {\r\n  padding-top: 6px !important;\r\n  margin-top: 0 !important;\r\n}\r\n\r\n/* keep the status badge visible with its background */\r\n.sla-panel.is-transparent .cycle-status {\r\n  /* keep badge styles but slightly reduce opacity to blend */\r\n  opacity: 0.95;\r\n}\r\n\r\n.sla-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n.sla-title {\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  color: #ffffff;\r\n  margin: 0;\r\n  letter-spacing: 0.5px;\r\n  text-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.sla-refresh-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.sla-refresh-btn:hover {\r\n  background: rgba(59, 130, 246, 0.2);\r\n}\r\n\r\n/* ============================================================\r\n   SLA CONTENT - Cycles\r\n   ============================================================ */\r\n\r\n.sla-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n}\r\n\r\n.sla-cycle {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  padding: 12px;\r\n  background: var(--glass-bg-secondary);\r\n  backdrop-filter: var(--glass-blur-light);\r\n  -webkit-backdrop-filter: var(--glass-blur-light);\r\n  border-left: 4px solid #3b82f6;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.sla-cycle:hover {\r\n  background: var(--glass-hover-bg);\r\n  transform: translateX(2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.sla-cycle-critical {\r\n  border-left-color: #ef4444;\r\n  background: rgba(239, 68, 68, 0.15);\r\n  box-shadow: 0 2px 12px rgba(239, 68, 68, 0.2);\r\n}\r\n\r\n.sla-cycle-warning {\r\n  border-left-color: #f97316;\r\n  background: rgba(249, 115, 22, 0.15);\r\n  box-shadow: 0 2px 12px rgba(249, 115, 22, 0.2);\r\n}\r\n\r\n.sla-cycle-caution {\r\n  border-left-color: #fb923c;\r\n  background: rgba(251, 146, 60, 0.15);\r\n  box-shadow: 0 2px 12px rgba(251, 146, 60, 0.2);\r\n}\r\n\r\n.sla-cycle-healthy {\r\n  border-left-color: #22c55e;\r\n  background: rgba(34, 197, 94, 0.15);\r\n  box-shadow: 0 2px 12px rgba(34, 197, 94, 0.2);\r\n}\r\n\r\n.sla-cycle-paused {\r\n  border-left-color: #f59e0b;\r\n  background: rgba(245, 158, 11, 0.15);\r\n  box-shadow: 0 2px 12px rgba(245, 158, 11, 0.2);\r\n}\r\n\r\n/* ============================================================\r\n   CYCLE HEADER\r\n   ============================================================ */\r\n\r\n.cycle-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.cycle-name {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #f0f0f0;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.cycle-status {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  padding: 3px 8px;\r\n  border-radius: 3px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.3px;\r\n}\r\n\r\n.cycle-status.critical {\r\n  background: rgba(239, 68, 68, 0.3);\r\n  color: #fecaca;\r\n  border: 1px solid rgba(239, 68, 68, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\n.cycle-status.warning {\r\n  background: rgba(249, 115, 22, 0.3);\r\n  color: #fed7aa;\r\n  border: 1px solid rgba(249, 115, 22, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\n.cycle-status.caution {\r\n  background: rgba(251, 146, 60, 0.3);\r\n  color: #fef3c7;\r\n  border: 1px solid rgba(251, 146, 60, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\n.cycle-status.healthy {\r\n  background: rgba(34, 197, 94, 0.3);\r\n  color: #bbf7d0;\r\n  border: 1px solid rgba(34, 197, 94, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\n.cycle-status.paused {\r\n  background: rgba(245, 158, 11, 0.3);\r\n  color: #fde68a;\r\n  border: 1px solid rgba(245, 158, 11, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\n/* ============================================================\r\n   PROGRESS BAR\r\n   ============================================================ */\r\n\r\n.cycle-progress {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.progress-bar {\r\n  flex: 1;\r\n  height: 8px;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #10b981, #3b82f6, #6366f1);\r\n  border-radius: 4px;\r\n  transition: width 0.3s ease;\r\n  box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.sla-cycle-critical .progress-fill {\r\n  background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);\r\n  box-shadow: 0 0 12px rgba(239, 68, 68, 0.5);\r\n}\r\n\r\n.sla-cycle-warning .progress-fill {\r\n  background: linear-gradient(90deg, #f97316, #ea580c, #c2410c);\r\n  box-shadow: 0 0 12px rgba(249, 115, 22, 0.5);\r\n}\r\n\r\n.sla-cycle-caution .progress-fill {\r\n  background: linear-gradient(90deg, #fbbf24, #f59e0b, #d97706);\r\n  box-shadow: 0 0 12px rgba(251, 146, 60, 0.5);\r\n}\r\n\r\n.progress-percent {\r\n  font-size: 10px;\r\n  font-weight: 700;\r\n  color: #e0e0e0;\r\n  min-width: 32px;\r\n  text-align: right;\r\n}\r\n\r\n/* ============================================================\r\n   CYCLE DETAILS\r\n   ============================================================ */\r\n\r\n.cycle-details {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 6px;\r\n  font-size: 10px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 6px;\r\n  padding: 6px 8px;\r\n  background: rgba(255, 255, 255, 0.08);\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.detail-label {\r\n  color: #b0b8c8;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.2px;\r\n}\r\n\r\n.detail-value {\r\n  color: #fff;\r\n  font-weight: 600;\r\n  text-align: right;\r\n}\r\n\r\n.detail-value.breached {\r\n  color: #ef4444;\r\n}\r\n\r\n/* Compact/footer overrides: slightly larger refresh button and wider Remaining column */\r\n@media (min-width: 320px) {\r\n  .sla-refresh-btn {\r\n    padding: 6px 10px;\r\n    font-size: 13px;\r\n    min-width: 40px;\r\n    height: 30px;\r\n    border-radius: 6px;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  /* Make the second column (where Remaining usually lives) wider in compact panels */\r\n  .sla-panel .cycle-details {\r\n    grid-template-columns: 1fr 1.6fr; /* give more space to the value column */\r\n  }\r\n\r\n  /* Ensure detail values (like Remaining) can grow and keep Updated inline */\r\n  .sla-panel .detail-value {\r\n    min-width: 110px;\r\n    display: inline-block;\r\n    text-align: right;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n}\r\n\r\n/* SVG refresh animation */\r\n.sla-refresh-svg {\r\n  transition: transform 0.25s linear, opacity 0.2s ease;\r\n  color: inherit;\r\n  display: inline-block;\r\n}\r\n.sla-refresh-svg.spinning {\r\n  animation: sla-spin 0.9s linear infinite;\r\n}\r\n@keyframes sla-spin {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* Make sure hidden empty container doesn't occupy space */\r\n.sla-panel-empty {\r\n  display: none !important;\r\n}\r\n\r\n/* ============================================================\r\n   STATUS WARNINGS & NOTICES\r\n   ============================================================ */\r\n\r\n.breach-warning {\r\n  padding: 8px 10px;\r\n  background: rgba(239, 68, 68, 0.25);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  border: 1px solid rgba(239, 68, 68, 0.4);\r\n  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: 3px;\r\n  color: #fca5a5;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  animation: none;\r\n}\r\n\r\n.pause-notice {\r\n  padding: 6px 8px;\r\n  background: rgba(251, 146, 60, 0.15);\r\n  border: 1px solid rgba(251, 146, 60, 0.3);\r\n  border-radius: 3px;\r\n  color: #fbbf24;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  animation: none;\r\n}\r\n\r\n.secondary-sla-warning {\r\n  padding: 8px 10px;\r\n  background: rgba(245, 158, 11, 0.2);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  border: 1px solid rgba(245, 158, 11, 0.4);\r\n  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.25);\r\n  border-radius: 6px;\r\n  color: #fbbf24;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  margin-top: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  animation: pulse-secondary 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes pulse-secondary {\r\n  0%, 100% {\r\n    opacity: 0.9;\r\n    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.25);\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n    box-shadow: 0 2px 12px rgba(245, 158, 11, 0.4);\r\n  }\r\n}\r\n\r\nbody.theme-dark .secondary-sla-warning {\r\n  background: rgba(245, 158, 11, 0.15);\r\n  border-color: rgba(245, 158, 11, 0.3);\r\n  color: #fcd34d;\r\n}\r\n\r\n/* ============================================================\r\n   SLA TICKET KEY SOLID COLORS - PRIMARY SLAs (Blue/Cyan Theme)\r\n   HIGH SPECIFICITY to override all other styles\r\n   ============================================================ */\r\n\r\n/* Healthy SLA - Green */\r\n.issue-card-key.ticket-key-sla-healthy,\r\n.ticket-key-sla-healthy,\r\n#kanbanView .issue-card-key.ticket-key-sla-healthy,\r\n#listView .issue-card-key.ticket-key-sla-healthy {\r\n  background: rgba(34, 197, 94, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(22, 163, 74, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(34, 197, 94, 0.3) !important;\r\n  padding: 4px 8px !important;\r\n  animation: sla-pulse-healthy 3s ease-in-out infinite;\r\n}\r\n\r\n/* Paused SLA - Blue */\r\n.issue-card-key.ticket-key-sla-paused,\r\n.ticket-key-sla-paused,\r\n#kanbanView .issue-card-key.ticket-key-sla-paused,\r\n#listView .issue-card-key.ticket-key-sla-paused {\r\n  background: rgba(59, 130, 246, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(37, 99, 235, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3) !important;\r\n  padding: 4px 8px !important;\r\n  animation: sla-pulse-paused 2s ease-in-out infinite;\r\n}\r\n\r\n/* Breached SLA - Red */\r\n.issue-card-key.ticket-key-sla-breached,\r\n.ticket-key-sla-breached,\r\n#kanbanView .issue-card-key.ticket-key-sla-breached,\r\n#listView .issue-card-key.ticket-key-sla-breached {\r\n  background: rgba(239, 68, 68, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(220, 38, 38, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3) !important;\r\n  padding: 4px 8px !important;\r\n  animation: sla-pulse-breached 1.5s ease-in-out infinite;\r\n}\r\n\r\n/* Warning SLA - Yellow/Amber */\r\n.issue-card-key.ticket-key-sla-warning,\r\n.ticket-key-sla-warning,\r\n#kanbanView .issue-card-key.ticket-key-sla-warning,\r\n#listView .issue-card-key.ticket-key-sla-warning {\r\n  background: rgba(251, 191, 36, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(245, 158, 11, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(251, 191, 36, 0.3) !important;\r\n  padding: 4px 8px !important;\r\n  animation: sla-pulse-warning 2.5s ease-in-out infinite;\r\n}\r\n\r\n/* Secondary SLA Badges (Cierre Ticket) - Purple/Magenta Theme */\r\n.ticket-key-sla-secondary {\r\n  background: rgba(147, 51, 234, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(126, 34, 206, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(147, 51, 234, 0.3) !important;\r\n  animation: sla-pulse-secondary-badge 2s ease-in-out infinite;\r\n}\r\n\r\n.ticket-key-sla-secondary-paused {\r\n  background: rgba(124, 58, 237, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(109, 40, 217, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(124, 58, 237, 0.3) !important;\r\n  animation: sla-pulse-secondary-paused 2s ease-in-out infinite;\r\n}\r\n\r\n.ticket-key-sla-secondary-breached {\r\n  background: rgba(190, 24, 93, 0.95) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid rgba(159, 18, 57, 1) !important;\r\n  border-radius: 6px !important;\r\n  box-shadow: 0 2px 6px rgba(190, 24, 93, 0.3) !important;\r\n  animation: sla-pulse-secondary-breached 1.5s ease-in-out infinite;\r\n}\r\n\r\n/* SLA Pulse Animations - Primary (Blue/Cyan) */\r\n@keyframes sla-pulse-healthy {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(34, 197, 94, 0.3); }\r\n  50% { box-shadow: 0 2px 10px rgba(34, 197, 94, 0.5); }\r\n}\r\n\r\n@keyframes sla-pulse-paused {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3); }\r\n  50% { box-shadow: 0 2px 10px rgba(59, 130, 246, 0.5); }\r\n}\r\n\r\n@keyframes sla-pulse-breached {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3); }\r\n  50% { box-shadow: 0 2px 12px rgba(239, 68, 68, 0.6); }\r\n}\r\n\r\n@keyframes sla-pulse-warning {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(251, 191, 36, 0.3); }\r\n  50% { box-shadow: 0 2px 10px rgba(251, 191, 36, 0.5); }\r\n}\r\n\r\n/* SLA Pulse Animations - Secondary (Purple/Magenta) */\r\n@keyframes sla-pulse-secondary-badge {\r\n  0%, 100% { \r\n    box-shadow: 0 2px 6px rgba(147, 51, 234, 0.3);\r\n    transform: scale(1);\r\n  }\r\n  50% { \r\n    box-shadow: 0 2px 10px rgba(147, 51, 234, 0.5);\r\n    transform: scale(1.02);\r\n  }\r\n}\r\n\r\n@keyframes sla-pulse-secondary-paused {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(124, 58, 237, 0.3); }\r\n  50% { box-shadow: 0 2px 10px rgba(124, 58, 237, 0.5); }\r\n}\r\n\r\n@keyframes sla-pulse-secondary-breached {\r\n  0%, 100% { box-shadow: 0 2px 6px rgba(190, 24, 93, 0.3); }\r\n  50% { box-shadow: 0 2px 10px rgba(190, 24, 93, 0.5); }\r\n}\r\n\r\n/* ============================================================\r\n   SLA FOOTER\r\n   ============================================================ */\r\n\r\n.sla-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding-top: 8px;\r\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n  font-size: 9px;\r\n}\r\n\r\n.sla-last-updated {\r\n  color: #909090;\r\n}\r\n\r\n.sla-legend {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  color: #c0c0c0;\r\n  font-size: 9px;\r\n}\r\n\r\n.dot {\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n}\r\n\r\n.dot.green {\r\n  background: #22c55e;\r\n}\r\n\r\n.dot.yellow {\r\n  background: #fb923c;\r\n}\r\n\r\n.dot.red {\r\n  background: #ef4444;\r\n}\r\n\r\n/* ============================================================\r\n   QUEUE DASHBOARD\r\n   ============================================================ */\r\n\r\n.sla-queue-dashboard {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  width: 100%;\r\n  padding: 12px;\r\n  background: rgba(30, 30, 30, 0.4);\r\n  /* Variables glasmorphic gestionadas centralmente por variables.css */\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: 8px;\r\n}\r\n\r\n.queue-dashboard-header {\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.queue-dashboard-header h3 {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n}\r\n\r\n/* ============================================================\r\n   QUEUE STATS\r\n   ============================================================ */\r\n\r\n.queue-stats {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n}\r\n\r\n.stat {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 6px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.stat:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.stat.green {\r\n  border-left: 3px solid #22c55e;\r\n}\r\n\r\n.stat.yellow {\r\n  border-left: 3px solid #fb923c;\r\n}\r\n\r\n.stat.red {\r\n  border-left: 3px solid #ef4444;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 10px;\r\n  color: #c0c0c0;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.2px;\r\n  margin-top: 4px;\r\n}\r\n\r\n/* ============================================================\r\n   QUEUE COMPLIANCE\r\n   ============================================================ */\r\n\r\n.queue-compliance {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  padding: 10px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 6px;\r\n}\r\n\r\n.compliance-metric {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 11px;\r\n}\r\n\r\n.metric-label {\r\n  color: #b0b8c8;\r\n  font-weight: 500;\r\n}\r\n\r\n.metric-value {\r\n  color: #fff;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n}\r\n\r\n.compliance-bar {\r\n  display: flex;\r\n  height: 6px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  gap: 1px;\r\n}\r\n\r\n.bar-segment {\r\n  flex: 1;\r\n  border-radius: 2px;\r\n  transition: flex 0.3s ease;\r\n}\r\n\r\n.bar-segment.green {\r\n  background: #22c55e;\r\n}\r\n\r\n.bar-segment.yellow {\r\n  background: #fb923c;\r\n}\r\n\r\n.bar-segment.red {\r\n  background: #ef4444;\r\n}\r\n\r\n/* ============================================================\r\n   QUEUE DETAILS TABLE\r\n   ============================================================ */\r\n\r\n.queue-details {\r\n  overflow-x: auto;\r\n}\r\n\r\n.sla-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 10px;\r\n}\r\n\r\n.sla-table thead {\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.sla-table th {\r\n  padding: 6px 4px;\r\n  text-align: left;\r\n  color: rgba(255, 255, 255, 0.6);\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.2px;\r\n}\r\n\r\n.sla-table td {\r\n  padding: 6px 4px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.sla-row:hover {\r\n  background: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.issue-key {\r\n  font-weight: 600;\r\n  color: #3b82f6;\r\n}\r\n\r\n.sla-name {\r\n  color: rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.sla-status {\r\n  font-weight: 600;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  width: fit-content;\r\n}\r\n\r\n.status-ongoing {\r\n  background: rgba(59, 130, 246, 0.2);\r\n  color: #93c5fd;\r\n}\r\n\r\n.status-breached {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  color: #fca5a5;\r\n}\r\n\r\n.time-remaining {\r\n  text-align: right;\r\n  color: #fff;\r\n}\r\n\r\n/* ============================================================\r\n   ANIMATIONS\r\n   ============================================================ */\r\n/* Animation slideUp is now imported from core/animations.css */\r\n\r\n/* ============================================================\r\n   RESPONSIVE DESIGN\r\n   ============================================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .sla-panel {\r\n    padding: 10px;\r\n  }\r\n\r\n  .cycle-details {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .queue-stats {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .sla-table {\r\n    font-size: 9px;\r\n  }\r\n\r\n  .sla-table th,\r\n  .sla-table td {\r\n    padding: 4px 2px;\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   THEME SUPPORT - LIGHT MODE\r\n   ============================================================ */\r\n\r\nbody.theme-light .sla-panel {\r\n  background: rgba(255, 255, 255, 0.85) !important;\r\n  backdrop-filter: blur(10px) !important;\r\n  -webkit-backdrop-filter: blur(10px) !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.08) !important;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) !important;\r\n}\r\n\r\nbody.theme-light .sla-header {\r\n  border-bottom: 2px solid rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .sla-title {\r\n  color: #1e293b !important;\r\n  text-shadow: none !important;\r\n}\r\n\r\nbody.theme-light .sla-refresh-btn:hover {\r\n  background: rgba(59, 130, 246, 0.1);\r\n  color: #3b82f6;\r\n}\r\n\r\nbody.theme-light .sla-cycle {\r\n  background: rgba(248, 250, 252, 0.9) !important;\r\n  backdrop-filter: blur(8px) !important;\r\n  -webkit-backdrop-filter: blur(8px) !important;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle:hover {\r\n  background: rgba(241, 245, 249, 0.95) !important;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle-critical {\r\n  border-left-color: #dc2626 !important;\r\n  background: rgba(254, 226, 226, 0.7) !important;\r\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle-warning {\r\n  border-left-color: #ea580c !important;\r\n  background: rgba(254, 237, 219, 0.7) !important;\r\n  box-shadow: 0 2px 8px rgba(234, 88, 12, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle-caution {\r\n  border-left-color: #f97316 !important;\r\n  background: rgba(255, 247, 237, 0.7) !important;\r\n  box-shadow: 0 2px 8px rgba(249, 115, 22, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle-healthy {\r\n  border-left-color: #16a34a !important;\r\n  background: rgba(220, 252, 231, 0.7) !important;\r\n  box-shadow: 0 2px 8px rgba(22, 163, 74, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .sla-cycle-paused {\r\n  border-left-color: #d97706 !important;\r\n  background: rgba(254, 243, 199, 0.7) !important;\r\n  box-shadow: 0 2px 8px rgba(217, 119, 6, 0.15) !important;\r\n}\r\n\r\nbody.theme-light .cycle-name {\r\n  color: #334155 !important;\r\n}\r\n\r\nbody.theme-light .cycle-status.critical {\r\n  background: rgba(220, 38, 38, 0.15) !important;\r\n  color: #991b1b !important;\r\n  border: 1px solid rgba(220, 38, 38, 0.3) !important;\r\n}\r\n\r\nbody.theme-light .cycle-status.warning {\r\n  background: rgba(234, 88, 12, 0.15) !important;\r\n  color: #9a3412 !important;\r\n  border: 1px solid rgba(234, 88, 12, 0.3) !important;\r\n}\r\n\r\nbody.theme-light .cycle-status.caution {\r\n  background: rgba(249, 115, 22, 0.15) !important;\r\n  color: #9a3412 !important;\r\n  border: 1px solid rgba(249, 115, 22, 0.3) !important;\r\n}\r\n\r\nbody.theme-light .cycle-status.healthy {\r\n  background: rgba(22, 163, 74, 0.15) !important;\r\n  color: #166534 !important;\r\n  border: 1px solid rgba(22, 163, 74, 0.3) !important;\r\n}\r\n\r\nbody.theme-light .cycle-status.paused {\r\n  background: rgba(217, 119, 6, 0.15) !important;\r\n  color: #92400e !important;\r\n  border: 1px solid rgba(217, 119, 6, 0.3) !important;\r\n}\r\n\r\nbody.theme-light .progress-bar {\r\n  background: rgba(0, 0, 0, 0.08) !important;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\nbody.theme-light .progress-percent {\r\n  color: #475569 !important;\r\n}\r\n\r\nbody.theme-light .detail-row {\r\n  background: rgba(248, 250, 252, 0.9) !important;\r\n  backdrop-filter: blur(4px) !important;\r\n  -webkit-backdrop-filter: blur(4px) !important;\r\n  border: 1px solid rgba(0, 0, 0, 0.06) !important;\r\n}\r\n\r\nbody.theme-light .detail-label {\r\n  color: #64748b !important;\r\n}\r\n\r\nbody.theme-light .detail-value {\r\n  color: #1e293b !important;\r\n}\r\n\r\nbody.theme-light .detail-value.breached {\r\n  color: #dc2626 !important;\r\n}\r\n\r\nbody.theme-light .breach-warning {\r\n  background: rgba(254, 226, 226, 0.9) !important;\r\n  backdrop-filter: blur(8px) !important;\r\n  -webkit-backdrop-filter: blur(8px) !important;\r\n  border: 1px solid rgba(220, 38, 38, 0.3) !important;\r\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.15) !important;\r\n  color: #991b1b;\r\n}\r\n\r\nbody.theme-light .pause-notice {\r\n  background: rgba(254, 243, 199, 0.9);\r\n  border: 1px solid rgba(217, 119, 6, 0.3);\r\n  color: #92400e;\r\n}\r\n\r\nbody.theme-light .secondary-sla-warning {\r\n  background: rgba(254, 243, 199, 0.9);\r\n  border-color: rgba(217, 119, 6, 0.3);\r\n  color: #92400e;\r\n}\r\n\r\nbody.theme-light .sla-footer {\r\n  border-top: 1px solid rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .sla-last-updated {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .legend-item {\r\n  color: #475569;\r\n}\r\n\r\nbody.theme-light .sla-queue-dashboard {\r\n  background: rgba(255, 255, 255, 0.85);\r\n  border: 1px solid rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .queue-dashboard-header {\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .queue-dashboard-header h3 {\r\n  color: #1e293b;\r\n}\r\n\r\nbody.theme-light .stat {\r\n  background: rgba(248, 250, 252, 0.9);\r\n}\r\n\r\nbody.theme-light .stat:hover {\r\n  background: rgba(241, 245, 249, 0.95);\r\n}\r\n\r\nbody.theme-light .stat-value {\r\n  color: #1e293b;\r\n}\r\n\r\nbody.theme-light .stat-label {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .queue-compliance {\r\n  background: rgba(248, 250, 252, 0.9);\r\n}\r\n\r\nbody.theme-light .metric-label {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .metric-value {\r\n  color: #1e293b;\r\n}\r\n\r\nbody.theme-light .compliance-bar {\r\n  background: rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .sla-table thead {\r\n  background: rgba(248, 250, 252, 0.9);\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\r\n}\r\n\r\nbody.theme-light .sla-table th {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .sla-table td {\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.04);\r\n  color: #475569;\r\n}\r\n\r\nbody.theme-light .sla-row:hover {\r\n  background: rgba(248, 250, 252, 0.9);\r\n}\r\n\r\nbody.theme-light .issue-key {\r\n  color: #2563eb;\r\n}\r\n\r\nbody.theme-light .sla-name {\r\n  color: #64748b;\r\n}\r\n\r\nbody.theme-light .status-ongoing {\r\n  background: rgba(59, 130, 246, 0.15);\r\n  color: #1e40af;\r\n}\r\n\r\nbody.theme-light .status-breached {\r\n  background: rgba(220, 38, 38, 0.15);\r\n  color: #991b1b;\r\n}\r\n\r\nbody.theme-light .time-remaining {\r\n  color: #1e293b;\r\n}\r\n\r\n/* ============================================================\r\n   DARK MODE ENHANCEMENTS\r\n   ============================================================ */\r\n\r\n@media (prefers-color-scheme: dark) {\r\n  .sla-panel,\r\n  .sla-queue-dashboard {\r\n    background: rgba(20, 20, 20, 0.6);\r\n  }\r\n\r\n  .sla-cycle {\r\n    background: rgba(5, 5, 5, 0.4);\r\n  }\r\n}\r\n\r\n/* ============================================================\r\n   ACCESSIBILITY\r\n   ============================================================ */\r\n\r\n.sla-refresh-btn:focus {\r\n  outline: 2px solid #3b82f6;\r\n  outline-offset: 2px;\r\n}\r\n\r\n.sla-panel:focus-within {\r\n  border-color: rgba(59, 130, 246, 0.5);\r\n}\r\n\r\n/* ============================================================\r\n   PRINT STYLES\r\n   ============================================================ */\r\n\r\n@media print {\r\n  .sla-refresh-btn {\r\n    display: none;\r\n  }\r\n\r\n  .sla-panel {\r\n    break-inside: avoid;\r\n    page-break-inside: avoid;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utilities/state-indicators.css",
    "ranges": [
      {
        "start": 175,
        "end": 482
      },
      {
        "start": 1650,
        "end": 1689
      }
    ],
    "text": "/**\r\n * STATE INDICATORS - Intuitive loading/status animations\r\n * Integrated with scroll effects and content loading\r\n */\r\n\r\n/* ===== SCROLL-INTEGRATED LOADING BAR ===== */\r\n.scroll-loading-bar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 3px;\r\n  background: linear-gradient(90deg, #3b82f6, #d946ef);\r\n  width: 0%;\r\n  z-index: var(--z-notification);\r\n  transition: width var(--transition-slow) var(--transition-ease);\r\n  box-shadow: 0 0 10px rgba(128, 128, 128, 0.6);\r\n}\r\n\r\n.scroll-loading-bar.active {\r\n  animation: none;\r\n}\r\n\r\n@keyframes loadingProgress {\r\n  0% { width: 10%; }\r\n  50% { width: 60%; }\r\n  100% { width: 90%; }\r\n}\r\n\r\n.scroll-loading-bar.complete {\r\n  width: 100%;\r\n  opacity: 1;\r\n  animation: fadeOutBar 0.6s ease 0.5s forwards;\r\n}\r\n\r\n@keyframes fadeOutBar {\r\n  to { opacity: 0; width: 100%; }\r\n}\r\n\r\n/* ===== CONTENT LOADING SKELETON ===== */\r\n.skeleton-loader {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 20px;\r\n}\r\n\r\n.skeleton-item {\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(255, 255, 255, 0.05) 0%,\r\n    rgba(255, 255, 255, 0.1) 50%,\r\n    rgba(255, 255, 255, 0.05) 100%\r\n  );\r\n  background-size: 200% 100%;\r\n  animation: none;\r\n  border-radius: 6px;\r\n}\r\n\r\n.skeleton-header {\r\n  height: 24px;\r\n  width: 40%;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.skeleton-row {\r\n  height: 16px;\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.skeleton-row:last-child {\r\n  width: 80%;\r\n}\r\n\r\n.skeleton-card {\r\n  height: 200px;\r\n  border-radius: 8px;\r\n}\r\n\r\n@keyframes skeletonShimmer {\r\n  0% { background-position: 200% 0; }\r\n  100% { background-position: -200% 0; }\r\n}\r\n\r\n/* ===== SPINNER VARIANTS ===== */\r\n.spinner {\r\n  display: inline-block;\r\n}\r\n\r\n/* Spinner: Standard */\r\n.spinner-standard {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid rgba(255, 255, 255, 0.2);\r\n  border-top: 2px solid #3b82f6;\r\n  border-radius: 50%;\r\n  animation: none;\r\n}\r\n\r\n/* Spinner: Pulse */\r\n.spinner-pulse {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: rgba(128, 128, 128, 0.3);\r\n  border-radius: 50%;\r\n  animation: none;\r\n}\r\n\r\n@keyframes dotBounce {\r\n  0%, 100% { transform: translateY(0); }\r\n  50% { transform: translateY(-8px); }\r\n}\r\n\r\n/* Spinner: Rotating Circle */\r\n.spinner-circle {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background: conic-gradient(#3b82f6 0deg, rgba(128, 128, 128, 0.2) 360deg);\r\n  animation: none;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* ===== INLINE LOADING STATES ===== */\r\n.loading-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  color: #e0e0e0;\r\n  font-size: 14px;\r\n}\r\n\r\n.loading-indicator.compact {\r\n  padding: 8px;\r\n  gap: 8px;\r\n  font-size: 12px;\r\n  color: #e0e0e0;\r\n}\r\n\r\n/* ===== SUCCESS STATE ===== */\r\n.success-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 16px;\r\n  background: rgba(34, 197, 94, 0.1);\r\n  border-left: 3px solid #22c55e;\r\n  border-radius: 4px;\r\n  color: #86efac;\r\n  font-size: 14px;\r\n  animation: successSlideIn 0.4s ease;\r\n}\r\n\r\n.success-indicator::before {\r\n  content: '‚úì';\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n}\r\n\r\n@keyframes successSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n/* ===== ERROR STATE ===== */\r\n.error-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px;\r\n  background: rgba(220, 38, 38, 0.1);\r\n  border-left: 3px solid #dc2626;\r\n  border-radius: 4px;\r\n  color: #fca5a5;\r\n  font-size: 14px;\r\n  animation: errorShake 0.4s ease;\r\n}\r\n\r\n.error-indicator::before {\r\n  content: '‚ö†';\r\n  margin-right: 8px;\r\n  font-size: 18px;\r\n}\r\n\r\n@keyframes errorShake {\r\n  0%, 100% { transform: translateX(0); }\r\n  25% { transform: translateX(-5px); }\r\n  75% { transform: translateX(5px); }\r\n}\r\n\r\n/* ===== WARNING STATE ===== */\r\n.warning-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 16px;\r\n  background: rgba(217, 119, 6, 0.1);\r\n  border-left: 3px solid #d97706;\r\n  border-radius: 4px;\r\n  color: #fbbf24;\r\n  font-size: 14px;\r\n}\r\n\r\n.warning-indicator::before {\r\n  content: '!';\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n}\r\n\r\n/* ===== FLOATING ACTION FEEDBACK ===== */\r\n.floating-feedback {\r\n  position: fixed;\r\n  bottom: 24px;\r\n  right: 24px;\r\n  padding: 16px 24px;\r\n  background: transparent !important;\r\n  backdrop-filter: none !important;\r\n  -webkit-backdrop-filter: none !important;\r\n  border: 1px solid rgba(128, 128, 128, 0.2) !important;\r\n  border-radius: 8px;\r\n  color: #f0f0f0;\r\n  font-size: 14px;\r\n  z-index: 9998;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  animation: floatingSlideIn var(--transition-slow) var(--transition-ease);\r\n  box-shadow: none !important;\r\n  /* Inmune a controles de transparencia */\r\n  opacity: 1 !important;\r\n}\r\n\r\n.floating-feedback.success {\r\n  border-color: rgba(34, 197, 94, 0.5);\r\n}\r\n\r\n.floating-feedback.error {\r\n  border-color: rgba(220, 38, 38, 0.5);\r\n}\r\n\r\n.floating-feedback.warning {\r\n  border-color: rgba(217, 119, 6, 0.5);\r\n}\r\n\r\n@keyframes floatingSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px) translateX(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) translateX(0);\r\n  }\r\n}\r\n\r\n/* ===== PROGRESS BAR ===== */\r\n.progress-bar {\r\n  width: 100%;\r\n  height: 4px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  margin: 12px 0;\r\n}\r\n\r\n.progress-bar-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #3b82f6, #d946ef);\r\n  width: 0%;\r\n  transition: width var(--transition-slow) var(--transition-ease);\r\n  box-shadow: 0 0 8px rgba(128, 128, 128, 0.6);\r\n}\r\n\r\n.progress-bar.active .progress-bar-fill {\r\n  animation: none;\r\n}\r\n\r\n@keyframes progressPulse {\r\n  0%, 100% { box-shadow: 0 0 8px rgba(128, 128, 128, 0.6); }\r\n  50% { box-shadow: 0 0 16px rgba(128, 128, 128, 1); }\r\n}\r\n\r\n/* ===== BADGE COUNTER ===== */\r\n.loading-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 24px;\r\n  height: 24px;\r\n  padding: 0 6px;\r\n  background: #3b82f6;\r\n  color: white;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  animation: none;\r\n}\r\n\r\n@keyframes badgePulse {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.1); }\r\n}\r\n\r\n/* ===== CONTENT TRANSITION SKELETON ===== */\r\n.content-transition {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.content-transition.loading {\r\n  opacity: 0.6;\r\n  pointer-events: none;\r\n}\r\n\r\n.content-transition::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(\r\n    90deg,\r\n    transparent,\r\n    rgba(255, 255, 255, 0.1),\r\n    transparent\r\n  );\r\n  animation: none;\r\n}\r\n\r\n.content-transition.loading::after {\r\n  animation: none;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { left: -100%; }\r\n  100% { left: 100%; }\r\n}\r\n\r\n/* ===== SCROLL AREA STATUS ===== */\r\n.scroll-area-status {\r\n  position: fixed;\r\n  bottom: 16px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 12px 20px;\r\n  background: transparent !important;\r\n  backdrop-filter: none !important;\r\n  -webkit-backdrop-filter: none !important;\r\n  border: 1px solid rgba(128, 128, 128, 0.2) !important;\r\n  border-radius: 20px;\r\n  color: #e8e8e8;\r\n  font-size: 13px;\r\n  z-index: 100;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 16px;\r\n  /* Inmune a controles de transparencia */\r\n  opacity: 1 !important;\r\n}\r\n\r\n.scroll-area-status.loading {\r\n  animation: fadeInDown var(--transition-slow) var(--transition-ease);\r\n}\r\n\r\n@keyframes fadeInDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-50%) translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(-50%) translateY(0);\r\n  }\r\n}\r\n\r\n/* ===== MINIMALIST INDICATOR ===== */\r\n.dot-indicator {\r\n  display: inline-block;\r\n  width: 8px;\r\n  height: 8px;\r\n  background: #3b82f6;\r\n  border-radius: 50%;\r\n  animation: none;\r\n}\r\n\r\n.dot-indicator.success {\r\n  background: #22c55e;\r\n}\r\n\r\n.dot-indicator.error {\r\n  background: #dc2626;\r\n}\r\n\r\n@keyframes dotPulse {\r\n  0%, 100% { opacity: 0.6; transform: scale(1); }\r\n  50% { opacity: 1; transform: scale(1.3); }\r\n}\r\n\r\n/* ===== CARD LOADING STATE ===== */\r\n.card-loading {\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  background: rgba(30, 30, 50, 0.5);\r\n  border: 1px solid rgba(255, 255, 255, 0.05);\r\n  min-height: 200px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.card-loading::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(\r\n    90deg,\r\n    transparent,\r\n    rgba(255, 255, 255, 0.08),\r\n    transparent\r\n  );\r\n  animation: none;\r\n}\r\n\r\n@keyframes cardShimmer {\r\n  0% { transform: translateX(-100%); }\r\n  100% { transform: translateX(100%); }\r\n}\r\n\r\n.card-loading-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n/* ===== RESPONSIVE ADJUSTMENTS ===== */\r\n@media (max-width: 768px) {\r\n  .floating-feedback {\r\n    bottom: 16px;\r\n    right: 16px;\r\n    left: 16px;\r\n    justify-content: center;\r\n  }\r\n\r\n  .scroll-area-status {\r\n    padding: 10px 16px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .loading-indicator.compact {\r\n    padding: 6px;\r\n    gap: 6px;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/css/utils/svg-icons.css?v=1765920148",
    "ranges": [
      {
        "start": 129,
        "end": 399
      },
      {
        "start": 720,
        "end": 812
      },
      {
        "start": 816,
        "end": 951
      },
      {
        "start": 1209,
        "end": 1326
      },
      {
        "start": 1330,
        "end": 1386
      },
      {
        "start": 7031,
        "end": 7103
      },
      {
        "start": 7107,
        "end": 7178
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - SVG Icons Styles\r\n * Global styles for SVG icons across the application\r\n */\r\n\r\n/* Base SVG Icon Styles */\r\n.svg-icon {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    stroke: currentColor;\r\n    fill: none;\r\n    pointer-events: none; /* Prevent SVG from interfering with button clicks */\r\n    flex-shrink: 0; /* Prevent icon from shrinking in flex containers */\r\n}\r\n\r\n/* Icon Sizes */\r\n.svg-icon-xs { width: 12px; height: 12px; }\r\n.svg-icon-sm { width: 14px; height: 14px; }\r\n.svg-icon-md { width: 16px; height: 16px; }\r\n.svg-icon-lg { width: 20px; height: 20px; }\r\n.svg-icon-xl { width: 24px; height: 24px; }\r\n.svg-icon-2xl { width: 32px; height: 32px; }\r\n\r\n/* Button Icon Styles */\r\nbutton .svg-icon,\r\n.btn .svg-icon,\r\na .svg-icon {\r\n    display: block;\r\n    margin: auto;\r\n}\r\n\r\nbutton:hover .svg-icon,\r\n.btn:hover .svg-icon,\r\na:hover .svg-icon {\r\n    stroke: currentColor; /* Inherit hover color from parent */\r\n}\r\n\r\n/* Icon with text (inline with label) */\r\n.icon-with-text {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 6px;\r\n}\r\n\r\n.icon-with-text .svg-icon {\r\n    margin-right: 6px;\r\n}\r\n\r\n/* Inline icons (for dynamic content like error messages) */\r\n.inline-icon,\r\n.inline-icon svg {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 4px;\r\n}\r\n\r\n.inline-icon svg {\r\n    width: 1em;\r\n    height: 1em;\r\n}\r\n\r\n/* Icon only buttons */\r\n.icon-btn {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 8px;\r\n    border: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n    border-radius: 6px;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.icon-btn:hover {\r\n    background: rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.icon-btn:active {\r\n    transform: scale(0.95);\r\n}\r\n\r\n/* Icon Colors */\r\n.svg-icon-primary { stroke: var(--ff-accent); }\r\n.svg-icon-secondary { stroke: var(--ff-text-muted); }\r\n.svg-icon-success { stroke: var(--ff-success); }\r\n.svg-icon-danger { stroke: var(--ff-danger); }\r\n.svg-icon-warning { stroke: var(--ff-warning); }\r\n.svg-icon-info { stroke: var(--ff-accent); }\r\n.svg-icon-muted { stroke: var(--ff-text-muted); }\r\n\r\n/* Spinning animation (for refresh icons) */\r\n@keyframes svg-spin {\r\n    from {\r\n        transform: rotate(0deg);\r\n    }\r\n    to {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n.svg-icon-spin {\r\n    animation: svg-spin 1s linear infinite;\r\n    transform-origin: center;\r\n}\r\n\r\n/* Pulse animation (for notifications) */\r\n@keyframes svg-pulse {\r\n    0%, 100% {\r\n        opacity: 1;\r\n    }\r\n    50% {\r\n        opacity: 0.5;\r\n    }\r\n}\r\n\r\n.svg-icon-pulse {\r\n    animation: svg-pulse 2s ease-in-out infinite;\r\n}\r\n\r\n/* Bounce animation */\r\n@keyframes svg-bounce {\r\n    0%, 100% {\r\n        transform: translateY(0);\r\n    }\r\n    50% {\r\n        transform: translateY(-10px);\r\n    }\r\n}\r\n\r\n.svg-icon-bounce {\r\n    animation: svg-bounce 1s ease-in-out infinite;\r\n}\r\n\r\n/* Shake animation (for alerts) */\r\n@keyframes svg-shake {\r\n    0%, 100% {\r\n        transform: translateX(0);\r\n    }\r\n    10%, 30%, 50%, 70%, 90% {\r\n        transform: translateX(-5px);\r\n    }\r\n    20%, 40%, 60%, 80% {\r\n        transform: translateX(5px);\r\n    }\r\n}\r\n\r\n.svg-icon-shake {\r\n    animation: svg-shake 0.5s ease-in-out;\r\n}\r\n\r\n/* Swing animation */\r\n@keyframes svg-swing {\r\n    20% {\r\n        transform: rotate(15deg);\r\n    }\r\n    40% {\r\n        transform: rotate(-10deg);\r\n    }\r\n    60% {\r\n        transform: rotate(5deg);\r\n    }\r\n    80% {\r\n        transform: rotate(-5deg);\r\n    }\r\n    100% {\r\n        transform: rotate(0deg);\r\n    }\r\n}\r\n\r\n.svg-icon-swing {\r\n    animation: svg-swing 1s ease-in-out;\r\n    transform-origin: top center;\r\n}\r\n\r\n/* Tada animation (attention grabber) */\r\n@keyframes svg-tada {\r\n    0% {\r\n        transform: scale(1) rotate(0deg);\r\n    }\r\n    10%, 20% {\r\n        transform: scale(0.9) rotate(-3deg);\r\n    }\r\n    30%, 50%, 70%, 90% {\r\n        transform: scale(1.1) rotate(3deg);\r\n    }\r\n    40%, 60%, 80% {\r\n        transform: scale(1.1) rotate(-3deg);\r\n    }\r\n    100% {\r\n        transform: scale(1) rotate(0deg);\r\n    }\r\n}\r\n\r\n.svg-icon-tada {\r\n    animation: svg-tada 1s ease-in-out;\r\n}\r\n\r\n/* Heartbeat animation */\r\n@keyframes svg-heartbeat {\r\n    0%, 100% {\r\n        transform: scale(1);\r\n    }\r\n    10%, 30% {\r\n        transform: scale(1.1);\r\n    }\r\n    20%, 40% {\r\n        transform: scale(0.9);\r\n    }\r\n}\r\n\r\n.svg-icon-heartbeat {\r\n    animation: svg-heartbeat 1.3s ease-in-out infinite;\r\n}\r\n\r\n/* Fade in animation */\r\n@keyframes svg-fade-in {\r\n    from {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.svg-icon-fade-in {\r\n    animation: svg-fade-in 0.5s ease-in;\r\n}\r\n\r\n/* Scale in animation */\r\n@keyframes svg-scale-in {\r\n    from {\r\n        transform: scale(0);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        transform: scale(1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.svg-icon-scale-in {\r\n    animation: svg-scale-in 0.3s ease-out;\r\n}\r\n\r\n/* Rotate in animation */\r\n@keyframes svg-rotate-in {\r\n    from {\r\n        transform: rotate(-180deg);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        transform: rotate(0deg);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.svg-icon-rotate-in {\r\n    animation: svg-rotate-in 0.5s ease-out;\r\n}\r\n\r\n/* Float animation */\r\n@keyframes svg-float {\r\n    0%, 100% {\r\n        transform: translateY(0);\r\n    }\r\n    50% {\r\n        transform: translateY(-8px);\r\n    }\r\n}\r\n\r\n.svg-icon-float {\r\n    animation: svg-float 2s ease-in-out infinite;\r\n}\r\n\r\n/* Glow animation */\r\n@keyframes svg-glow {\r\n    0%, 100% {\r\n        filter: drop-shadow(0 0 2px currentColor);\r\n    }\r\n    50% {\r\n        filter: drop-shadow(0 0 8px currentColor);\r\n    }\r\n}\r\n\r\n.svg-icon-glow {\r\n    animation: svg-glow 2s ease-in-out infinite;\r\n}\r\n\r\n/* Flip animation */\r\n@keyframes svg-flip {\r\n    0% {\r\n        transform: perspective(400px) rotateY(0);\r\n    }\r\n    100% {\r\n        transform: perspective(400px) rotateY(360deg);\r\n    }\r\n}\r\n\r\n.svg-icon-flip {\r\n    animation: svg-flip 1s ease-in-out;\r\n}\r\n\r\n/* Wiggle animation */\r\n@keyframes svg-wiggle {\r\n    0%, 100% {\r\n        transform: rotate(0deg);\r\n    }\r\n    25% {\r\n        transform: rotate(-5deg);\r\n    }\r\n    75% {\r\n        transform: rotate(5deg);\r\n    }\r\n}\r\n\r\n.svg-icon-wiggle {\r\n    animation: svg-wiggle 0.5s ease-in-out infinite;\r\n}\r\n\r\n/* Jello animation */\r\n@keyframes svg-jello {\r\n    0%, 11.1%, 100% {\r\n        transform: none;\r\n    }\r\n    22.2% {\r\n        transform: skewX(-12.5deg) skewY(-12.5deg);\r\n    }\r\n    33.3% {\r\n        transform: skewX(6.25deg) skewY(6.25deg);\r\n    }\r\n    44.4% {\r\n        transform: skewX(-3.125deg) skewY(-3.125deg);\r\n    }\r\n    55.5% {\r\n        transform: skewX(1.5625deg) skewY(1.5625deg);\r\n    }\r\n    66.6% {\r\n        transform: skewX(-0.78125deg) skewY(-0.78125deg);\r\n    }\r\n    77.7% {\r\n        transform: skewX(0.390625deg) skewY(0.390625deg);\r\n    }\r\n    88.8% {\r\n        transform: skewX(-0.1953125deg) skewY(-0.1953125deg);\r\n    }\r\n}\r\n\r\n.svg-icon-jello {\r\n    animation: svg-jello 1s ease-in-out;\r\n    transform-origin: center;\r\n}\r\n\r\n/* Theme-specific styles */\r\n.theme-dark .svg-icon {\r\n    stroke: currentColor;\r\n    opacity: 0.9;\r\n}\r\n\r\n.theme-light .svg-icon {\r\n    stroke: currentColor;\r\n    opacity: 1;\r\n}\r\n\r\n/* Icon in disabled state */\r\nbutton:disabled .svg-icon,\r\n.btn:disabled .svg-icon,\r\n[disabled] .svg-icon {\r\n    opacity: 0.4;\r\n    cursor: not-allowed;\r\n}\r\n\r\n/* Icon badge (for notifications count) */\r\n.icon-badge {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.icon-badge::after {\r\n    content: attr(data-badge);\r\n    position: absolute;\r\n    top: -4px;\r\n    right: -4px;\r\n    background: #ef4444;\r\n    color: white;\r\n    font-size: 10px;\r\n    font-weight: 600;\r\n    padding: 2px 5px;\r\n    border-radius: 10px;\r\n    min-width: 16px;\r\n    text-align: center;\r\n}\r\n\r\n/* Loading state */\r\n.icon-loading {\r\n    opacity: 0.6;\r\n}\r\n\r\n.icon-loading .svg-icon {\r\n    animation: svg-spin 1s linear infinite;\r\n}\r\n\r\n/* Icon group (multiple icons together) */\r\n.icon-group {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n}\r\n\r\n/* Responsive icons (hide on mobile) */\r\n@media (max-width: 640px) {\r\n    .icon-hide-mobile {\r\n        display: none;\r\n    }\r\n    \r\n    .icon-with-text .svg-icon {\r\n        margin-right: 4px;\r\n    }\r\n}\r\n\r\n/* High contrast mode support */\r\n@media (prefers-contrast: high) {\r\n    .svg-icon {\r\n        stroke-width: 2.5;\r\n    }\r\n}\r\n\r\n/* Reduced motion support */\r\n@media (prefers-reduced-motion: reduce) {\r\n    .svg-icon-spin,\r\n    .svg-icon-pulse,\r\n    .icon-loading .svg-icon {\r\n        animation: none;\r\n    }\r\n}\r\n\r\n/* ============================================\r\n   ASSEMBLE ANIMATION (Parts come together)\r\n   ============================================ */\r\n\r\n/* Assemble animation - parts slide in from different directions */\r\n@keyframes svg-assemble-from-top {\r\n    from { opacity: 0; transform: translateY(-20px); }\r\n    to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n@keyframes svg-assemble-from-bottom {\r\n    from { opacity: 0; transform: translateY(20px); }\r\n    to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n@keyframes svg-assemble-from-left {\r\n    from { opacity: 0; transform: translateX(-20px); }\r\n    to { opacity: 1; transform: translateX(0); }\r\n}\r\n\r\n@keyframes svg-assemble-from-right {\r\n    from { opacity: 0; transform: translateX(20px); }\r\n    to { opacity: 1; transform: translateX(0); }\r\n}\r\n\r\n/* Apply assemble animation - parts come from different directions */\r\n/* Use nth-of-type to target specific element types (line, path, etc) */\r\n.svg-icon-draw svg > *:nth-child(1) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-top 0.6s ease-out forwards;\r\n    animation-delay: 0s;\r\n}\r\n\r\n.svg-icon-draw svg > *:nth-child(2) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-right 0.6s ease-out forwards;\r\n    animation-delay: 0.2s;\r\n}\r\n\r\n.svg-icon-draw svg > *:nth-child(3) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-bottom 0.6s ease-out forwards;\r\n    animation-delay: 0.4s;\r\n}\r\n\r\n.svg-icon-draw svg > *:nth-child(4) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-left 0.6s ease-out forwards;\r\n    animation-delay: 0.6s;\r\n}\r\n\r\n.svg-icon-draw svg > circle {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-top 0.8s ease-out forwards;\r\n}\r\n\r\n/* Faster assemble animation */\r\n.svg-icon-draw-fast svg > *:nth-child(1) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-top 0.3s ease-out forwards;\r\n    animation-delay: 0s;\r\n}\r\n\r\n.svg-icon-draw-fast svg > *:nth-child(2) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-right 0.3s ease-out forwards;\r\n    animation-delay: 0.1s;\r\n}\r\n\r\n.svg-icon-draw-fast svg > *:nth-child(3) {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-bottom 0.3s ease-out forwards;\r\n    animation-delay: 0.2s;\r\n}\r\n\r\n.svg-icon-draw-fast svg > circle {\r\n    opacity: 0;\r\n    animation: svg-assemble-from-top 0.4s ease-out forwards;\r\n}\r\n\r\n/* Assemble on hover - icon visible, re-assembles on hover */\r\n@keyframes svg-assemble-hover-shake {\r\n    0%, 100% { transform: translate(0, 0); }\r\n    25% { transform: translate(-2px, 2px); }\r\n    75% { transform: translate(2px, -2px); }\r\n}\r\n\r\n.svg-icon-draw-hover svg > * {\r\n    opacity: 1;\r\n}\r\n\r\n.svg-icon-draw-hover:hover svg > *:nth-child(1) {\r\n    animation: svg-assemble-hover-shake 0.5s ease-in-out;\r\n    animation-delay: 0s;\r\n}\r\n\r\n.svg-icon-draw-hover:hover svg > *:nth-child(2) {\r\n    animation: svg-assemble-hover-shake 0.5s ease-in-out;\r\n    animation-delay: 0.1s;\r\n}\r\n\r\n.svg-icon-draw-hover:hover svg > *:nth-child(3) {\r\n    animation: svg-assemble-hover-shake 0.5s ease-in-out;\r\n    animation-delay: 0.2s;\r\n}\r\n\r\n/* Assemble loop - start assembled, disassemble, reassemble, pause 1s */\r\n@keyframes svg-assemble-loop-top {\r\n    0% { opacity: 1; transform: translateY(0); }\r\n    20% { opacity: 0; transform: translateY(-20px); }\r\n    60%, 80% { opacity: 1; transform: translateY(0); }\r\n    100% { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n@keyframes svg-assemble-loop-right {\r\n    0% { opacity: 1; transform: translateX(0); }\r\n    20% { opacity: 0; transform: translateX(20px); }\r\n    60%, 80% { opacity: 1; transform: translateX(0); }\r\n    100% { opacity: 1; transform: translateX(0); }\r\n}\r\n\r\n@keyframes svg-assemble-loop-bottom {\r\n    0% { opacity: 1; transform: translateY(0); }\r\n    20% { opacity: 0; transform: translateY(20px); }\r\n    60%, 80% { opacity: 1; transform: translateY(0); }\r\n    100% { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n.svg-icon-draw-loop svg > *:nth-child(1) {\r\n    animation: svg-assemble-loop-top 3.5s ease-in-out infinite;\r\n    animation-delay: 0s;\r\n}\r\n\r\n.svg-icon-draw-loop svg > *:nth-child(2) {\r\n    animation: svg-assemble-loop-right 3.5s ease-in-out infinite;\r\n    animation-delay: 0.3s;\r\n}\r\n\r\n.svg-icon-draw-loop svg > *:nth-child(3) {\r\n    animation: svg-assemble-loop-bottom 3.5s ease-in-out infinite;\r\n    animation-delay: 0.6s;\r\n}\r\n\r\n.svg-icon-draw-loop svg > circle {\r\n    animation: svg-assemble-loop-top 4s ease-in-out infinite;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/app.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 736
      },
      {
        "start": 853,
        "end": 870
      },
      {
        "start": 894,
        "end": 1668
      },
      {
        "start": 1852,
        "end": 4641
      },
      {
        "start": 4843,
        "end": 6697
      },
      {
        "start": 6851,
        "end": 7252
      },
      {
        "start": 7735,
        "end": 8606
      },
      {
        "start": 8669,
        "end": 10977
      },
      {
        "start": 11513,
        "end": 11751
      },
      {
        "start": 12281,
        "end": 13109
      },
      {
        "start": 13145,
        "end": 13526
      },
      {
        "start": 13596,
        "end": 13912
      },
      {
        "start": 13985,
        "end": 14608
      },
      {
        "start": 14643,
        "end": 15410
      },
      {
        "start": 15437,
        "end": 15460
      },
      {
        "start": 15716,
        "end": 15740
      },
      {
        "start": 15834,
        "end": 16032
      },
      {
        "start": 16059,
        "end": 20524
      },
      {
        "start": 20635,
        "end": 21593
      },
      {
        "start": 22773,
        "end": 22841
      },
      {
        "start": 23336,
        "end": 32583
      },
      {
        "start": 34558,
        "end": 36878
      },
      {
        "start": 37376,
        "end": 44071
      },
      {
        "start": 44427,
        "end": 44507
      },
      {
        "start": 45989,
        "end": 48072
      },
      {
        "start": 48406,
        "end": 50027
      },
      {
        "start": 50214,
        "end": 50290
      },
      {
        "start": 50322,
        "end": 50418
      },
      {
        "start": 50452,
        "end": 50478
      },
      {
        "start": 50515,
        "end": 52942
      },
      {
        "start": 53319,
        "end": 53601
      },
      {
        "start": 53625,
        "end": 61815
      },
      {
        "start": 62643,
        "end": 63906
      },
      {
        "start": 65171,
        "end": 66762
      },
      {
        "start": 66874,
        "end": 67533
      },
      {
        "start": 68539,
        "end": 77873
      },
      {
        "start": 78349,
        "end": 82164
      },
      {
        "start": 82196,
        "end": 84585
      },
      {
        "start": 84651,
        "end": 88328
      },
      {
        "start": 88613,
        "end": 90597
      },
      {
        "start": 90701,
        "end": 91713
      },
      {
        "start": 92071,
        "end": 93683
      },
      {
        "start": 93879,
        "end": 95945
      },
      {
        "start": 96119,
        "end": 97723
      },
      {
        "start": 97900,
        "end": 110941
      },
      {
        "start": 111033,
        "end": 112177
      },
      {
        "start": 112326,
        "end": 112483
      },
      {
        "start": 112669,
        "end": 112817
      },
      {
        "start": 113217,
        "end": 113370
      },
      {
        "start": 113882,
        "end": 114008
      },
      {
        "start": 114631,
        "end": 114810
      },
      {
        "start": 115667,
        "end": 115806
      },
      {
        "start": 115972,
        "end": 116111
      },
      {
        "start": 116516,
        "end": 116697
      },
      {
        "start": 118382,
        "end": 118661
      },
      {
        "start": 118749,
        "end": 118756
      },
      {
        "start": 118865,
        "end": 118873
      },
      {
        "start": 118947,
        "end": 119222
      },
      {
        "start": 119428,
        "end": 119470
      },
      {
        "start": 120833,
        "end": 120875
      },
      {
        "start": 120936,
        "end": 120980
      },
      {
        "start": 122236,
        "end": 122277
      },
      {
        "start": 123001,
        "end": 123011
      },
      {
        "start": 124678,
        "end": 124686
      },
      {
        "start": 124985,
        "end": 124999
      },
      {
        "start": 127520,
        "end": 127652
      },
      {
        "start": 128973,
        "end": 129436
      },
      {
        "start": 130820,
        "end": 130824
      },
      {
        "start": 131378,
        "end": 131960
      },
      {
        "start": 134918,
        "end": 134998
      },
      {
        "start": 139061,
        "end": 148053
      },
      {
        "start": 148088,
        "end": 148372
      },
      {
        "start": 148897,
        "end": 148960
      },
      {
        "start": 149399,
        "end": 149467
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Main Application\r\n * Layout din√°mico: Las tarjetas cambian seg√∫n el n√∫mero de transiciones disponibles\r\n * \r\n * ‚ö†Ô∏è IMPORTANT: Card sizing must stay synchronized with CSS!\r\n * CSS Reference: frontend/static/css/components/cards-modals.css lines 1070-1105\r\n * JS Constants: frontend/static/js/constants/card-sizing.js\r\n * \r\n * If modifying card sizes, update BOTH:\r\n * 1. cards-modals.css (.issue-card.card-compact/normal/expanded min-height + padding)\r\n * 2. card-sizing.js (CARD_SIZING constants)\r\n */\r\n\r\n// Ensure CARD_SIZING is available globally (defensive check)\r\nif (typeof CARD_SIZING === 'undefined') {\r\n  console.warn('‚ö†Ô∏è CARD_SIZING not loaded - using fallback');\r\n  window.CARD_SIZING = {\r\n    getConfig: (count) => ({\r\n      className: 'card-normal',\r\n      height: 160,\r\n      padding: 14,\r\n      label: 'normal'\r\n    }),\r\n    getClass: (count) => 'card-normal'\r\n  };\r\n  CARD_SIZING = window.CARD_SIZING;\r\n}\r\n\r\n// Status display names mapping\r\nconst STATUS_DISPLAY_NAMES = {\r\n  'open': 'üìã Abierto',\r\n  'new': 'üìã Nuevo',\r\n  'pending': '‚è≥ Pendiente',\r\n  'in progress': 'üîÑ En Progreso',\r\n  'in-progress': 'üîÑ En Progreso',\r\n  'todo': 'üìù Por Hacer',\r\n  'doing': 'üîÑ Haciendo',\r\n  'done': '‚úÖ Completado',\r\n  'closed': '‚úÖ Cerrado',\r\n  'resolved': '‚úÖ Resuelto',\r\n  'on hold': '‚è∏Ô∏è En Espera',\r\n  'on-hold': '‚è∏Ô∏è En Espera',\r\n  'blocked': 'üö´ Bloqueado',\r\n  'waiting': '‚è≥ Esperando',\r\n  'in review': 'üëÄ En Revisi√≥n',\r\n  'in-review': 'üëÄ En Revisi√≥n',\r\n  'backlog': 'üìö Backlog',\r\n  'ready': '‚úì Listo',\r\n  'testing': 'üß™ Pruebas',\r\n  'deployed': 'üöÄ Deployed',\r\n  'rejected': '‚ùå Rechazado'\r\n};\r\n\r\n// Function to get display name for status\r\nfunction getStatusDisplayName(status) {\r\n  if (!status) return 'Sin Estado';\r\n  const normalized = status.toLowerCase().trim();\r\n  return STATUS_DISPLAY_NAMES[normalized] || status;\r\n}\r\n\r\nconst state = {\r\n  desks: [],\r\n  currentDesk: null,\r\n  currentQueue: null,\r\n  issues: [],\r\n  issueTransitions: {},\r\n  currentView: '', // Will be auto-selected based on ticket count on first load\r\n  theme: localStorage.getItem('theme') || 'light',\r\n  currentUser: null,\r\n  filteredIssues: [],\r\n  filterMode: 'all', // 'all' or 'myTickets'\r\n  severityValues: null, // Cache for severity values from JIRA\r\n  severityMapping: null, // Mapping for severity classification\r\n  userProjectKey: null // User's configured project key from backend\r\n};\r\n\r\n// Make state globally accessible IMMEDIATELY to prevent \"undefined\" errors\r\n// in other modules that initialize at the same time (like sidebar-actions.js)\r\nwindow.state = state;\r\n\r\n/* -----------------------------------------------------------------------------\r\n   App-level logger: standardizes console output formatting for this bundle.\r\n   - Adds ISO timestamp and module tag\r\n   - Honors localStorage.logLevel (silent|error|warn|info|debug)\r\n   - Exposes window.setAppLogLevel(level) to change and reload\r\n   This keeps the file edits minimal while cleaning the console output.\r\n   --------------------------------------------------------------------------- */\r\n(function () {\r\n  try {\r\n    const LEVELS = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };\r\n    const storedLevel = localStorage.getItem('logLevel') || 'info';\r\n    let currentLevel = (LEVELS[storedLevel] !== undefined) ? LEVELS[storedLevel] : LEVELS.info;\r\n\r\n    const orig = {\r\n      log: console.log.bind(console),\r\n      info: console.info.bind(console),\r\n      debug: console.debug.bind(console),\r\n      warn: console.warn.bind(console),\r\n      error: console.error.bind(console)\r\n    };\r\n\r\n    function prefix(levelName) {\r\n      return `[app.js:${levelName.toUpperCase()} ${new Date().toISOString()}]`;\r\n    }\r\n\r\n    function wrap(levelName, levelThreshold, fn) {\r\n      return function (...args) {\r\n        if (currentLevel < levelThreshold) return;\r\n        try {\r\n          if (typeof args[0] === 'string') {\r\n            args[0] = `${prefix(levelName)} ${args[0]}`;\r\n          } else {\r\n            args.unshift(prefix(levelName));\r\n          }\r\n        } catch (e) {\r\n          // ignore formatting errors\r\n        }\r\n        fn(...args);\r\n      };\r\n    }\r\n\r\n    console.debug = wrap('debug', LEVELS.debug, orig.debug);\r\n    console.info = wrap('info', LEVELS.info, orig.info);\r\n    // map generic console.log to info-level output\r\n    console.log = wrap('info', LEVELS.info, orig.log);\r\n    console.warn = wrap('warn', LEVELS.warn, orig.warn);\r\n    console.error = wrap('error', LEVELS.error, orig.error);\r\n\r\n    // Expose helper to change level quickly from DevTools: setAppLogLevel('silent'|'error'|'warn'|'info'|'debug')\r\n    window.setAppLogLevel = function (level) {\r\n      if (!LEVELS.hasOwnProperty(level)) return;\r\n      localStorage.setItem('logLevel', level);\r\n      // force reload to apply new level everywhere\r\n      location.reload();\r\n    };\r\n\r\n    // brief startup info (only shown when info/debug enabled)\r\n    console.info(`Log level: ${storedLevel} (use setAppLogLevel('silent'|'error'|'warn'|'info'|'debug'))`);\r\n    // Keep a small global handle for programmatic control if needed\r\n    window.appLogger = {\r\n      level: storedLevel,\r\n      setLevel: window.setAppLogLevel\r\n    };\r\n  } catch (e) {\r\n    try { console.error('appLogger init error', e); } catch (_) { }\r\n  }\r\n})();\r\n\r\n// ============================================================================\r\n// CACHE UTILITIES - LocalStorage with TTL\r\n// ============================================================================\r\nconst CacheManager = {\r\n  TTL: 15 * 60 * 1000, // 15 minutes in milliseconds\r\n  TRANSITIONS_TTL: 30 * 60 * 1000, // 30 minutes for transitions (rarely change)\r\n  LARGE_QUEUE_TTL: 3 * 24 * 60 * 60 * 1000, // 3 days for large queues (50+ tickets)\r\n\r\n  /**\r\n   * Set item in cache with timestamp\r\n   */\r\n  set(key, value, ttl = null) {\r\n    try {\r\n      const item = {\r\n        value: value,\r\n        timestamp: Date.now(),\r\n        ttl: ttl || this.TTL\r\n      };\r\n      localStorage.setItem(`cache_${key}`, JSON.stringify(item));\r\n    } catch (e) {\r\n      console.warn('‚ö†Ô∏è Cache write failed:', e);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get item from cache if not expired\r\n   */\r\n  get(key) {\r\n    try {\r\n      const item = localStorage.getItem(`cache_${key}`);\r\n      if (!item) return null;\r\n\r\n      const parsed = JSON.parse(item);\r\n      const age = Date.now() - parsed.timestamp;\r\n\r\n      if (age > parsed.ttl) {\r\n        // Expired - remove it\r\n        localStorage.removeItem(`cache_${key}`);\r\n        return null;\r\n      }\r\n\r\n      return parsed.value;\r\n    } catch (e) {\r\n      console.warn('‚ö†Ô∏è Cache read failed:', e);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Clear specific cache key\r\n   */\r\n  remove(key) {\r\n    try {\r\n      localStorage.removeItem(`cache_${key}`);\r\n    } catch (e) {\r\n      console.warn('‚ö†Ô∏è Cache remove failed:', e);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Clear all cache entries\r\n   */\r\n  clear() {\r\n    try {\r\n      const keys = Object.keys(localStorage).filter(k => k.startsWith('cache_'));\r\n      keys.forEach(k => localStorage.removeItem(k));\r\n      console.log(`üóëÔ∏è Cleared ${keys.length} cache entries`);\r\n    } catch (e) {\r\n      console.warn('‚ö†Ô∏è Cache clear failed:', e);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get cache statistics\r\n   */\r\n  stats() {\r\n    try {\r\n      const keys = Object.keys(localStorage).filter(k => k.startsWith('cache_'));\r\n      const sizes = keys.map(k => {\r\n        const item = localStorage.getItem(k);\r\n        return item ? item.length : 0;\r\n      });\r\n      const totalSize = sizes.reduce((a, b) => a + b, 0);\r\n      return {\r\n        entries: keys.length,\r\n        totalSizeKB: (totalSize / 1024).toFixed(2)\r\n      };\r\n    } catch (e) {\r\n      return { entries: 0, totalSizeKB: 0 };\r\n    }\r\n  }\r\n};\r\n\r\n// Expose globally for debugging\r\nwindow.CacheManager = CacheManager;\r\n\r\ndocument.addEventListener('DOMContentLoaded', initApp);\r\n\r\nasync function initApp() {\r\n  console.log('üöÄ SpeedyFlow initializing...');\r\n  setupEventListeners();\r\n\r\n  // Load severity values from JIRA API\r\n  console.log('üìä Loading severity values from JIRA...');\r\n  await loadSeverityValues();\r\n\r\n  // NOTE: Theme is now managed by ThemeManager (centralized)\r\n  // No need to apply theme here - ThemeManager handles it from the start\r\n  console.log('‚ú® Theme managed by ThemeManager');\r\n\r\n  // Initialize background manager (AI backgrounds) - non-blocking\r\n  if (typeof backgroundManager !== 'undefined' && backgroundManager.init) {\r\n    console.log('üì∏ Initializing background manager...');\r\n    // Call init() but don't await - let it run in background\r\n    backgroundManager.init().catch(err =>\r\n      console.warn('üì∏ Background manager error:', err)\r\n    );\r\n  }\r\n\r\n  // Initialize background selector UI (for user to choose backgrounds)\r\n  if (typeof BackgroundSelectorUI !== 'undefined') {\r\n    console.log('üé® Initializing Background Selector UI...');\r\n    window.backgroundSelectorUI = new BackgroundSelectorUI();\r\n    console.log('üé® BackgroundSelectorUI instance created');\r\n    window.backgroundSelectorUI.init();\r\n    console.log('‚úÖ Background Selector UI initialized');\r\n    console.log('üé® Button should now be clickable!');\r\n  } else {\r\n    console.error('‚ùå BackgroundSelectorUI class not found - did not initialize');\r\n  }\r\n\r\n  // Initialize right sidebar\r\n  if (typeof initRightSidebar === 'function') {\r\n    initRightSidebar();\r\n  }\r\n\r\n  // Fetch current user FIRST\r\n  await loadCurrentUser();\r\n\r\n  await loadServiceDesks();\r\n\r\n  // Cargar filtros guardados si existen\r\n  loadSavedFilters();\r\n\r\n  // üéØ NEW: Don't load preferred view on init - let loadIssues() auto-select\r\n  // based on ticket count. View preference will be saved after user manually switches.\r\n  // This ensures optimal view is selected based on data size, not last session's choice.\r\n  state.currentView = ''; // Start empty, will be auto-selected in loadIssues()\r\n\r\n  // NOTE: Auto-selection is now handled by loadIssues() function\r\n  // which intelligently selects view based on ticket count (20 ticket threshold)\r\n\r\n  // üîê Check if user just logged in and trigger initial filters\r\n  checkAndApplyInitialFilters();\r\n\r\n  console.log('‚úÖ SpeedyFlow ready');\r\n}\r\n\r\n/**\r\n * Check if user just logged in and apply initial filters\r\n */\r\nlet isApplyingInitialFilters = false; // Prevent multiple executions\r\n\r\nasync function checkAndApplyInitialFilters() {\r\n  const justLoggedIn = sessionStorage.getItem('speedyflow_just_logged_in');\r\n  const initialProject = sessionStorage.getItem('speedyflow_initial_project');\r\n\r\n  if (justLoggedIn === 'true' && !isApplyingInitialFilters) {\r\n    isApplyingInitialFilters = true;\r\n    console.log('üîê User just logged in - waiting for desks to load...');\r\n    console.log(`   Initial project: ${initialProject}`);\r\n\r\n    // Clear flags\r\n    sessionStorage.removeItem('speedyflow_just_logged_in');\r\n    sessionStorage.removeItem('speedyflow_initial_project');\r\n\r\n    // Wait for desks to be loaded using event listener\r\n    await new Promise((resolve) => {\r\n      const handleDesksLoaded = (event) => {\r\n        console.log('‚úÖ Desks loaded event received:', event.detail.desks.length, 'desks');\r\n        window.removeEventListener('desksLoaded', handleDesksLoaded);\r\n        resolve();\r\n      };\r\n\r\n      // If desks already loaded, resolve immediately\r\n      if (state.desks.length > 0) {\r\n        console.log('‚úÖ Desks already loaded:', state.desks.length);\r\n        resolve();\r\n      } else {\r\n        window.addEventListener('desksLoaded', handleDesksLoaded);\r\n      }\r\n    });\r\n\r\n    // Find desk by project key (extracted from JQL) or by name\r\n    let targetDesk = null;\r\n    if (initialProject && state.desks.length > 0) {\r\n      // Try to find by project key in queue JQL\r\n      targetDesk = state.desks.find(d => {\r\n        if (d.queues && d.queues.length > 0) {\r\n          // Check all queues for project match\r\n          return d.queues.some(queue => {\r\n            const jql = queue.jql || '';\r\n            const projectMatch = jql.match(/project\\s*=\\s*([A-Z]+)/i);\r\n            return projectMatch && projectMatch[1].toUpperCase() === initialProject.toUpperCase();\r\n          });\r\n        }\r\n        // Fallback: check if name contains project key\r\n        return d.name?.toUpperCase().includes(initialProject.toUpperCase());\r\n      });\r\n\r\n      if (targetDesk) {\r\n        console.log(`‚úÖ Found desk for project \"${initialProject}\": ${targetDesk.name} (ID: ${targetDesk.id})`);\r\n      } else {\r\n        console.log(`‚ö†Ô∏è No desk found for project \"${initialProject}\"`);\r\n      }\r\n    }\r\n\r\n    if (!targetDesk && state.desks.length > 0) {\r\n      targetDesk = state.desks[0];\r\n      console.log(`‚ö†Ô∏è Using fallback (first desk): ${targetDesk.name}`);\r\n    }\r\n\r\n    if (targetDesk) {\r\n      console.log(`üìç Setting desk: ${targetDesk.name} (ID: ${targetDesk.id})`);\r\n\r\n      // Set desk in filter\r\n      const deskSelect = document.getElementById('serviceDeskSelectFilter');\r\n      if (deskSelect) {\r\n        deskSelect.value = targetDesk.id;\r\n        deskSelect.dispatchEvent(new Event('change'));\r\n      }\r\n\r\n      // Wait for queues to load\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n      // Try to find \"Assigned to me\" queue using JQL first, then name\r\n      const queueSelect = document.getElementById('queueSelectFilter');\r\n      if (queueSelect && targetDesk.queues && targetDesk.queues.length > 0) {\r\n        let targetQueue = null;\r\n\r\n        // Priority 1: Find by JQL pattern (assignee = currentUser())\r\n        targetQueue = targetDesk.queues.find(q =>\r\n          q.jql && /assignee\\s*=\\s*currentUser\\(\\)/i.test(q.jql)\r\n        );\r\n\r\n        // Priority 2: Find by name patterns\r\n        if (!targetQueue) {\r\n          const myTicketsPatterns = [\r\n            /assigned.*to.*me/i,\r\n            /asignado.*a.*mi/i,\r\n            /mis.*ticket/i,\r\n            /my.*ticket/i\r\n          ];\r\n\r\n          targetQueue = targetDesk.queues.find(q =>\r\n            myTicketsPatterns.some(pattern => pattern.test(q.name))\r\n          );\r\n        }\r\n\r\n        // Fallback: Use first queue\r\n        if (!targetQueue && targetDesk.queues.length > 0) {\r\n          targetQueue = targetDesk.queues[0];\r\n        }\r\n\r\n        if (targetQueue) {\r\n          console.log(`‚úÖ Auto-selecting queue: ${targetQueue.name} (ID: ${targetQueue.id})`);\r\n          if (targetQueue.jql && /assignee\\s*=\\s*currentUser\\(\\)/i.test(targetQueue.jql)) {\r\n            console.log(`   Matched by JQL: assignee = currentUser()`);\r\n          }\r\n\r\n          // Verify the select has this option before setting\r\n          const optionExists = Array.from(queueSelect.options).some(opt => opt.value === targetQueue.id);\r\n          console.log(`   Queue option exists in select: ${optionExists}`);\r\n\r\n          if (optionExists) {\r\n            queueSelect.value = targetQueue.id;\r\n            console.log(`   Select value set to: ${queueSelect.value}`);\r\n            queueSelect.dispatchEvent(new Event('change'));\r\n\r\n            // üíæ Save as default configuration\r\n            console.log('üíæ Saving defaults to backend...');\r\n            fetch('/api/user/setup', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({\r\n                project_key: initialProject,\r\n                desk_id: targetDesk.id,\r\n                queue_id: targetQueue.id\r\n              })\r\n            })\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                if (data.success) {\r\n                  console.log('‚úÖ Defaults saved successfully:', data);\r\n                } else {\r\n                  console.warn('‚ö†Ô∏è Failed to save defaults:', data.error);\r\n                }\r\n              })\r\n              .catch(error => {\r\n                console.error('‚ùå Error saving defaults:', error);\r\n              });\r\n          } else {\r\n            console.error(`   ‚ùå Queue ${targetQueue.id} not found in select options!`);\r\n            console.log(`   Available options:`, Array.from(queueSelect.options).map(o => `${o.value}:${o.text}`));\r\n          }\r\n        }\r\n      }\r\n\r\n      // Show success notification\r\n      if (window.notificationPanel && window.notificationPanel.show) {\r\n        window.notificationPanel.show(\r\n          `üéØ Filtros iniciales aplicados: ${targetDesk.name}`,\r\n          'success'\r\n        );\r\n      }\r\n    }\r\n\r\n    isApplyingInitialFilters = false; // Reset flag\r\n  }\r\n}\r\n\r\nfunction setupEventListeners() {\r\n  // üí° Show first-time tooltip for save button\r\n  showFirstTimeTooltip();\r\n\r\n  // NEW FILTER SELECTORS (from header-menu-controller.js)\r\n  const serviceDeskFilterSelect = document.getElementById('serviceDeskSelectFilter');\r\n  if (serviceDeskFilterSelect) {\r\n    serviceDeskFilterSelect.addEventListener('change', async (e) => {\r\n      state.currentDesk = e.target.value;\r\n      console.log(`üìÇ Service Desk changed to: ${state.currentDesk}`);\r\n      console.log(`üîç Current state:`, { desk: state.currentDesk, queue: state.currentQueue });\r\n\r\n      // Update breadcrumb with desk name\r\n      const desk = state.desks.find(d => d.id === state.currentDesk);\r\n      console.log(`üîç Found desk object:`, desk);\r\n      console.log(`üîç Desk queues:`, desk?.queues);\r\n\r\n      if (desk && window.headerMenus && window.headerMenus.updateBreadcrumb) {\r\n        window.headerMenus.updateBreadcrumb(desk.name || desk.displayName, 'Select Queue');\r\n      }\r\n\r\n      // Fetch desks to find queues\r\n      if (desk && desk.queues) {\r\n        console.log(`‚úÖ Loading ${desk.queues.length} queues for desk ${desk.name}`);\r\n        await loadQueues(desk.queues);\r\n      } else {\r\n        console.warn(`‚ö†Ô∏è No queues found for desk ${state.currentDesk}`);\r\n      }\r\n\r\n      // Clear issues when desk changes\r\n      state.issues = [];\r\n      state.currentQueue = null; // Reset queue when desk changes\r\n      renderKanban();\r\n    });\r\n  }\r\n\r\n  // NEW QUEUE FILTER SELECTOR (from header-menu-controller.js)\r\n  const queueFilterSelect = document.getElementById('queueSelectFilter');\r\n  if (queueFilterSelect) {\r\n    queueFilterSelect.addEventListener('change', async (e) => {\r\n      state.currentQueue = e.target.value;\r\n      console.log(`üìã Queue changed to: ${state.currentQueue}`);\r\n      console.log(`üîç Current state:`, { desk: state.currentDesk, queue: state.currentQueue });\r\n\r\n      // üéØ Reset view selection to allow auto-selection based on new queue size\r\n      state.currentView = '';\r\n      console.log('üîÑ View reset - will auto-select based on ticket count');\r\n\r\n      // Update breadcrumb with queue name\r\n      if (state.currentQueue) {\r\n        const desk = state.desks.find(d => d.id === state.currentDesk);\r\n        const deskName = desk ? (desk.name || desk.displayName) : 'Select Desk';\r\n        const queueName = e.target.options[e.target.selectedIndex].text;\r\n\r\n        if (window.headerMenus && window.headerMenus.updateBreadcrumb) {\r\n          window.headerMenus.updateBreadcrumb(deskName, queueName);\r\n        }\r\n      }\r\n\r\n      if (state.currentDesk && state.currentQueue) {\r\n        await loadIssues(state.currentQueue);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Auto-refresh every 10 minutes\r\n  setInterval(refreshIssues, 600000);\r\n\r\n  // Toggle buttons (View Kanban/List)\r\n  const toggleButtons = document.querySelectorAll('[data-view]');\r\n  if (toggleButtons.length > 0) {\r\n    toggleButtons.forEach(btn => {\r\n      btn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const view = btn.getAttribute('data-view');\r\n\r\n        // Warn user if switching to kanban with too many tickets\r\n        if (view === 'kanban' && state.issues && state.issues.length > 20) {\r\n          const confirmed = confirm(\r\n            `‚ö†Ô∏è Performance Warning\\n\\n` +\r\n            `You have ${state.issues.length} tickets in this queue.\\n\\n` +\r\n            `Kanban view may be slow with this many tickets. ` +\r\n            `List view is recommended for better performance.\\n\\n` +\r\n            `Switch to Kanban anyway?`\r\n          );\r\n\r\n          if (!confirmed) {\r\n            return;\r\n          }\r\n\r\n          // Clear auto-switch flag if user manually switches\r\n          state.wasAutoSwitched = false;\r\n        }\r\n\r\n        switchView(view);\r\n      });\r\n    });\r\n    console.log('‚úÖ View toggle buttons enabled');\r\n  }\r\n\r\n  // New ticket button functionality handled by header-menu-controller.js\r\n\r\n  // Save filters button\r\n  const saveFiltersBtn = document.getElementById('saveFiltersBtn');\r\n  if (saveFiltersBtn) {\r\n    saveFiltersBtn.addEventListener('click', (event) => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      saveCurrentFilters();\r\n    });\r\n    console.log('‚úÖ Save filters button initialized');\r\n  }\r\n\r\n  // Clear cache button\r\n  const clearCacheBtn = document.getElementById('clearCacheBtn');\r\n  if (clearCacheBtn) {\r\n    clearCacheBtn.addEventListener('click', () => {\r\n      console.log('üóëÔ∏è Clearing cache...');\r\n      CacheManager.clear();\r\n\r\n      // Show notification\r\n      if (window.loadingDotsManager) {\r\n        window.loadingDotsManager.show('Cache cleared! Reloading...');\r\n      }\r\n\r\n      // Reload current queue to fetch fresh data\r\n      setTimeout(() => {\r\n        if (state.currentQueue) {\r\n          loadIssues(state.currentQueue);\r\n        }\r\n        if (window.loadingDotsManager) {\r\n          window.loadingDotsManager.hide();\r\n        }\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  // Quick action button is now handled by quick-action-button.js\r\n  // (Removed duplicate listener that was causing conflicts)\r\n}\r\n\r\n/**\r\n * Close all open modals before navigating to a ticket\r\n */\r\nfunction closeAllModals() {\r\n  // Close Quick Triage modal\r\n  const triageModal = document.getElementById('quickTriageModal');\r\n  if (triageModal) {\r\n    triageModal.style.display = 'none';\r\n  }\r\n\r\n  // Close AI Queue Analyzer modal\r\n  const aiModal = document.getElementById('aiQueueModal');\r\n  if (aiModal) {\r\n    aiModal.style.display = 'none';\r\n  }\r\n\r\n  // Close Search Panel\r\n  const searchPanel = document.getElementById('searchPanel');\r\n  if (searchPanel) {\r\n    searchPanel.classList.remove('active');\r\n    searchPanel.style.display = 'none';\r\n  }\r\n\r\n  // Close AI Field Suggestions modal\r\n  const aiSuggestionsModal = document.querySelector('.ai-suggestions-modal');\r\n  if (aiSuggestionsModal && aiSuggestionsModal.parentElement) {\r\n    aiSuggestionsModal.parentElement.remove();\r\n  }\r\n\r\n  // Close any other modal with class 'modal' or 'modal-container'\r\n  document.querySelectorAll('.modal:not(#rightSidebar), .modal-container:not(.right-sidebar)').forEach(modal => {\r\n    if (modal.style.display !== 'none') {\r\n      modal.style.display = 'none';\r\n      modal.classList.remove('active');\r\n    }\r\n  });\r\n\r\n  console.log('üö™ All modals closed before opening ticket');\r\n}\r\n\r\n/**\r\n * Mostrar detalles del ticket en el sidebar derecho\r\n */\r\nfunction showTicketDetails(issueKey) {\r\n  console.log(`üëÅÔ∏è Opening ticket details: ${issueKey}`);\r\n\r\n  // Trigger right sidebar to show details\r\n  if (window.rightSidebar) {\r\n    window.rightSidebar.open(issueKey);\r\n  } else if (typeof initRightSidebar === 'function') {\r\n    // Fallback: reinitialize right sidebar\r\n    initRightSidebar();\r\n    if (window.rightSidebar) {\r\n      window.rightSidebar.open(issueKey);\r\n    }\r\n  } else {\r\n    console.warn('‚ö†Ô∏è Right sidebar not available');\r\n  }\r\n}\r\n\r\nasync function loadCurrentUser() {\r\n  // Use cached user from localStorage (set when user logs in)\r\n  state.currentUser = localStorage.getItem('currentUser') || '';\r\n  state.currentUserAccountId = localStorage.getItem('currentUserAccountId') || null;\r\n\r\n  if (state.currentUser) {\r\n    console.log('üë§ Using cached user:', state.currentUser);\r\n    return;\r\n  }\r\n\r\n  // Only fetch if not cached\r\n  try {\r\n    console.log('üë§ Fetching current user from API...');\r\n    const response = await fetch('/api/user');\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const json = await response.json();\r\n    if (json.success && json.user) {\r\n      state.currentUser = json.user.displayName || json.user.name || json.user.accountId || '';\r\n      state.currentUserAccountId = json.user.accountId || null;\r\n      localStorage.setItem('currentUser', state.currentUser);\r\n      if (state.currentUserAccountId) {\r\n        localStorage.setItem('currentUserAccountId', state.currentUserAccountId);\r\n      }\r\n      console.log('‚úÖ Current user:', state.currentUser);\r\n    }\r\n  } catch (error) {\r\n    console.warn('‚ö†Ô∏è Could not fetch user, will use assignee info:', error.message);\r\n    // Don't set fallback - let it remain empty\r\n  }\r\n}\r\n\r\nasync function loadServiceDesks() {\r\n  try {\r\n    // Indicate loading state\r\n    const statusEl = document.getElementById('filterStatus');\r\n    if (statusEl) {\r\n      statusEl.textContent = 'Loading desks...';\r\n      statusEl.classList.remove('status-warn');\r\n      statusEl.classList.add('status-info');\r\n    }\r\n    console.log('üì° Fetching service desks...');\r\n    const response = await fetch('/api/desks');\r\n    const json = await response.json();\r\n    if (!json.success) {\r\n      console.warn('‚ö†Ô∏è Desks request unsuccessful:', json);\r\n      state.desks = [];\r\n    } else {\r\n      // Support both legacy {data: [...]} and direct list response\r\n      const desksRaw = Array.isArray(json.data) ? json.data : (Array.isArray(json) ? json : (json.values || []));\r\n      // Normalize desk objects to ensure .name present\r\n      state.desks = desksRaw.map(d => {\r\n        const id = d.id || d.serviceDeskId || d.ID || String(d.desk_id || '');\r\n        const nameCandidates = [d.name, d.displayName, d.nombre, d.deskName, d.projectName, d.key, d.projectKey, d.title];\r\n        const name = nameCandidates.find(n => typeof n === 'string' && n.trim()) || `Desk ${id}`;\r\n        const queues = Array.isArray(d.queues) ? d.queues.map(q => {\r\n          const qid = q.id || q.queueId || q.ID;\r\n          const qNameCandidates = [q.name, q.queueName, q.nombre, q.title];\r\n          const qname = qNameCandidates.find(n => typeof n === 'string' && n.trim()) || `Queue ${qid}`;\r\n          const qjql = q.jql || '';\r\n          return { id: qid, name: qname, jql: qjql };\r\n        }) : [];\r\n        console.log(`üìÇ Desk: ${name} (ID: ${id}) - ${queues.length} queues:`, queues);\r\n        return { id, name, displayName: name, queues, placeholder: d.placeholder || false };\r\n      }).filter(d => d.id);\r\n    }\r\n    console.log('‚úÖ Desks loaded:', state.desks.length);\r\n    console.log('üìã All desks with queues:', state.desks);\r\n\r\n    // üéØ Dispatch event when desks are fully loaded\r\n    window.dispatchEvent(new CustomEvent('desksLoaded', { detail: { desks: state.desks } }));\r\n\r\n    const filterSelect = document.getElementById('serviceDeskSelectFilter'); if (!state.desks.length) {\r\n      const statusEl = document.getElementById('filterStatus');\r\n      if (statusEl) {\r\n        statusEl.textContent = 'No desks available';\r\n        statusEl.classList.remove('status-info');\r\n        statusEl.classList.add('status-warn');\r\n      }\r\n      if (filterSelect) filterSelect.disabled = true;\r\n      return; // Nothing else to populate\r\n    }\r\n\r\n    if (filterSelect) {\r\n      filterSelect.innerHTML = '<option value=\"\">Select Service Desk...</option>';\r\n      state.desks.forEach(desk => {\r\n        const option = document.createElement('option');\r\n        option.value = desk.id;\r\n        option.textContent = desk.name || desk.displayName || `Desk ${desk.id}`;\r\n        if (desk.placeholder) option.classList.add('desk-placeholder');\r\n        filterSelect.appendChild(option);\r\n      });\r\n\r\n      // üéØ Load user defaults from backend and apply them\r\n      try {\r\n        console.log('üîç Fetching user defaults...');\r\n        const configResponse = await fetch('/api/user/login-status');\r\n        const configData = await configResponse.json();\r\n\r\n        // Support both shapes: { success: true, data: { desk_id,... } } and flat { desk_id, queue_id, project_key }\r\n        let desk_id, queue_id, project_key;\r\n        if (configData && configData.success && configData.data) {\r\n          ({ desk_id, queue_id, project_key } = configData.data);\r\n        } else if (configData) {\r\n          desk_id = configData.desk_id || configData.deskId || configData.data?.desk_id;\r\n          queue_id = configData.queue_id || configData.queueId || configData.data?.queue_id;\r\n          project_key = configData.project_key || configData.projectKey || configData.data?.project_key;\r\n        }\r\n\r\n        console.log(`üìå User defaults: project_key=${project_key}, desk_id=${desk_id}, queue_id=${queue_id}`);\r\n\r\n        // Store project_key in state for later use\r\n        if (project_key) {\r\n          state.userProjectKey = project_key;\r\n          console.log(`‚úÖ User project key stored in state: ${project_key}`);\r\n        }\r\n\r\n        if (desk_id) {\r\n          const deskExists = Array.from(filterSelect.options).some(opt => opt.value === desk_id);\r\n          if (deskExists) {\r\n            console.log(`‚úÖ Setting default desk: ${desk_id}`);\r\n            filterSelect.value = desk_id;\r\n            filterSelect.dispatchEvent(new Event('change'));\r\n\r\n            // Wait for queues to load, then set default queue\r\n            if (queue_id) {\r\n              setTimeout(() => {\r\n                const queueSelect = document.getElementById('queueSelectFilter');\r\n                if (queueSelect) {\r\n                  const queueExists = Array.from(queueSelect.options).some(opt => opt.value === queue_id);\r\n                  if (queueExists) {\r\n                    console.log(`‚úÖ Setting default queue: ${queue_id}`);\r\n                    queueSelect.value = queue_id;\r\n                    queueSelect.dispatchEvent(new Event('change'));\r\n                  }\r\n                }\r\n              }, 1500);\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn('‚ö†Ô∏è Could not load user defaults:', error);\r\n      }\r\n    }\r\n    // Update status to ready after desks loaded\r\n    const statusReady = document.getElementById('filterStatus');\r\n    if (statusReady) {\r\n      statusReady.textContent = 'Desks loaded';\r\n      statusReady.classList.remove('status-warn');\r\n      statusReady.classList.add('status-success');\r\n    }\r\n  } catch (error) {\r\n    console.error('‚ùå Error loading desks:', error);\r\n    state.desks = [];\r\n    const statusEl = document.getElementById('filterStatus');\r\n    if (statusEl) {\r\n      statusEl.textContent = 'Desks load error';\r\n      statusEl.classList.remove('status-info');\r\n      statusEl.classList.add('status-warn');\r\n    }\r\n  }\r\n}\r\n\r\nasync function loadQueues(queues) {\r\n  console.log(`üîÑ loadQueues called with ${queues?.length || 0} queues:`, queues);\r\n\r\n  const filterSelect = document.getElementById('queueSelectFilter');\r\n  const statusEl = document.getElementById('filterStatus');\r\n\r\n  // If queues empty, disable selectors & show status (no sample queues)\r\n  if (!queues || !Array.isArray(queues) || queues.length === 0) {\r\n    console.warn('‚ö†Ô∏è No queues to load');\r\n    if (filterSelect) filterSelect.innerHTML = '<option value=\"\">No queues</option>';\r\n    if (filterSelect) filterSelect.disabled = true;\r\n\r\n    if (statusEl) {\r\n      statusEl.textContent = 'No queues';\r\n      statusEl.classList.remove('status-info');\r\n      statusEl.classList.add('status-warn');\r\n    }\r\n\r\n    state.filteredIssues = [];\r\n    return;\r\n  }\r\n\r\n  if (filterSelect) {\r\n    filterSelect.innerHTML = '<option value=\"\">Select Queue...</option>';\r\n\r\n    if (queues && Array.isArray(queues)) {\r\n      console.log('üìã Loading queue options:');\r\n      queues.forEach(queue => {\r\n        console.log(`  - Queue: ${queue.name} (ID: ${queue.id})`);\r\n        const option = document.createElement('option');\r\n        option.value = queue.id;\r\n        option.textContent = queue.name;\r\n        filterSelect.appendChild(option);\r\n      });\r\n      console.log(`‚úÖ ${queues.length} queues loaded into selector`);\r\n\r\n      // NOTE: Auto-selection DISABLED\r\n      // User must manually select queue - prevents auto-loading confusion\r\n    }\r\n  }\r\n\r\n  if (queues && Array.isArray(queues)) {\r\n    console.log('‚úÖ Queues loaded:', queues.length);\r\n    // Dispatch event for header-menu-controller.js to listen\r\n    window.dispatchEvent(new CustomEvent('queues-loaded', { detail: queues }));\r\n  }\r\n  if (statusEl) {\r\n    statusEl.textContent = 'Queues loaded';\r\n    statusEl.classList.remove('status-info');\r\n    statusEl.classList.add('status-success');\r\n  }\r\n}\r\n\r\n/**\r\n * Load a specific page of issues from the server\r\n * Used by \"Load More\" button to append additional pages\r\n */\r\nasync function loadIssuesPage(queueId, page, pageSize = 100) {\r\n  if (!queueId) return;\r\n\r\n  console.log(`üì¶ Loading page ${page} for queue ${queueId}...`);\r\n\r\n  try {\r\n    const offset = (page - 1) * pageSize;\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 30000);\r\n\r\n    const response = await fetch(`/api/issues/${queueId}?desk_id=${state.currentDesk}&limit=${pageSize}&offset=${offset}`, {\r\n      headers: {\r\n        'Accept-Encoding': 'gzip, deflate, br',\r\n        'Accept': 'application/json'\r\n      },\r\n      signal: controller.signal\r\n    }).finally(() => clearTimeout(timeoutId));\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const json = await response.json();\r\n    const newIssues = json.data || [];\r\n\r\n    console.log(`‚úÖ Loaded ${newIssues.length} issues from page ${page}`);\r\n\r\n    // Append to existing issues\r\n    const serverPagination = state.pagination[queueId];\r\n    if (serverPagination) {\r\n      serverPagination.allIssuesLoaded = [...serverPagination.allIssuesLoaded, ...newIssues];\r\n      serverPagination.currentPage = page;\r\n      serverPagination.hasMore = newIssues.length >= pageSize;\r\n\r\n      // Update state.issues with all loaded issues\r\n      state.issues = serverPagination.allIssuesLoaded;\r\n      state.filteredIssues = state.issues;\r\n\r\n      // Update global cache\r\n      window.app = window.app || {};\r\n      window.app.currentIssues = state.issues;\r\n\r\n      // Cache full issue data by key\r\n      window.app.issuesCache = window.app.issuesCache || new Map();\r\n      newIssues.forEach(issue => {\r\n        if (issue.key) {\r\n          window.app.issuesCache.set(issue.key, issue);\r\n        }\r\n      });\r\n\r\n      console.log(`üíæ Total issues loaded: ${serverPagination.allIssuesLoaded.length}`);\r\n    }\r\n\r\n    return newIssues;\r\n  } catch (error) {\r\n    console.error(`‚ùå Failed to load page ${page}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function loadIssues(queueId, page = 1, pageSize = 100) {\r\n  if (!queueId) return;\r\n  const statusEl = document.getElementById('filterStatus');\r\n  if (statusEl) {\r\n    statusEl.textContent = page === 1 ? 'Loading issues...' : `Loading page ${page}...`;\r\n    statusEl.classList.remove('status-success');\r\n    statusEl.classList.add('status-info');\r\n  }\r\n\r\n  // Initialize pagination state if first page\r\n  if (page === 1) {\r\n    if (!state.pagination) {\r\n      state.pagination = {};\r\n    }\r\n    state.pagination[queueId] = {\r\n      currentPage: 1,\r\n      pageSize: pageSize,\r\n      totalPages: 0,\r\n      totalIssues: 0,\r\n      hasMore: true,\r\n      allIssuesLoaded: []\r\n    };\r\n  }\r\n\r\n  try {\r\n    // Check cache first (use extended TTL for large queues)\r\n    const cacheKey = `issues_${state.currentDesk}_${queueId}`;\r\n    const cached = CacheManager.get(cacheKey);\r\n\r\n    if (cached && cached.length > 0) {\r\n      console.log(`üíæ Using cached issues (${cached.length} tickets)`);\r\n\r\n      // Process cached data immediately\r\n      let allIssues = cached;\r\n\r\n      // Check if this is paginated data\r\n      if (page > 1 && state.pagination && state.pagination[queueId]) {\r\n        // Append to existing issues\r\n        allIssues = [...state.pagination[queueId].allIssuesLoaded, ...allIssues];\r\n        state.pagination[queueId].allIssuesLoaded = allIssues;\r\n        state.pagination[queueId].currentPage = page;\r\n      }\r\n\r\n      window.app = window.app || {};\r\n      window.app.currentIssues = allIssues;\r\n\r\n      // Cache full issue data by key for sidebar use\r\n      window.app.issuesCache = window.app.issuesCache || new Map();\r\n      allIssues.forEach(issue => {\r\n        if (issue.key) {\r\n          window.app.issuesCache.set(issue.key, issue);\r\n        }\r\n      });\r\n      console.log(`üíæ Cached ${window.app.issuesCache.size} issues with full data (from cache)`);\r\n\r\n      // Apply filter mode\r\n      const shouldFilterByAssignee = state.filterMode === 'myTickets';\r\n      if (shouldFilterByAssignee) {\r\n        let currentUser = state.currentUser || localStorage.getItem('currentUser') || '';\r\n        if (typeof currentUser === 'object' && currentUser !== null) {\r\n          currentUser = currentUser.displayName || currentUser.name || '';\r\n        }\r\n        state.filteredIssues = allIssues.filter(issue => {\r\n          const assignee =\r\n            issue.assignee?.displayName ||\r\n            issue.assignee?.name ||\r\n            issue.fields?.assignee?.displayName ||\r\n            issue.fields?.assignee?.name ||\r\n            issue.assigned_to ||\r\n            issue.asignado_a ||\r\n            '';\r\n          if (!assignee) return false;\r\n          return assignee.toLowerCase() === currentUser.toLowerCase() ||\r\n            assignee.toLowerCase().includes(currentUser.toLowerCase());\r\n        });\r\n        state.issues = state.filteredIssues;\r\n      } else {\r\n        state.issues = allIssues;\r\n        state.filteredIssues = allIssues;\r\n      }\r\n\r\n      // üéØ INTELLIGENT INITIAL VIEW SELECTION (cached path)\r\n      // Auto-select best view based on ticket count BEFORE first render\r\n      const AUTO_SWITCH_THRESHOLD = 20;\r\n      if (!state.currentView || state.currentView === '') {\r\n        // Initial load - no view set yet\r\n        if (state.issues.length > AUTO_SWITCH_THRESHOLD) {\r\n          state.currentView = 'list';\r\n          console.log(`üéØ Auto-selected LIST view (${state.issues.length} tickets > ${AUTO_SWITCH_THRESHOLD}) [cached]`);\r\n        } else {\r\n          state.currentView = 'kanban';\r\n          console.log(`üéØ Auto-selected KANBAN view (${state.issues.length} tickets ‚â§ ${AUTO_SWITCH_THRESHOLD}) [cached]`);\r\n        }\r\n\r\n        // Update view toggle button state\r\n        document.querySelectorAll('[data-view]').forEach(btn => {\r\n          const view = btn.getAttribute('data-view');\r\n          if (view === state.currentView) {\r\n            btn.classList.add('active');\r\n            btn.setAttribute('aria-selected', 'true');\r\n          } else {\r\n            btn.classList.remove('active');\r\n            btn.setAttribute('aria-selected', 'false');\r\n          }\r\n        });\r\n      }\r\n\r\n      // Render immediately with cached data\r\n      renderView();\r\n\r\n      if (statusEl) {\r\n        const isLargeQueue = state.issues.length >= 50;\r\n        if (isLargeQueue) {\r\n          statusEl.textContent = `${state.issues.length} issue${state.issues.length !== 1 ? 's' : ''} (‚ö° 3-day cache)`;\r\n          statusEl.title = 'Large queue cached for 3 days - instant loading!';\r\n        } else {\r\n          statusEl.textContent = `${state.issues.length} issue${state.issues.length !== 1 ? 's' : ''} (cached)`;\r\n        }\r\n        statusEl.classList.remove('status-info', 'status-warn');\r\n        statusEl.classList.add('status-success');\r\n      }\r\n\r\n      // Load transitions in background (lazy)\r\n      loadIssueTransitionsLazy();\r\n\r\n      // Still fetch fresh data in background to update cache\r\n      fetchIssuesBackground(queueId, cacheKey);\r\n      return;\r\n    }\r\n\r\n    // Show loading dots only if not using cache\r\n    if (window.loadingDotsManager) {\r\n      window.loadingDotsManager.show('Loading tickets');\r\n    }\r\n\r\n    console.log(`üì° Fetching issues for queue: ${queueId}, page: ${page}, limit: ${pageSize}`);\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 30000); // 30s timeout\r\n\r\n    const offset = (page - 1) * pageSize;\r\n    const response = await fetch(`/api/issues/${queueId}?desk_id=${state.currentDesk}&limit=${pageSize}&offset=${offset}`, {\r\n      headers: {\r\n        'Accept-Encoding': 'gzip, deflate, br',\r\n        'Accept': 'application/json'\r\n      },\r\n      signal: controller.signal\r\n    }).finally(() => clearTimeout(timeoutId));\r\n    let json;\r\n    try {\r\n      const responseText = await response.text();\r\n      console.log(`üìä Response size: ${responseText.length} bytes`);\r\n\r\n      // Log first 500 chars if parse fails\r\n      try {\r\n        json = JSON.parse(responseText);\r\n      } catch (parseError) {\r\n        console.error('‚ùå JSON Parse Error:', parseError.message);\r\n        console.error('üìÑ Response preview (first 500 chars):', responseText.substring(0, 500));\r\n        console.error('üìÑ Response end (last 500 chars):', responseText.substring(Math.max(0, responseText.length - 500)));\r\n        throw parseError;\r\n      }\r\n    } catch (e) {\r\n      console.error('‚ùå Failed to fetch/parse issues:', e);\r\n\r\n      // Show user-friendly error notification\r\n      if (window.showNotification) {\r\n        window.showNotification(\r\n          'Error loading tickets. The queue may be too large or have data issues. Please try a smaller queue or contact support.',\r\n          'error',\r\n          10000\r\n        );\r\n      }\r\n\r\n      // Update status indicator\r\n      if (statusEl) {\r\n        statusEl.textContent = 'Error loading tickets';\r\n        statusEl.classList.remove('status-info', 'status-success');\r\n        statusEl.classList.add('status-warn');\r\n      }\r\n\r\n      // Hide loading indicator\r\n      if (window.loadingDotsManager) {\r\n        window.loadingDotsManager.hide();\r\n      }\r\n\r\n      // Return early with empty state\r\n      state.issues = [];\r\n      state.filteredIssues = [];\r\n      renderView();\r\n      return;\r\n    }\r\n\r\n    // Unwrap nested response: json_response decorator wraps original dict under data\r\n    // Original issues blueprint returns { data: [...], count: N }\r\n    let allIssuesWrapper = json.data || json.payload || json.result || json; // attempt generic wrapper\r\n    let allIssues = [];\r\n    if (Array.isArray(allIssuesWrapper)) {\r\n      allIssues = allIssuesWrapper;\r\n    } else if (allIssuesWrapper && Array.isArray(allIssuesWrapper.data)) {\r\n      allIssues = allIssuesWrapper.data;\r\n    } else if (Array.isArray(json.issues)) {\r\n      allIssues = json.issues;\r\n    } else if (Array.isArray(json.values)) {\r\n      allIssues = json.values;\r\n    }\r\n    if (!Array.isArray(allIssues)) {\r\n      console.warn('‚ö†Ô∏è issues payload not array after unwrapping, normalizing to []. Raw object keys:', Object.keys(json));\r\n      allIssues = [];\r\n    }\r\n    // Preserve raw issues for kanban fallback\r\n    window.app = window.app || {};\r\n    window.app.currentIssues = allIssues;\r\n\r\n    // Cache full issue data by key for sidebar use\r\n    window.app.issuesCache = window.app.issuesCache || new Map();\r\n    allIssues.forEach(issue => {\r\n      if (issue.key) {\r\n        window.app.issuesCache.set(issue.key, issue);\r\n      }\r\n    });\r\n    console.log(`üíæ Cached ${window.app.issuesCache.size} issues with full data`);\r\n    // Check filter mode\r\n    const shouldFilterByAssignee = state.filterMode === 'myTickets';\r\n\r\n    console.log(`üîç Filter mode: ${state.filterMode}, All issues length: ${allIssues.length}`);\r\n\r\n    // Apply assignee filter only if in \"My Tickets\" mode\r\n    let currentUser = state.currentUser || localStorage.getItem('currentUser') || '';\r\n    let currentUserAccountId = state.currentUserAccountId || localStorage.getItem('currentUserAccountId') || '';\r\n\r\n    if (typeof currentUser === 'object' && currentUser !== null) {\r\n      currentUser = currentUser.displayName || currentUser.name || '';\r\n    }\r\n\r\n    if (shouldFilterByAssignee) {\r\n      console.log(`üîç Filtering by assignee: \"${currentUser}\" (accountId: ${currentUserAccountId})`);\r\n\r\n      // Debug: Log sample issues to see structure\r\n      if (allIssues.length > 0) {\r\n        console.log('üìã Sample issue structures (first 3):');\r\n        allIssues.slice(0, 3).forEach(issue => {\r\n          console.log(`  ${issue.key}:`, {\r\n            assignee: issue.assignee,\r\n            fields_assignee: issue.fields?.assignee,\r\n            assigned_to: issue.assigned_to,\r\n            asignado_a: issue.asignado_a,\r\n            assigneeAccountId: issue.assignee?.accountId || issue.fields?.assignee?.accountId\r\n          });\r\n        });\r\n      }\r\n\r\n      state.filteredIssues = allIssues.length ? allIssues.filter(issue => {\r\n        // Try different assignee field locations and formats\r\n        const assigneeObj = issue.assignee || issue.fields?.assignee;\r\n        const assigneeAccountId = assigneeObj?.accountId || '';\r\n        const assigneeName =\r\n          assigneeObj?.displayName ||\r\n          assigneeObj?.name ||\r\n          issue.assigned_to ||\r\n          issue.asignado_a ||\r\n          '';\r\n\r\n        // First priority: Match by accountId (most reliable)\r\n        if (currentUserAccountId && assigneeAccountId) {\r\n          const matchById = assigneeAccountId === currentUserAccountId;\r\n          if (matchById) {\r\n            console.log(`  ‚úÖ ${issue.key}: Matched by accountId`);\r\n            return true;\r\n          }\r\n        }\r\n\r\n        // Second priority: Match by display name\r\n        if (assigneeName && currentUser) {\r\n          const assigneeLower = assigneeName.toLowerCase().trim();\r\n          const userLower = currentUser.toLowerCase().trim();\r\n\r\n          // Exact match\r\n          if (assigneeLower === userLower) {\r\n            console.log(`  ‚úÖ ${issue.key}: Matched by exact name \"${assigneeName}\"`);\r\n            return true;\r\n          }\r\n\r\n          // Partial match (contains)\r\n          if (assigneeLower.includes(userLower) || userLower.includes(assigneeLower)) {\r\n            console.log(`  ‚úÖ ${issue.key}: Matched by partial name \"${assigneeName}\"`);\r\n            return true;\r\n          }\r\n        }\r\n\r\n        // No match\r\n        return false;\r\n      }) : [];\r\n\r\n      state.issues = state.filteredIssues;\r\n      console.log(`‚úÖ Filtered to ${state.issues.length} tickets assigned to \"${currentUser}\" from ${allIssues.length} total`);\r\n    } else {\r\n      // Show all tickets\r\n      state.issues = allIssues;\r\n      state.filteredIssues = allIssues;\r\n      console.log(`‚úÖ Showing all ${state.issues.length} tickets`);\r\n    }\r\n\r\n    console.log(`‚úÖ Issues loaded: ${state.issues.length}/${allIssues.length}`);\r\n\r\n    // Update pagination state with response metadata\r\n    if (json.hasOwnProperty('hasMore')) {\r\n      if (state.pagination && state.pagination[queueId]) {\r\n        state.pagination[queueId].hasMore = json.hasMore !== false;\r\n        state.pagination[queueId].totalIssues = json.total || allIssues.length;\r\n      }\r\n    } else {\r\n      // Determine if there might be more based on page size\r\n      if (state.pagination && state.pagination[queueId]) {\r\n        const pageSize = state.pagination[queueId].pageSize;\r\n        state.pagination[queueId].hasMore = allIssues.length >= pageSize;\r\n      }\r\n    }\r\n\r\n    // Reset SLA tracking when loading new queue\r\n    if (state.listView) {\r\n      state.listView.slaLoadedCount = 0;\r\n      state.listView.slaLoadedKeys = new Set();\r\n      state.listView.lastSlaFetch = 0;\r\n      console.log('üîÑ SLA tracking reset for new queue');\r\n    }\r\n\r\n    // üéØ INTELLIGENT INITIAL VIEW SELECTION\r\n    // Auto-select best view based on ticket count BEFORE first render\r\n    const AUTO_SWITCH_THRESHOLD = 20;\r\n    if (!state.currentView || state.currentView === '') {\r\n      // Initial load - no view set yet\r\n      if (state.issues.length > AUTO_SWITCH_THRESHOLD) {\r\n        state.currentView = 'list';\r\n        console.log(`üéØ Auto-selected LIST view (${state.issues.length} tickets > ${AUTO_SWITCH_THRESHOLD})`);\r\n      } else {\r\n        state.currentView = 'kanban';\r\n        console.log(`üéØ Auto-selected KANBAN view (${state.issues.length} tickets ‚â§ ${AUTO_SWITCH_THRESHOLD})`);\r\n      }\r\n\r\n      // Update view toggle button state\r\n      document.querySelectorAll('[data-view]').forEach(btn => {\r\n        const view = btn.getAttribute('data-view');\r\n        if (view === state.currentView) {\r\n          btn.classList.add('active');\r\n          btn.setAttribute('aria-selected', 'true');\r\n        } else {\r\n          btn.classList.remove('active');\r\n          btn.setAttribute('aria-selected', 'false');\r\n        }\r\n      });\r\n    }\r\n\r\n    // Save to cache with appropriate TTL\r\n    const cacheTTL = allIssues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n    CacheManager.set(cacheKey, allIssues, cacheTTL);\r\n    const ttlDays = (cacheTTL / (24 * 60 * 60 * 1000)).toFixed(1);\r\n    const ttlHours = (cacheTTL / (60 * 60 * 1000)).toFixed(1);\r\n\r\n    if (allIssues.length >= 50) {\r\n      console.log(`üíæ üöÄ Large queue cached for ${ttlDays} days! (${allIssues.length} tickets) - Instant loads for 3 days`);\r\n\r\n      // Show notification for large queue caching\r\n      if (typeof showNotification === 'function') {\r\n        showNotification(`‚ö° ${allIssues.length} tickets cached for 3 days - instant reloads!`, 'success');\r\n      }\r\n    } else {\r\n      console.log(`üíæ Cached ${allIssues.length} issues (TTL: ${ttlHours}h)`);\r\n    }\r\n\r\n    // Update breadcrumb\r\n    if (window.headerMenus && window.headerMenus.syncQueueBreadcrumb) {\r\n      window.headerMenus.syncQueueBreadcrumb();\r\n    }\r\n\r\n    // Actualizar info del filtro\r\n    const filterInfo = document.getElementById('filterInfo');\r\n    if (filterInfo) {\r\n      filterInfo.textContent = `üìä ${state.issues.length} ticket${state.issues.length !== 1 ? 's' : ''} assigned to you`;\r\n    }\r\n\r\n    // Progressive rendering strategy for large queues\r\n    if (allIssues.length > 20) {\r\n      console.log(`üöÄ Progressive loading: Rendering first 20 tickets immediately, ${allIssues.length - 20} in background`);\r\n\r\n      // Render first 20 immediately for fast initial display\r\n      renderView();\r\n\r\n      // Load remaining tickets in background (non-blocking)\r\n      setTimeout(() => {\r\n        console.log(`üîÑ Loading remaining ${allIssues.length - 20} tickets in background...`);\r\n        // Trigger a re-render to show all tickets\r\n        renderView();\r\n      }, 100);\r\n\r\n      // Load transitions lazily in background\r\n      setTimeout(() => loadIssueTransitionsLazy(), 200);\r\n\r\n      // Preload metrics and ML in background after initial render\r\n      setTimeout(() => preloadMetricsInBackground(), 300);\r\n      setTimeout(() => preloadMLAnalysisInBackground(), 400);\r\n    } else {\r\n      // For small queues, render everything immediately\r\n      loadIssueTransitionsLazy();\r\n      preloadMetricsInBackground();\r\n      preloadMLAnalysisInBackground();\r\n      renderView();\r\n    }\r\n    if (statusEl) {\r\n      const isLargeQueue = allIssues.length >= 50;\r\n      if (isLargeQueue) {\r\n        statusEl.textContent = `${state.issues.length} issue${state.issues.length !== 1 ? 's' : ''} (‚ö° cached 3 days)`;\r\n        statusEl.title = 'Large queue cached for 3 days - instant reloads!';\r\n      } else {\r\n        statusEl.textContent = `${state.issues.length} issue${state.issues.length !== 1 ? 's' : ''}`;\r\n      }\r\n      statusEl.classList.remove('status-info', 'status-warn');\r\n      statusEl.classList.add('status-success');\r\n    }\r\n\r\n    // Auto-save current filters to session (for quick restore)\r\n    if (state.currentDesk && state.currentQueue) {\r\n      const filters = {\r\n        desk: {\r\n          id: state.currentDesk,\r\n          name: document.getElementById('serviceDeskSelectFilter')?.options[document.getElementById('serviceDeskSelectFilter')?.selectedIndex]?.text || ''\r\n        },\r\n        queue: {\r\n          id: state.currentQueue,\r\n          name: document.getElementById('queueSelectFilter')?.options[document.getElementById('queueSelectFilter')?.selectedIndex]?.text || ''\r\n        },\r\n        view: state.currentView || 'kanban',\r\n        filterMode: state.filterMode || 'all',\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      sessionStorage.setItem('currentFilters', JSON.stringify(filters));\r\n      console.log('üíæ Auto-saved current filters to session');\r\n    }\r\n  } catch (error) {\r\n    console.error('‚ùå Error loading issues:', error);\r\n    state.issues = [];\r\n    state.filteredIssues = [];\r\n    if (statusEl) {\r\n      statusEl.textContent = 'Failed to load issues';\r\n      statusEl.classList.remove('status-info');\r\n      statusEl.classList.add('status-warn');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Enriquecer datos de tickets usando SOLO APIs reales (Service Desk + JIRA REST)\r\n * NO usa datos hardcodeados - solo busquedas alternativas con APIs\r\n */\r\n// ============================================================================\r\n// DEPRECATED: enrichIssuesWithCustomFields - REMOVED FOR PERFORMANCE\r\n// Backend now sends all necessary data in /api/issues - no enrichment needed\r\n// ============================================================================\r\nasync function enrichIssuesWithCustomFields() {\r\n  // DEPRECATED: Esta funci√≥n ha sido ELIMINADA para mejorar performance\r\n  // El backend ya env√≠a todos los datos necesarios en /api/issues\r\n  console.warn('‚ö†Ô∏è enrichIssuesWithCustomFields() is deprecated - backend sends complete data');\r\n\r\n  // REMOVED: All enrichment logic removed - backend sends complete data\r\n  return;\r\n}\r\n\r\n/**\r\n * Background fetch to update cache without blocking UI\r\n */\r\nasync function fetchIssuesBackground(queueId, cacheKey) {\r\n  try {\r\n    console.log('üîÑ Fetching fresh issues in background...');\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 45000); // 45s timeout for background\r\n\r\n    const response = await fetch(`/api/issues/${queueId}?desk_id=${state.currentDesk}`, {\r\n      headers: {\r\n        'Accept-Encoding': 'gzip, deflate, br',\r\n        'Accept': 'application/json'\r\n      },\r\n      signal: controller.signal\r\n    }).finally(() => clearTimeout(timeoutId));\r\n    const json = await response.json();\r\n\r\n    let allIssuesWrapper = json.data || json.payload || json.result || json;\r\n    let allIssues = [];\r\n    if (Array.isArray(allIssuesWrapper)) {\r\n      allIssues = allIssuesWrapper;\r\n    } else if (allIssuesWrapper && Array.isArray(allIssuesWrapper.data)) {\r\n      allIssues = allIssuesWrapper.data;\r\n    } else if (Array.isArray(json.issues)) {\r\n      allIssues = json.issues;\r\n    } else if (Array.isArray(json.values)) {\r\n      allIssues = json.values;\r\n    }\r\n\r\n    if (allIssues.length > 0) {\r\n      // Update cache silently with appropriate TTL\r\n      const cacheTTL = allIssues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n      CacheManager.set(cacheKey, allIssues, cacheTTL);\r\n      const ttlDays = (cacheTTL / (24 * 60 * 60 * 1000)).toFixed(1);\r\n      const ttlHours = (cacheTTL / (60 * 60 * 1000)).toFixed(1);\r\n\r\n      if (allIssues.length >= 50) {\r\n        console.log(`üíæ ‚ú® Background cache refreshed: ${allIssues.length} tickets cached for ${ttlDays} days`);\r\n      } else {\r\n        console.log(`üíæ Cache updated with ${allIssues.length} fresh issues (TTL: ${ttlHours}h)`);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.warn('‚ö†Ô∏è Background fetch failed:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Preload metrics in background with 3-level caching strategy\r\n * Level 1: Memory cache (instant)\r\n * Level 2: LocalStorage cache (15min/3h TTL)\r\n * Level 3: Backend DB cache (1h TTL)\r\n */\r\nasync function preloadMetricsInBackground() {\r\n  if (!state.currentDesk || !state.currentQueue) {\r\n    console.log('‚ÑπÔ∏è Skipping metrics preload: no desk/queue selected');\r\n    return;\r\n  }\r\n\r\n  const cacheKey = `metrics_${state.currentDesk}_${state.currentQueue}`;\r\n\r\n  // Level 1: Check memory cache (instant)\r\n  if (window.metricsCache && window.metricsCache[cacheKey]) {\r\n    const cached = window.metricsCache[cacheKey];\r\n    const age = Date.now() - cached.timestamp;\r\n    const ttl = state.issues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n\r\n    if (age < ttl) {\r\n      console.log(`üí® Metrics in memory cache (${(age / 1000).toFixed(0)}s old)`);\r\n      return; // Already cached in memory\r\n    }\r\n  }\r\n\r\n  // Level 2: Check LocalStorage cache\r\n  const localCached = CacheManager.get(cacheKey);\r\n  if (localCached) {\r\n    console.log('üíæ Metrics in LocalStorage cache');\r\n    // Store in memory for faster access\r\n    window.metricsCache = window.metricsCache || {};\r\n    window.metricsCache[cacheKey] = {\r\n      data: localCached,\r\n      timestamp: Date.now()\r\n    };\r\n    return; // Already cached locally\r\n  }\r\n\r\n  // Level 3: Fetch from backend (with DB cache)\r\n  console.log('üîÑ Preloading metrics in background...');\r\n\r\n  try {\r\n    const url = `/api/reports/metrics?serviceDeskId=${state.currentDesk}&queueId=${state.currentQueue}`;\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    if (data.data?.cached && data.data?.metrics) {\r\n      const metrics = data.data.metrics;\r\n\r\n      // Store in memory cache\r\n      window.metricsCache = window.metricsCache || {};\r\n      window.metricsCache[cacheKey] = {\r\n        data: metrics,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Store in LocalStorage cache\r\n      const ttl = state.issues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n      CacheManager.set(cacheKey, metrics, ttl);\r\n\r\n      console.log(`‚úÖ Metrics preloaded: ${metrics.summary?.total || 0} tickets analyzed`);\r\n    } else if (data.data?.refresh_status) {\r\n      console.log(`üîÑ Metrics refresh in progress: ${data.data.refresh_status.progress}%`);\r\n      // Will be available on next load from DB cache\r\n    } else {\r\n      console.log('‚ÑπÔ∏è Metrics not yet available');\r\n    }\r\n  } catch (error) {\r\n    console.warn('‚ö†Ô∏è Background metrics preload failed:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Preload ML analysis in background with 3-level caching strategy\r\n * Level 1: Memory cache (instant)\r\n * Level 2: LocalStorage cache (15min/3h TTL)\r\n * Level 3: Backend DB cache (1h TTL)\r\n */\r\nasync function preloadMLAnalysisInBackground() {\r\n  if (!state.currentDesk || !state.currentQueue) {\r\n    console.log('‚ÑπÔ∏è Skipping ML analysis preload: no desk/queue selected');\r\n    return;\r\n  }\r\n\r\n  const cacheKey = `ml_analysis_${state.currentDesk}_${state.currentQueue}`;\r\n\r\n  // Level 1: Check memory cache (instant)\r\n  if (window.mlAnalysisCache && window.mlAnalysisCache[cacheKey]) {\r\n    const cached = window.mlAnalysisCache[cacheKey];\r\n    const age = Date.now() - cached.timestamp;\r\n    const ttl = state.issues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n\r\n    if (age < ttl) {\r\n      console.log(`üí® ML Analysis in memory cache (${(age / 1000).toFixed(0)}s old)`);\r\n      return;\r\n    }\r\n  }\r\n\r\n  // Level 2: Check LocalStorage cache\r\n  const localCached = CacheManager.get(cacheKey);\r\n  if (localCached) {\r\n    console.log('üíæ ML Analysis in LocalStorage cache');\r\n    window.mlAnalysisCache = window.mlAnalysisCache || {};\r\n    window.mlAnalysisCache[cacheKey] = {\r\n      data: localCached,\r\n      timestamp: Date.now()\r\n    };\r\n    return;\r\n  }\r\n\r\n  // Level 3: Fetch from backend (with DB cache)\r\n  console.log('üîÑ Preloading ML analysis in background...');\r\n\r\n  try {\r\n    const response = await fetch('/api/ai/analyze-queue', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        desk_id: state.currentDesk,\r\n        queue_id: state.currentQueue\r\n      })\r\n    });\r\n\r\n    const data = await response.json();\r\n    let analysis = data.data || data;\r\n\r\n    if (analysis && !analysis.error) {\r\n      // Store in memory cache\r\n      window.mlAnalysisCache = window.mlAnalysisCache || {};\r\n      window.mlAnalysisCache[cacheKey] = {\r\n        data: analysis,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Store in LocalStorage cache\r\n      const ttl = state.issues.length >= 50 ? CacheManager.LARGE_QUEUE_TTL : CacheManager.TTL;\r\n      CacheManager.set(cacheKey, analysis, ttl);\r\n\r\n      console.log(`‚úÖ ML Analysis preloaded: ${analysis.analyzed_count || 0} tickets analyzed`);\r\n    }\r\n  } catch (error) {\r\n    console.warn('‚ö†Ô∏è Background ML analysis preload failed:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Lazy load transitions - only when needed (on drag hover or details view)\r\n * Uses cache with 30 minute TTL\r\n */\r\nasync function loadIssueTransitionsLazy() {\r\n  // Don't block - load in background\r\n  setTimeout(async () => {\r\n    try {\r\n      console.log('üîÑ Loading transitions lazily...');\r\n\r\n      // Load only for visible issues (first 20)\r\n      const visibleIssues = state.issues.slice(0, 20);\r\n\r\n      const promises = visibleIssues.map(async (issue) => {\r\n        try {\r\n          // Check cache first\r\n          const cacheKey = `transitions_${issue.key}`;\r\n          const cached = CacheManager.get(cacheKey);\r\n\r\n          if (cached) {\r\n            state.issueTransitions[issue.key] = cached;\r\n            return;\r\n          }\r\n\r\n          // Fetch if not cached\r\n          const response = await fetch(`/api/issues/${issue.key}/transitions`);\r\n          const json = await response.json();\r\n          const transitions = json.transitions || [];\r\n\r\n          state.issueTransitions[issue.key] = transitions;\r\n\r\n          // Cache with longer TTL (transitions rarely change)\r\n          CacheManager.set(cacheKey, transitions, CacheManager.TRANSITIONS_TTL);\r\n        } catch (error) {\r\n          state.issueTransitions[issue.key] = [];\r\n        }\r\n      });\r\n\r\n      await Promise.all(promises);\r\n      console.log(`‚úÖ Loaded transitions for ${visibleIssues.length} visible issues (lazy + cached)`);\r\n    } catch (error) {\r\n      console.error('‚ùå Error loading transitions:', error);\r\n    }\r\n  }, 500); // Delay 500ms to not block initial render\r\n}\r\n\r\n/**\r\n * Load transitions for specific issue on-demand\r\n */\r\nasync function loadTransitionsForIssue(issueKey) {\r\n  if (state.issueTransitions[issueKey]) {\r\n    return state.issueTransitions[issueKey];\r\n  }\r\n\r\n  try {\r\n    // Check cache\r\n    const cacheKey = `transitions_${issueKey}`;\r\n    const cached = CacheManager.get(cacheKey);\r\n\r\n    if (cached) {\r\n      state.issueTransitions[issueKey] = cached;\r\n      return cached;\r\n    }\r\n\r\n    // Fetch\r\n    const response = await fetch(`/api/issues/${issueKey}/transitions`);\r\n    const json = await response.json();\r\n    const transitions = json.transitions || [];\r\n\r\n    state.issueTransitions[issueKey] = transitions;\r\n    CacheManager.set(cacheKey, transitions, CacheManager.TRANSITIONS_TTL);\r\n\r\n    return transitions;\r\n  } catch (error) {\r\n    console.error(`Error loading transitions for ${issueKey}:`, error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Expose globally for drag-drop system\r\nwindow.loadTransitionsForIssue = loadTransitionsForIssue;\r\n\r\n// Funci√≥n normalizeSeverity eliminada - usar severity directamente\r\n\r\n/**\r\n * Carga los valores de severity desde JIRA API\r\n * @returns {Promise<void>}\r\n */\r\nasync function loadSeverityValues() {\r\n  if (state.severityValues) {\r\n    return; // Ya cargado\r\n  }\r\n\r\n  try {\r\n    const response = await fetch('/api/severity/values');\r\n    const data = await response.json();\r\n\r\n    if (data.success && data.severity_values) {\r\n      state.severityValues = data.severity_values;\r\n\r\n      // Crear mapeo din√°mico basado en los valores de JIRA\r\n      state.severityMapping = createSeverityMapping(data.severity_values);\r\n\r\n      console.log(`‚úÖ Loaded ${data.severity_values.length} severity values from JIRA`);\r\n    } else {\r\n      console.warn('‚ö†Ô∏è  No severity values returned from API - no fallback used');\r\n      state.severityMapping = null;\r\n    }\r\n  } catch (error) {\r\n    console.error('‚ùå Error loading severity values:', error);\r\n    state.severityMapping = null;\r\n  }\r\n}\r\n\r\n/**\r\n * Crea mapeo din√°mico de severity basado en valores de JIRA\r\n * @param {Array} severityValues - Valores de severity desde JIRA\r\n * @returns {Object} - Mapeo de severity\r\n */\r\nfunction createSeverityMapping(severityValues) {\r\n  const mapping = {};\r\n\r\n  severityValues.forEach(severity => {\r\n    const name = severity.name.toLowerCase();\r\n    let level, emoji, className;\r\n\r\n    // Clasificaci√≥n din√°mica basada en nombres comunes\r\n    if (name.includes('critical') || name.includes('blocker') || name.includes('highest')) {\r\n      level = 1;\r\n      className = 'severity-critical';\r\n      emoji = 'üî¥';\r\n    } else if (name.includes('high') || name.includes('urgent') || name.includes('major')) {\r\n      level = 2;\r\n      className = 'severity-high';\r\n      emoji = 'üü†';\r\n    } else if (name.includes('low') || name.includes('minor') || name.includes('lowest') || name.includes('trivial')) {\r\n      level = 4;\r\n      className = 'severity-low';\r\n      emoji = 'üü¢';\r\n    } else {\r\n      level = 3;\r\n      className = 'severity-medium';\r\n      emoji = 'üü°';\r\n    }\r\n\r\n    mapping[severity.name] = {\r\n      id: severity.id,\r\n      name: severity.name,\r\n      level: level,\r\n      className: className,\r\n      emoji: emoji,\r\n      description: severity.description || '',\r\n      field_id: severity.field_id\r\n    };\r\n  });\r\n\r\n  console.log(`‚úÖ Created dynamic severity mapping with ${Object.keys(mapping).length} entries`);\r\n  return mapping;\r\n}\r\n\r\n// Fallback mapping eliminado - usar solo valores reales de JIRA\r\n\r\n/**\r\n * Determina la clase CSS y emoji para severity usando mapeo din√°mico\r\n * @param {string} severity - Severity normalizado\r\n * @returns {object} - {className, emoji}\r\n */\r\nfunction getSeverityStyle(severity) {\r\n  // Si severity es null/undefined, no mostrar badge\r\n  if (!severity) {\r\n    return null;\r\n  }\r\n\r\n  if (!state.severityMapping) {\r\n    // Si no hay mapeo, usar l√≥gica b√°sica\r\n    const severityStr = severity.toLowerCase();\r\n    if (severityStr.includes('critical') || severityStr.includes('highest')) {\r\n      return { className: 'severity-critical', emoji: 'üî¥' };\r\n    } else if (severityStr.includes('high') || severityStr.includes('urgent')) {\r\n      return { className: 'severity-high', emoji: 'üü†' };\r\n    } else if (severityStr.includes('low') || severityStr.includes('lowest')) {\r\n      return { className: 'severity-low', emoji: 'üü¢' };\r\n    } else {\r\n      return { className: 'severity-medium', emoji: 'üü°' };\r\n    }\r\n  }\r\n\r\n  // Usar mapeo din√°mico\r\n  const mapping = state.severityMapping[severity];\r\n  if (mapping) {\r\n    return { className: mapping.className, emoji: mapping.emoji };\r\n  }\r\n\r\n  // Buscar por coincidencia parcial\r\n  for (const [key, value] of Object.entries(state.severityMapping)) {\r\n    if (key.toLowerCase().includes(severity.toLowerCase()) ||\r\n      severity.toLowerCase().includes(key.toLowerCase())) {\r\n      return { className: value.className, emoji: value.emoji };\r\n    }\r\n  }\r\n\r\n  // Fallback final\r\n  return { className: 'severity-medium', emoji: 'üü°' };\r\n}\r\n\r\nasync function refreshIssues() {\r\n  if (state.currentQueue) {\r\n    await loadIssues(state.currentQueue);\r\n  }\r\n}\r\n\r\nfunction autoSwitchViewIfNeeded() {\r\n  // Force list view if more than 20 tickets\r\n  const issueCount = state.issues?.length || 0;\r\n\r\n  if (issueCount > 20 && state.currentView === 'kanban') {\r\n    console.log(`‚ö° Auto-switching to list view (${issueCount} tickets > 20)`);\r\n\r\n    // Mark as auto-switched\r\n    state.wasAutoSwitched = true;\r\n\r\n    switchView('list');\r\n\r\n    // Show notification with custom styling\r\n    showAutoSwitchNotification(issueCount);\r\n\r\n    return true;\r\n  }\r\n\r\n  // Clear auto-switch flag if manually switching or less than 20 tickets\r\n  if (issueCount <= 20) {\r\n    state.wasAutoSwitched = false;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction showAutoSwitchNotification(issueCount) {\r\n  // Create custom notification\r\n  const notification = document.createElement('div');\r\n  notification.className = 'auto-switch-notification';\r\n  notification.innerHTML = `\r\n    <div class=\"auto-switch-content\">\r\n      <div class=\"auto-switch-icon\">${SVGIcons.chart({ size: 18, className: 'inline-icon svg-assemble' })}</div>\r\n      <div class=\"auto-switch-text\">\r\n        <strong>List View Activated</strong>\r\n        <p>${issueCount} tickets detected. Using list view for better performance.</p>\r\n      </div>\r\n      <button class=\"auto-switch-close\" onclick=\"this.parentElement.parentElement.remove()\">${SVGIcons.close({ size: 14, className: 'inline-icon' })}</button>\r\n    </div>\r\n  `;\r\n\r\n  document.body.appendChild(notification);\r\n\r\n  // Auto-remove after 5 seconds\r\n  setTimeout(() => {\r\n    if (notification.parentElement) {\r\n      notification.classList.add('fade-out');\r\n      setTimeout(() => notification.remove(), 300);\r\n    }\r\n  }, 5000);\r\n}\r\n\r\nfunction switchView(view) {\r\n  console.log('üîÑ Switching view to:', view);\r\n\r\n  // Update state\r\n  state.currentView = view;\r\n\r\n  // Update button states\r\n  document.querySelectorAll('[data-view]').forEach(btn => {\r\n    if (btn.getAttribute('data-view') === view) {\r\n      btn.classList.add('active');\r\n      btn.setAttribute('aria-selected', 'true');\r\n    } else {\r\n      btn.classList.remove('active');\r\n      btn.setAttribute('aria-selected', 'false');\r\n    }\r\n  });\r\n\r\n  // Add/remove auto-switch badge\r\n  updateAutoSwitchBadge();\r\n\r\n  // Show/hide views\r\n  const kanbanView = document.getElementById('kanbanView');\r\n  const listView = document.getElementById('listView');\r\n  const boardWrapper = document.getElementById('boardWrapper');\r\n\r\n  // Force layout reset by clearing both views first\r\n  if (kanbanView) {\r\n    kanbanView.style.display = 'none';\r\n    kanbanView.style.height = '';\r\n    kanbanView.style.minHeight = '';\r\n    kanbanView.style.maxHeight = '';\r\n    kanbanView.style.transform = '';\r\n    kanbanView.style.opacity = '';\r\n  }\r\n\r\n  if (listView) {\r\n    listView.style.display = 'none';\r\n    listView.style.height = '';\r\n    listView.style.minHeight = '';\r\n    listView.style.maxHeight = '';\r\n    listView.style.transform = '';\r\n    listView.style.opacity = '';\r\n  }\r\n\r\n  // Reset scroll position when switching views\r\n  if (boardWrapper) {\r\n    boardWrapper.scrollTop = 0;\r\n    boardWrapper.style.height = '';\r\n  }\r\n\r\n  // Force reflow to ensure styles are applied\r\n  if (boardWrapper) {\r\n    void boardWrapper.offsetHeight;\r\n  }\r\n\r\n  // Now show the selected view\r\n  if (view === 'kanban' && kanbanView) {\r\n    kanbanView.style.display = 'block';\r\n    // Re-apply SLA styling when switching back to kanban\r\n    setTimeout(() => {\r\n      if (state.currentView === 'kanban') {\r\n        console.log('üé® Re-applying SLA styling after switching to kanban...');\r\n        applySLAStyling();\r\n      }\r\n    }, 150);\r\n  } else if (view === 'list' && listView) {\r\n    listView.style.display = 'block';\r\n  }\r\n\r\n  // Render the view\r\n  renderView();\r\n\r\n  // Save preference (only if not auto-switched)\r\n  if (!state.wasAutoSwitched) {\r\n    localStorage.setItem('preferredView', view);\r\n  }\r\n}\r\n\r\nfunction updateAutoSwitchBadge() {\r\n  // Remove existing badge\r\n  const existingBadge = document.querySelector('.auto-switch-badge');\r\n  if (existingBadge) {\r\n    existingBadge.remove();\r\n  }\r\n\r\n  // Add badge if auto-switched and in list view\r\n  if (state.wasAutoSwitched && state.currentView === 'list') {\r\n    const listBtn = document.querySelector('[data-view=\"list\"]');\r\n    if (listBtn && !listBtn.querySelector('.auto-switch-badge')) {\r\n      const badge = document.createElement('span');\r\n      badge.className = 'auto-switch-badge';\r\n      badge.textContent = 'Auto';\r\n      badge.title = `Automatically switched due to ${state.issues?.length || 0} tickets`;\r\n      listBtn.appendChild(badge);\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderView() {\r\n  // Only auto-switch if view is already set (not initial load)\r\n  // Initial load view is selected intelligently in loadIssues()\r\n  if (state.currentView && state.currentView !== '') {\r\n    const wasAutoSwitched = autoSwitchViewIfNeeded();\r\n\r\n    // If auto-switched, the switchView() function already handled the render\r\n    if (wasAutoSwitched) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // Control view container visibility\r\n  const kanbanView = document.getElementById('kanbanView');\r\n  const listView = document.getElementById('listView');\r\n\r\n  if (kanbanView && listView) {\r\n    if (state.currentView === 'kanban') {\r\n      kanbanView.style.display = 'block';\r\n      listView.style.display = 'none';\r\n      renderKanban();\r\n    } else {\r\n      kanbanView.style.display = 'none';\r\n      listView.style.display = 'block';\r\n      renderList();\r\n    }\r\n  } else {\r\n    // Fallback if containers don't exist yet\r\n    if (state.currentView === 'kanban') {\r\n      renderKanban();\r\n    } else {\r\n      renderList();\r\n    }\r\n  }\r\n\r\n  // Hide loading dots after render\r\n  if (window.loadingDotsManager) {\r\n    window.loadingDotsManager.hide();\r\n  }\r\n}\r\n\r\n/**\r\n * Get SLA status class for ticket key styling\r\n */\r\nasync function getSLAStatusClass(issueKey) {\r\n  try {\r\n    const response = await fetch(`/api/issues/${issueKey}/sla`);\r\n    if (!response.ok) return '';\r\n\r\n    const data = await response.json();\r\n    if (!data.success || !data.data || !data.data.cycles || data.data.cycles.length === 0) {\r\n      return '';\r\n    }\r\n\r\n    const cycle = data.data.cycles[0];\r\n    const isSecondary = data.data.is_secondary || false;\r\n\r\n    // IMPORTANT: Don't style tickets with only \"Cierre Ticket\" (secondary) SLA\r\n    // These tickets should appear NORMAL without amber highlighting\r\n    // Amber would incorrectly suggest a problem/warning when it's just a default SLA\r\n    if (isSecondary) {\r\n      return ''; // No styling for secondary-only tickets\r\n    }\r\n\r\n    // Determine SLA status class based on state from JIRA\r\n    // Show paused status ONLY when JIRA reports paused=true\r\n    if (cycle.paused) {\r\n      return 'ticket-key-sla-paused';\r\n    } else if (cycle.breached) {\r\n      return 'ticket-key-sla-breached';\r\n    } else if (cycle.remaining_time && cycle.remaining_time !== 'N/A') {\r\n      // Parse remaining time to determine if it's getting close\r\n      const remainingText = cycle.remaining_time.toLowerCase();\r\n      if (remainingText.includes('m') && !remainingText.includes('h')) {\r\n        // Less than 1 hour remaining - warning\r\n        return 'ticket-key-sla-warning';\r\n      }\r\n      return 'ticket-key-sla-healthy';\r\n    }\r\n\r\n    return 'ticket-key-sla-healthy';\r\n  } catch (error) {\r\n    console.warn(`Failed to get SLA status for ${issueKey}:`, error);\r\n    return '';\r\n  }\r\n}\r\n\r\n/**\r\n * Extract country code from JIRA customfield_10167\r\n * Handles both object format {value: \"Chile: +56\"} and string format\r\n * \r\n * @param {Object|string|null} fieldValue - The customfield_10167 value\r\n * @returns {string} Country code with + (e.g., \"+56\") or empty string\r\n */\r\nfunction extractCountryCode(fieldValue) {\r\n  if (!fieldValue) return '';\r\n\r\n  // Extract value string from object or use directly\r\n  let valueStr = '';\r\n  if (typeof fieldValue === 'object' && fieldValue.value) {\r\n    valueStr = fieldValue.value;\r\n  } else if (typeof fieldValue === 'string') {\r\n    valueStr = fieldValue;\r\n  } else {\r\n    return '';\r\n  }\r\n\r\n  // Match pattern \"Pa√≠s: +XX\" (e.g., \"Chile: +56\")\r\n  const match = valueStr.match(/:\\s*(\\+\\d{1,4})/);\r\n  if (match) {\r\n    return match[1];\r\n  }\r\n\r\n  // Fallback: find any +XX pattern\r\n  const fallbackMatch = valueStr.match(/\\+\\d{1,4}/);\r\n  if (fallbackMatch) {\r\n    return fallbackMatch[0];\r\n  }\r\n\r\n  return '';\r\n}\r\n\r\n/**\r\n * Format phone number with country code and 4-digit separators\r\n * @param {string} phone - Phone number (raw)\r\n * @param {string} countryCode - Country code (e.g., \"+52\", \"52\", \"MX\")\r\n * @returns {string} - Formatted phone (e.g., \"+52-5555-1234-5678\")\r\n */\r\nfunction formatPhoneNumber(phone, countryCode) {\r\n  if (!phone) return '';\r\n\r\n  // Clean phone number (remove non-digits)\r\n  let cleaned = phone.replace(/\\D/g, '');\r\n\r\n  if (!cleaned) return '';\r\n\r\n  // Handle country code\r\n  let prefix = '';\r\n  if (countryCode) {\r\n    // Clean country code (remove non-digits)\r\n    const cleanedCode = countryCode.replace(/\\D/g, '');\r\n    if (cleanedCode) {\r\n      prefix = `+${cleanedCode}-`;\r\n    }\r\n  }\r\n\r\n  // Split into 4-digit groups\r\n  let formatted = '';\r\n  for (let i = 0; i < cleaned.length; i += 4) {\r\n    if (i > 0) formatted += '-';\r\n    formatted += cleaned.substring(i, Math.min(i + 4, cleaned.length));\r\n  }\r\n\r\n  return prefix + formatted;\r\n}\r\n\r\nasync function renderKanban() {\r\n  const kanbanView = document.getElementById('kanbanView');\r\n\r\n  // Use state.issues which already contains filtered issues\r\n  const issuesToRender = state.issues;\r\n\r\n  if (!issuesToRender || issuesToRender.length === 0) {\r\n    kanbanView.innerHTML = '<p class=\"placeholder\">No issues in this queue</p>';\r\n    return;\r\n  }\r\n\r\n  // Progressive rendering for large datasets - adaptive thresholds\r\n  const INITIAL_RENDER_COUNT = issuesToRender.length > 50 ? 15 : 20;\r\n  const shouldProgressiveRender = issuesToRender.length > 25; // Lower threshold\r\n\r\n  if (shouldProgressiveRender) {\r\n    console.log(`üé≠ Progressive Kanban: ${issuesToRender.length} total tickets, rendering first ${INITIAL_RENDER_COUNT} immediately`);\r\n  }\r\n\r\n  // Usar endpoint /api/kanban del backend para obtener orden correcto\r\n  let kanbanData = null;\r\n  try {\r\n    const params = new URLSearchParams({\r\n      desk_id: state.currentDesk,\r\n      queue_id: state.currentQueue || 'all'\r\n    });\r\n    const response = await fetch(`/api/kanban?${params.toString()}`);\r\n    if (response.ok) {\r\n      kanbanData = await response.json();\r\n      console.log('‚úÖ Kanban data from backend:', kanbanData.columns?.length, 'columns');\r\n    }\r\n  } catch (error) {\r\n    console.warn('‚ö†Ô∏è Failed to fetch kanban from backend, falling back to local grouping:', error);\r\n  }\r\n\r\n  // Si el backend respondi√≥ con columnas ordenadas, usarlas\r\n  let columnsToRender = [];\r\n  if (kanbanData && kanbanData.columns && kanbanData.statuses) {\r\n    // Usar columnas del backend (ya ordenadas)\r\n    // But filter by smart filter if active\r\n    columnsToRender = kanbanData.statuses.map(status => {\r\n      const column = kanbanData.columns.find(c => c.status === status);\r\n      const columnIssues = column ? column.issues : [];\r\n      // If smart filter is active, filter the column issues\r\n      const filteredColumnIssues = window.app?.filteredIssues\r\n        ? columnIssues.filter(issue => issuesToRender.some(fi => fi.key === issue.key))\r\n        : columnIssues;\r\n      return {\r\n        status: status,\r\n        issues: filteredColumnIssues\r\n      };\r\n    });\r\n  } else {\r\n    // Fallback: agrupar localmente con orden manual\r\n    const columns = {};\r\n    issuesToRender.forEach(issue => {\r\n      const currentStatus = issue.status || issue.fields?.status?.name || 'Sin Estado';\r\n      if (!columns[currentStatus]) columns[currentStatus] = [];\r\n      columns[currentStatus].push(issue);\r\n    });\r\n\r\n    const statusOrder = [\r\n      'Backlog', 'To Do', 'Todo', 'Pending', 'Pendiente',\r\n      'En Progreso', 'In Progress', 'En curso', 'Doing',\r\n      'En espera', 'En espera de cliente', 'Waiting for customer',\r\n      'Review', 'QA', 'Testing',\r\n      'Validaci√≥n de soluci√≥n', 'Solution validation', 'Validation',\r\n      'Blocked', 'Bloqueado',\r\n      'Cancelado', 'Cancelled', 'Canceled',\r\n      'Done', 'Cerrado', 'Closed', 'Resolved', 'Resuelto'\r\n    ];\r\n\r\n    const sortedStatuses = Object.keys(columns).sort((a, b) => {\r\n      const indexA = statusOrder.findIndex(s => s.toLowerCase() === a.toLowerCase());\r\n      const indexB = statusOrder.findIndex(s => s.toLowerCase() === b.toLowerCase());\r\n      if (indexA !== -1 && indexB !== -1) return indexA - indexB;\r\n      if (indexA !== -1) return -1;\r\n      if (indexB !== -1) return 1;\r\n      return a.localeCompare(b);\r\n    });\r\n\r\n    columnsToRender = sortedStatuses.map(status => ({\r\n      status: status,\r\n      issues: columns[status]\r\n    }));\r\n  }\r\n\r\n  let html = '<div class=\"kanban-board\">';\r\n  let colIndex = 0;\r\n  const colors = ['col-blue', 'col-purple', 'col-cyan', 'col-green', 'col-red', 'col-yellow', 'col-pink', 'col-indigo', 'col-teal', 'col-orange'];\r\n\r\n  // Render columns in chunks for better performance\r\n  const renderColumnChunk = (columns, startIdx, chunkSize) => {\r\n    const endIdx = Math.min(startIdx + chunkSize, columns.length);\r\n    let chunkHtml = '';\r\n\r\n    for (let i = startIdx; i < endIdx; i++) {\r\n      const { status, issues } = columns[i];\r\n      if (!issues || issues.length === 0) {\r\n        console.log(`‚è≠Ô∏è Skipping empty column: ${status}`);\r\n        continue;\r\n      }\r\n\r\n      console.log(`üì¶ Rendering column: ${status} with ${issues.length} issues`);\r\n\r\n      const color = colors[colIndex % colors.length];\r\n      colIndex++;\r\n\r\n      chunkHtml += `<div class=\"kanban-column glassmorphic-secondary ${color}\" data-status=\"${status}\">\r\n        <div class=\"kanban-column-header\">\r\n          <div class=\"kanban-column-title\">${status}</div>\r\n          <div class=\"kanban-column-count\">${issues.length}</div>\r\n        </div>\r\n        <div class=\"kanban-cards\">`;\r\n\r\n      // Render only first 20 cards per column initially if progressive rendering\r\n      const cardsToRender = shouldProgressiveRender && i < 2 ? issues.slice(0, INITIAL_RENDER_COUNT) : issues;\r\n\r\n      cardsToRender.forEach(issue => {\r\n        // Get full issue data from cache (includes all customfields)\r\n        const fullIssue = window.app?.issuesCache?.get(issue.key) || issue;\r\n        const transitions = state.issueTransitions[issue.key] || [];\r\n\r\n        // Debug: Log first issue to see structure\r\n        if (issues.indexOf(issue) === 0) {\r\n          console.log('üîç First issue FULL structure:');\r\n          console.log('   All root keys:', Object.keys(fullIssue));\r\n          console.log('   Customfield keys:', Object.keys(fullIssue).filter(k => k.startsWith('customfield')));\r\n          console.log('   customfield_10111:', fullIssue.customfield_10111);\r\n          console.log('   customfield_10125:', fullIssue.customfield_10125);\r\n          console.log('   customfield_10141:', fullIssue.customfield_10141);\r\n          console.log('   customfield_10142:', fullIssue.customfield_10142);\r\n          console.log('   customfield_10143:', fullIssue.customfield_10143);\r\n          if (fullIssue.fields) {\r\n            console.log('   fields.customfield keys:', Object.keys(fullIssue.fields).filter(k => k.startsWith('customfield')).slice(0, 10));\r\n          }\r\n        }\r\n\r\n        // ‚úÖ Extract data from customfields (backend provides all customfields directly)\r\n        const severity = fullIssue.severity || fullIssue.customfield_10125?.value || fullIssue.customfield_10125 || '';\r\n\r\n        // Assignee from root level (backend normalized field)\r\n        const assignee = fullIssue.assignee || 'No assignee';\r\n\r\n        // Contact info from customfields (extract FIRST, needed for reporter name)\r\n        const reporterEmail = typeof fullIssue.customfield_10141 === 'string'\r\n          ? fullIssue.customfield_10141\r\n          : (fullIssue.customfield_10141?.value || '');\r\n\r\n        let reporterPhone = typeof fullIssue.customfield_10142 === 'string'\r\n          ? fullIssue.customfield_10142\r\n          : (fullIssue.customfield_10142?.value || '');\r\n\r\n        // C√≥digo de pa√≠s (customfield_10167) - Usar extractCountryCode() para manejar formato \"Chile: +56\"\r\n        const countryCode = extractCountryCode(fullIssue.customfield_10167);\r\n\r\n        // Formatear tel√©fono con c√≥digo de pa√≠s y separadores de 4 d√≠gitos\r\n        if (reporterPhone) {\r\n          reporterPhone = formatPhoneNumber(reporterPhone, countryCode);\r\n        }\r\n\r\n        const reporterCompany = typeof fullIssue.customfield_10143 === 'string'\r\n          ? fullIssue.customfield_10143\r\n          : (fullIssue.customfield_10143?.value || '');\r\n\r\n        // Reporter/Informer - Priority: creator > customfield_10111 (reporter is usually current user)\r\n        let reporterObj = fullIssue.creator || fullIssue.customfield_10111;\r\n\r\n        if (Array.isArray(reporterObj) && reporterObj.length > 0) {\r\n          reporterObj = reporterObj[0]; // Take first element if array\r\n        }\r\n\r\n        // Extract reporter name with smart fallback\r\n        let reporter = reporterObj?.displayName || reporterObj?.name || reporterObj?.emailAddress || '';\r\n\r\n        // If reporter is generic \"Soporte\" or empty, extract real name from contact email\r\n        if (!reporter || reporter === 'Soporte' || reporter === 'Support') {\r\n          if (reporterEmail && reporterEmail.includes('@')) {\r\n            // Extract name from email (e.g., \"eduardo.valora@speedymovil.com\" -> \"Eduardo Valora\")\r\n            const namePart = reporterEmail.split('@')[0];\r\n            const nameParts = namePart.split('.');\r\n            reporter = nameParts\r\n              .map(part => part.charAt(0).toUpperCase() + part.slice(1).toLowerCase())\r\n              .join(' ');\r\n          }\r\n        }\r\n\r\n        // Determinaci√≥n din√°mica de clase basada en transiciones\r\n        // IMPORTANT: Uses CARD_SIZING constants synchronized with CSS\r\n        let cardClass = 'issue-card';\r\n        const cardConfig = CARD_SIZING.getConfig(transitions.length);\r\n        cardClass += ' ' + cardConfig.className;\r\n\r\n        // ‚úÖ Determinar estilo de severity con funci√≥n centralizada\r\n        const severityStyle = getSeverityStyle(severity);\r\n\r\n        const severityBadgeHtml = severityStyle ?\r\n          `<span class=\"severity-badge ${severityStyle.className}\" title=\"Severity: ${severity}\">\r\n           ${severityStyle.emoji} ${severity}\r\n         </span>` : '';\r\n\r\n        // Calculate time since last REAL change (comment/transition/field change)\r\n        // Use last_real_change from backend (calculated from changelog + comments)\r\n        const lastChange = fullIssue.last_real_change || fullIssue.updated || fullIssue.fields?.updated;\r\n        const lastChangeTime = lastChange ? new Date(lastChange) : null;\r\n        const now = new Date();\r\n        let timeAgo = '';\r\n        if (lastChangeTime) {\r\n          const diffMs = now - lastChangeTime;\r\n          const diffMins = Math.floor(diffMs / 60000);\r\n          const diffHours = Math.floor(diffMs / 3600000);\r\n          const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n          if (diffMins < 1) timeAgo = 'just now';\r\n          else if (diffMins < 60) timeAgo = `${diffMins}m ago`;\r\n          else if (diffHours < 24) timeAgo = `${diffHours}h ago`;\r\n          else if (diffDays < 7) timeAgo = `${diffDays}d ago`;\r\n          else timeAgo = `${Math.floor(diffDays / 7)}w ago`;\r\n        }\r\n\r\n        chunkHtml += `<div class=\"${cardClass} kanban-card\" \r\n                    data-issue=\"${issue.key}\" \r\n                    data-issue-key=\"${issue.key}\" \r\n                    draggable=\"true\">\r\n        <!-- HEADER: Key + Severity + Time -->\r\n        <div class=\"issue-card-header\">\r\n          <div class=\"issue-card-key\" id=\"key-${issue.key}\">${issue.key}</div>\r\n          ${severityBadgeHtml}\r\n          ${timeAgo ? `<span class=\"issue-card-time\">üïí ${timeAgo}</span>` : ''}\r\n          <button class=\"issue-details-btn\" data-issue-key=\"${issue.key}\" title=\"View Details\">\r\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n              <path d=\"M9 18l6-6-6-6\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <!-- SUMMARY (main content) -->\r\n        <div class=\"issue-card-summary\">${fullIssue.summary || fullIssue.fields?.summary || 'No summary'}</div>\r\n        \r\n        <!-- INFORMER SECTION (Reporter with all contact info) -->\r\n        ${reporter ? `\r\n        <div class=\"issue-card-informer\">\r\n          <div class=\"informer-name\">üì¢ Informer: ${reporter}</div>\r\n          ${reporterEmail ? `<div class=\"informer-email\">üìß ${reporterEmail}</div>` : ''}\r\n          ${reporterPhone ? `<div class=\"informer-phone\">üì± ${reporterPhone}</div>` : ''}\r\n          ${reporterCompany ? `<div class=\"informer-company\">üè¢ ${reporterCompany}</div>` : ''}\r\n        </div>` : ''}\r\n        \r\n        <!-- ASSIGNEE SECTION -->\r\n        <div class=\"issue-card-assignee\">\r\n          <span class=\"assignee-label\">üë§ Assigned:</span>\r\n          <span class=\"assignee-name ${assignee === 'No assignee' ? 'assignee-unassigned' : ''}\">${assignee}</span>\r\n        </div>`;\r\n\r\n        // Renderizar botones de transici√≥n (solo si hay espacio)\r\n        if (transitions.length > 0 && transitions.length <= 2) {\r\n          chunkHtml += `<div class=\"issue-card-actions\">`;\r\n          transitions.forEach(transition => {\r\n            chunkHtml += `<button class=\"btn-transition-mini\" onclick-disabled=\"event.stopPropagation(); transitionIssue('${issue.key}', ${transition.id})\" title=\"${transition.name}\">\r\n            ${transition.name.substring(0, 10)}\r\n          </button>`;\r\n          });\r\n          chunkHtml += `</div>`;\r\n        }\r\n\r\n        chunkHtml += `</div>`;\r\n      });\r\n\r\n      chunkHtml += `</div></div>`;\r\n    }\r\n\r\n    return chunkHtml;\r\n  };\r\n\r\n  // Initial render: first 3 columns or all if small\r\n  const COLUMNS_PER_CHUNK = 3;\r\n  html += renderColumnChunk(columnsToRender, 0, COLUMNS_PER_CHUNK);\r\n  html += '</div>'; // Close kanban-board container\r\n\r\n  console.log(`üìã Initial HTML length: ${html.length} characters`);\r\n  kanbanView.innerHTML = html;\r\n\r\n  // Render remaining columns in background with progressive chunking\r\n  if (columnsToRender.length > COLUMNS_PER_CHUNK) {\r\n    let currentColumnChunk = COLUMNS_PER_CHUNK;\r\n\r\n    const renderNextColumnChunk = () => {\r\n      if (currentColumnChunk >= columnsToRender.length) {\r\n        console.log('‚úÖ All Kanban columns rendered');\r\n        return;\r\n      }\r\n\r\n      const endIdx = Math.min(currentColumnChunk + COLUMNS_PER_CHUNK, columnsToRender.length);\r\n      const chunkHtml = renderColumnChunk(columnsToRender, currentColumnChunk, COLUMNS_PER_CHUNK);\r\n\r\n      // Append to existing content (before closing </div>)\r\n      const closingDiv = '</div>';\r\n      if (kanbanView.innerHTML.endsWith(closingDiv)) {\r\n        kanbanView.innerHTML = kanbanView.innerHTML.slice(0, -closingDiv.length) + chunkHtml + closingDiv;\r\n      } else {\r\n        kanbanView.innerHTML += chunkHtml;\r\n      }\r\n\r\n      // Re-apply effects\r\n      if (window.transparencyManager) {\r\n        window.transparencyManager.applyToKanbanColumns();\r\n        window.transparencyManager.applyTransparency();\r\n      }\r\n\r\n      // Re-setup click handlers\r\n      if (typeof setupIssueCardClickHandlers === 'function') {\r\n        setupIssueCardClickHandlers();\r\n      } else if (window.setupIssueCardClickHandlers) {\r\n        window.setupIssueCardClickHandlers();\r\n      }\r\n\r\n      currentColumnChunk = endIdx;\r\n\r\n      // Continue with next chunk\r\n      if (currentColumnChunk < columnsToRender.length) {\r\n        requestAnimationFrame(() => {\r\n          setTimeout(renderNextColumnChunk, 60); // Shorter delay for faster loading\r\n        });\r\n      } else {\r\n        // All columns rendered - re-apply SLA styling to newly added cards\r\n        console.log('‚úÖ All columns rendered, re-applying SLA styling...');\r\n        setTimeout(() => applySLAStyling(), 100);\r\n      }\r\n    };\r\n\r\n    // Start rendering additional columns\r\n    setTimeout(() => {\r\n      console.log(`üîÑ Rendering ${columnsToRender.length - COLUMNS_PER_CHUNK} additional columns in background...`);\r\n      renderNextColumnChunk();\r\n    }, 100);\r\n  }\r\n\r\n  // Apply transparency effects to kanban columns after DOM settles\r\n  // Try immediately with requestAnimationFrame\r\n  requestAnimationFrame(() => {\r\n    if (window.transparencyManager) {\r\n      console.log('üé® Applying transparency to Kanban columns (immediate)...');\r\n      window.transparencyManager.applyToKanbanColumns();\r\n      window.transparencyManager.applyTransparency();\r\n    } else {\r\n      console.warn('‚ö†Ô∏è Transparency manager not ready yet, retrying...');\r\n      // Retry after 200ms if not ready\r\n      setTimeout(() => {\r\n        if (window.transparencyManager) {\r\n          console.log('üé® Applying transparency to Kanban columns (retry)...');\r\n          window.transparencyManager.applyToKanbanColumns();\r\n          window.transparencyManager.applyTransparency();\r\n        } else {\r\n          console.error('‚ùå Transparency manager failed to load!');\r\n        }\r\n      }, 200);\r\n    }\r\n  });\r\n\r\n  applyCardLayout();\r\n\r\n  // Apply SLA styling to ticket keys\r\n  applySLAStyling();\r\n\r\n  // Setup issue card click handlers (for details buttons)\r\n  console.log('üéØ [App] About to setup click handlers...');\r\n\r\n  setTimeout(() => {\r\n    console.log('üéØ [App] Timeout fired, checking functions...');\r\n    console.log('üéØ [App] setupIssueCardClickHandlers exists?', typeof setupIssueCardClickHandlers);\r\n    console.log('üéØ [App] window.setupIssueCardClickHandlers exists?', typeof window.setupIssueCardClickHandlers);\r\n\r\n    if (typeof setupIssueCardClickHandlers === 'function') {\r\n      console.log('‚úÖ [App] Calling setupIssueCardClickHandlers...');\r\n      setupIssueCardClickHandlers();\r\n    } else if (window.setupIssueCardClickHandlers) {\r\n      console.log('‚úÖ [App] Calling window.setupIssueCardClickHandlers...');\r\n      window.setupIssueCardClickHandlers();\r\n    } else {\r\n      console.error('‚ùå [App] No setupIssueCardClickHandlers function found!');\r\n    }\r\n\r\n    // Debug: Test button existence\r\n    const buttons = document.querySelectorAll('.issue-details-btn');\r\n    console.log('üîç [Debug] Found', buttons.length, 'details buttons after setup');\r\n    buttons.forEach((btn, i) => {\r\n      console.log(`üîç [Debug] Button ${i + 1}:`, btn.getAttribute('data-issue-key'), 'visible:', btn.offsetParent !== null);\r\n\r\n      // Force setup this button manually if needed\r\n      if (!btn.onclick) {\r\n        console.log('üîß [Force] Setting up button manually:', btn.getAttribute('data-issue-key'));\r\n        const issueKey = btn.getAttribute('data-issue-key');\r\n        btn.onclick = function () {\r\n          console.log('üéØ [Manual] Manual onclick for:', issueKey);\r\n          if (window.openIssueDetails) {\r\n            window.openIssueDetails(issueKey);\r\n          }\r\n        };\r\n        btn.style.background = 'rgba(255, 0, 0, 0.5)'; // Red to identify manual setup\r\n      }\r\n    });\r\n  }, 100);\r\n}\r\n\r\n/**\r\n * Apply SLA styling to all visible ticket keys\r\n */\r\nasync function applySLAStyling() {\r\n  const ticketKeys = document.querySelectorAll('.issue-card-key[id^=\"key-\"]');\r\n  console.log(`üé® Applying SLA styling to ${ticketKeys.length} tickets`);\r\n\r\n  if (ticketKeys.length === 0) {\r\n    console.warn('‚ö†Ô∏è No ticket keys found for SLA styling');\r\n    return;\r\n  }\r\n\r\n  // Process tickets in batches to avoid overwhelming the server\r\n  const batchSize = 5;\r\n  for (let i = 0; i < ticketKeys.length; i += batchSize) {\r\n    const batch = Array.from(ticketKeys).slice(i, i + batchSize);\r\n\r\n    await Promise.all(batch.map(async (keyElement) => {\r\n      const issueKey = keyElement.textContent.trim();\r\n\r\n      // Skip if already styled (has SLA class)\r\n      if (keyElement.className.includes('ticket-key-sla-')) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const slaClass = await getSLAStatusClass(issueKey);\r\n        if (slaClass) {\r\n          // Remove any existing SLA classes first\r\n          keyElement.className = keyElement.className.replace(/ticket-key-sla-\\w+/g, '').trim();\r\n          keyElement.classList.add(slaClass);\r\n          console.log(`‚úÖ Applied ${slaClass} to ${issueKey}`);\r\n        }\r\n      } catch (error) {\r\n        console.warn(`Failed to apply SLA styling to ${issueKey}:`, error);\r\n      }\r\n    }));\r\n\r\n    // Small delay between batches to prevent rate limiting\r\n    if (i + batchSize < ticketKeys.length) {\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n    }\r\n  }\r\n}\r\n\r\nfunction applyCardLayout() {\r\n  const cards = document.querySelectorAll('.issue-card');\r\n  cards.forEach(card => {\r\n    // Get transition count to calculate height dynamically\r\n    const transitions = card.querySelectorAll('.btn-transition').length;\r\n    const height = CARD_SIZING.getHeight(transitions);\r\n    card.style.minHeight = height + 'px';\r\n\r\n    // Card interactions handled by right-sidebar.js\r\n  });\r\n}\r\n\r\nfunction transitionIssue(issueKey, transitionId) {\r\n  console.log(`Transitioning ${issueKey} with transition ${transitionId}`);\r\n  // Implementar l√≥gica de transici√≥n aqu√≠\r\n}\r\n\r\n/**\r\n * Render issues for list view - separate function to avoid interference with kanban\r\n */\r\nfunction renderListIssues(issues) {\r\n  if (!issues || issues.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  return issues;\r\n}\r\n\r\nfunction renderList() {\r\n  const listView = document.getElementById('listView');\r\n\r\n  // Get issues using renderListIssues to ensure proper data handling\r\n  const issuesToRender = renderListIssues(state.issues);\r\n\r\n  if (!issuesToRender || issuesToRender.length === 0) {\r\n    listView.innerHTML = `\r\n      <div class=\"list-placeholder\">\r\n        <div class=\"placeholder-icon\">üìã</div>\r\n        <p class=\"placeholder-text\">No issues in this queue</p>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n\r\n  console.log(`üìù Rendering list view with ${issuesToRender.length} issues`);\r\n\r\n  // Initialize list state if not exists\r\n  if (!state.listView) {\r\n    // Adaptive pageSize: smaller for better performance with large datasets\r\n    const adaptivePageSize = issuesToRender.length > 100 ? 30 : 50;\r\n\r\n    state.listView = {\r\n      currentPage: 1,\r\n      pageSize: adaptivePageSize,\r\n      searchTerm: '',\r\n      sortBy: 'created',\r\n      sortDir: 'desc',\r\n      slaLoadedCount: 0,\r\n      slaLoadedKeys: new Set(),\r\n      lastSlaFetch: 0\r\n    };\r\n\r\n    console.log(`üìã List view initialized with pageSize: ${adaptivePageSize} (${issuesToRender.length} total tickets)`);\r\n  }\r\n\r\n  // Filter issues by search term\r\n  let filteredIssues = issuesToRender;\r\n  if (state.listView.searchTerm) {\r\n    const term = state.listView.searchTerm.toLowerCase();\r\n    filteredIssues = issuesToRender.filter(issue =>\r\n      issue.key.toLowerCase().includes(term) ||\r\n      (issue.summary || '').toLowerCase().includes(term) ||\r\n      (issue.assignee || '').toLowerCase().includes(term)\r\n    );\r\n  }\r\n\r\n  // Sort issues\r\n  filteredIssues = sortIssues(filteredIssues, state.listView.sortBy, state.listView.sortDir);\r\n\r\n  // Calculate pagination\r\n  const totalIssues = filteredIssues.length;\r\n  const totalPages = Math.ceil(totalIssues / state.listView.pageSize);\r\n  const startIdx = (state.listView.currentPage - 1) * state.listView.pageSize;\r\n  const endIdx = Math.min(startIdx + state.listView.pageSize, totalIssues);\r\n  const pageIssues = filteredIssues.slice(startIdx, endIdx);\r\n\r\n  // Progressive rendering for large pages - more aggressive for better performance\r\n  const INITIAL_LIST_RENDER = Math.min(15, Math.ceil(pageIssues.length * 0.3)); // 30% or 15 max\r\n  const shouldProgressiveRender = pageIssues.length > INITIAL_LIST_RENDER;\r\n  const initialRenderIssues = shouldProgressiveRender ? pageIssues.slice(0, INITIAL_LIST_RENDER) : pageIssues;\r\n\r\n  if (shouldProgressiveRender) {\r\n    console.log(`üéØ Progressive list: Rendering ${INITIAL_LIST_RENDER}/${pageIssues.length} rows immediately (~${Math.round((INITIAL_LIST_RENDER / pageIssues.length) * 100)}%)`);\r\n  }\r\n\r\n  // Check if server has more pages available\r\n  const serverPagination = state.pagination && state.pagination[state.currentQueue];\r\n  const hasMoreServerPages = serverPagination && serverPagination.hasMore;\r\n  const loadedFromServer = serverPagination ? serverPagination.allIssuesLoaded.length : totalIssues;\r\n\r\n  let html = `\r\n    <div class=\"list-container\">\r\n      <!-- Header with search and controls -->\r\n      <div class=\"list-header\">\r\n        <div class=\"list-stats\">\r\n          <span class=\"stat-badge\">${SVGIcons.chart({ size: 14, className: 'inline-icon' })} ${totalIssues} tickets loaded</span>\r\n          ${hasMoreServerPages ? `<span class=\"stat-badge\" style=\"background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\">${SVGIcons.clipboard({ size: 14, className: 'inline-icon' })} More available</span>` : ''}\r\n          ${state.listView.searchTerm ? `<span class=\"stat-badge\">${SVGIcons.search({ size: 14, className: 'inline-icon' })} Filtered</span>` : ''}\r\n          <span class=\"stat-badge\">${SVGIcons.file({ size: 14, className: 'inline-icon' })} Page ${state.listView.currentPage}/${totalPages}</span>\r\n          <label class=\"assignee-edit-toggle\" title=\"Enable assignee editing\">\r\n            <input type=\"checkbox\" id=\"enableAssigneeEdit\" />\r\n            <span>‚úèÔ∏è Edit Assignees</span>\r\n          </label>\r\n        </div>\r\n        <div class=\"list-controls\">\r\n          <input \r\n            type=\"text\" \r\n            class=\"list-search\" \r\n            placeholder=\"üîç Search tickets...\" \r\n            value=\"${state.listView.searchTerm}\"\r\n            id=\"listSearchInput\"\r\n          />\r\n          <select class=\"list-sort\" id=\"listSortSelect\">\r\n            <option value=\"created-desc\" ${state.listView.sortBy === 'created' && state.listView.sortDir === 'desc' ? 'selected' : ''}>üìÖ Newest First</option>\r\n            <option value=\"created-asc\" ${state.listView.sortBy === 'created' && state.listView.sortDir === 'asc' ? 'selected' : ''}>üìÖ Oldest First</option>\r\n            <option value=\"key-asc\" ${state.listView.sortBy === 'key' ? 'selected' : ''}>üî¢ Key</option>\r\n            <option value=\"priority-desc\">‚ö° Priority</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Issues table -->\r\n      <div class=\"list-table-wrapper\">\r\n        <table class=\"issues-table\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"col-key sortable ${state.listView.sortBy === 'key' ? 'sorted sorted-' + state.listView.sortDir : ''}\" data-sort=\"key\">\r\n                Key ${state.listView.sortBy === 'key' ? (state.listView.sortDir === 'asc' ? '‚ñ≤' : '‚ñº') : ''}\r\n              </th>\r\n              <th class=\"col-summary sortable ${state.listView.sortBy === 'summary' ? 'sorted sorted-' + state.listView.sortDir : ''}\" data-sort=\"summary\">\r\n                Summary ${state.listView.sortBy === 'summary' ? (state.listView.sortDir === 'asc' ? '‚ñ≤' : '‚ñº') : ''}\r\n              </th>\r\n              <th class=\"col-status-severity sortable ${state.listView.sortBy === 'status' ? 'sorted sorted-' + state.listView.sortDir : ''}\" data-sort=\"status\">\r\n                Status / Severity ${state.listView.sortBy === 'status' ? (state.listView.sortDir === 'asc' ? '‚ñ≤' : '‚ñº') : ''}\r\n              </th>\r\n              <th class=\"col-sla\">SLA</th>\r\n              <th class=\"col-assignee sortable ${state.listView.sortBy === 'assignee' ? 'sorted sorted-' + state.listView.sortDir : ''}\" data-sort=\"assignee\">\r\n                Assignee ${state.listView.sortBy === 'assignee' ? (state.listView.sortDir === 'asc' ? '‚ñ≤' : '‚ñº') : ''}\r\n              </th>\r\n              <th class=\"col-created sortable ${state.listView.sortBy === 'created' ? 'sorted sorted-' + state.listView.sortDir : ''}\" data-sort=\"created\">\r\n                Created ${state.listView.sortBy === 'created' ? (state.listView.sortDir === 'asc' ? '‚ñ≤' : '‚ñº') : ''}\r\n              </th>\r\n              <th class=\"col-actions\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody id=\"listViewTbody\">\r\n  `;\r\n\r\n  // Render initial batch of issues\r\n  initialRenderIssues.forEach(issue => {\r\n    const status = issue.status || issue.fields?.status?.name || 'Unknown';\r\n    const severity = issue.severity || issue.customfield_10125?.value || '-';\r\n    const assignee = issue.assignee || issue.fields?.assignee?.displayName || 'Unassigned';\r\n    const created = new Date(issue.created || issue.fields?.created);\r\n    const createdStr = created.toLocaleDateString() + ' ' + created.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    const summary = issue.summary || issue.fields?.summary || 'No summary';\r\n\r\n    // Get severity color\r\n    let severityClass = 'severity-default';\r\n    if (severity.toLowerCase().includes('critico') || severity.toLowerCase().includes('critical')) {\r\n      severityClass = 'severity-critical';\r\n    } else if (severity.toLowerCase().includes('mayor') || severity.toLowerCase().includes('major')) {\r\n      severityClass = 'severity-major';\r\n    } else if (severity.toLowerCase().includes('menor') || severity.toLowerCase().includes('minor')) {\r\n      severityClass = 'severity-minor';\r\n    }\r\n\r\n    // Get SLA status (will be loaded async)\r\n    const slaId = `sla-${issue.key}`;\r\n\r\n    html += `\r\n      <tr class=\"issue-row\" data-issue-key=\"${issue.key}\">\r\n        <td class=\"col-key\">\r\n          <span class=\"issue-key-link\">${issue.key}</span>\r\n        </td>\r\n        <td class=\"col-summary\" title=\"${escapeHtml(summary)}\">\r\n          <span class=\"issue-summary\">${truncateText(summary, 80)}</span>\r\n        </td>\r\n        <td class=\"col-status-severity\">\r\n          <div class=\"status-severity-compact\">\r\n            <span class=\"status-badge status-${status.toLowerCase().replace(/\\s+/g, '-')}\">${status}</span>\r\n            <span class=\"severity-badge ${severityClass}\">${severity}</span>\r\n          </div>\r\n        </td>\r\n        <td class=\"col-sla\">\r\n          <div id=\"${slaId}\" class=\"sla-indicator-list\">\r\n            <span class=\"sla-loading\">‚è≥</span>\r\n          </div>\r\n        </td>\r\n        <td class=\"col-assignee\" data-issue-key=\"${issue.key}\">\r\n          <span class=\"assignee-display\">${assignee}</span>\r\n          <input \r\n            type=\"text\" \r\n            class=\"assignee-edit-input\" \r\n            value=\"${assignee}\" \r\n            placeholder=\"Type user name...\"\r\n            data-issue-key=\"${issue.key}\"\r\n          />\r\n        </td>\r\n        <td class=\"col-created\">\r\n          <span class=\"created-date\">${createdStr}</span>\r\n        </td>\r\n        <td class=\"col-actions\">\r\n          <button class=\"btn-view-details\" data-issue-key=\"${issue.key}\" title=\"View details\">\r\n            üëÅÔ∏è Details\r\n          </button>\r\n          <button class=\"list-transition-trigger\" data-issue-key=\"${issue.key}\" title=\"Show transitions\">\r\n            ‚ö° Transitions\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    `;\r\n  });\r\n\r\n  html += `\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      \r\n      <!-- Pagination -->\r\n      <div class=\"list-pagination\">\r\n        <button \r\n          class=\"pagination-btn\" \r\n          id=\"listPrevBtn\" \r\n          ${state.listView.currentPage === 1 ? 'disabled' : ''}\r\n        >\r\n          ‚¨ÖÔ∏è Previous\r\n        </button>\r\n        <span class=\"pagination-info\">\r\n          Showing ${startIdx + 1}-${endIdx} of ${totalIssues} loaded\r\n        </span>\r\n        <button \r\n          class=\"pagination-btn\" \r\n          id=\"listNextBtn\" \r\n          ${state.listView.currentPage === totalPages ? 'disabled' : ''}\r\n        >\r\n          Next ‚û°Ô∏è\r\n        </button>\r\n      </div>\r\n      \r\n      <!-- Load More from Server -->\r\n      ${hasMoreServerPages ? `\r\n        <div class=\"load-more-container\" style=\"text-align: center; padding: 20px;\">\r\n          <button \r\n            class=\"load-more-btn\" \r\n            id=\"loadMoreServerBtn\"\r\n            style=\"padding: 12px 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease;\"\r\n          >\r\n            üì¶ Load More Tickets (100 more)\r\n          </button>\r\n          <p style=\"margin-top: 8px; color: #64748b; font-size: 13px;\">\r\n            ${loadedFromServer} tickets loaded from server\r\n          </p>\r\n        </div>\r\n      ` : ''}\r\n    </div>\r\n  `;\r\n\r\n  listView.innerHTML = html;\r\n\r\n  // Render remaining issues in background with chunking for better performance\r\n  if (shouldProgressiveRender) {\r\n    const remainingIssues = pageIssues.slice(INITIAL_LIST_RENDER);\r\n    const CHUNK_SIZE = 10; // Render in small chunks for smoother UI\r\n    let currentChunk = 0;\r\n\r\n    const renderNextChunk = () => {\r\n      const startIdx = currentChunk * CHUNK_SIZE;\r\n      const endIdx = Math.min(startIdx + CHUNK_SIZE, remainingIssues.length);\r\n\r\n      if (startIdx >= remainingIssues.length) {\r\n        console.log('‚úÖ All background rows rendered');\r\n        return;\r\n      }\r\n\r\n      const tbody = document.getElementById('listViewTbody');\r\n      if (!tbody) return;\r\n\r\n      const chunkIssues = remainingIssues.slice(startIdx, endIdx);\r\n      let chunkHtml = '';\r\n\r\n      chunkIssues.forEach(issue => {\r\n        const status = issue.status || issue.fields?.status?.name || 'Unknown';\r\n        const severity = issue.severity || issue.customfield_10125?.value || '-';\r\n        const assignee = issue.assignee || issue.fields?.assignee?.displayName || 'Unassigned';\r\n        const created = new Date(issue.created || issue.fields?.created);\r\n        const createdStr = created.toLocaleDateString() + ' ' + created.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n        const summary = issue.summary || issue.fields?.summary || 'No summary';\r\n\r\n        let severityClass = 'severity-default';\r\n        if (severity.toLowerCase().includes('critico') || severity.toLowerCase().includes('critical')) {\r\n          severityClass = 'severity-critical';\r\n        } else if (severity.toLowerCase().includes('mayor') || severity.toLowerCase().includes('major')) {\r\n          severityClass = 'severity-major';\r\n        } else if (severity.toLowerCase().includes('menor') || severity.toLowerCase().includes('minor')) {\r\n          severityClass = 'severity-minor';\r\n        }\r\n\r\n        chunkHtml += `\r\n          <tr class=\"issue-row\" data-issue-key=\"${issue.key}\">\r\n            <td class=\"col-key\"><a href=\"#\" class=\"issue-key-link\" data-issue-key=\"${issue.key}\">${issue.key}</a></td>\r\n            <td class=\"col-summary\">${summary}</td>\r\n            <td class=\"col-status-severity\">\r\n              <div class=\"status-severity-compact\">\r\n                <span class=\"status-badge status-${status.toLowerCase().replace(/\\\\s+/g, '-')}\">${status}</span>\r\n                <span class=\"severity-badge ${severityClass}\">${severity}</span>\r\n              </div>\r\n            </td>\r\n            <td class=\"col-sla\"><span class=\"sla-loading\" id=\"sla-${issue.key}\">‚è≥</span></td>\r\n            <td class=\"col-assignee\" data-issue-key=\"${issue.key}\">\r\n              <span class=\"assignee-display\">${assignee}</span>\r\n              <input type=\"text\" class=\"assignee-edit-input\" value=\"${assignee}\" placeholder=\"Type user name...\" data-issue-key=\"${issue.key}\" />\r\n            </td>\r\n            <td class=\"col-created\"><span class=\"created-date\">${createdStr}</span></td>\r\n            <td class=\"col-actions\">\r\n              <button class=\"btn-view-details\" data-issue-key=\"${issue.key}\" title=\"View details\">üëÅÔ∏è Details</button>\r\n              <button class=\"list-transition-trigger\" data-issue-key=\"${issue.key}\" title=\"Show transitions\">‚ö° Transitions</button>\r\n            </td>\r\n          </tr>\r\n        `;\r\n      });\r\n\r\n      tbody.innerHTML += chunkHtml;\r\n\r\n      currentChunk++;\r\n\r\n      // Continue rendering next chunk\r\n      if (endIdx < remainingIssues.length) {\r\n        // Use requestAnimationFrame for smoother rendering\r\n        requestAnimationFrame(() => {\r\n          setTimeout(renderNextChunk, 50); // Small delay between chunks\r\n        });\r\n      } else {\r\n        // All chunks rendered, finalize\r\n        console.log(`‚úÖ All ${remainingIssues.length} background rows rendered in ${currentChunk} chunks`);\r\n\r\n        // Re-attach event listeners once at the end\r\n        attachListEventListeners();\r\n\r\n        // Load SLAs for remaining issues\r\n        loadSLAForListView(remainingIssues);\r\n      }\r\n    };\r\n\r\n    // Start rendering first chunk after short delay\r\n    setTimeout(() => {\r\n      console.log(`üîÑ Starting background rendering: ${remainingIssues.length} rows in chunks of ${CHUNK_SIZE}...`);\r\n      renderNextChunk();\r\n    }, 80);\r\n  }\r\n\r\n  // Attach event listeners\r\n  attachListEventListeners();\r\n\r\n  // Setup scroll-based lazy rendering if many rows pending\r\n  if (shouldProgressiveRender && pageIssues.length > 30) {\r\n    setupLazyRowRendering();\r\n  }\r\n\r\n  // Load SLA data for visible issues (initial batch or all if small)\r\n  loadSLAForListView(initialRenderIssues);\r\n}\r\n\r\nfunction attachListEventListeners() {\r\n  // Search input\r\n  const searchInput = document.getElementById('listSearchInput');\r\n  if (searchInput) {\r\n    searchInput.addEventListener('input', (e) => {\r\n      state.listView.searchTerm = e.target.value;\r\n      state.listView.currentPage = 1; // Reset to first page\r\n      renderList();\r\n    });\r\n  }\r\n\r\n  // Sort select\r\n  const sortSelect = document.getElementById('listSortSelect');\r\n  if (sortSelect) {\r\n    sortSelect.addEventListener('change', (e) => {\r\n      const [sortBy, sortDir] = e.target.value.split('-');\r\n      state.listView.sortBy = sortBy;\r\n      state.listView.sortDir = sortDir || 'desc';\r\n      renderList();\r\n    });\r\n  }\r\n\r\n  // Sortable column headers\r\n  document.querySelectorAll('.issues-table th.sortable').forEach(th => {\r\n    th.addEventListener('click', () => {\r\n      const sortBy = th.getAttribute('data-sort');\r\n\r\n      // Toggle direction if same column, otherwise default to desc\r\n      if (state.listView.sortBy === sortBy) {\r\n        state.listView.sortDir = state.listView.sortDir === 'asc' ? 'desc' : 'asc';\r\n      } else {\r\n        state.listView.sortBy = sortBy;\r\n        state.listView.sortDir = 'desc';\r\n      }\r\n\r\n      renderList();\r\n    });\r\n  });\r\n\r\n  // Pagination buttons\r\n  const prevBtn = document.getElementById('listPrevBtn');\r\n  if (prevBtn) {\r\n    prevBtn.addEventListener('click', () => {\r\n      if (state.listView.currentPage > 1) {\r\n        state.listView.currentPage--;\r\n        renderList();\r\n        document.querySelector('.list-table-wrapper').scrollTop = 0;\r\n\r\n        // Trigger progressive SLA loading for new page\r\n        const startIdx = (state.listView.currentPage - 1) * state.listView.pageSize;\r\n        const endIdx = startIdx + state.listView.pageSize;\r\n        const pageIssues = state.issues.slice(startIdx, endIdx);\r\n        loadSLAForListView(pageIssues);\r\n      }\r\n    });\r\n  }\r\n\r\n  const nextBtn = document.getElementById('listNextBtn');\r\n  if (nextBtn) {\r\n    nextBtn.addEventListener('click', () => {\r\n      const totalPages = Math.ceil(\r\n        state.issues.length / state.listView.pageSize\r\n      );\r\n      if (state.listView.currentPage < totalPages) {\r\n        state.listView.currentPage++;\r\n        renderList();\r\n        document.querySelector('.list-table-wrapper').scrollTop = 0;\r\n\r\n        // Trigger progressive SLA loading for new page\r\n        const startIdx = (state.listView.currentPage - 1) * state.listView.pageSize;\r\n        const endIdx = startIdx + state.listView.pageSize;\r\n        const pageIssues = state.issues.slice(startIdx, endIdx);\r\n        loadSLAForListView(pageIssues);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Load More from Server button\r\n  const loadMoreBtn = document.getElementById('loadMoreServerBtn');\r\n  if (loadMoreBtn) {\r\n    loadMoreBtn.addEventListener('click', async () => {\r\n      const serverPagination = state.pagination[state.currentQueue];\r\n      if (!serverPagination || !serverPagination.hasMore) return;\r\n\r\n      loadMoreBtn.disabled = true;\r\n      loadMoreBtn.textContent = '‚è≥ Loading...';\r\n\r\n      try {\r\n        const nextPage = serverPagination.currentPage + 1;\r\n        console.log(`üì¶ Loading page ${nextPage} from server...`);\r\n\r\n        // Load next page and append to current issues\r\n        await loadIssuesPage(state.currentQueue, nextPage);\r\n\r\n        // Render updated view\r\n        renderList();\r\n      } catch (error) {\r\n        console.error('‚ùå Failed to load more tickets:', error);\r\n        showNotification('Failed to load more tickets', 'error');\r\n      } finally {\r\n        loadMoreBtn.disabled = false;\r\n        loadMoreBtn.textContent = 'üì¶ Load More Tickets (100 more)';\r\n      }\r\n    });\r\n  }\r\n\r\n  // View details buttons\r\n  document.querySelectorAll('.btn-view-details').forEach(btn => {\r\n    btn.addEventListener('click', (e) => {\r\n      const issueKey = btn.getAttribute('data-issue-key');\r\n      if (window.openIssueDetails) {\r\n        window.openIssueDetails(issueKey);\r\n      }\r\n    });\r\n  });\r\n\r\n  // Row click to view details\r\n  document.querySelectorAll('.issue-row').forEach(row => {\r\n    row.addEventListener('click', (e) => {\r\n      // Don't trigger if clicking on buttons or assignee edit\r\n      if (!e.target.closest('.btn-view-details') &&\r\n        !e.target.closest('.list-transition-trigger') &&\r\n        !e.target.closest('.col-assignee')) {\r\n        const issueKey = row.getAttribute('data-issue-key');\r\n        if (window.openIssueDetails) {\r\n          window.openIssueDetails(issueKey);\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  // Assignee edit toggle checkbox\r\n  const editToggle = document.getElementById('enableAssigneeEdit');\r\n  if (editToggle) {\r\n    editToggle.addEventListener('change', async (e) => {\r\n      const isEnabled = e.target.checked;\r\n\r\n      // Refetch users from DB when enabling edit mode (always get fresh data)\r\n      if (isEnabled) {\r\n        console.log('üîÑ Fetching latest users from DB...');\r\n        try {\r\n          const response = await fetch('/api/users');\r\n          if (response.ok) {\r\n            window.cachedUsers = await response.json();\r\n            console.log('‚úÖ Users loaded from DB:', window.cachedUsers.length);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error loading users:', error);\r\n        }\r\n      }\r\n\r\n      document.querySelectorAll('.col-assignee').forEach(cell => {\r\n        if (isEnabled) {\r\n          cell.classList.add('edit-mode');\r\n          // Store original value in data attribute\r\n          const input = cell.querySelector('.assignee-edit-input');\r\n          const display = cell.querySelector('.assignee-display');\r\n          if (input && display) {\r\n            input.dataset.originalValue = display.textContent.trim();\r\n          }\r\n        } else {\r\n          cell.classList.remove('edit-mode');\r\n          // Restore original value if not changed\r\n          const input = cell.querySelector('.assignee-edit-input');\r\n          const display = cell.querySelector('.assignee-display');\r\n          if (input && display && input.dataset.originalValue) {\r\n            input.value = input.dataset.originalValue;\r\n            display.textContent = input.dataset.originalValue;\r\n          }\r\n          // Close any open autocomplete\r\n          const autocomplete = document.querySelector('.assignee-autocomplete');\r\n          if (autocomplete) autocomplete.remove();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // Pre-load users when edit mode is enabled\r\n  const editToggleCheckbox = document.getElementById('enableAssigneeEdit');\r\n  if (editToggleCheckbox && editToggleCheckbox.checked && !window.cachedUsers) {\r\n    // Load users in background\r\n    fetch('/api/users').then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n    }).then(users => {\r\n      window.cachedUsers = users;\r\n      console.log('‚úÖ Users pre-loaded:', users.length);\r\n    }).catch(error => {\r\n      console.error('Error pre-loading users:', error);\r\n    });\r\n  }\r\n\r\n  // Assignee input handling\r\n  document.querySelectorAll('.assignee-edit-input').forEach(input => {\r\n    let autocompleteDiv = null;\r\n    let selectedIndex = -1;\r\n    let allUsers = [];\r\n\r\n    // Store original value on focus\r\n    input.addEventListener('focus', (e) => {\r\n      const display = e.target.closest('.col-assignee').querySelector('.assignee-display');\r\n      if (display) {\r\n        input.dataset.originalValue = display.textContent.trim();\r\n      }\r\n    });\r\n\r\n    input.addEventListener('click', async (e) => {\r\n      // Don't create duplicate autocomplete\r\n      if (autocompleteDiv) return;\r\n\r\n      // Create autocomplete dropdown\r\n      autocompleteDiv = document.createElement('div');\r\n      autocompleteDiv.className = 'assignee-autocomplete';\r\n\r\n      // Position it below the input\r\n      const rect = input.getBoundingClientRect();\r\n      autocompleteDiv.style.top = `${rect.bottom + 2}px`;\r\n      autocompleteDiv.style.left = `${rect.left}px`;\r\n      autocompleteDiv.style.width = `${rect.width}px`;\r\n\r\n      document.body.appendChild(autocompleteDiv);\r\n\r\n      // Check if users are cached\r\n      if (window.cachedUsers) {\r\n        allUsers = window.cachedUsers;\r\n        filterAndDisplayUsers(input.value);\r\n      } else {\r\n        autocompleteDiv.innerHTML = '<div class=\"assignee-loading\">Loading users...</div>';\r\n\r\n        // Fetch users if not cached\r\n        try {\r\n          const response = await fetch('/api/users');\r\n          if (response.ok) {\r\n            window.cachedUsers = await response.json();\r\n            allUsers = window.cachedUsers;\r\n            filterAndDisplayUsers(input.value);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching users:', error);\r\n          autocompleteDiv.innerHTML = '<div class=\"assignee-loading\">Error loading users</div>';\r\n          return;\r\n        }\r\n      }\r\n    });\r\n\r\n    input.addEventListener('input', (e) => {\r\n      filterAndDisplayUsers(e.target.value);\r\n    });\r\n\r\n    input.addEventListener('keydown', (e) => {\r\n      const items = autocompleteDiv ? autocompleteDiv.querySelectorAll('.assignee-autocomplete-item') : [];\r\n\r\n      if (e.key === 'ArrowDown' && autocompleteDiv) {\r\n        e.preventDefault();\r\n        selectedIndex = Math.min(selectedIndex + 1, items.length - 1);\r\n        updateSelection(items);\r\n      } else if (e.key === 'ArrowUp' && autocompleteDiv) {\r\n        e.preventDefault();\r\n        selectedIndex = Math.max(selectedIndex - 1, -1);\r\n        updateSelection(items);\r\n      } else if (e.key === 'Enter' && autocompleteDiv) {\r\n        e.preventDefault();\r\n        if (selectedIndex >= 0 && items[selectedIndex]) {\r\n          items[selectedIndex].click();\r\n        }\r\n      } else if (e.key === 'Escape') {\r\n        // Restore original value\r\n        if (input.dataset.originalValue) {\r\n          input.value = input.dataset.originalValue;\r\n          const display = input.closest('.col-assignee').querySelector('.assignee-display');\r\n          if (display) {\r\n            display.textContent = input.dataset.originalValue;\r\n          }\r\n        }\r\n\r\n        // Close autocomplete\r\n        if (autocompleteDiv) {\r\n          autocompleteDiv.remove();\r\n          autocompleteDiv = null;\r\n        }\r\n\r\n        input.blur();\r\n      }\r\n    });\r\n\r\n    input.addEventListener('blur', (e) => {\r\n      // Delay to allow click on autocomplete item\r\n      setTimeout(() => {\r\n        if (autocompleteDiv) {\r\n          // Restore original value if nothing was selected\r\n          if (input.value !== input.dataset.originalValue) {\r\n            const cell = input.closest('.col-assignee');\r\n            const issue = state.issues.find(i => i.key === cell.dataset.issueKey);\r\n            if (issue && input.value !== issue.assignee) {\r\n              // Value was manually typed but not from autocomplete, restore original\r\n              input.value = input.dataset.originalValue;\r\n            }\r\n          }\r\n\r\n          autocompleteDiv.remove();\r\n          autocompleteDiv = null;\r\n        }\r\n      }, 200);\r\n    });\r\n\r\n    function filterAndDisplayUsers(query) {\r\n      if (!autocompleteDiv) return;\r\n\r\n      const filtered = allUsers.filter(user => {\r\n        const searchStr = `${user.displayName} ${user.emailAddress}`.toLowerCase();\r\n        return searchStr.includes(query.toLowerCase());\r\n      }).slice(0, 10); // Limit to 10 results\r\n\r\n      if (filtered.length === 0) {\r\n        autocompleteDiv.innerHTML = '<div class=\"assignee-loading\">No users found</div>';\r\n        return;\r\n      }\r\n\r\n      autocompleteDiv.innerHTML = filtered.map(user => `\r\n        <div class=\"assignee-autocomplete-item\" data-account-id=\"${user.accountId}\" data-display-name=\"${escapeHtml(user.displayName)}\">\r\n          <strong>${escapeHtml(user.displayName)}</strong><br>\r\n          <small style=\"color: #64748b;\">${escapeHtml(user.emailAddress || '')}</small>\r\n        </div>\r\n      `).join('');\r\n\r\n      selectedIndex = -1;\r\n\r\n      // Add click handlers\r\n      autocompleteDiv.querySelectorAll('.assignee-autocomplete-item').forEach(item => {\r\n        item.addEventListener('mousedown', async (e) => {\r\n          e.preventDefault(); // Prevent blur event\r\n          const accountId = item.getAttribute('data-account-id');\r\n          const displayName = item.getAttribute('data-display-name');\r\n          const issueKey = input.getAttribute('data-issue-key');\r\n\r\n          // Mark as user-selected (to prevent restoration)\r\n          input.dataset.userSelected = 'true';\r\n\r\n          await updateAssignee(issueKey, accountId, displayName, input);\r\n\r\n          if (autocompleteDiv) {\r\n            autocompleteDiv.remove();\r\n            autocompleteDiv = null;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    function updateSelection(items) {\r\n      items.forEach((item, idx) => {\r\n        if (idx === selectedIndex) {\r\n          item.classList.add('selected');\r\n          item.scrollIntoView({ block: 'nearest' });\r\n        } else {\r\n          item.classList.remove('selected');\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nasync function updateAssignee(issueKey, accountId, displayName, inputElement) {\r\n  const cell = inputElement.closest('.col-assignee');\r\n  const displaySpan = cell.querySelector('.assignee-display');\r\n\r\n  // Show loading state\r\n  inputElement.disabled = true;\r\n  inputElement.value = 'Updating...';\r\n\r\n  try {\r\n    const response = await fetch(`/api/issues/${issueKey}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        fields: {\r\n          assignee: { accountId: accountId }\r\n        }\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to update assignee');\r\n    }\r\n\r\n    // Update UI\r\n    inputElement.value = displayName;\r\n    displaySpan.textContent = displayName;\r\n\r\n    // Update state\r\n    const issue = state.issues.find(i => i.key === issueKey);\r\n    if (issue) {\r\n      issue.assignee = displayName;\r\n      if (issue.fields) {\r\n        issue.fields.assignee = { displayName: displayName, accountId: accountId };\r\n      }\r\n    }\r\n\r\n    // Check if we need to remove from current view (Assigned to me queue)\r\n    const currentUser = state.currentUser;\r\n    if (currentUser && displayName !== currentUser) {\r\n      // Get current queue name from select element\r\n      const queueSelect = document.getElementById('queueSelect');\r\n      const queueName = queueSelect ? queueSelect.options[queueSelect.selectedIndex]?.text || '' : '';\r\n\r\n      // If this is \"Assigned to me\" queue, remove the ticket\r\n      if (queueName.toLowerCase().includes('assigned to me') ||\r\n        queueName.toLowerCase().includes('asignados a m√≠') ||\r\n        queueName.toLowerCase().includes('mis tickets')) {\r\n        // Remove from state\r\n        state.issues = state.issues.filter(i => i.key !== issueKey);\r\n        state.filteredIssues = state.filteredIssues.filter(i => i.key !== issueKey);\r\n\r\n        // Re-render list\r\n        renderList();\r\n\r\n        showNotification('‚úÖ Assignee updated. Ticket removed from this queue.', 'success');\r\n        return;\r\n      }\r\n    }\r\n\r\n    showNotification('‚úÖ Assignee updated successfully', 'success');\r\n\r\n  } catch (error) {\r\n    console.error('Error updating assignee:', error);\r\n    showNotification('‚ùå Failed to update assignee', 'error');\r\n\r\n    // Restore original value\r\n    const issue = state.issues.find(i => i.key === issueKey);\r\n    if (issue) {\r\n      inputElement.value = issue.assignee || 'Unassigned';\r\n    }\r\n  } finally {\r\n    inputElement.disabled = false;\r\n  }\r\n}\r\n\r\n/**\r\n * Setup lazy row rendering based on scroll position\r\n * Speeds up rendering by only rendering visible + buffer rows\r\n */\r\nfunction setupLazyRowRendering() {\r\n  const listContainer = document.querySelector('.list-view-container');\r\n  if (!listContainer) return;\r\n\r\n  let lastScrollTop = 0;\r\n  let scrollTimeout;\r\n\r\n  const handleScroll = () => {\r\n    const scrollTop = listContainer.scrollTop;\r\n    const scrollDirection = scrollTop > lastScrollTop ? 'down' : 'up';\r\n    lastScrollTop = scrollTop;\r\n\r\n    // Debounce scroll events\r\n    clearTimeout(scrollTimeout);\r\n    scrollTimeout = setTimeout(() => {\r\n      // Check if near bottom (80% scrolled)\r\n      const scrollPercentage = (scrollTop + listContainer.clientHeight) / listContainer.scrollHeight;\r\n\r\n      if (scrollPercentage > 0.8 && scrollDirection === 'down') {\r\n        // User is near bottom, ensure all rows are rendered\r\n        const tbody = document.getElementById('listViewTbody');\r\n        if (tbody && tbody.dataset.hasMore === 'true') {\r\n          console.log('üìú User scrolling near bottom, ensuring all rows rendered');\r\n        }\r\n      }\r\n    }, 150);\r\n  };\r\n\r\n  listContainer.addEventListener('scroll', handleScroll, { passive: true });\r\n\r\n  // Store cleanup function\r\n  if (!window.lazyRenderingCleanup) {\r\n    window.lazyRenderingCleanup = [];\r\n  }\r\n  window.lazyRenderingCleanup.push(() => {\r\n    listContainer.removeEventListener('scroll', handleScroll);\r\n  });\r\n}\r\n\r\nfunction truncateText(text, maxLength) {\r\n  if (!text) return '';\r\n  if (text.length <= maxLength) return escapeHtml(text);\r\n  return escapeHtml(text.substring(0, maxLength)) + '...';\r\n}\r\n\r\nfunction escapeHtml(text) {\r\n  const div = document.createElement('div');\r\n  div.textContent = text;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * ==================== SLA INDICATOR FUNCTIONS ====================\r\n * Calculate and display SLA progress on ticket cards\r\n */\r\n\r\nfunction calculateSLAStatus(issue) {\r\n  /**\r\n   * Calculates SLA status from issue data\r\n   * Returns: { percentage, status, timeRemaining, elapsed, goal, breached }\r\n   */\r\n  try {\r\n    // Mock SLA data - replace with real API call if needed\r\n    const created = new Date(issue.created || issue.fields?.created);\r\n    const now = new Date();\r\n\r\n    // Default SLA: 24 hours for response, 48 hours for resolution\r\n    const slaHours = 24;\r\n    const slaMs = slaHours * 60 * 60 * 1000;\r\n\r\n    const deadline = new Date(created.getTime() + slaMs);\r\n    const elapsedMs = now.getTime() - created.getTime();\r\n    const remainingMs = deadline.getTime() - now.getTime();\r\n\r\n    const percentage = Math.min(100, Math.max(0, (elapsedMs / slaMs) * 100));\r\n    const breached = remainingMs < 0;\r\n\r\n    // Determine status\r\n    let status = 'healthy';\r\n    if (breached) {\r\n      status = 'breached';\r\n    } else if (percentage > 80) {\r\n      status = 'critical';\r\n    } else if (percentage > 60) {\r\n      status = 'warning';\r\n    } else if (percentage > 40) {\r\n      status = 'caution';\r\n    }\r\n\r\n    return {\r\n      percentage: Math.round(percentage),\r\n      status,\r\n      timeRemaining: formatMs(remainingMs),\r\n      elapsed: formatMs(elapsedMs),\r\n      goal: `${slaHours}h`,\r\n      breached\r\n    };\r\n  } catch (e) {\r\n    console.error('Error calculating SLA:', e);\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction formatMs(ms) {\r\n  /**\r\n   * Formats milliseconds to human readable time\r\n   * Returns: \"2h 30m\", \"45m\", \"10s\", etc.\r\n   */\r\n  if (ms < 0) return 'OVERDUE';\r\n\r\n  const seconds = Math.floor((ms / 1000) % 60);\r\n  const minutes = Math.floor((ms / (1000 * 60)) % 60);\r\n  const hours = Math.floor((ms / (1000 * 60 * 60)) % 24);\r\n  const days = Math.floor(ms / (1000 * 60 * 60 * 24));\r\n\r\n  if (days > 0) return `${days}d ${hours}h`;\r\n  if (hours > 0) return `${hours}h ${minutes}m`;\r\n  if (minutes > 0) return `${minutes}m`;\r\n  return `${seconds}s`;\r\n}\r\n\r\n/**\r\n * Show tooltip on first load to guide user about save button\r\n */\r\nfunction showFirstTimeTooltip() {\r\n  console.log('üîç showFirstTimeTooltip called');\r\n  const hasSeenTooltip = sessionStorage.getItem('speedyflow_seen_save_tooltip');\r\n  console.log('   hasSeenTooltip:', hasSeenTooltip);\r\n\r\n  if (!hasSeenTooltip) {\r\n    const saveBtn = document.getElementById('saveFiltersBtn');\r\n    console.log('   saveBtn found:', !!saveBtn);\r\n    if (!saveBtn) {\r\n      console.warn('‚ö†Ô∏è Save button not found!');\r\n      return;\r\n    }\r\n\r\n    // Wait for page to settle\r\n    setTimeout(() => {\r\n      const tooltip = document.createElement('div');\r\n      tooltip.id = 'first-time-tooltip';\r\n      tooltip.style.position = 'fixed';\r\n      tooltip.style.zIndex = '999999';\r\n      tooltip.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';\r\n      tooltip.style.color = 'white';\r\n      tooltip.style.padding = '16px 20px';\r\n      tooltip.style.borderRadius = '12px';\r\n      tooltip.style.boxShadow = '0 8px 32px rgba(102, 126, 234, 0.5)';\r\n      tooltip.style.width = '360px';\r\n      tooltip.style.fontSize = '14px';\r\n      tooltip.style.lineHeight = '1.6';\r\n      tooltip.style.display = 'block';\r\n      tooltip.style.transition = 'top 0.2s ease, left 0.2s ease';\r\n\r\n      tooltip.innerHTML = `\r\n        <div style=\"position: absolute; top: -8px; right: 20px; width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 10px solid #667eea;\"></div>\r\n        <div style=\"display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;\">\r\n          <strong style=\"font-size: 15px;\">üí° Consejo √ötil</strong>\r\n          <button id=\"tooltip-close\" style=\"background: rgba(255,255,255,0.2); border: none; color: white; width: 24px; height: 24px; border-radius: 50%; cursor: pointer; font-size: 18px; line-height: 1; padding: 0;\">√ó</button>\r\n        </div>\r\n        <p style=\"margin: 0;\">Si los filtros predeterminados no son correctos, <strong>escoge tus filtros preferidos</strong> y presiona este bot√≥n para guardarlos como tus valores por defecto.</p>\r\n        <div style=\"margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.2);\">\r\n          <small>‚ú® Esto actualiza tu configuraci√≥n en el servidor</small>\r\n        </div>\r\n      `;\r\n\r\n      document.body.appendChild(tooltip);\r\n\r\n      // Function to update tooltip position relative to button\r\n      const updateTooltipPosition = () => {\r\n        const btnRect = saveBtn.getBoundingClientRect();\r\n        tooltip.style.top = `${btnRect.bottom + 10}px`;\r\n        tooltip.style.left = `${btnRect.right - 360}px`;\r\n      };\r\n\r\n      // Initial position\r\n      updateTooltipPosition();\r\n      console.log('‚úÖ Tooltip positioned relative to button');\r\n\r\n      // Update position on window resize or scroll\r\n      const repositionHandler = () => updateTooltipPosition();\r\n      window.addEventListener('resize', repositionHandler);\r\n      window.addEventListener('scroll', repositionHandler, true); // useCapture for all scrolls\r\n\r\n      const closeBtn = document.getElementById('tooltip-close');\r\n      const closeTooltip = () => {\r\n        tooltip.remove();\r\n        window.removeEventListener('resize', repositionHandler);\r\n        window.removeEventListener('scroll', repositionHandler, true);\r\n        sessionStorage.setItem('speedyflow_seen_save_tooltip', 'true');\r\n      };\r\n\r\n      closeBtn.addEventListener('click', closeTooltip);\r\n      setTimeout(closeTooltip, 15000);\r\n    }, 2000);\r\n  }\r\n}\r\n\r\n/**\r\n * Guardar filtros seleccionados en localStorage\r\n */\r\nfunction saveCurrentFilters() {\r\n  console.log('üíæ Attempting to save filters...');\r\n\r\n  const deskSelect = document.getElementById('serviceDeskSelectFilter');\r\n  const queueSelect = document.getElementById('queueSelectFilter');\r\n\r\n  // Get current values from selects (more reliable than state)\r\n  const deskId = deskSelect?.value || state.currentDesk;\r\n  const queueId = queueSelect?.value || state.currentQueue;\r\n\r\n  console.log('Current filter values:', {\r\n    deskId,\r\n    queueId,\r\n    stateDeskId: state.currentDesk,\r\n    stateQueueId: state.currentQueue\r\n  });\r\n\r\n  // Validate that filters are selected\r\n  if (!deskId || !queueId || deskId === '' || queueId === '') {\r\n    console.warn('‚ö†Ô∏è Cannot save filters: desk or queue not selected');\r\n    console.log('Desk select:', deskSelect?.value, 'Queue select:', queueSelect?.value);\r\n\r\n    if (window.loadingDotsManager) {\r\n      window.loadingDotsManager.show('‚ö†Ô∏è Please select a Service Desk and Queue first');\r\n      setTimeout(() => window.loadingDotsManager.hide(), 2000);\r\n    }\r\n    return;\r\n  }\r\n\r\n  const filters = {\r\n    desk: {\r\n      id: deskId,\r\n      name: deskSelect?.options[deskSelect?.selectedIndex]?.text || 'Not selected'\r\n    },\r\n    queue: {\r\n      id: queueId,\r\n      name: queueSelect?.options[queueSelect?.selectedIndex]?.text || 'Not selected'\r\n    },\r\n    view: state.currentView || 'kanban',\r\n    filterMode: state.filterMode || 'all',\r\n    timestamp: new Date().toISOString()\r\n  };\r\n\r\n  console.log('üíæ Saving filters:', filters);\r\n\r\n  localStorage.setItem('savedFilters', JSON.stringify(filters));\r\n\r\n  // Also save to session for persistence during session\r\n  sessionStorage.setItem('currentFilters', JSON.stringify(filters));\r\n\r\n  // üîÑ Save to backend as user defaults\r\n  // Extract project_key from current desk's queues JQL\r\n  let projectKey = state.userProjectKey;\r\n\r\n  if (!projectKey && state.desks && deskId) {\r\n    const currentDesk = state.desks.find(d => d.id === deskId);\r\n    if (currentDesk && currentDesk.queues && currentDesk.queues.length > 0) {\r\n      // Try to find project key in any queue's JQL\r\n      for (const queue of currentDesk.queues) {\r\n        if (queue.jql) {\r\n          const match = queue.jql.match(/project\\s*=\\s*([A-Z]+)/i);\r\n          if (match) {\r\n            projectKey = match[1];\r\n            console.log(`‚úÖ Extracted project key from JQL: ${projectKey}`);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Fallback to MSM if still not found\r\n  if (!projectKey) {\r\n    projectKey = 'MSM';\r\n    console.warn('‚ö†Ô∏è Using fallback project key: MSM');\r\n  }\r\n\r\n  console.log('üíæ Saving to backend as defaults...', { projectKey, deskId, queueId });\r\n  fetch('/api/user/setup', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      project_key: projectKey,\r\n      desk_id: deskId,\r\n      queue_id: queueId\r\n    })\r\n  })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if (data.success) {\r\n        console.log('‚úÖ Backend defaults updated successfully');\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Failed to update backend defaults:', data.error);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('‚ùå Error updating backend defaults:', error);\r\n    });\r\n\r\n  // Visual feedback\r\n  const btn = document.getElementById('saveFiltersBtn');\r\n  if (btn) {\r\n    const originalHTML = btn.innerHTML;\r\n    btn.innerHTML = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/></svg>';\r\n    btn.style.background = 'linear-gradient(135deg, #10b981, #059669)';\r\n\r\n    setTimeout(() => {\r\n      btn.innerHTML = originalHTML;\r\n      btn.style.background = '';\r\n    }, 2000);\r\n  }\r\n\r\n  // Show success notification\r\n  if (window.loadingDotsManager) {\r\n    window.loadingDotsManager.show(`üíæ Filters saved: ${filters.desk.name} - ${filters.queue.name}`);\r\n    setTimeout(() => window.loadingDotsManager.hide(), 2000);\r\n  }\r\n\r\n  console.log('üíæ Filtros guardados:', filters);\r\n}\r\n\r\n/**\r\n * Cargar filtros guardados desde localStorage\r\n */\r\nfunction loadSavedFilters() {\r\n  // Try session first (more recent), then localStorage\r\n  let saved = sessionStorage.getItem('currentFilters') || localStorage.getItem('savedFilters');\r\n  if (!saved) {\r\n    console.log('‚ÑπÔ∏è No saved filters found');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const filters = JSON.parse(saved);\r\n    console.log('üìÇ Loading saved filters:', filters);\r\n\r\n    // Check if filters are not too old (more than 7 days)\r\n    if (filters.timestamp) {\r\n      const savedDate = new Date(filters.timestamp);\r\n      const daysDiff = (new Date() - savedDate) / (1000 * 60 * 60 * 24);\r\n      if (daysDiff > 7) {\r\n        console.log('‚ö†Ô∏è Saved filters are too old, skipping auto-load');\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Auto-seleccionar desk si est√° disponible\r\n    if (filters.desk?.id) {\r\n      const deskSelect = document.getElementById('serviceDeskSelectFilter');\r\n      if (deskSelect) {\r\n        deskSelect.value = filters.desk.id;\r\n        state.currentDesk = filters.desk.id;\r\n\r\n        // Trigger desk change to load queues\r\n        const changeEvent = new Event('change', { bubbles: true });\r\n        deskSelect.dispatchEvent(changeEvent);\r\n      }\r\n    }\r\n\r\n    // Auto-seleccionar queue si est√° disponible\r\n    if (filters.queue?.id) {\r\n      setTimeout(() => {\r\n        const queueSelect = document.getElementById('queueSelectFilter');\r\n        if (queueSelect) {\r\n          queueSelect.value = filters.queue.id;\r\n          state.currentQueue = filters.queue.id;\r\n\r\n          // Trigger queue change to load issues\r\n          const changeEvent = new Event('change', { bubbles: true });\r\n          queueSelect.dispatchEvent(changeEvent);\r\n        }\r\n      }, 500); // Dar tiempo a que carguen las queues\r\n    }\r\n  } catch (error) {\r\n    console.error('Error al cargar filtros guardados:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Sort issues array by field and direction\r\n */\r\nfunction sortIssues(issues, sortBy, sortDir) {\r\n  const sorted = [...issues].sort((a, b) => {\r\n    let valA, valB;\r\n\r\n    switch (sortBy) {\r\n      case 'key':\r\n        valA = a.key || '';\r\n        valB = b.key || '';\r\n        break;\r\n      case 'summary':\r\n        valA = (a.summary || a.fields?.summary || '').toLowerCase();\r\n        valB = (b.summary || b.fields?.summary || '').toLowerCase();\r\n        break;\r\n      case 'status':\r\n        valA = (a.status || a.fields?.status?.name || '').toLowerCase();\r\n        valB = (b.status || b.fields?.status?.name || '').toLowerCase();\r\n        break;\r\n      case 'severity':\r\n        const severityOrder = { 'critico': 4, 'critical': 4, 'mayor': 3, 'major': 3, 'menor': 2, 'minor': 2 };\r\n        const sevA = (a.severity || a.customfield_10125?.value || '').toLowerCase();\r\n        const sevB = (b.severity || b.customfield_10125?.value || '').toLowerCase();\r\n        valA = severityOrder[sevA] || 1;\r\n        valB = severityOrder[sevB] || 1;\r\n        break;\r\n      case 'assignee':\r\n        valA = (a.assignee || a.fields?.assignee?.displayName || 'Unassigned').toLowerCase();\r\n        valB = (b.assignee || b.fields?.assignee?.displayName || 'Unassigned').toLowerCase();\r\n        break;\r\n      case 'created':\r\n        valA = new Date(a.created || a.fields?.created || 0).getTime();\r\n        valB = new Date(b.created || b.fields?.created || 0).getTime();\r\n        break;\r\n      default:\r\n        return 0;\r\n    }\r\n\r\n    // Compare values\r\n    if (valA < valB) return sortDir === 'asc' ? -1 : 1;\r\n    if (valA > valB) return sortDir === 'asc' ? 1 : -1;\r\n    return 0;\r\n  });\r\n\r\n  return sorted;\r\n}\r\n\r\n/**\r\n * Load SLA data for issues in list view with progressive loading strategy\r\n */\r\nasync function loadSLAForListView(issues) {\r\n  if (!issues || issues.length === 0) return;\r\n\r\n  // Throttle SLA fetches to once every 3 minutes\r\n  const now = Date.now();\r\n  const THREE_MINUTES = 3 * 60 * 1000;\r\n  if (state.listView.lastSlaFetch && (now - state.listView.lastSlaFetch) < THREE_MINUTES) {\r\n    console.log('‚è≥ SLA fetch throttled (3 min cooldown)');\r\n    return;\r\n  }\r\n\r\n  // Filter out already loaded issues\r\n  const issuesToLoad = issues.filter(issue => !state.listView.slaLoadedKeys.has(issue.key));\r\n  if (issuesToLoad.length === 0) {\r\n    console.log('‚úÖ All visible SLAs already loaded');\r\n    return;\r\n  }\r\n\r\n  // Progressive loading strategy based on current page\r\n  let loadCount;\r\n  if (state.listView.currentPage === 1) {\r\n    // First page: load first 20 immediately\r\n    loadCount = Math.min(20, issuesToLoad.length);\r\n    console.log(`üîÑ Loading first ${loadCount} SLAs immediately...`);\r\n  } else if (state.listView.currentPage === 2) {\r\n    // Second page: load next 20\r\n    loadCount = Math.min(20, issuesToLoad.length);\r\n    console.log(`üîÑ Loading next ${loadCount} SLAs (page 2)...`);\r\n  } else {\r\n    // Page 3+: load 30 at a time\r\n    loadCount = Math.min(30, issuesToLoad.length);\r\n    console.log(`üîÑ Loading ${loadCount} SLAs (page ${state.listView.currentPage})...`);\r\n  }\r\n\r\n  const issuesToFetch = issuesToLoad.slice(0, loadCount);\r\n  state.listView.lastSlaFetch = now;\r\n\r\n  // Load SLA data in batches of 10 to avoid overwhelming the API\r\n  const batchSize = 10;\r\n  for (let i = 0; i < issuesToFetch.length; i += batchSize) {\r\n    const batch = issuesToFetch.slice(i, i + batchSize);\r\n\r\n    await Promise.all(batch.map(async (issue) => {\r\n      try {\r\n        const slaElement = document.getElementById(`sla-${issue.key}`);\r\n        if (!slaElement) return;\r\n\r\n        const response = await fetch(`/api/issues/${issue.key}/sla`);\r\n        if (!response.ok) {\r\n          slaElement.innerHTML = '<span class=\"sla-none\">-</span>';\r\n          state.listView.slaLoadedKeys.add(issue.key);\r\n          return;\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!data.success || !data.data || !data.data.cycles || data.data.cycles.length === 0) {\r\n          slaElement.innerHTML = '<span class=\"sla-none\">-</span>';\r\n          state.listView.slaLoadedKeys.add(issue.key);\r\n          return;\r\n        }\r\n\r\n        const cycle = data.data.cycles[0];\r\n        const isSecondary = data.data.is_secondary || false;\r\n        const slaName = cycle.name || 'SLA';\r\n\r\n        let slaHtml = '';\r\n        let statusClass = '';\r\n        let statusIcon = '';\r\n        let statusLabel = '';\r\n\r\n        if (cycle.breached) {\r\n          statusClass = 'sla-badge-breached';\r\n          statusIcon = 'üî¥';\r\n          statusLabel = 'Breached';\r\n        } else if (cycle.paused) {\r\n          statusClass = 'sla-badge-paused';\r\n          statusIcon = 'üîµ';\r\n          statusLabel = 'Paused';\r\n        } else if (cycle.remaining_time) {\r\n          const remaining = cycle.remaining_time;\r\n\r\n          // Determine status based on remaining time\r\n          if (remaining.includes('m') && !remaining.includes('h')) {\r\n            // Less than an hour remaining\r\n            statusClass = 'sla-badge-warning';\r\n            statusIcon = 'üü°';\r\n            statusLabel = remaining;\r\n          } else if (remaining.includes('h')) {\r\n            const hours = parseInt(remaining);\r\n            if (hours < 2) {\r\n              statusClass = 'sla-badge-warning';\r\n              statusIcon = 'üü°';\r\n              statusLabel = remaining;\r\n            } else {\r\n              statusClass = 'sla-badge-healthy';\r\n              statusIcon = 'üü¢';\r\n              statusLabel = remaining;\r\n            }\r\n          } else {\r\n            statusClass = 'sla-badge-healthy';\r\n            statusIcon = 'üü¢';\r\n            statusLabel = remaining;\r\n          }\r\n        } else {\r\n          slaElement.innerHTML = '<span class=\"sla-none\">-</span>';\r\n          state.listView.slaLoadedKeys.add(issue.key);\r\n          return;\r\n        }\r\n\r\n        // Create SLA badge with name and status\r\n        slaHtml = `\r\n          <div class=\"sla-badge-container\">\r\n            <div class=\"sla-badge ${statusClass}\" title=\"${slaName} - ${statusLabel}\">\r\n              <span class=\"sla-icon\">${statusIcon}</span>\r\n              <span class=\"sla-name\">${slaName}</span>\r\n            </div>\r\n            <div class=\"sla-time ${statusClass}\">${statusLabel}</div>\r\n          </div>\r\n        `;\r\n\r\n        slaElement.innerHTML = slaHtml;\r\n        state.listView.slaLoadedKeys.add(issue.key);\r\n        state.listView.slaLoadedCount++;\r\n\r\n      } catch (error) {\r\n        console.error(`‚ùå Error loading SLA for ${issue.key}:`, error);\r\n        const slaElement = document.getElementById(`sla-${issue.key}`);\r\n        if (slaElement) {\r\n          const errorIcon = typeof SVGIcons !== 'undefined'\r\n            ? SVGIcons.alert({ size: 14, className: 'inline-icon' })\r\n            : '‚ö†Ô∏è';\r\n          slaElement.innerHTML = `<span class=\"sla-error\" title=\"Error loading SLA\">${errorIcon}</span>`;\r\n        }\r\n        state.listView.slaLoadedKeys.add(issue.key);\r\n      }\r\n    }));\r\n\r\n    // Delay between batches (200ms to be gentle on API)\r\n    if (i + batchSize < issuesToFetch.length) {\r\n      await new Promise(resolve => setTimeout(resolve, 200));\r\n    }\r\n  }\r\n\r\n  console.log(`‚úÖ SLA data loaded: ${issuesToFetch.length} issues (Total: ${state.listView.slaLoadedCount})`);\r\n}\r\n\r\n// Export openIssueDetails to global scope for onclick handlers\r\nwindow.openIssueDetails = openIssueDetails;\r\n\r\n/**\r\n * Show notification toast\r\n */\r\nfunction showNotification(message, type = 'info') {\r\n  const notification = document.createElement('div');\r\n  notification.className = `notification notification-${type}`;\r\n  notification.textContent = message;\r\n\r\n  // Add to body\r\n  document.body.appendChild(notification);\r\n\r\n  // Trigger animation\r\n  setTimeout(() => notification.classList.add('show'), 10);\r\n\r\n  // Remove after 3 seconds\r\n  setTimeout(() => {\r\n    notification.classList.remove('show');\r\n    setTimeout(() => notification.remove(), 300);\r\n  }, 3000);\r\n}\r\n\r\n/**\r\n * Refetch users from database (global utility)\r\n */\r\nasync function refetchUsers() {\r\n  console.log('üîÑ Refetching users from database...');\r\n  try {\r\n    const response = await fetch('/api/users');\r\n    if (response.ok) {\r\n      window.cachedUsers = await response.json();\r\n      console.log('‚úÖ Users refetched from DB:', window.cachedUsers.length);\r\n      return window.cachedUsers;\r\n    }\r\n  } catch (error) {\r\n    console.error('‚ùå Error refetching users:', error);\r\n  }\r\n  return null;\r\n}\r\n\r\n// Export to global scope\r\nwindow.refetchUsers = refetchUsers;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/auto-severity-config.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 972
      }
    ],
    "text": "\r\n// Auto-generated severity configuration\r\nfunction applyAutoDetectedSeverities() {\r\n    if (typeof state !== 'undefined') {\r\n        state.severityMapping = {\r\n  \"Highest\": {\r\n    \"level\": 1,\r\n    \"className\": \"severity-critical\",\r\n    \"emoji\": \"\\ud83d\\udd34\"\r\n  },\r\n  \"High\": {\r\n    \"level\": 2,\r\n    \"className\": \"severity-high\",\r\n    \"emoji\": \"\\ud83d\\udfe0\"\r\n  },\r\n  \"Medium\": {\r\n    \"level\": 3,\r\n    \"className\": \"severity-medium\",\r\n    \"emoji\": \"\\ud83d\\udfe1\"\r\n  },\r\n  \"Low\": {\r\n    \"level\": 4,\r\n    \"className\": \"severity-low\",\r\n    \"emoji\": \"\\ud83d\\udfe2\"\r\n  },\r\n  \"Lowest\": {\r\n    \"level\": 4,\r\n    \"className\": \"severity-low\",\r\n    \"emoji\": \"\\ud83d\\udfe2\"\r\n  }\r\n};\r\n        \r\n        console.log('‚úÖ Applied auto-detected severity mapping with 5 values');\r\n    }\r\n}\r\n\r\n// Auto-apply on load\r\nif (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', applyAutoDetectedSeverities);\r\n} else {\r\n    applyAutoDetectedSeverities();\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/background-manager.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2762
      },
      {
        "start": 2829,
        "end": 4328
      },
      {
        "start": 4389,
        "end": 4725
      },
      {
        "start": 5000,
        "end": 8817
      },
      {
        "start": 9107,
        "end": 9874
      },
      {
        "start": 9898,
        "end": 17394
      },
      {
        "start": 17532,
        "end": 17971
      },
      {
        "start": 18105,
        "end": 18164
      },
      {
        "start": 18328,
        "end": 18385
      },
      {
        "start": 18468,
        "end": 18559
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Background Manager\r\n * Manages AI-generated backgrounds with theme switching\r\n */\r\n\r\nconst backgroundManager = {\r\n  currentTheme: localStorage.getItem('currentTheme') || 'light',\r\n  currentBackground: parseInt(localStorage.getItem('currentBackground')) || 0,\r\n  backgrounds: [],\r\n  isGenerating: false,\r\n  parallaxInitialized: false,\r\n  \r\n  /**\r\n   * Detect current theme from DOM and system\r\n   */\r\n  detectCurrentTheme() {\r\n    // Priority 1: Check body class FIRST (reflects actual visual theme)\r\n    if (document.body.classList.contains('theme-light')) {\r\n      console.log(`üé® Theme from DOM class: light`);\r\n      return 'light';\r\n    }\r\n    if (document.body.classList.contains('theme-dark')) {\r\n      console.log(`üé® Theme from DOM class: dark`);\r\n      return 'dark';\r\n    }\r\n    \r\n    // Priority 2: Check localStorage (user's preference if saved)\r\n    const savedTheme = localStorage.getItem('currentTheme');\r\n    if (savedTheme && ['dark', 'light'].includes(savedTheme)) {\r\n      console.log(`üé® Theme from localStorage: ${savedTheme}`);\r\n      return savedTheme;\r\n    }\r\n    \r\n    // Priority 3: Check html element data attribute\r\n    const htmlTheme = document.documentElement.getAttribute('data-theme');\r\n    if (htmlTheme && ['dark', 'light'].includes(htmlTheme)) {\r\n      console.log(`üé® Theme from HTML data-theme: ${htmlTheme}`);\r\n      return htmlTheme;\r\n    }\r\n    \r\n    // Priority 4: Check system preference\r\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n      console.log(`üé® Theme from system preference: dark`);\r\n      return 'dark';\r\n    }\r\n    \r\n    // Default fallback - LIGHT\r\n    console.log(`üé® Using default theme: light`);\r\n    return 'light';\r\n  },\r\n  \r\n  /**\r\n   * Initialize background manager\r\n   */\r\n  async init() {\r\n    console.log('üé® Initializing Background Manager...');\r\n    \r\n    // Detect current theme\r\n    this.currentTheme = this.detectCurrentTheme();\r\n    console.log(`üé® Detected theme: ${this.currentTheme}`);\r\n    \r\n    // Create background container immediately\r\n    this.createBackgroundContainer();\r\n    \r\n    // Try to load backgrounds from cache first\r\n    const cachedBgs = this.loadBackgroundsFromCache(this.currentTheme);\r\n    if (cachedBgs && cachedBgs.length > 0) {\r\n      console.log(`üé® Loaded ${cachedBgs.length} backgrounds from cache for ${this.currentTheme}`);\r\n      this.backgrounds = cachedBgs;\r\n    } else {\r\n      console.log(`üé® No cached backgrounds for ${this.currentTheme}, using placeholders`);\r\n      this.applyPlaceholderVariants(this.currentTheme);\r\n    }\r\n    \r\n    // Generate backgrounds in background (non-blocking) with timeout\r\n    this.generateBackgroundsWithTimeout(this.currentTheme, 5000)\r\n      .catch(err => console.warn('üé® Background generation timeout/error:', err));\r\n    \r\n    // Apply current background from localStorage\r\n    this.applyBackground(this.currentBackground);\r\n    \r\n    // Setup theme change listeners - Generate and apply backgrounds\r\n    document.addEventListener('themeChange', (e) => {\r\n      this.currentTheme = e.detail.theme;\r\n      console.log(`üé® Theme changed to: ${this.currentTheme}`);\r\n      \r\n      // Try to load cached backgrounds for new theme\r\n      const cachedBgs = this.loadBackgroundsFromCache(this.currentTheme);\r\n      if (cachedBgs && cachedBgs.length > 0) {\r\n        console.log(`üé® Using cached backgrounds for ${this.currentTheme}`);\r\n        this.backgrounds = cachedBgs;\r\n        // Apply the current background index (or 0 if out of range)\r\n        const bgIndex = this.currentBackground < this.backgrounds.length ? this.currentBackground : 0;\r\n        this.applyBackground(bgIndex);\r\n      } else {\r\n        console.log(`üé® Applying placeholders while generating ${this.currentTheme}`);\r\n        this.applyPlaceholderVariants(this.currentTheme);\r\n        // Apply first placeholder\r\n        this.applyBackground(0);\r\n      }\r\n      \r\n      // Generate backgrounds non-blocking with timeout\r\n      this.generateBackgroundsWithTimeout(this.currentTheme, 5000)\r\n        .then(() => {\r\n          // After generating, apply the same index or 0\r\n          const bgIndex = this.currentBackground < this.backgrounds.length ? this.currentBackground : 0;\r\n          this.applyBackground(bgIndex);\r\n        })\r\n        .catch(err => console.warn('üé® Background generation timeout:', err));\r\n      \r\n      // Dispatch event\r\n      document.dispatchEvent(new CustomEvent('backgroundsNeedRefresh', {\r\n        detail: { theme: this.currentTheme }\r\n      }));\r\n    });\r\n    \r\n    // Watch for system theme changes\r\n    if (window.matchMedia) {\r\n      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\r\n        const newTheme = e.matches ? 'dark' : 'light';\r\n        if (newTheme !== this.currentTheme) {\r\n          this.currentTheme = newTheme;\r\n          console.log(`üé® System theme changed to: ${newTheme}`);\r\n          this.generateAndApply();\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Watch for CSS class changes on html/body\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        if (mutation.attributeName === 'class') {\r\n          const detectedTheme = this.detectCurrentTheme();\r\n          if (detectedTheme !== this.currentTheme && detectedTheme !== localStorage.getItem('currentTheme')) {\r\n            this.currentTheme = detectedTheme;\r\n            console.log(`üé® DOM theme class changed to: ${detectedTheme}`);\r\n            this.generateAndApply();\r\n          }\r\n        }\r\n      });\r\n    });\r\n    \r\n    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\r\n    observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });\r\n    \r\n    console.log('‚úÖ Background Manager initialized with auto-detection');\r\n  },\r\n  \r\n  /**\r\n   * Create background container in DOM\r\n   */\r\n  createBackgroundContainer() {\r\n    // Check if already exists\r\n    if (document.getElementById('aiBackgroundContainer')) return;\r\n\r\n    const container = document.createElement('div');\r\n    container.id = 'aiBackgroundContainer';\r\n    // FIX: Use correct class name matching CSS\r\n    container.className = 'app-background-container';\r\n    \r\n    const overlay = document.createElement('div');\r\n    overlay.id = 'aiBackgroundOverlay';\r\n    // FIX: Use correct class name matching CSS\r\n    overlay.className = 'background-overlay';\r\n    \r\n    container.appendChild(overlay);\r\n    document.body.insertBefore(container, document.body.firstChild);\r\n\r\n    // REMOVED: Background manager should NOT modify UI component transparency\r\n    // Transparency is managed independently by glassmorphism-opacity-controller.js\r\n    // if (window.transparencyManager) {\r\n    //   window.transparencyManager.forceReapply();\r\n    // }\r\n  },\r\n  \r\n  /**\r\n   * Save backgrounds to localStorage cache\r\n   */\r\n  saveBackgroundsToCache(theme) {\r\n    try {\r\n      const cacheKey = `speedyflow_backgrounds_${theme}`;\r\n      // FIX: Cache up to 20 backgrounds (was 5) to support full pagination\r\n      const toCache = this.backgrounds.slice(0, 20);\r\n      localStorage.setItem(cacheKey, JSON.stringify(toCache));\r\n      console.log(`üé® Saved ${toCache.length} backgrounds to cache for ${theme}`);\r\n    } catch (error) {\r\n      // Silently fail if localStorage is full\r\n      console.warn('üé® Could not save to localStorage:', error.message);\r\n    }\r\n  },\r\n  \r\n  /**\r\n   * Load backgrounds from localStorage cache\r\n   */\r\n  loadBackgroundsFromCache(theme) {\r\n    try {\r\n      const cacheKey = `speedyflow_backgrounds_${theme}`;\r\n      const cached = localStorage.getItem(cacheKey);\r\n      if (cached) {\r\n        const bgs = JSON.parse(cached);\r\n        if (Array.isArray(bgs) && bgs.length > 0) {\r\n          console.log(`üé® Loaded ${bgs.length} backgrounds from cache`);\r\n          return bgs;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('üé® Could not load from cache:', error.message);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  /**\r\n   * Remove duplicate buttons from background selector modal\r\n   */\r\n  removeDuplicateModalButtons() {\r\n    const modal = document.querySelector('.background-selector-modal');\r\n    if (!modal) return;\r\n    \r\n    // Find all button containers\r\n    const buttonContainers = modal.querySelectorAll('.modal-buttons, .button-container, .action-buttons');\r\n    \r\n    // If we have multiple button containers, keep only the first one\r\n    for (let i = 1; i < buttonContainers.length; i++) {\r\n      console.log('üßπ Removing duplicate button container');\r\n      buttonContainers[i].remove();\r\n    }\r\n    \r\n    // Remove duplicate individual buttons\r\n    const allButtons = modal.querySelectorAll('button');\r\n    const seenButtons = new Set();\r\n    \r\n    allButtons.forEach(button => {\r\n      const buttonId = button.textContent.trim() + button.className;\r\n      if (seenButtons.has(buttonId)) {\r\n        console.log('üßπ Removing duplicate button:', button.textContent);\r\n        button.remove();\r\n      } else {\r\n        seenButtons.add(buttonId);\r\n      }\r\n    });\r\n  },\r\n\r\n  async generateBackgroundsWithTimeout(theme, timeoutMs = 5000) {\r\n    return Promise.race([\r\n      this.generateBackgrounds(theme),\r\n      new Promise((_, reject) =>\r\n        setTimeout(() => reject(new Error('Generation timeout')), timeoutMs)\r\n      )\r\n    ]);\r\n  },\r\n\r\n  async generateBackgrounds(theme) {\r\n    if (this.isGenerating) {\r\n      console.log('üîÑ Already generating, skipping...');\r\n      return;\r\n    }\r\n    \r\n    this.isGenerating = true;\r\n    console.log(`üîÑ Generating backgrounds for theme: ${theme}`);\r\n    \r\n    // Fix duplicate buttons in modal\r\n    this.removeDuplicateModalButtons();\r\n    \r\n    try {\r\n      // Add timeout using AbortController\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 4000);\r\n      \r\n      const response = await fetch('/api/backgrounds/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ theme }),\r\n        signal: controller.signal\r\n      });\r\n      \r\n      clearTimeout(timeoutId);\r\n      \r\n      if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n      \r\n      const data = await response.json();\r\n      console.log(`‚úÖ API Response success: ${data.success}, variants count: ${data.variants?.length || 0}`);\r\n      \r\n      if (data.success && Array.isArray(data.variants) && data.variants.length > 0) {\r\n        this.backgrounds = data.variants;\r\n        console.log(`‚úÖ Generated ${data.variants.length} backgrounds for ${theme}`);\r\n        console.log(`üìä OLLAMA: ${data.ollama_available ? 'Available' : 'Fallback'}`);\r\n        \r\n        // Save to cache\r\n        this.saveBackgroundsToCache(theme);\r\n        \r\n        // Dispatch custom event\r\n        document.dispatchEvent(new CustomEvent('backgroundsGenerated', {\r\n          detail: { theme, count: data.variants.length }\r\n        }));\r\n      } else {\r\n        console.warn('‚ö†Ô∏è  Response missing variants array, using placeholder');\r\n        this.applyPlaceholderVariants(theme);\r\n      }\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') {\r\n        console.error('‚ùå Background generation timeout (>4s)');\r\n      } else {\r\n        console.error('‚ùå Error generating backgrounds:', error.message);\r\n      }\r\n      this.applyPlaceholderVariants(theme);\r\n    } finally {\r\n      this.isGenerating = false;\r\n    }\r\n  },\r\n\r\n  applyPlaceholderVariants(theme) {\r\n    // Solid colors + gradient variants\r\n    const solidColors = theme === 'dark' \r\n      ? [\r\n          { color: '#000000', name: 'Pure Black' },\r\n          { color: '#0a1929', name: 'Deep Blue' }\r\n        ]\r\n      : [\r\n          { color: '#ffffff', name: 'Pure White' },\r\n          { color: '#f8f9fa', name: 'Light Gray' }\r\n        ];\r\n    \r\n    // Create solid color SVGs\r\n    const solidSvgs = solidColors.map((solid, idx) => {\r\n      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'><rect width='1600' height='900' fill='${solid.color}'/></svg>`;\r\n      const b64 = btoa(svg);\r\n      return {\r\n        id: `${theme}-solid-${idx}`,\r\n        data_uri: `data:image/svg+xml;base64,${b64}`,\r\n        theme,\r\n        description: `${solid.name} (Solid)`,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n    });\r\n    \r\n    // Gradient variants\r\n    const svgA = `<svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${theme==='dark'?'#0f172a':'#ffffff'}'/><stop offset='100%' stop-color='${theme==='dark'?'#1e3a8a':'#dbeafe'}'/></linearGradient><rect width='1600' height='900' fill='url(#g)'/></svg>`;\r\n    const svgB = `<svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'><linearGradient id='h' x1='1' y1='0' x2='0' y2='1'><stop offset='0%' stop-color='${theme==='dark'?'#312e81':'#bfdbfe'}'/><stop offset='100%' stop-color='${theme==='dark'?'#1e3a8a':'#93c5fd'}'/></linearGradient><rect width='1600' height='900' fill='url(#h)'/></svg>`;\r\n    const b64A = btoa(svgA); const b64B = btoa(svgB);\r\n    \r\n    const gradients = [\r\n      { id: `${theme}-gradient-0`, data_uri: `data:image/svg+xml;base64,${b64A}`, theme, description: 'Gradient A', timestamp: new Date().toISOString() },\r\n      { id: `${theme}-gradient-1`, data_uri: `data:image/svg+xml;base64,${b64B}`, theme, description: 'Gradient B', timestamp: new Date().toISOString() }\r\n    ];\r\n    \r\n    // Combine: solid colors first, then gradients\r\n    this.backgrounds = [...solidSvgs, ...gradients];\r\n    \r\n    // Save placeholders to cache too\r\n    this.saveBackgroundsToCache(theme);\r\n    console.log(`üé® Applied ${this.backgrounds.length} backgrounds (${solidSvgs.length} solid + ${gradients.length} gradients) for ${theme}`);\r\n    document.dispatchEvent(new CustomEvent('backgroundsGenerated', { detail: { theme, count: this.backgrounds.length, placeholder: true } }));\r\n  },\r\n  \r\n  /**\r\n   * Apply background by ID\r\n   */\r\n  applyBackground(id) {\r\n    // Validate that we have backgrounds\r\n    if (!this.backgrounds || this.backgrounds.length === 0) {\r\n      console.warn(`‚ö†Ô∏è No backgrounds available to apply`);\r\n      return;\r\n    }\r\n    \r\n    const bg = this.backgrounds[id];\r\n    if (!bg) {\r\n      console.warn(`‚ö†Ô∏è Background ${id} not found`);\r\n      return;\r\n    }\r\n    \r\n    console.log(`üé® Applying background ${id} (${bg.theme})`);\r\n    \r\n    const container = document.getElementById('aiBackgroundContainer');\r\n    if (!container) return;\r\n    \r\n    // Create or update background image\r\n    let bgImage = document.getElementById('aiBackgroundImage');\r\n    if (!bgImage) {\r\n      bgImage = document.createElement('div');\r\n      bgImage.id = 'aiBackgroundImage';\r\n      // FIX: Use correct class name matching CSS\r\n      bgImage.className = 'background-image-layer';\r\n      container.insertBefore(bgImage, container.firstChild);\r\n    }\r\n    \r\n    // Apply background via data URI\r\n    bgImage.style.backgroundImage = `url('${bg.data_uri}')`;\r\n    \r\n    // Initialize parallax effect on the applied background\r\n    this.initBackgroundParallax();\r\n    \r\n    // Store selection\r\n    this.currentBackground = id;\r\n    localStorage.setItem('currentBackground', id);\r\n    \r\n    // Dispatch event\r\n    document.dispatchEvent(new CustomEvent('backgroundChanged', {\r\n      detail: { id, theme: bg.theme, description: bg.description }\r\n    }));\r\n  },\r\n  \r\n  /**\r\n   * Initialize parallax effect for applied background\r\n   */\r\n  initBackgroundParallax() {\r\n    if (this.parallaxInitialized) return;\r\n    \r\n    const bgImage = document.getElementById('aiBackgroundImage');\r\n    if (!bgImage) return;\r\n\r\n    console.log('‚ú® Initializing parallax effect');\r\n    this.parallaxInitialized = true;\r\n\r\n    // Use requestAnimationFrame for smooth parallax\r\n    let lastX = window.innerWidth / 2;\r\n    let lastY = window.innerHeight / 2;\r\n    let targetX = lastX;\r\n    let targetY = lastY;\r\n\r\n    document.addEventListener('mousemove', (e) => {\r\n      targetX = e.clientX;\r\n      targetY = e.clientY;\r\n    });\r\n\r\n    // Smooth parallax animation loop\r\n    const animateParallax = () => {\r\n      // Always get the current element in case it was re-created\r\n      const currentBgImage = document.getElementById('aiBackgroundImage');\r\n      if (!currentBgImage) {\r\n        requestAnimationFrame(animateParallax);\r\n        return;\r\n      }\r\n\r\n      // Smooth interpolation for slower movement\r\n      lastX += (targetX - lastX) * 0.05; // Slower easing\r\n      lastY += (targetY - lastY) * 0.05; // Slower easing\r\n\r\n      const xPercent = (lastX / window.innerWidth - 0.5) * 2;\r\n      const yPercent = (lastY / window.innerHeight - 0.5) * 2;\r\n\r\n      // INCREASED parallax effect: 50px max movement (was 10px)\r\n      const moveX = xPercent * 50; // 50px max movement\r\n      const moveY = yPercent * 50; // 50px max movement\r\n\r\n      currentBgImage.style.backgroundPosition = `calc(50% + ${moveX}px) calc(50% + ${moveY}px)`;\r\n      requestAnimationFrame(animateParallax);\r\n    };\r\n\r\n    animateParallax();\r\n\r\n    // Reset on mouse leave\r\n    document.addEventListener('mouseleave', () => {\r\n      targetX = window.innerWidth / 2;\r\n      targetY = window.innerHeight / 2;\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * Generate and apply backgrounds for current theme\r\n   */\r\n  async generateAndApply() {\r\n    await this.generateBackgrounds(this.currentTheme);\r\n    this.applyBackground(this.currentBackground);\r\n  },\r\n  \r\n  /**\r\n   * Get list of available backgrounds\r\n   */\r\n  getBackgroundList() {\r\n    return this.backgrounds.map((bg, idx) => ({\r\n      id: bg.id || idx,\r\n      theme: bg.theme,\r\n      description: bg.description,\r\n      timestamp: bg.timestamp,\r\n      data_uri: bg.data_uri,  // CRITICAL: Include data_uri for thumbnails\r\n      style: bg.style,\r\n      svg: bg.svg\r\n    }));\r\n  },\r\n  \r\n  /**\r\n   * Switch to next background\r\n   */\r\n  nextBackground() {\r\n    const nextId = (this.currentBackground + 1) % this.backgrounds.length;\r\n    this.applyBackground(nextId);\r\n  },\r\n  \r\n  /**\r\n   * Switch to previous background\r\n   */\r\n  previousBackground() {\r\n    const prevId = (this.currentBackground - 1 + this.backgrounds.length) % this.backgrounds.length;\r\n    this.applyBackground(prevId);\r\n  },\r\n  \r\n  /**\r\n   * Get current background info\r\n   */\r\n  getCurrentBackground() {\r\n    return this.backgrounds[this.currentBackground];\r\n  }\r\n};\r\n\r\n// Export for use in other scripts\r\nwindow.backgroundManager = backgroundManager;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/background-selector-ui.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 530
      },
      {
        "start": 549,
        "end": 3261
      },
      {
        "start": 3651,
        "end": 8774
      },
      {
        "start": 8869,
        "end": 11899
      },
      {
        "start": 12338,
        "end": 17109
      },
      {
        "start": 17915,
        "end": 18311
      },
      {
        "start": 18725,
        "end": 20869
      },
      {
        "start": 20904,
        "end": 27608
      },
      {
        "start": 27963,
        "end": 28205
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Background Selector UI Component\r\n * Modal para seleccionar y previsualizar fondos\r\n */\r\n\r\nclass BackgroundSelectorUI {\r\n  constructor() {\r\n    this.isOpen = false;\r\n    this.modal = null;\r\n    this.button = null;\r\n    this._isUpdating = false;\r\n  }\r\n  \r\n  /**\r\n   * Initialize the selector UI\r\n   */\r\n  init() {\r\n    console.log('üé® Initializing Background Selector UI...');\r\n    \r\n    // Ensure DOM is ready\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => this.initUI());\r\n    } else {\r\n      this.initUI();\r\n    }\r\n  }\r\n  \r\n  initUI() {\r\n    // The button is now created in HTML directly, just attach event listener\r\n    this.attachButtonListener();\r\n    \r\n    // Create modal\r\n    this.createModal();\r\n    \r\n    // Setup event listeners\r\n    this.setupEventListeners();\r\n    \r\n    // Load saved effects settings if they exist\r\n    // Wait for transparency manager to initialize first\r\n    const waitForTransparencyManager = () => {\r\n      if (window.transparencyManager) {\r\n        const saved = this.loadSavedEffects();\r\n        if (saved) {\r\n          console.log('üìÇ Loaded and applied saved effects');\r\n          this.applyEffectsGlobally();\r\n        }\r\n      } else {\r\n        console.log('‚è≥ Waiting for transparency manager...');\r\n        setTimeout(waitForTransparencyManager, 100);\r\n      }\r\n    };\r\n    setTimeout(waitForTransparencyManager, 100);\r\n    \r\n    // Listen for backgrounds being generated - DISABLED\r\n    // Event listeners disabled - visual only mode\r\n    \r\n    console.log('‚úÖ Background Selector UI initialized');\r\n  }\r\n  \r\n  /**\r\n   * Attach click listener to existing button\r\n   */\r\n  attachButtonListener() {\r\n    // Retry logic in case button isn't available immediately\r\n    let attempts = 0;\r\n    const maxAttempts = 10;\r\n    \r\n    const tryAttach = () => {\r\n      const button = document.getElementById('bgSelectorHeaderBtn');\r\n      \r\n      if (!button) {\r\n        attempts++;\r\n        if (attempts < maxAttempts) {\r\n          console.log(`‚è≥ Attempt ${attempts}/${maxAttempts}: Button not found, retrying...`);\r\n          setTimeout(tryAttach, 200);\r\n        } else {\r\n          console.error('‚ùå Background button not found after 10 attempts');\r\n        }\r\n        return;\r\n      }\r\n      \r\n      this.button = button;\r\n      \r\n      // Remove any existing listeners first to avoid duplicates\r\n      const newButton = button.cloneNode(true);\r\n      button.parentNode.replaceChild(newButton, button);\r\n      this.button = newButton;\r\n      \r\n      // Add click handler\r\n      this.button.addEventListener('click', (e) => {\r\n        console.log('üé® Background button clicked!');\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.toggleModal();\r\n      }, false);\r\n      \r\n      console.log('‚úÖ Background button listener attached successfully');\r\n      console.log('üìç Button element:', this.button);\r\n      console.log('üìç Button ID:', this.button.id);\r\n      console.log('üìç Button class:', this.button.className);\r\n    };\r\n    \r\n    tryAttach();\r\n  }\r\n  \r\n  /**\r\n   * Create button in header (next to theme selector)\r\n   * NOTE: Button is now created directly in HTML, this method is kept for backward compatibility\r\n   */\r\n  createHeaderButton() {\r\n    console.log('üîÑ createHeaderButton() called - button should be in HTML');\r\n    \r\n    // Find existing button\r\n    const button = document.getElementById('bgSelectorHeaderBtn');\r\n    if (button) {\r\n      console.log('‚úÖ Button already exists in HTML');\r\n      this.button = button;\r\n      return;\r\n    }\r\n    \r\n    console.warn('‚ö†Ô∏è Button not found in HTML');\r\n  }\r\n  \r\n  /**\r\n   * Create modal\r\n   */\r\n  createModal() {\r\n    // Check if modal already exists to prevent duplicates\r\n    if (document.getElementById('bgSelectorModal')) {\r\n      console.warn('‚ö†Ô∏è Modal already exists, skipping creation');\r\n      return;\r\n    }\r\n\r\n    const modal = document.createElement('div');\r\n    modal.className = 'bg-selector-modal';\r\n    modal.id = 'bgSelectorModal';\r\n    modal.setAttribute('data-modal-type', 'background-selector');\r\n    modal.style.display = 'none';\r\n    \r\n    modal.innerHTML = `\r\n      <div class=\"bg-modal-overlay\" data-overlay=\"bg-selector\"></div>\r\n      <div class=\"bg-modal-content\" data-modal-content=\"background-selector\">\r\n        <div class=\"bg-modal-header\">\r\n          <h3 class=\"bg-modal-title\">üé® Select Background</h3>\r\n          <button class=\"bg-modal-close\" onclick=\"backgroundSelectorUI.closeModal()\">√ó</button>\r\n        </div>\r\n        \r\n        <!-- TAB NAVIGATION -->\r\n        <div class=\"bg-modal-tabs\">\r\n          <button class=\"bg-modal-tab active\" data-tab=\"backgrounds\">\r\n            üñºÔ∏è Backgrounds\r\n          </button>\r\n          <button class=\"bg-modal-tab\" data-tab=\"effects\">\r\n            üéöÔ∏è Effects\r\n          </button>\r\n        </div>\r\n        \r\n        <!-- TAB: BACKGROUNDS -->\r\n        <div class=\"bg-modal-tab-content active\" id=\"tab-backgrounds\">\r\n          <div class=\"bg-theme-info\">\r\n            <span id=\"bgThemeDisplay\">Dark Theme</span>\r\n          </div>\r\n          \r\n          <div class=\"bg-variants-grid\" id=\"bgVariantsGrid\">\r\n            ${this.createSkeletons()}\r\n          </div>\r\n          \r\n          <div class=\"bg-modal-footer\">\r\n            <button class=\"bg-btn\" onclick-disabled=\"backgroundManager.previousBackground()\">‚Üê Prev</button>\r\n            <button class=\"bg-btn\" onclick-disabled=\"backgroundManager.nextBackground()\">Next ‚Üí</button>\r\n            <button class=\"bg-btn\" onclick-disabled=\"backgroundSelectorUI.randomBackground()\">Random</button>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- TAB: EFFECTS -->\r\n        <div class=\"bg-modal-tab-content\" id=\"tab-effects\">\r\n          <div class=\"effects-controls-panel\">\r\n            <!-- OPACITY CONTROL - Affects all 3 layers -->\r\n            <div class=\"effects-section\">\r\n              <h4 class=\"effects-section-title\">Opacity (All Layers)</h4>\r\n              <p class=\"effects-section-desc\">Controls transparency of Primary, Secondary, and Tertiary backgrounds</p>\r\n              \r\n              <div class=\"effect-control-group\">\r\n                <label for=\"globalOpacitySlider\">Opacity Level</label>\r\n                <div class=\"effect-slider-container\">\r\n                  <input \r\n                    type=\"range\" \r\n                    id=\"globalOpacitySlider\" \r\n                    class=\"effect-transparency-slider\" \r\n                    min=\"0\" \r\n                    max=\"1\" \r\n                    step=\"0.05\"\r\n                    value=\"0.65\"\r\n                  >\r\n                  <span class=\"effect-control-value\" id=\"globalOpacityValue\">65%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"effects-divider\"></div>\r\n\r\n            <!-- BLUR CONTROL - Affects all 3 layers -->\r\n            <div class=\"effects-section\">\r\n              <h4 class=\"effects-section-title\">Blur Effect (All Layers)</h4>\r\n              <p class=\"effects-section-desc\">Controls blur intensity of Primary, Secondary, and Tertiary backgrounds</p>\r\n              \r\n              <div class=\"effect-control-group\">\r\n                <label for=\"globalBlurSlider\">Blur Intensity</label>\r\n                <div class=\"effect-slider-container\">\r\n                  <input \r\n                    type=\"range\" \r\n                    id=\"globalBlurSlider\" \r\n                    class=\"effect-blur-slider\" \r\n                    min=\"0\" \r\n                    max=\"30\" \r\n                    step=\"1\"\r\n                    value=\"15\"\r\n                  >\r\n                  <span class=\"effect-control-value\" id=\"globalBlurValue\">15px</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"effects-divider\"></div>\r\n\r\n            <!-- ACTIONS -->\r\n            <div class=\"effects-actions\">\r\n              <button class=\"effects-save-btn\" onclick=\"backgroundSelectorUI.saveEffects()\">üíæ Save Settings</button>\r\n              <button class=\"effects-reset-btn\" onclick=\"backgroundSelectorUI.resetEffects()\">üîÑ Reset Defaults</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    document.body.appendChild(modal);\r\n    this.modal = modal;\r\n    this.setupTabNavigation();\r\n    this.attachEffectsListeners();\r\n  }\r\n  \r\n  /**\r\n   * Setup event listeners\r\n   */\r\n  /**\r\n   * Setup event listeners\r\n   */\r\n  setupEventListeners() {\r\n    // No pagination needed - show all unique backgrounds\r\n    console.log('‚úÖ Displaying all unique backgrounds');\r\n    \r\n    // Close modal when clicking overlay\r\n    const overlay = this.modal.querySelector('.bg-modal-overlay[data-overlay=\"bg-selector\"]');\r\n    if (overlay) {\r\n      overlay.addEventListener('click', (e) => {\r\n        if (e.target === overlay) {\r\n          this.closeModal();\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Close on ESC key\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.isOpen && this.modal.classList.contains('bg-modal-open')) {\r\n        this.closeModal();\r\n      }\r\n    });\r\n    \r\n    // Listen for background changes\r\n    document.addEventListener('backgroundChanged', (e) => {\r\n      if (this.isOpen) {\r\n        this.updateActiveState(e.detail.id);\r\n      }\r\n    });\r\n    \r\n    // Listen for backgrounds refresh/generation\r\n    document.addEventListener('backgroundsGenerated', (e) => {\r\n      console.log('üé® Backgrounds generated, updating UI...');\r\n      if (this.isOpen) {\r\n        this.updateVariants();\r\n      } else {\r\n        // If closed, we still might want to update internal state or pre-load\r\n        console.log('üé® Backgrounds updated in background');\r\n      }\r\n    });\r\n    \r\n    // Listen for backgrounds refresh request (theme change)\r\n    document.addEventListener('backgroundsNeedRefresh', (e) => {\r\n      if (this.isOpen) {\r\n        console.log('üé® Backgrounds refreshed for new theme, updating preview images...');\r\n        // Show loading state or skeletons while generating\r\n        const grid = document.getElementById('bgVariantsGrid');\r\n        if (grid) grid.innerHTML = this.createSkeletons();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create skeleton loaders\r\n   */\r\n  createSkeletons() {\r\n    return Array.from({ length: 5 }, (_, i) => `\r\n      <div class=\"bg-variant-item bg-skeleton loading\" key=\"skeleton-${i}\">\r\n        <div class=\"skeleton-shimmer\"></div>\r\n      </div>\r\n    `).join('');\r\n  }\r\n  \r\n  /**\r\n   * Toggle modal visibility\r\n   */\r\n  toggleModal() {\r\n    if (this.isOpen) {\r\n      this.closeModal();\r\n    } else {\r\n      this.openModal();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Open modal\r\n   */\r\n  openModal() {\r\n    // Prevent multiple opens\r\n    if (this.isOpen) return;\r\n    \r\n    this.isOpen = true;\r\n    \r\n    if (this.modal) {\r\n      this.modal.style.display = 'flex';\r\n      this.modal.classList.add('bg-modal-open');\r\n    }\r\n    \r\n    // IMPORTANT: Detect theme and regenerate backgrounds for current theme\r\n    const detectedTheme = backgroundManager.detectCurrentTheme();\r\n    console.log(`üé® Modal opened - Detected theme: ${detectedTheme}`);\r\n    \r\n    // Show loading state immediately\r\n    const grid = document.getElementById('bgVariantsGrid');\r\n    if (grid) {\r\n      grid.innerHTML = this.createSkeletons();\r\n    }\r\n    \r\n    // Check if backgroundManager already has backgrounds for current theme\r\n    if (backgroundManager.backgrounds && backgroundManager.backgrounds.length > 0 && backgroundManager.currentTheme === detectedTheme) {\r\n      console.log(`üé® Using existing backgrounds for ${detectedTheme}`, backgroundManager.backgrounds.length);\r\n      this.updateVariants();\r\n    } else {\r\n      backgroundManager.currentTheme = detectedTheme;\r\n      \r\n      // Generate backgrounds - the event listener will update the modal when ready\r\n      backgroundManager.generateBackgrounds(detectedTheme)\r\n        .catch(err => {\r\n          console.error('‚ùå Background generation failed:', err);\r\n          if (this.isOpen && grid) {\r\n            const errorIcon = typeof SVGIcons !== 'undefined' \r\n              ? SVGIcons.error({ size: 20, className: 'inline-icon' })\r\n              : '‚ùå';\r\n            grid.innerHTML = `<div style=\"text-align: center; padding: 30px; color: #ef4444;\">${errorIcon} Error generating backgrounds</div>`;\r\n          }\r\n        });\r\n    }\r\n    \r\n    console.log('üìÇ Background selector opened');\r\n  }\r\n  \r\n  /**\r\n   * Close modal\r\n   */\r\n  closeModal() {\r\n    if (!this.isOpen) return; // Prevent redundant operations\r\n    \r\n    this.isOpen = false;\r\n    \r\n    if (this.modal && this.modal.classList) {\r\n      this.modal.classList.remove('bg-modal-open');\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      if (!this.isOpen && this.modal) {\r\n        this.modal.style.display = 'none';\r\n      }\r\n    }, 300);\r\n    \r\n    console.log('üìÅ Background selector closed');\r\n  }\r\n  \r\n  /**\r\n   * Update variants in grid\r\n   */\r\n  updateVariants() {\r\n    const grid = document.getElementById('bgVariantsGrid');\r\n    if (!grid) {\r\n      console.error('‚ùå Grid element not found: bgVariantsGrid');\r\n      return;\r\n    }\r\n    \r\n    // Prevent duplicate updates\r\n    if (this._isUpdating) {\r\n      console.log('‚è∏Ô∏è Update already in progress, skipping...');\r\n      return;\r\n    }\r\n    this._isUpdating = true;\r\n    \r\n    const backgrounds = backgroundManager.getBackgroundList();\r\n    console.log(`üîç DEBUG: Total backgrounds in manager: ${backgroundManager.backgrounds.length}`);\r\n    console.log(`üîç DEBUG: getBackgroundList() returned: ${backgrounds.length}`);\r\n    \r\n    // Log each background to detect duplicates\r\n    if (backgrounds.length > 0) {\r\n      console.log(`üîç DEBUG: Background IDs:`, backgrounds.map(bg => bg.id || bg.style));\r\n    }\r\n    \r\n    if (backgrounds.length === 0) {\r\n      console.warn('‚ö†Ô∏è  No backgrounds available yet, showing loading state');\r\n      grid.innerHTML = this.createSkeletons();\r\n      this._isUpdating = false;\r\n      return;\r\n    }\r\n    \r\n    // Filter to get unique backgrounds (no duplicates)\r\n    const uniqueBackgrounds = [];\r\n    const seenIds = new Set();\r\n    \r\n    for (const bg of backgrounds) {\r\n      if (!seenIds.has(bg.id)) {\r\n        seenIds.add(bg.id);\r\n        uniqueBackgrounds.push(bg);\r\n      }\r\n    }\r\n    \r\n    console.log(`üé® Displaying ${uniqueBackgrounds.length} unique backgrounds`);\r\n    console.log('üîë Background IDs:', uniqueBackgrounds.map(b => b.id));\r\n    \r\n    // Clear grid completely\r\n    while (grid.firstChild) {\r\n      grid.removeChild(grid.firstChild);\r\n    }\r\n    \r\n    const pageItems = uniqueBackgrounds;\r\n    \r\n    // Add variant items (no pagination, show all)\r\n    pageItems.forEach((bg, idx) => {\r\n      const item = document.createElement('div');\r\n      item.className = 'bg-variant-item';\r\n      item.title = bg.description || bg.style || `Background ${idx + 1}`;\r\n      item.setAttribute('data-bg-id', idx);\r\n      item.setAttribute('data-unique-id', bg.id);\r\n      item.onclick = () => {\r\n        console.log(`üé® Selected background ${idx}: ${bg.id}`);\r\n        \r\n        // Trigger assembly animation\r\n        if (typeof triggerBackgroundAssembly === 'function') {\r\n          triggerBackgroundAssembly(item);\r\n        }\r\n        \r\n        backgroundManager.applyBackground(idx);\r\n        this.updateActiveState(idx);\r\n      };\r\n      \r\n      // Set background preview from unique background data\r\n      if (bg && bg.data_uri) {\r\n        item.style.backgroundImage = `url('${bg.data_uri}')`;\r\n        item.style.backgroundSize = 'cover';\r\n        item.style.backgroundPosition = 'center';\r\n        item.style.backgroundRepeat = 'no-repeat';\r\n        console.log(`‚úÖ Added background ${idx + 1}/5: ${bg.style || bg.id}`);\r\n        console.log(`üñºÔ∏è data_uri length: ${bg.data_uri.length}, starts with: ${bg.data_uri.substring(0, 50)}...`);\r\n      } else {\r\n        console.warn(`‚ö†Ô∏è No image for background ${idx}`, bg);\r\n        item.style.background = 'linear-gradient(135deg, #1e293b, #0f172a)';\r\n        const placeholderIcon = typeof SVGIcons !== 'undefined' \r\n          ? SVGIcons.image({ size: 32, className: 'placeholder-icon' })\r\n          : 'üñºÔ∏è';\r\n        item.innerHTML = `<div style=\"display:flex;align-items:center;justify-content:center;height:100%;font-size:24px;\">${placeholderIcon}</div>`;\r\n      }\r\n      \r\n      // Add active state if current\r\n      if (idx === backgroundManager.currentBackground) {\r\n        item.classList.add('active');\r\n      }\r\n      \r\n      grid.appendChild(item);\r\n    });\r\n    \r\n    // Update theme display\r\n    const themeDisplay = document.getElementById('bgThemeDisplay');\r\n    if (themeDisplay) {\r\n      const theme = backgroundManager.currentTheme;\r\n      themeDisplay.textContent = theme.charAt(0).toUpperCase() + theme.slice(1) + ' Theme';\r\n    }\r\n    \r\n    console.log(`‚úÖ Successfully displayed ${pageItems.length} unique backgrounds`);\r\n    \r\n    // Release update lock\r\n    this._isUpdating = false;\r\n  }\r\n  \r\n  /**\r\n   * Update ONLY the background images (variant thumbnails) without changing UI theme\r\n   * Called when theme changes to refresh background previews\r\n   */\r\n  updateVariantsImagesOnly() {\r\n    const grid = document.getElementById('bgVariantsGrid');\r\n    const backgrounds = backgroundManager.getBackgroundList();\r\n    \r\n    if (backgrounds.length === 0) {\r\n      console.warn('No backgrounds available yet');\r\n      return;\r\n    }\r\n    \r\n    // Update ONLY the background images in existing items\r\n    const items = grid.querySelectorAll('.bg-variant-item');\r\n    items.forEach((item, idx) => {\r\n      const bgData = backgroundManager.backgrounds[idx];\r\n      if (bgData && bgData.data_uri) {\r\n        item.style.backgroundImage = `url('${bgData.data_uri}')`;\r\n      }\r\n    });\r\n    \r\n    console.log(`‚úÖ Updated ${backgrounds.length} background preview images (theme images regenerated)`);\r\n    // NOTE: Panel UI theme does NOT change - button stays same color\r\n  }\r\n  \r\n  /**\r\n   * Update active state for current background\r\n   */\r\n  updateActiveState(id) {\r\n    const items = document.querySelectorAll('.bg-variant-item');\r\n    items.forEach((item, idx) => {\r\n      if (idx === id) {\r\n        item.classList.add('active');\r\n      } else {\r\n        item.classList.remove('active');\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Select a random background\r\n   */\r\n  randomBackground() {\r\n    const count = backgroundManager.backgrounds.length;\r\n    if (count === 0) return;\r\n    \r\n    const randomId = Math.floor(Math.random() * count);\r\n    \r\n    // Trigger assembly animation\r\n    if (typeof triggerBackgroundAssembly === 'function') {\r\n      triggerBackgroundAssembly();\r\n    }\r\n    \r\n    backgroundManager.applyBackground(randomId);\r\n    this.updateActiveState(randomId);\r\n  }\r\n  \r\n  // Pagination removed - showing all unique backgrounds at once\r\n\r\n  /**\r\n   * Setup tab navigation\r\n   */\r\n  setupTabNavigation() {\r\n    const tabs = document.querySelectorAll('.bg-modal-tab');\r\n    const tabContents = document.querySelectorAll('.bg-modal-tab-content');\r\n\r\n    tabs.forEach(tab => {\r\n      tab.addEventListener('click', () => {\r\n        const tabName = tab.getAttribute('data-tab');\r\n        \r\n        // Remove active class from all tabs and contents\r\n        tabs.forEach(t => t.classList.remove('active'));\r\n        tabContents.forEach(content => content.classList.remove('active'));\r\n        \r\n        // Add active class to clicked tab and corresponding content\r\n        tab.classList.add('active');\r\n        const content = document.getElementById(`tab-${tabName}`);\r\n        if (content) {\r\n          content.classList.add('active');\r\n        }\r\n\r\n        console.log(`üìë Switched to tab: ${tabName}`);\r\n        \r\n        // Update effects sliders if switching to effects tab\r\n        if (tabName === 'effects') {\r\n          this.updateEffectsSliders();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Attach effects slider listeners\r\n   */\r\n  attachEffectsListeners() {\r\n    console.log('üîß Attaching effects listeners...');\r\n    \r\n    // Use a small delay to ensure DOM is fully rendered\r\n    setTimeout(() => {\r\n      // Global opacity slider - affects all 3 layers\r\n      const opacitySlider = document.getElementById('globalOpacitySlider');\r\n      if (opacitySlider) {\r\n        console.log('‚úÖ Opacity slider found, attaching listener');\r\n        // Remove any existing listeners first\r\n        const newOpacitySlider = opacitySlider.cloneNode(true);\r\n        opacitySlider.parentNode.replaceChild(newOpacitySlider, opacitySlider);\r\n        \r\n        newOpacitySlider.addEventListener('input', (e) => {\r\n          console.log('üéöÔ∏è Opacity slider changed:', newOpacitySlider.value);\r\n          this.handleGlobalOpacityChange(newOpacitySlider);\r\n        });\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Opacity slider NOT found - attempting retry...');\r\n        // Retry after longer delay\r\n        setTimeout(() => this.attachEffectsListeners(), 1000);\r\n        return;\r\n      }\r\n\r\n      // Global blur slider - affects all 3 layers\r\n      const blurSlider = document.getElementById('globalBlurSlider');\r\n      if (blurSlider) {\r\n        console.log('‚úÖ Blur slider found, attaching listener');\r\n        // Remove any existing listeners first\r\n        const newBlurSlider = blurSlider.cloneNode(true);\r\n        blurSlider.parentNode.replaceChild(newBlurSlider, blurSlider);\r\n        \r\n        newBlurSlider.addEventListener('input', (e) => {\r\n          console.log('üéöÔ∏è Blur slider changed:', newBlurSlider.value);\r\n          this.handleGlobalBlurChange(newBlurSlider);\r\n        });\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Blur slider NOT found');\r\n      }\r\n      \r\n      console.log('‚úÖ Effects listeners attached successfully');\r\n    }, 100);\r\n  }\r\n\r\n  /**\r\n   * Handle global opacity change - affects all 3 layers\r\n   */\r\n  handleGlobalOpacityChange(slider) {\r\n    const value = parseFloat(slider.value);\r\n    const valueDisplay = document.getElementById('globalOpacityValue');\r\n    \r\n    if (valueDisplay) {\r\n      valueDisplay.textContent = Math.round(value * 100) + '%';\r\n    }\r\n\r\n    if (window.transparencyManager) {\r\n      // Get current theme from transparency manager\r\n      const theme = window.transparencyManager.currentTheme;\r\n      // Apply to all 3 layers with correct API signature: setTransparency(theme, layer, opacity)\r\n      window.transparencyManager.setTransparency(theme, 'primary', value);\r\n      window.transparencyManager.setTransparency(theme, 'secondary', value);\r\n      window.transparencyManager.setTransparency(theme, 'tertiary', value);\r\n      console.log(`üìä Global opacity updated: ${Math.round(value * 100)}%`);\r\n      \r\n      // Apply effects ONLY to UI elements (sidebars, kanban container)\r\n      // NOT to the background manager (background stays solid)\r\n      this.applyEffectsGlobally();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle global blur change - affects all 3 layers\r\n   */\r\n  handleGlobalBlurChange(slider) {\r\n    const value = parseInt(slider.value);\r\n    const valueDisplay = document.getElementById('globalBlurValue');\r\n    \r\n    if (valueDisplay) {\r\n      valueDisplay.textContent = value + 'px';\r\n    }\r\n\r\n    if (window.transparencyManager) {\r\n      // Get current theme from transparency manager\r\n      const theme = window.transparencyManager.currentTheme;\r\n      // Apply to all 3 layers with correct API signature: setBlur(theme, layer, blurPx)\r\n      window.transparencyManager.setBlur(theme, 'primary', value);\r\n      window.transparencyManager.setBlur(theme, 'secondary', value);\r\n      window.transparencyManager.setBlur(theme, 'tertiary', value);\r\n      console.log(`üå´Ô∏è Global blur updated: ${value}px`);\r\n      \r\n      // Apply effects ONLY to UI elements (sidebars, kanban container)\r\n      // NOT to the background manager (background stays solid)\r\n      this.applyEffectsGlobally();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update global effects sliders from transparency manager\r\n   */\r\n  updateEffectsSliders() {\r\n    const manager = window.transparencyManager;\r\n    if (!manager) return;\r\n\r\n    const themeName = manager.currentTheme;\r\n    const settings = manager.settings[themeName];\r\n    \r\n    if (!settings) {\r\n      console.warn(`‚ö†Ô∏è No settings found for theme: ${themeName}`);\r\n      return;\r\n    }\r\n    \r\n    // Sync global opacity slider - use primary value as reference\r\n    const opacitySlider = document.getElementById('globalOpacitySlider');\r\n    const opacityValue = document.getElementById('globalOpacityValue');\r\n    \r\n    if (opacitySlider && settings.primary !== undefined) {\r\n      opacitySlider.value = settings.primary;\r\n      if (opacityValue) opacityValue.textContent = Math.round(settings.primary * 100) + '%';\r\n      console.log(`üéöÔ∏è Updated opacity slider to ${settings.primary}`);\r\n    }\r\n\r\n    // Sync global blur slider - use primary value as reference\r\n    const blurSlider = document.getElementById('globalBlurSlider');\r\n    const blurValue = document.getElementById('globalBlurValue');\r\n    \r\n    if (blurSlider && settings.blur?.primary !== undefined) {\r\n      blurSlider.value = parseInt(settings.blur.primary);\r\n      if (blurValue) blurValue.textContent = parseInt(settings.blur.primary) + 'px';\r\n      console.log(`üå´Ô∏è Updated blur slider to ${settings.blur.primary}px`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reset effects to defaults\r\n   */\r\n  /**\r\n   * Save effects settings to localStorage and apply globally\r\n   */\r\n  saveEffects() {\r\n    console.log('üíæ Saving effects settings...');\r\n    \r\n    if (!window.transparencyManager) {\r\n      console.warn('‚ö†Ô∏è Transparency manager not available');\r\n      return;\r\n    }\r\n\r\n    const settings = window.transparencyManager.settings;\r\n    const theme = window.transparencyManager.currentTheme;\r\n    \r\n    // Save to localStorage\r\n    try {\r\n      localStorage.setItem('speedyflowEffectsSettings', JSON.stringify(settings));\r\n      console.log('‚úÖ Effects settings saved to localStorage');\r\n      \r\n      // Also ensure they're persisted in transparency manager\r\n      window.transparencyManager.saveTransparency();\r\n      \r\n      // Apply to all elements immediately\r\n      this.applyEffectsGlobally();\r\n      \r\n      // Show success message\r\n      alert('‚úÖ Settings saved! They will persist when you restart the app.');\r\n    } catch (error) {\r\n      console.error('‚ùå Error saving effects:', error);\r\n      alert('‚ùå Failed to save settings');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load saved effects from localStorage\r\n   */\r\n  loadSavedEffects() {\r\n    console.log('üìÇ Loading saved effects settings...');\r\n    \r\n    try {\r\n      const saved = localStorage.getItem('speedyflowEffectsSettings');\r\n      if (saved) {\r\n        const settings = JSON.parse(saved);\r\n        console.log('‚úÖ Loaded saved effects settings:', settings);\r\n        \r\n        if (window.transparencyManager) {\r\n          window.transparencyManager.settings = settings;\r\n          window.transparencyManager.applyTransparency();\r\n          this.updateEffectsSliders();\r\n          this.applyEffectsGlobally();\r\n        }\r\n        \r\n        return settings;\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Error loading saved effects:', error);\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Apply effects globally to all elements\r\n   * DELEGATED: Now simply calls transparencyManager.applyTransparency()\r\n   * This eliminates redundancy and ensures single source of truth\r\n   */\r\n  applyEffectsGlobally() {\r\n    if (!window.transparencyManager) {\r\n      console.warn('‚ö†Ô∏è Transparency manager not found');\r\n      return;\r\n    }\r\n\r\n    // Single source of truth: delegate to transparencyManager\r\n    window.transparencyManager.applyTransparency();\r\n  }\r\n\r\n  resetEffects() {\r\n    console.log('üîÑ Resetting effects to defaults...');\r\n    \r\n    if (window.transparencyManager && window.transparencyManager.resetTransparency) {\r\n      window.transparencyManager.resetTransparency();\r\n    }\r\n\r\n    // Update sliders\r\n    this.updateEffectsSliders();\r\n    \r\n    // Apply globally\r\n    this.applyEffectsGlobally();\r\n  }\r\n}\r\n\r\n// Don't create instance here - wait for app.js to do it\r\n// This prevents silent failures if there are syntax errors above\r\n\r\n// Export class globally so app.js can instantiate it\r\nwindow.BackgroundSelectorUI = BackgroundSelectorUI;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/constants/card-sizing.js",
    "ranges": [
      {
        "start": 0,
        "end": 1856
      },
      {
        "start": 1943,
        "end": 2143
      },
      {
        "start": 2228,
        "end": 2291
      },
      {
        "start": 3003,
        "end": 3277
      }
    ],
    "text": "/**\r\n * CARD SIZING CONSTANTS\r\n * =====================\r\n * Synchronized with CSS values in cards-modals.css\r\n * DO NOT modify without updating CSS file\r\n * \r\n * CSS Reference: frontend/static/css/components/cards-modals.css lines 1070-1105\r\n */\r\n\r\n// Define globally FIRST (before const declaration)\r\nif (typeof window !== 'undefined') {\r\n  window.CARD_SIZING = window.CARD_SIZING || {};\r\n}\r\n\r\nconst CARD_SIZING = {\r\n  // Transition count thresholds (from app.js logic)\r\n  COMPACT_THRESHOLD: 2,    // 0-2 transitions = compact\r\n  NORMAL_THRESHOLD: 4,     // 3-4 transitions = normal\r\n  // 5+ transitions = expanded\r\n\r\n  // CSS Class names (must match CSS file)\r\n  CLASS_COMPACT: 'card-compact',\r\n  CLASS_NORMAL: 'card-normal',\r\n  CLASS_EXPANDED: 'card-expanded',\r\n\r\n  // Heights (from CSS min-height properties)\r\n  HEIGHT_COMPACT: 110,     // px\r\n  HEIGHT_NORMAL: 160,      // px\r\n  HEIGHT_EXPANDED: 220,    // px\r\n\r\n  // Padding (from CSS padding property)\r\n  PADDING_COMPACT: 12,     // px\r\n  PADDING_NORMAL: 14,      // px\r\n  PADDING_EXPANDED: 16,    // px\r\n\r\n  // Get sizing config by transitions count\r\n  getConfig: function(transitionCount) {\r\n    if (transitionCount > this.NORMAL_THRESHOLD) {\r\n      return {\r\n        className: this.CLASS_EXPANDED,\r\n        height: this.HEIGHT_EXPANDED,\r\n        padding: this.PADDING_EXPANDED,\r\n        label: 'expanded'\r\n      };\r\n    } else if (transitionCount > this.COMPACT_THRESHOLD) {\r\n      return {\r\n        className: this.CLASS_NORMAL,\r\n        height: this.HEIGHT_NORMAL,\r\n        padding: this.PADDING_NORMAL,\r\n        label: 'normal'\r\n      };\r\n    } else {\r\n      return {\r\n        className: this.CLASS_COMPACT,\r\n        height: this.HEIGHT_COMPACT,\r\n        padding: this.PADDING_COMPACT,\r\n        label: 'compact'\r\n      };\r\n    }\r\n  },\r\n\r\n  // Get CSS class for transitions count\r\n  getClass: function(transitionCount) {\r\n    return this.getConfig(transitionCount).className;\r\n  },\r\n\r\n  // Get height for transitions count\r\n  getHeight: function(transitionCount) {\r\n    return this.getConfig(transitionCount).height;\r\n  },\r\n\r\n  // Get padding for transitions count\r\n  getPadding: function(transitionCount) {\r\n    return this.getConfig(transitionCount).padding;\r\n  },\r\n\r\n  // Validate CSS matches (for debugging)\r\n  validateCSS: function() {\r\n    const compactCard = document.createElement('div');\r\n    compactCard.className = 'issue-card card-compact';\r\n    compactCard.style.display = 'none';\r\n    document.body.appendChild(compactCard);\r\n\r\n    const styles = window.getComputedStyle(compactCard);\r\n    const cssHeight = parseInt(styles.minHeight);\r\n    const cssPadding = parseInt(styles.paddingTop);\r\n\r\n    document.body.removeChild(compactCard);\r\n\r\n    return {\r\n      heightMatch: cssHeight === this.HEIGHT_COMPACT,\r\n      paddingMatch: cssPadding === this.PADDING_COMPACT,\r\n      cssHeight: cssHeight,\r\n      cssPadding: cssPadding,\r\n      expectedHeight: this.HEIGHT_COMPACT,\r\n      expectedPadding: this.PADDING_COMPACT\r\n    };\r\n  }\r\n};\r\n\r\n// Make globally available in browser - AFTER definition\r\nif (typeof window !== 'undefined') {\r\n  window.CARD_SIZING = CARD_SIZING;\r\n}\r\n\r\n// Export for Node.js/module usage\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = CARD_SIZING;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/filter-bar-manager.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2896
      },
      {
        "start": 4091,
        "end": 4097
      },
      {
        "start": 5117,
        "end": 5123
      },
      {
        "start": 5576,
        "end": 6084
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Filter Bar Manager\r\n * Manages filter bar controls: service desk and queue selectors\r\n */\r\n\r\nclass FilterManager {\r\n  constructor() {\r\n    this.deskSelect = document.getElementById('serviceDeskSelectFilter');\r\n    this.queueSelect = document.getElementById('queueSelectFilter');\r\n    this.filterStatus = document.getElementById('filterStatus');\r\n    this.isInitialized = false;\r\n    this.queueLoaded = false;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('üîß FilterManager initializing...');\r\n    \r\n    // Hide old sidebar selects (no longer used)\r\n    this.hideOldSelects();\r\n    \r\n    // Setup change listeners\r\n    this.setupListeners();\r\n    \r\n    // Listen for queue population (from app.js)\r\n    this.setupEventListeners();\r\n    \r\n    console.log('‚úÖ FilterManager initialized');\r\n  }\r\n\r\n  hideOldSelects() {\r\n    const oldDesk = document.getElementById('serviceDeskSelect');\r\n    const oldQueue = document.getElementById('queueSelect');\r\n    \r\n    if (oldDesk) {\r\n      oldDesk.style.display = 'none';\r\n      console.log('üö´ Hidden old serviceDeskSelect');\r\n    }\r\n    if (oldQueue) {\r\n      oldQueue.style.display = 'none';\r\n      console.log('üö´ Hidden old queueSelect');\r\n    }\r\n  }\r\n\r\n  setupListeners() {\r\n    if (this.deskSelect) {\r\n      this.deskSelect.addEventListener('change', (e) => this.onDeskChange(e));\r\n      console.log('üì° Desk select listener attached');\r\n    }\r\n    \r\n    if (this.queueSelect) {\r\n      this.queueSelect.addEventListener('change', (e) => this.onQueueChange(e));\r\n      console.log('üì° Queue select listener attached');\r\n    }\r\n  }\r\n\r\n  setupEventListeners() {\r\n    // Listen for when queues are populated by app.js\r\n    window.addEventListener('queues-loaded', () => {\r\n      console.log('üì° Queues loaded event received');\r\n      this.queueLoaded = true;\r\n      // Just mark as loaded - let app.js handle filtering\r\n    });\r\n  }\r\n\r\n  onDeskChange(event) {\r\n    const deskValue = event.target.value;\r\n    const deskText = event.target.options[event.target.selectedIndex].text;\r\n    \r\n    if (!deskValue) {\r\n      console.warn('‚ö†Ô∏è Desk selection cleared');\r\n      this.updateStatus('Select a desk...', 'warning');\r\n      return;\r\n    }\r\n    \r\n    console.log(`‚úÖ Desk changed: ${deskText} (${deskValue})`);\r\n    this.updateStatus(`Loading queues for ${deskText}...`, 'loading');\r\n    \r\n    // Reset queue loaded flag\r\n    this.queueLoaded = false;\r\n  }\r\n\r\n  onQueueChange(event) {\r\n    const queueValue = event.target.value;\r\n    const queueText = event.target.options[event.target.selectedIndex].text;\r\n    \r\n    if (!queueValue) {\r\n      console.warn('‚ö†Ô∏è Queue selection cleared');\r\n      this.updateStatus('Select a queue...', 'warning');\r\n      return;\r\n    }\r\n    \r\n    console.log(`‚úÖ Queue changed: ${queueText} (${queueValue})`);\r\n    this.updateStatus(`Loading tickets for ${queueText}...`, 'loading');\r\n  }\r\n\r\n  autoSelectDefaults() {\r\n    console.log('üîÑ AutoSelect: Attempting desk selection...');\r\n    \r\n    // Try to auto-select \"Servicios a Cliente\" desk\r\n    const deskOption = this.findOption(this.deskSelect, ['Servicios', 'servicios', 'cliente']);\r\n    if (deskOption) {\r\n      this.deskSelect.value = deskOption.value;\r\n      console.log(`‚úÖ Auto-selected desk: ${deskOption.text}`);\r\n      this.updateStatus(`Desk: ${deskOption.text}`, 'success');\r\n      \r\n      // Trigger change to load queues\r\n      this.deskSelect.dispatchEvent(new Event('change', { bubbles: true }));\r\n      \r\n      // Wait for queues to load\r\n      console.log('‚è≥ Waiting for queues to populate...');\r\n    } else {\r\n      console.warn('‚ö†Ô∏è Target desk not found, selecting first available');\r\n      const firstDesk = Array.from(this.deskSelect.options).find(\r\n        (opt, idx) => idx > 0 && opt.value\r\n      );\r\n      if (firstDesk) {\r\n        this.deskSelect.value = firstDesk.value;\r\n        console.log(`‚úÖ Auto-selected first desk: ${firstDesk.text}`);\r\n        this.updateStatus(`Desk: ${firstDesk.text}`, 'success');\r\n        this.deskSelect.dispatchEvent(new Event('change', { bubbles: true }));\r\n      }\r\n    }\r\n  }\r\n\r\n  autoSelectQueue() {\r\n    console.log('üîÑ AutoSelect: Attempting queue selection...');\r\n    \r\n    const queueOption = this.findOption(this.queueSelect, ['Assigned', 'assigned', 'me']);\r\n    \r\n    if (queueOption) {\r\n      this.queueSelect.value = queueOption.value;\r\n      console.log(`‚úÖ Auto-selected queue: ${queueOption.text}`);\r\n      this.updateStatus(`Queue: ${queueOption.text}`, 'success');\r\n      this.queueSelect.dispatchEvent(new Event('change', { bubbles: true }));\r\n    } else {\r\n      console.warn('‚ö†Ô∏è \"Assigned to me\" queue not found, selecting first available');\r\n      const firstValid = Array.from(this.queueSelect.options).find(\r\n        (opt, idx) => idx > 0 && opt.value\r\n      );\r\n      if (firstValid) {\r\n        this.queueSelect.value = firstValid.value;\r\n        console.log(`‚úÖ Auto-selected first queue: ${firstValid.text}`);\r\n        this.updateStatus(`Queue: ${firstValid.text}`, 'success');\r\n        this.queueSelect.dispatchEvent(new Event('change', { bubbles: true }));\r\n      }\r\n    }\r\n  }\r\n\r\n  findOption(selectElement, searchTexts) {\r\n    if (!selectElement) return null;\r\n    \r\n    // Case-insensitive search through all text patterns\r\n    for (const searchText of searchTexts) {\r\n      const lowerSearch = searchText.toLowerCase();\r\n      const option = Array.from(selectElement.options).find(\r\n        opt => opt.text.toLowerCase().includes(lowerSearch)\r\n      );\r\n      if (option && option.value) return option;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  updateStatus(message, type = 'info') {\r\n    if (!this.filterStatus) return;\r\n    \r\n    const statusText = this.filterStatus.querySelector('.status-text');\r\n    if (statusText) {\r\n      statusText.textContent = message;\r\n      statusText.className = `status-text status-${type}`;\r\n    }\r\n  }\r\n}\r\n\r\n// Initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  window.filterManager = new FilterManager();\r\n  console.log('üéØ Filter layout reorganization complete');\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/flowing-mvp-footer.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 4562
      },
      {
        "start": 4586,
        "end": 4659
      },
      {
        "start": 4788,
        "end": 4865
      },
      {
        "start": 5000,
        "end": 12604
      },
      {
        "start": 12627,
        "end": 26020
      },
      {
        "start": 26156,
        "end": 26498
      },
      {
        "start": 26698,
        "end": 28344
      },
      {
        "start": 28410,
        "end": 29172
      },
      {
        "start": 29217,
        "end": 30754
      },
      {
        "start": 31480,
        "end": 32204
      },
      {
        "start": 32537,
        "end": 33267
      },
      {
        "start": 33499,
        "end": 38301
      },
      {
        "start": 38604,
        "end": 48139
      },
      {
        "start": 48664,
        "end": 48752
      },
      {
        "start": 50244,
        "end": 50250
      },
      {
        "start": 51023,
        "end": 51103
      },
      {
        "start": 51747,
        "end": 85138
      },
      {
        "start": 87430,
        "end": 87436
      },
      {
        "start": 88137,
        "end": 88143
      },
      {
        "start": 89286,
        "end": 89292
      },
      {
        "start": 89436,
        "end": 89478
      },
      {
        "start": 89614,
        "end": 89620
      },
      {
        "start": 89765,
        "end": 89771
      },
      {
        "start": 89909,
        "end": 90051
      },
      {
        "start": 90940,
        "end": 92784
      }
    ],
    "text": "/**\r\n * FLOWING MVP FOOTER\r\n * Collapsible chat assistant with context awareness\r\n */\r\n\r\nclass FlowingFooter {\r\n  constructor() {\r\n    this.footer = null;\r\n    this.toggleBtn = null;\r\n    this.closeBtn = null;\r\n    this.messagesContainer = null;\r\n    this.input = null;\r\n    this.sendBtn = null;\r\n    this.contextBadge = null;\r\n    this.suggestionElement = null;\r\n    this.isExpanded = false;\r\n    this.isLoading = false;\r\n    this.context = {\r\n      currentDesk: null,\r\n      currentQueue: null,\r\n      selectedIssue: null,\r\n      viewMode: 'kanban'\r\n    };\r\n    this.suggestions = [];\r\n    this.currentSuggestionIndex = 0;\r\n    this.suggestionInterval = null;\r\n    this.lastAnalyzeAt = 0;\r\n    this.suggestionPaused = false;\r\n\r\n    this.init();\r\n  }\r\n\r\n  // Utility: strip HTML tags and normalize whitespace for stable comparisons\r\n  _stripHTML(text = '') {\r\n    try {\r\n      return (text + '').replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim();\r\n    } catch (e) { return (text || '').toString(); }\r\n  }\r\n\r\n  init() {\r\n    console.log('ü§ñ Initializing Flowing MVP Footer...');\r\n\r\n    // Get DOM elements\r\n    this.footer = document.getElementById('flowingFooter');\r\n    this.toggleBtn = document.getElementById('flowingToggleBtn');\r\n    this.messagesContainer = document.getElementById('flowingMessages');\r\n    this.input = document.getElementById('flowingInput');\r\n    this.sendBtn = document.getElementById('flowingSendBtn');\r\n    this.contextBadge = document.getElementById('flowingContextBadge');\r\n    this.suggestionElement = document.getElementById('flowingSuggestion');\r\n\r\n    if (!this.footer) {\r\n      // Backward-compat: some older/prototype markup uses `ml-footer` or id `mlFooter`.\r\n      // To avoid breaking existing markup, map legacy classes/ids to the new Flowing MVP names.\r\n      const legacy = document.getElementById('mlFooter') || document.querySelector('.ml-footer');\r\n      if (legacy) {\r\n        console.warn('‚ö†Ô∏è Flowing footer element not found by id; mapping legacy .ml-footer to Flowing MVP');\r\n        // ensure it has the expected id/class names used by the new implementation\r\n        legacy.id = legacy.id || 'flowingFooter';\r\n        legacy.classList.add('flowing-footer');\r\n        // map common legacy header/content classes\r\n        const legacyHeader = legacy.querySelector('.ml-footer-header');\r\n        if (legacyHeader) legacyHeader.classList.add('flowing-header');\r\n        const legacyContent = legacy.querySelector('.ml-footer-content');\r\n        if (legacyContent) legacyContent.classList.add('flowing-content');\r\n        // retry assigning\r\n        this.footer = document.getElementById('flowingFooter');\r\n      }\r\n      if (!this.footer) {\r\n        console.error('‚ùå Flowing MVP footer not found');\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.attachEventListeners();\r\n    this.updateContext();\r\n    this.setupContextWatcher();\r\n    this.startSuggestionRotation();\r\n\r\n    // Ensure footer responds to sidebar collapse/expand events\r\n    try {\r\n      window.addEventListener('sidebarToggled', () => {\r\n        const sidebar = document.querySelector('.sidebar-content-component');\r\n        const collapsed = !!(sidebar && sidebar.classList.contains('collapsed'));\r\n        document.body.classList.toggle('sidebar-collapsed', collapsed);\r\n        this.adjustContentPadding(collapsed);\r\n      });\r\n\r\n      // Observe class changes on sidebar to react to programmatic toggles\r\n      const sb = document.querySelector('.sidebar-content-component');\r\n      if (sb) {\r\n        const mo = new MutationObserver(() => {\r\n          const c = sb.classList.contains('collapsed');\r\n          document.body.classList.toggle('sidebar-collapsed', c);\r\n          this.adjustContentPadding(c);\r\n        });\r\n        mo.observe(sb, { attributes: true, attributeFilter: ['class'] });\r\n      }\r\n    } catch (e) { console.warn('Could not attach sidebar observers for FlowingFooter:', e); }\r\n\r\n    // Set initial padding\r\n    this.adjustContentPadding(true); // Start collapsed\r\n\r\n    console.log('‚úÖ Flowing MVP ready');\r\n  }\r\n\r\n  attachEventListeners() {\r\n    // Toggle button - Integrado con FlowingContext para sugerencias de IA\r\n    this.toggleBtn?.addEventListener('click', () => {\r\n      this.toggle();\r\n      // Si FlowingContext est√° disponible, mostrar sugerencias contextuales\r\n      if (window.FlowingContext && this.isExpanded) {\r\n        this.showContextualSuggestions();\r\n      }\r\n    });\r\n\r\n    // Close button removed - use 'Back to Chat' control instead\r\n\r\n    // Send button\r\n    this.sendBtn?.addEventListener('click', () => this.sendMessage());\r\n\r\n    // Input handling\r\n    this.input?.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Enter' && !e.shiftKey) {\r\n        e.preventDefault();\r\n        this.sendMessage();\r\n      }\r\n    });\r\n\r\n    // Auto-resize textarea\r\n    this.input?.addEventListener('input', () => {\r\n      this.input.style.height = 'auto';\r\n      this.input.style.height = Math.min(this.input.scrollHeight, 120) + 'px';\r\n    });\r\n  }\r\n\r\n  setupContextWatcher() {\r\n    // Watch for changes in window.state (set by app.js)\r\n    setInterval(() => {\r\n      const oldContext = JSON.stringify(this.context);\r\n      this.updateContext();\r\n      const newContext = JSON.stringify(this.context);\r\n\r\n      if (oldContext !== newContext) {\r\n        console.log('üîÑ Context updated:', this.context);\r\n        // Debounce/throttle analysis to avoid frequent re-renders\r\n        this._throttledAnalyzeSuggestions();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  _throttledAnalyzeSuggestions() {\r\n    const now = Date.now();\r\n    // limit to once every 2.5s\r\n    if (now - this.lastAnalyzeAt < 2500) return;\r\n    this.lastAnalyzeAt = now;\r\n    this.analyzeSuggestions();\r\n    // Immediately update suggestion display after analyzing\r\n    this.updateSuggestion();\r\n  }\r\n\r\n  analyzeSuggestions() {\r\n    this.suggestions = [];\r\n\r\n    // Get issues from cache\r\n    const issues = window.app?.issuesCache\r\n      ? Array.from(window.app.issuesCache.values())\r\n      : [];\r\n\r\n    if (issues.length === 0) {\r\n      this.suggestions.push({\r\n        text: 'Select a queue to get started',\r\n        type: 'info'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Analyze overdue tickets\r\n    const now = new Date();\r\n    const overdueTickets = issues.filter(issue => {\r\n      const lastChange = new Date(issue.last_real_change || issue.updated || issue.created);\r\n      const daysSince = Math.floor((now - lastChange) / (1000 * 60 * 60 * 24));\r\n      return daysSince >= 7;\r\n    });\r\n\r\n    if (overdueTickets.length > 0) {\r\n      const txt = `${SVGIcons.alert({ size: 14, className: 'inline-icon' })} ${overdueTickets.length} ticket${overdueTickets.length > 1 ? 's' : ''} overdue (7+ days)`;\r\n      this.suggestions.push({ text: txt, type: 'warning', key: this._stripHTML(txt) });\r\n    }\r\n\r\n    // Analyze critical/high priority tickets\r\n    const urgentTickets = issues.filter(issue =>\r\n      issue.severity === 'Critico' || issue.severity === 'Alto'\r\n    );\r\n\r\n    if (urgentTickets.length > 0) {\r\n      const txt = `${SVGIcons.xCircle({ size: 14, className: 'inline-icon' })} ${urgentTickets.length} urgent ticket${urgentTickets.length > 1 ? 's' : ''} require attention`;\r\n      this.suggestions.push({ text: txt, type: 'critical', key: this._stripHTML(txt) });\r\n    }\r\n\r\n    // Analyze unassigned tickets\r\n    const unassignedTickets = issues.filter(issue =>\r\n      !issue.assignee || issue.assignee === 'Unassigned' || issue.assignee === 'No assignee'\r\n    );\r\n\r\n    if (unassignedTickets.length > 0) {\r\n      const txt = `${SVGIcons.user({ size: 14, className: 'inline-icon' })} ${unassignedTickets.length} unassigned ticket${unassignedTickets.length > 1 ? 's' : ''} in queue`;\r\n      this.suggestions.push({ text: txt, type: 'info', key: this._stripHTML(txt) });\r\n    }\r\n\r\n    // Analyze about to breach (3+ days)\r\n    const aboutToBreachTickets = issues.filter(issue => {\r\n      const lastChange = new Date(issue.last_real_change || issue.updated || issue.created);\r\n      const daysSince = Math.floor((now - lastChange) / (1000 * 60 * 60 * 24));\r\n      return daysSince >= 3 && daysSince < 7;\r\n    });\r\n\r\n    if (aboutToBreachTickets.length > 0) {\r\n      const txt = `${SVGIcons.clock({ size: 14, className: 'inline-icon' })} ${aboutToBreachTickets.length} ticket${aboutToBreachTickets.length > 1 ? 's' : ''} approaching SLA breach`;\r\n      this.suggestions.push({ text: txt, type: 'warning', key: this._stripHTML(txt) });\r\n    }\r\n\r\n    // All clear message\r\n    if (this.suggestions.length === 0) {\r\n      const txt = `${SVGIcons.success({ size: 14, className: 'inline-icon' })} All tickets are up to date!`;\r\n      this.suggestions.push({ text: txt, type: 'success', key: this._stripHTML(txt) });\r\n    }\r\n\r\n    // Add general queue info\r\n    const txt = `${SVGIcons.chart({ size: 14, className: 'inline-icon' })} ${issues.length} ticket${issues.length > 1 ? 's' : ''} in current queue`;\r\n    this.suggestions.push({ text: txt, type: 'info', key: this._stripHTML(txt) });\r\n  }\r\n\r\n  startSuggestionRotation() {\r\n    // Initial analysis\r\n    this.analyzeSuggestions();\r\n    this.updateSuggestion();\r\n\r\n    // Rotate suggestions every 6 seconds (5s visible + 1s transition)\r\n    this.suggestionInterval = setInterval(() => {\r\n      if (!this.suggestionPaused) this.updateSuggestion();\r\n    }, 6000);\r\n  }\r\n\r\n  updateSuggestion() {\r\n    if (!this.suggestionElement || this.suggestions.length === 0) return;\r\n\r\n    // Fade out current suggestion\r\n    // Only change content if different to avoid unnecessary reflows/flashes\r\n    const suggestion = this.suggestions[this.currentSuggestionIndex];\r\n    const currentPlain = this._stripHTML(this.suggestionElement.innerHTML || '');\r\n    const incomingPlain = suggestion.key || this._stripHTML(suggestion.text || '');\r\n\r\n    if (currentPlain === incomingPlain) {\r\n      // Advance index but don't re-render the same content\r\n      this.currentSuggestionIndex = (this.currentSuggestionIndex + 1) % this.suggestions.length;\r\n      return;\r\n    }\r\n\r\n    this.suggestionElement.classList.remove('visible');\r\n\r\n    // Wait for fade out, then update content\r\n    setTimeout(() => {\r\n      // Update HTML and classes\r\n      // Use suggestion.text (full HTML) when rendering\r\n      this.suggestionElement.innerHTML = suggestion.text || '';\r\n      this.suggestionElement.classList.remove('suggestion-critical', 'suggestion-warning', 'suggestion-info', 'suggestion-success');\r\n      this.suggestionElement.classList.add(`suggestion-${suggestion.type}`);\r\n\r\n      // Move to next suggestion\r\n      this.currentSuggestionIndex = (this.currentSuggestionIndex + 1) % this.suggestions.length;\r\n\r\n      // Fade in new suggestion after a brief delay\r\n      setTimeout(() => this.suggestionElement.classList.add('visible'), 50);\r\n    }, 260); // shorter fade to feel snappier but avoid flash\r\n  }\r\n\r\n  updateContext() {\r\n    // Get current context from app state\r\n    this.context = {\r\n      currentDesk: window.state?.currentDesk || null,\r\n      currentQueue: window.state?.currentQueue || null,\r\n      selectedIssue: window.state?.selectedIssue || null,\r\n      viewMode: window.state?.viewMode || 'kanban',\r\n      issuesCount: window.app?.issuesCache?.size || 0\r\n    };\r\n\r\n    this.updateContextBadge();\r\n  }\r\n\r\n  updateContextBadge() {\r\n    if (!this.contextBadge) return;\r\n\r\n    const iconEl = this.contextBadge.querySelector('.context-icon');\r\n    const textEl = this.contextBadge.querySelector('.context-text');\r\n\r\n    // Always clear any emoji/text in the icon slot to avoid flashes\r\n    try {\r\n      if (iconEl) {\r\n        // Prefer a small SVG logo if available, otherwise clear the slot\r\n        if (typeof SVGIcons !== 'undefined' && SVGIcons.logoSmall) {\r\n          iconEl.innerHTML = SVGIcons.logoSmall({ size: 16, className: 'inline-icon' });\r\n        } else {\r\n          iconEl.innerHTML = '';\r\n        }\r\n      }\r\n    } catch (e) { if (iconEl) iconEl.innerHTML = ''; }\r\n\r\n    // Compute desired text for current context (include summary when an issue is selected)\r\n    let desiredText = 'No context';\r\n    if (this.context.selectedIssue) {\r\n      const issueKey = this.context.selectedIssue;\r\n      // Try to find the issue summary in app cache/state\r\n      let summary = '';\r\n      try {\r\n        if (window.app?.issuesCache && window.app.issuesCache.get) {\r\n          const issueObj = window.app.issuesCache.get(issueKey);\r\n          summary = issueObj?.summary || issueObj?.fields?.summary || '';\r\n        }\r\n        if (!summary && Array.isArray(window.state?.issues)) {\r\n          const issueObj = window.state.issues.find(i => i.key === issueKey);\r\n          summary = issueObj?.summary || issueObj?.fields?.summary || '';\r\n        }\r\n      } catch (e) { /* ignore */ }\r\n\r\n      desiredText = summary ? `${issueKey} ‚Äî ${summary}` : `Ticket: ${issueKey}`;\r\n    } else if (this.context.currentQueue) {\r\n      desiredText = `Queue: ${this.context.currentQueue} (${this.context.issuesCount} tickets)`;\r\n    } else if (this.context.currentDesk) {\r\n      desiredText = `Desk: ${this.context.currentDesk}`;\r\n    }\r\n\r\n    // Only update DOM when the text actually changes to avoid reflows/flashes\r\n    try {\r\n      if (textEl && textEl.textContent !== desiredText) {\r\n        textEl.textContent = desiredText;\r\n      }\r\n    } catch (e) { /* ignore */ }\r\n  }\r\n\r\n  toggle() {\r\n    if (this.isExpanded) {\r\n      this.collapse();\r\n    } else {\r\n      this.expand();\r\n    }\r\n  }\r\n\r\n  expand() {\r\n    this.footer?.classList.remove('collapsed');\r\n    this.isExpanded = true;\r\n    this.input?.focus();\r\n\r\n    // Adjust content padding for expanded footer\r\n    this.adjustContentPadding(false);\r\n    // Increase footer max-height to give more space when expanded\r\n    try {\r\n      const desiredMax = Math.max(420, Math.round((window.innerHeight || 800) * 0.82)); // 82% of viewport\r\n      if (this.footer) this.footer.style.maxHeight = desiredMax + 'px';\r\n      document.documentElement.style.setProperty('--flowing-footer-max', desiredMax + 'px');\r\n    } catch (e) { }\r\n\r\n    // After layout, compute footer height and set CSS var so page can be translated up\r\n    try {\r\n      setTimeout(() => {\r\n        try {\r\n          const h = this.footer ? Math.round(this.footer.getBoundingClientRect().height) : 420;\r\n          // compute delta from collapsed footer height so we only push by the added space\r\n          const COLLAPSED_HEIGHT = 56; // matches .flowing-footer.collapsed max-height\r\n          const delta = Math.max(0, h - COLLAPSED_HEIGHT);\r\n          // cap delta to viewport height minus 120px to avoid pushing content completely out\r\n          const cap = Math.max(0, (window.innerHeight || 800) - 120);\r\n          const used = Math.min(delta, cap);\r\n          document.documentElement.style.setProperty('--flowing-footer-height', h + 'px');\r\n          document.documentElement.style.setProperty('--flowing-footer-translate', used + 'px');\r\n          // compute header height inside the footer so columns can size to remaining space\r\n          try {\r\n            const headerEl = this.footer.querySelector('.flowing-header, .ml-footer-header, .footer-header-left') || null;\r\n            const headerH = headerEl ? Math.round(headerEl.getBoundingClientRect().height) : 72;\r\n            document.documentElement.style.setProperty('--flowing-header-height', headerH + 'px');\r\n          } catch (err) { document.documentElement.style.setProperty('--flowing-header-height', '72px'); }\r\n          document.body.classList.add('flowing-footer-expanded');\r\n        } catch (err) { /* ignore */ }\r\n      }, 80);\r\n    } catch (e) { /* ignore */ }\r\n\r\n    console.log('ü§ñ Flowing MVP expanded');\r\n  }\r\n\r\n  collapse() {\r\n    this.footer?.classList.add('collapsed');\r\n    this.isExpanded = false;\r\n\r\n    // Adjust content padding for collapsed footer\r\n    this.adjustContentPadding(true);\r\n    try { document.body.classList.remove('flowing-footer-expanded'); } catch (e) { }\r\n    try { if (this.footer) this.footer.style.maxHeight = ''; } catch (e) { }\r\n    try { document.documentElement.style.removeProperty('--flowing-footer-height'); } catch (e) { }\r\n    try { document.documentElement.style.removeProperty('--flowing-header-height'); } catch (e) { }\r\n    try { document.documentElement.style.removeProperty('--flowing-footer-translate'); } catch (e) { }\r\n\r\n    // Switch back to chat view when collapsing\r\n    this.switchToChatView();\r\n\r\n    console.log('ü§ñ Flowing MVP collapsed');\r\n  }\r\n\r\n  switchToChatView() {\r\n    const chatView = document.getElementById('chatOnlyView');\r\n    const balancedView = document.getElementById('balancedView');\r\n\r\n    if (chatView) chatView.style.display = 'block';\r\n    if (balancedView) balancedView.style.display = 'none';\r\n\r\n    // Reset context\r\n    this.context.selectedIssue = null;\r\n    this.updateContextBadge();\r\n\r\n    if (this.suggestionElement) {\r\n      this.suggestionElement.textContent = 'Analyzing your queue...';\r\n      // resume rotation when returning to chat view\r\n      this.resumeSuggestionRotation();\r\n    }\r\n  }\r\n\r\n  switchToBalancedView(issueKey) {\r\n    console.log('üéØ Switching to balanced view for:', issueKey);\r\n\r\n    const chatView = document.getElementById('chatOnlyView');\r\n    const balancedView = document.getElementById('balancedView');\r\n\r\n    if (chatView) chatView.style.display = 'none';\r\n    if (balancedView) {\r\n      balancedView.style.display = 'block';\r\n\r\n      // Load ticket details into balanced view\r\n      this.loadTicketIntoBalancedView(issueKey);\r\n    }\r\n\r\n    // Update context\r\n    this.context.selectedIssue = issueKey;\r\n    this.updateContextBadge();\r\n\r\n    // Immediately dispatch ticketSelected so ML modules can start processing early\r\n    try {\r\n      document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: { key: issueKey } } }));\r\n      console.log('üì£ Dispatched ticketSelected for', issueKey);\r\n    } catch (e) {\r\n      console.warn('Could not dispatch ticketSelected in switchToBalancedView:', e);\r\n    }\r\n\r\n    if (this.suggestionElement) {\r\n      this.suggestionElement.textContent = `${issueKey} - Viewing details`;\r\n      // pause rotation while viewing a ticket to avoid overwrites/flashes\r\n      this.pauseSuggestionRotation();\r\n    }\r\n  }\r\n\r\n  pauseSuggestionRotation() {\r\n    this.suggestionPaused = true;\r\n  }\r\n\r\n  resumeSuggestionRotation() {\r\n    this.suggestionPaused = false;\r\n  }\r\n\r\n  async loadTicketIntoBalancedView(issueKey) {\r\n    console.log('üì• Loading ticket details for:', issueKey);\r\n\r\n    const container = document.getElementById('balancedContentContainer');\r\n    if (!container) return;\r\n\r\n    // First check if issue exists in state (from app.js)\r\n    let issue = window.state?.issues?.find(i => i.key === issueKey);\r\n\r\n    if (!issue) {\r\n      console.warn('‚ö†Ô∏è Issue not found in state, checking issuesCache...');\r\n      // Try from issuesCache (Map)\r\n      if (window.app?.issuesCache) {\r\n        issue = window.app.issuesCache.get(issueKey);\r\n      }\r\n    }\r\n\r\n    if (!issue) {\r\n      console.error('‚ùå Issue not found:', issueKey);\r\n      container.innerHTML = `\r\n        <div style=\"padding: 40px; text-align: center;\">\r\n          <p style=\"color: #ef4444; margin-bottom: 16px;\">‚ùå Issue not found in current queue</p>\r\n          <button onclick=\"window.flowingFooter.switchToChatView()\" style=\"padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;\">\r\n            <i class=\"fas fa-arrow-left\" style=\"margin-right: 8px;\"></i> Back to Chat\r\n          </button>\r\n        </div>\r\n      `;\r\n      // Dispatch ticketSelected with minimal ticket info so ML modules can react\r\n      try {\r\n        document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: { key: issueKey, fields: {} } } }));\r\n      } catch (e) {\r\n        console.warn('Could not dispatch ticketSelected for missing issue:', e);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Show loading state\r\n    container.innerHTML = `\r\n      <div style=\"padding: 40px; text-align: center;\">\r\n        <div class=\"loading-spinner\" style=\"border: 4px solid #f3f4f6; border-top: 4px solid #3b82f6; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto;\"></div>\r\n        <p style=\"margin-top: 16px; color: #6b7280;\">Loading complete ticket details...</p>\r\n      </div>\r\n    `;\r\n\r\n    try {\r\n      // Fetch complete details from Service Desk API (same as right-sidebar)\r\n      const response = await fetch(`/api/servicedesk/request/${issueKey}`);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const apiData = await response.json();\r\n      const data = apiData.data || apiData;\r\n\r\n      // Merge Service Desk data with existing issue data\r\n      const completeIssue = {\r\n        ...issue,\r\n        ...data,\r\n        fields: {\r\n          ...issue.fields,\r\n          ...data.fields\r\n        }\r\n      };\r\n\r\n      console.log('‚úÖ Complete issue data loaded:', completeIssue);\r\n\r\n      // Render ticket details in balanced view\r\n      this.renderBalancedContent(completeIssue);\r\n      // Render attachments preview for balanced view\r\n      try { this.renderAttachmentsForBalanced(completeIssue); } catch (e) { console.warn('Could not render attachments for balanced view', e); }\r\n      try { this.renderFooterAttachments(completeIssue); } catch (e) { /* ignore */ }\r\n      try { this.setupFooterAttachmentButton(); } catch (e) { /* ignore */ }\r\n\r\n      // Dispatch ticketSelected event so ML modules (comment suggestions, etc.) can react\r\n      try {\r\n        document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: completeIssue } }));\r\n      } catch (e) {\r\n        console.warn('Could not dispatch ticketSelected event for balanced view:', e);\r\n      }\r\n\r\n      // Load comments using the same method as right-sidebar\r\n      this.loadCommentsForBalancedView(issueKey);\r\n      // adjust heights after comments load\r\n      setTimeout(() => this.adjustCommentsHeight(), 120);\r\n\r\n      // Initialize SLA Monitor (same as right-sidebar)\r\n      this.initializeSLAMonitor(issueKey);\r\n\r\n    } catch (error) {\r\n      console.error('‚ö†Ô∏è Error fetching complete details, using cached data:', error);\r\n      // Fallback: Use cached issue data\r\n      this.renderBalancedContent(issue);\r\n      try { this.renderAttachmentsForBalanced(issue); } catch (e) { /* ignore */ }\r\n      try { this.renderFooterAttachments(issue); } catch (e) { /* ignore */ }\r\n      try { this.setupFooterAttachmentButton(); } catch (e) { /* ignore */ }\r\n      try {\r\n        document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: issue } }));\r\n      } catch (e) {\r\n        console.warn('Could not dispatch ticketSelected event for balanced view (fallback):', e);\r\n      }\r\n      this.loadCommentsForBalancedView(issueKey);\r\n      this.initializeSLAMonitor(issueKey);\r\n    }\r\n  }\r\n\r\n  async initializeSLAMonitor(issueKey) {\r\n    console.log('‚è±Ô∏è Initializing SLA Monitor for:', issueKey);\r\n\r\n    const slaContainer = document.querySelector('.sla-monitor-container');\r\n    if (!slaContainer) {\r\n      console.warn('‚ö†Ô∏è SLA container not found');\r\n      return;\r\n    }\r\n\r\n    // Check if window.slaMonitor is available\r\n    if (!window.slaMonitor || typeof window.slaMonitor.init !== 'function') {\r\n      console.warn('‚ö†Ô∏è SLA Monitor not available');\r\n      slaContainer.innerHTML = `\r\n        <div style=\"text-align: center; padding: 20px; color: #9ca3af; font-size: 12px;\">\r\n          <i class=\"fas fa-info-circle\" style=\"margin-bottom: 8px; font-size: 16px;\"></i><br>\r\n          SLA Monitor not available\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Initialize SLA Monitor (same as right-sidebar)\r\n      await window.slaMonitor.init(issueKey);\r\n\r\n      if (window.slaMonitor.slaData && window.slaMonitor.slaData[issueKey]) {\r\n        // Render SLA panel using the existing method\r\n        const slaPanel = window.slaMonitor.renderSLAPanel(issueKey);\r\n        slaContainer.innerHTML = '';\r\n        slaContainer.appendChild(slaPanel);\r\n\r\n        // Make the outer container transparent (no white background) but keep subtle shadow for depth\r\n        try {\r\n          slaContainer.style.background = 'transparent';\r\n          slaContainer.style.border = 'none';\r\n          slaContainer.style.borderRadius = '10px';\r\n          // Keep a soft shadow to lift the panel slightly\r\n          slaContainer.style.boxShadow = '0 8px 20px rgba(15, 23, 42, 0.06)';\r\n          // keep padding for spacing\r\n          slaContainer.style.padding = '12px';\r\n        } catch (e) {\r\n          console.warn('Could not set slaContainer transparent:', e);\r\n        }\r\n\r\n        // Wait for DOM to be ready before customizing (nextTick)\r\n        setTimeout(() => {\r\n          // Customize layout for footer compact view\r\n          // `.sla-panel` was removed ‚Äî fallback to `.sla-monitor` or `.sla-cycle`\r\n          const slaPanelElement = slaContainer.querySelector('.sla-panel') || slaContainer.querySelector('.sla-monitor') || slaContainer.querySelector('.sla-cycle');\r\n          if (slaPanelElement) {\r\n            console.log('üîß Customizing SLA panel layout...');\r\n            console.log('üìã Panel HTML:', slaPanelElement.innerHTML.substring(0, 200));\r\n\r\n            // Hide \"SLA Monitor\" title\r\n            const titleElement = slaPanelElement.querySelector('h3');\r\n            if (titleElement) {\r\n              titleElement.style.display = 'none';\r\n              console.log('‚úÖ Hidden title');\r\n            }\r\n\r\n            // Move refresh button next to status badge (use SLA monitor's real classes)\r\n            const refreshBtn = slaPanelElement.querySelector('.sla-refresh-btn') ||\r\n              slaPanelElement.querySelector('.refresh-sla-btn') ||\r\n              slaPanelElement.querySelector('.btn-refresh-sla') ||\r\n              slaPanelElement.querySelector('button[onclick*=\"refresh\"]') ||\r\n              Array.from(slaPanelElement.querySelectorAll('button')).find(btn =>\r\n                (btn.textContent || '').toLowerCase().includes('‚Üª') || (btn.textContent || '').toLowerCase().includes('refresh')\r\n              );\r\n\r\n            // Status badge is rendered as .cycle-status inside the SLA panel\r\n            const statusBadge = slaPanelElement.querySelector('.cycle-status') ||\r\n              slaPanelElement.querySelector('.cycle-status.healthy') ||\r\n              Array.from(slaPanelElement.querySelectorAll('[class*=\"status\"]')).find(el =>\r\n                (el.textContent || '').toLowerCase().includes('on track') || (el.textContent || '').toLowerCase().includes('breach') || (el.textContent || '').toLowerCase().includes('breached')\r\n              );\r\n\r\n            console.log('üîç Refresh button:', refreshBtn);\r\n            console.log('üîç Status badge:', statusBadge);\r\n\r\n            if (refreshBtn && statusBadge) {\r\n              // Get the container of the status badge (cycle-header)\r\n              const statusContainer = statusBadge.closest('.cycle-header') || statusBadge.parentElement || slaPanelElement.querySelector('.sla-header') || slaPanelElement;\r\n              if (statusContainer) {\r\n                refreshBtn.style.display = 'inline-flex';\r\n                refreshBtn.style.marginLeft = '8px';\r\n                refreshBtn.style.padding = '6px 10px';\r\n                refreshBtn.style.fontSize = '13px';\r\n                refreshBtn.style.minWidth = '40px';\r\n                refreshBtn.style.height = '30px';\r\n                refreshBtn.style.borderRadius = '6px';\r\n                refreshBtn.style.verticalAlign = 'middle';\r\n                refreshBtn.style.alignItems = 'center';\r\n                refreshBtn.style.justifyContent = 'center';\r\n                refreshBtn.style.border = '1px solid rgba(255,255,255,0.06)';\r\n                // Move the refresh button into the status container\r\n                statusContainer.appendChild(refreshBtn);\r\n                console.log('‚úÖ Moved refresh button next to status badge');\r\n              }\r\n            }\r\n\r\n            // Move \"Updated\" next to \"Remaining\" (side-by-side)\r\n            // Updated element from SLA monitor is '.sla-last-updated'\r\n            const updatedElement = slaPanelElement.querySelector('.sla-last-updated') ||\r\n              Array.from(slaPanelElement.querySelectorAll('*')).find(el =>\r\n                (el.textContent || '').includes('Updated:')\r\n              );\r\n\r\n            // Find the detail row that contains the 'Remaining' label, then its value\r\n            let remainingValue = null;\r\n            const detailRows = Array.from(slaPanelElement.querySelectorAll('.detail-row'));\r\n            const remainingRow = detailRows.find(row => {\r\n              const lbl = row.querySelector('.detail-label');\r\n              return lbl && /remaining/i.test(lbl.textContent || '');\r\n            });\r\n            if (remainingRow) {\r\n              remainingValue = remainingRow.querySelector('.detail-value') || remainingRow.querySelector('span');\r\n            } else {\r\n              // Fallback: search generically for text\r\n              const found = Array.from(slaPanelElement.querySelectorAll('*')).find(el => /remaining/i.test(el.textContent || ''));\r\n              remainingValue = found;\r\n            }\r\n\r\n            console.log('üîç Updated element:', updatedElement);\r\n            console.log('üîç Remaining value element:', remainingValue);\r\n\r\n            if (updatedElement && remainingValue) {\r\n              try {\r\n                updatedElement.style.fontSize = '10px';\r\n                updatedElement.style.color = '#9ca3af';\r\n                updatedElement.style.marginLeft = '8px';\r\n                updatedElement.style.display = 'inline-block';\r\n\r\n                // Place updated after the remaining value\r\n                if (remainingValue.parentElement) {\r\n                  remainingValue.after(updatedElement);\r\n                }\r\n\r\n                console.log('‚úÖ Moved updated next to remaining');\r\n              } catch (e) {\r\n                console.warn('‚ö†Ô∏è Could not move Updated next to Remaining:', e);\r\n              }\r\n            }\r\n\r\n            // Reduce padding for compact view but keep panel visuals (do not override background/border)\r\n            slaPanelElement.style.padding = '0';\r\n          }\r\n\r\n          console.log('‚úÖ SLA Monitor rendered (compact mode)');\r\n        }, 100); // Wait 100ms for DOM to stabilize\r\n\r\n        // Calculate and render breach risk\r\n        this.renderBreachRisk(issueKey);\r\n\r\n        // Attach footer comment composer handler (balanced view)\r\n        try {\r\n          const footerSend = document.querySelector('.btn-add-comment-footer');\r\n          if (footerSend) {\r\n            footerSend.addEventListener('click', async () => {\r\n              if (window.commentsModule && typeof window.commentsModule.postComment === 'function') {\r\n                await window.commentsModule.postComment(issueKey, {\r\n                  textareaSelector: '#footerCommentText',\r\n                  internalCheckboxSelector: '#commentInternalFooter',\r\n                  listSelector: '.comments-section .comments-list',\r\n                  countSelector: '#commentCountFooter',\r\n                  buttonSelector: '.btn-add-comment-footer',\r\n                  visibilityLabelSelector: '.visibility-label-footer'\r\n                });\r\n              } else {\r\n                console.warn('commentsModule.postComment not available');\r\n              }\r\n            });\r\n          }\r\n          // Attach mentions autocomplete to footer textarea (balanced view)\r\n          try {\r\n            const footerTextarea = document.getElementById('footerCommentText');\r\n            if (footerTextarea) {\r\n              const attachMentions = async () => {\r\n                if (window.mentionsAutocomplete && typeof window.mentionsAutocomplete.attachTo === 'function') {\r\n                  window.mentionsAutocomplete.attachTo(footerTextarea, issueKey);\r\n                  console.log('‚úÖ Attached mentionsAutocomplete to footer textarea');\r\n                  return;\r\n                }\r\n                // Load module dynamically if missing\r\n                try {\r\n                  await new Promise((resolve, reject) => {\r\n                    const s = document.createElement('script');\r\n                    s.src = '/static/js/modules/mentions-autocomplete.js?v=' + Date.now();\r\n                    s.onload = resolve;\r\n                    s.onerror = reject;\r\n                    document.head.appendChild(s);\r\n                  });\r\n                  if (window.mentionsAutocomplete && typeof window.mentionsAutocomplete.attachTo === 'function') {\r\n                    window.mentionsAutocomplete.attachTo(footerTextarea, issueKey);\r\n                    console.log('‚úÖ Dynamically loaded and attached mentionsAutocomplete to footer textarea');\r\n                  }\r\n                } catch (err) {\r\n                  console.warn('‚ö†Ô∏è Failed to load mentions-autocomplete for footer:', err);\r\n                }\r\n              };\r\n              // Small timeout to allow DOM and module init\r\n              setTimeout(attachMentions, 80);\r\n\r\n              // Shortcut: Ctrl/Cmd+Enter to send from footer\r\n              footerTextarea.addEventListener('keydown', (e) => {\r\n                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\r\n                  e.preventDefault();\r\n                  document.querySelector('.btn-add-comment-footer')?.click();\r\n                }\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.warn('Could not attach mentions to footer textarea', err);\r\n          }\r\n        } catch (e) {\r\n          console.warn('Could not attach footer comment handler', e);\r\n        }\r\n      } else {\r\n        slaContainer.innerHTML = `\r\n          <div style=\"text-align: center; padding: 16px; color: #9ca3af; font-size: 11px;\">\r\n            <i class=\"fas fa-check-circle\" style=\"margin-bottom: 6px; font-size: 14px; color: #10b981;\"></i><br>\r\n            No active SLA\r\n          </div>\r\n        `;\r\n\r\n        // Show no risk if no SLA\r\n        this.renderBreachRisk(issueKey, null);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error initializing SLA Monitor:', error);\r\n      slaContainer.innerHTML = `\r\n        <div style=\"text-align: center; padding: 16px; color: #ef4444; font-size: 11px;\">\r\n          Failed to load SLA\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  renderBreachRisk(issueKey, slaData = null) {\r\n    const riskContainer = document.querySelector('.breach-risk-content');\r\n    if (!riskContainer) return;\r\n\r\n    // Get SLA data from window.slaMonitor\r\n    const data = slaData || window.slaMonitor?.slaData?.[issueKey];\r\n\r\n    if (!data || !data.ongoingCycle) {\r\n      riskContainer.innerHTML = `\r\n        <div style=\"display: flex; align-items: center; gap: 12px; padding: 12px;\">\r\n          <div style=\"width: 50px; height: 50px; border-radius: 50%; background: rgba(16, 185, 129, 0.1); display: flex; align-items: center; justify-content: center; flex-shrink: 0;\">\r\n            <i class=\"fas fa-check\" style=\"font-size: 20px; color: #10b981;\"></i>\r\n          </div>\r\n          <div style=\"flex: 1;\">\r\n            <p style=\"font-size: 11px; color: #10b981; font-weight: 600; margin: 0;\">LOW RISK</p>\r\n            <p style=\"font-size: 9px; color: #9ca3af; margin: 2px 0 0 0;\">No active SLA</p>\r\n          </div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    // Calculate breach probability based on elapsed vs remaining time\r\n    const elapsed = data.ongoingCycle.elapsedTime?.millis || 0;\r\n    const remaining = data.ongoingCycle.remainingTime?.millis || 1;\r\n    const total = elapsed + remaining;\r\n    const percentage = Math.round((elapsed / total) * 100);\r\n\r\n    // Determine risk level\r\n    let riskLevel, riskColor, riskIcon, riskBg;\r\n    if (percentage >= 90) {\r\n      riskLevel = 'CRITICAL';\r\n      riskColor = '#ef4444';\r\n      riskBg = 'rgba(239, 68, 68, 0.1)';\r\n      riskIcon = 'fa-exclamation-triangle';\r\n    } else if (percentage >= 75) {\r\n      riskLevel = 'HIGH';\r\n      riskColor = '#f59e0b';\r\n      riskBg = 'rgba(245, 158, 11, 0.1)';\r\n      riskIcon = 'fa-exclamation-circle';\r\n    } else if (percentage >= 50) {\r\n      riskLevel = 'MEDIUM';\r\n      riskColor = '#eab308';\r\n      riskBg = 'rgba(234, 179, 8, 0.1)';\r\n      riskIcon = 'fa-info-circle';\r\n    } else {\r\n      riskLevel = 'LOW';\r\n      riskColor = '#10b981';\r\n      riskBg = 'rgba(16, 185, 129, 0.1)';\r\n      riskIcon = 'fa-check-circle';\r\n    }\r\n\r\n    riskContainer.innerHTML = `\r\n      <div class=\"risk-card\">\r\n        <div class=\"risk-gauge\" aria-hidden=\"true\">\r\n          <svg width=\"72\" height=\"72\" viewBox=\"0 0 60 60\" class=\"risk-gauge-svg\" aria-hidden=\"true\">\r\n            <circle cx=\"30\" cy=\"30\" r=\"25\" fill=\"none\" stroke=\"#e5e7eb\" stroke-width=\"5\"/>\r\n            <circle cx=\"30\" cy=\"30\" r=\"25\" fill=\"none\" stroke=\"${riskColor}\" stroke-width=\"5\" stroke-dasharray=\"${(percentage / 100) * 157} 157\" stroke-linecap=\"round\" />\r\n          </svg>\r\n          <div class=\"risk-percent\" style=\"color: ${riskColor};\">${percentage}%</div>\r\n        </div>\r\n\r\n        <div class=\"risk-info\">\r\n          <div class=\"risk-header\">\r\n            <div class=\"risk-title\">Breach Risk</div>\r\n            <div class=\"risk-badge\" style=\"background:${riskBg}; color: ${riskColor};\">${riskLevel}</div>\r\n          </div>\r\n\r\n          <div class=\"risk-body\">\r\n            <div class=\"risk-line\"><span class=\"risk-line-label\">Elapsed</span><span class=\"risk-line-value\">${percentage}%</span></div>\r\n            <div class=\"risk-line\"><span class=\"risk-line-label\">Remaining</span><span class=\"risk-line-value ${percentage >= 75 ? 'risk-warning' : ''}\">${data.ongoingCycle.remainingTime?.readable || data.ongoingCycle.remainingTime || 'N/A'}</span></div>\r\n            ${percentage >= 75 ? `<div class=\"risk-note\">${SVGIcons.alert({ size: 12, className: 'inline-icon' })} Near deadline ‚Äî attention recommended</div>` : ''}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  async loadCommentsForBalancedView(issueKey) {\r\n    // Ensure comments module is loaded: dynamically load if missing\r\n    if (!window.commentsModule || typeof window.commentsModule.loadIssueComments !== 'function') {\r\n      try {\r\n        await new Promise((resolve, reject) => {\r\n          const script = document.createElement('script');\r\n          script.src = '/static/js/modules/comments.js?v=' + Date.now();\r\n          script.onload = () => resolve();\r\n          script.onerror = (e) => reject(e);\r\n          document.head.appendChild(script);\r\n        });\r\n      } catch (e) {\r\n        console.warn('Could not dynamically load comments module:', e);\r\n      }\r\n    }\r\n\r\n    if (window.commentsModule && typeof window.commentsModule.loadIssueComments === 'function') {\r\n      return window.commentsModule.loadIssueComments(issueKey, { listSelector: '.comments-section .comments-list', countSelector: '#commentCountFooter', order: 'desc' });\r\n    }\r\n\r\n    // Final fallback: show unavailable message\r\n    const commentsContainer = document.querySelector('.comments-section .comments-list');\r\n    if (commentsContainer) commentsContainer.innerHTML = '<p style=\"text-align: center; padding: 20px; color: #9ca3af; font-size: 12px;\">Comments unavailable</p>';\r\n  }\r\n\r\n  // After rendering balanced content, adjust comments container height to match left column\r\n  adjustCommentsHeight() {\r\n    try {\r\n      const container = document.getElementById('balancedContentContainer');\r\n      if (!container) return;\r\n      const leftCol = container.querySelector('.left-column');\r\n      const rightCol = container.querySelector('.right-column');\r\n      if (!leftCol || !rightCol) return;\r\n      const commentsSection = rightCol.querySelector('.comments-section');\r\n      const composer = rightCol.querySelector('.comment-composer');\r\n      if (!commentsSection) return;\r\n\r\n      // Compute available height: left column height minus paddings and composer height\r\n      const leftHeight = leftCol.getBoundingClientRect().height;\r\n      const composerHeight = composer ? composer.getBoundingClientRect().height : 0;\r\n      const paddingReserve = 40; // some breathing room\r\n      const maxH = Math.max(120, Math.floor(leftHeight - composerHeight - paddingReserve));\r\n      commentsSection.style.maxHeight = `${maxH}px`;\r\n      commentsSection.style.overflowY = 'auto';\r\n      // Also ensure comments list scrolls newest-first properly\r\n      const list = commentsSection.querySelector('.comments-list');\r\n      if (list) list.style.display = 'flex';\r\n      console.log('üîß Adjusted commentsSection maxHeight to', maxH);\r\n    } catch (e) {\r\n      console.warn('Could not adjust comments height:', e);\r\n    }\r\n  }\r\n\r\n  renderAttachmentsForBalanced(issue) {\r\n    try {\r\n      const listContainer = document.getElementById('attachmentsListFooter');\r\n      if (!listContainer) return;\r\n      const attachments = issue?.fields?.attachment || issue.attachments || issue.serviceDesk?.requestFieldValues?.attachments || [];\r\n      // Debug: log attachments payload to help diagnose missing thumbnails\r\n      console.log('üîç [Footer] attachments payload for', issue.key, attachments);\r\n      if (!attachments || attachments.length === 0) { listContainer.innerHTML = ''; const preview = document.getElementById('attachmentsPreviewFooter'); if (preview) preview.classList.remove('show'); return; }\r\n      let html = '';\r\n      attachments.forEach(att => {\r\n        const url = att.content || att.self || att.url || (`/api/issues/${issue.key}/attachments/${att.id}`);\r\n        console.log('üîç [Footer] attachment:', att.id || att.filename || att.name, 'url=', url, 'thumbnail=', att.thumbnail || att.thumbnailUrl || att.thumbnailUrl || null, 'mimeType=', att.mimeType);\r\n        const filename = att.filename || att.name || att.displayName || 'attachment';\r\n        const isImage = /\\.(png|jpe?g|gif|webp|svg)$/i.test(filename) || (att.mimeType && att.mimeType.startsWith('image/'));\r\n        if (isImage) {\r\n          html += `\r\n            <div class=\"attachment-item\">\r\n              <a class=\"attachment-thumb\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <img src=\"${url}\" alt=\"${filename}\" style=\"max-width:120px; max-height:90px; border-radius:6px; display:block;\" />\r\n              </a>\r\n              <div style=\"display:flex; gap:6px; align-items:center; margin-top:6px;\">\r\n                <a class=\"attachment-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download>${SVGIcons.paperclip({ size: 14, className: 'inline-icon' })} <span>${filename}</span></a>\r\n                <a class=\"attachment-download-btn\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download title=\"Download\" style=\"text-decoration:none;\">${SVGIcons.download({ size: 14, className: 'inline-icon' })}</a>\r\n              </div>\r\n            </div>\r\n          `;\r\n        } else {\r\n          html += `\r\n            <div class=\"attachment-item\">\r\n              <a class=\"attachment-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display:inline-flex; align-items:center; gap:8px; padding:6px 8px; border-radius:6px; background:rgba(0,0,0,0.04); color:inherit; text-decoration:none;\">${SVGIcons.paperclip({ size: 14, className: 'inline-icon' })} <span>${filename}</span></a>\r\n              <a class=\"attachment-download-btn\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download title=\"Download\" style=\"margin-left:6px; text-decoration:none;\">${SVGIcons.download({ size: 14, className: 'inline-icon' })}</a>\r\n            </div>\r\n          `;\r\n        }\r\n      });\r\n      listContainer.innerHTML = html;\r\n      // Show preview container when attachments exist\r\n      const preview = document.getElementById('attachmentsPreviewFooter');\r\n      if (preview) preview.classList.add('show');\r\n      // Description collapse now handled by native <details> element in the markup above; no JS required.\r\n    } catch (e) {\r\n      console.warn('renderAttachmentsForBalanced error', e);\r\n    }\r\n  }\r\n\r\n  // Footer attachments handling (separate from right-sidebar)\r\n  renderFooterAttachments(issue) {\r\n    try {\r\n      const listContainer = document.getElementById('attachmentsListFooter');\r\n      if (!listContainer) return;\r\n      const attachments = issue?.fields?.attachment || issue.attachments || issue.serviceDesk?.requestFieldValues?.attachments || [];\r\n      console.log('üîç [Footer|renderFooterAttachments] attachments payload for', issue.key, attachments);\r\n      if (!attachments || attachments.length === 0) { listContainer.innerHTML = ''; const preview = document.getElementById('attachmentsPreviewFooter'); if (preview) preview.classList.remove('show'); return; }\r\n      let html = '';\r\n      attachments.forEach((att) => {\r\n        const url = att.content || att.self || att.url || (`/api/issues/${issue.key}/attachments/${att.id}`);\r\n        console.log('üîç [Footer] attachment:', att.id || att.filename || att.name, 'url=', url, 'thumbnail=', att.thumbnail || att.thumbnailUrl || null, 'mimeType=', att.mimeType);\r\n        const filename = att.filename || att.name || att.displayName || 'attachment';\r\n        const isImage = /\\.(png|jpe?g|gif|webp|svg)$/i.test(filename) || (att.mimeType && att.mimeType.startsWith('image/'));\r\n        if (isImage) {\r\n          html += `\r\n            <div class=\"attachment-item\">\r\n              <a class=\"attachment-thumb\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <img src=\"${url}\" alt=\"${filename}\" style=\"max-width:120px; max-height:90px; border-radius:6px; display:block;\" />\r\n              </a>\r\n              <div style=\"display:flex; gap:6px; align-items:center; margin-top:6px;\">\r\n                <a class=\"attachment-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download>${SVGIcons.paperclip({ size: 14, className: 'inline-icon' })} <span>${filename}</span></a>\r\n                <a class=\"attachment-download-btn\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download title=\"Download\" style=\"text-decoration:none;\">${SVGIcons.download({ size: 14, className: 'inline-icon' })}</a>\r\n              </div>\r\n            </div>\r\n          `;\r\n        } else {\r\n          html += `\r\n            <div class=\"attachment-item\">\r\n              <a class=\"attachment-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display:inline-flex; align-items:center; gap:8px; padding:6px 8px; border-radius:6px; background:rgba(0,0,0,0.04); color:inherit; text-decoration:none;\">${SVGIcons.paperclip({ size: 14, className: 'inline-icon' })} <span>${filename}</span></a>\r\n              <a class=\"attachment-download-btn\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" download title=\"Download\" style=\"margin-left:6px; text-decoration:none;\">${SVGIcons.download({ size: 14, className: 'inline-icon' })}</a>\r\n            </div>\r\n          `;\r\n        }\r\n      });\r\n      listContainer.innerHTML = html;\r\n      // Show preview container when attachments exist\r\n      const preview = document.getElementById('attachmentsPreviewFooter');\r\n      if (preview) preview.classList.add('show');\r\n    } catch (e) {\r\n      console.warn('renderFooterAttachments error', e);\r\n    }\r\n  }\r\n\r\n  setupFooterAttachmentButton() {\r\n    try {\r\n      const attachBtn = document.getElementById('attachFooterBtn');\r\n      const attachmentsPreview = document.getElementById('attachmentsPreviewFooter');\r\n      const attachmentsList = document.getElementById('attachmentsListFooter');\r\n      console.log('üîß setupFooterAttachmentButton: attachBtn=', !!attachBtn, 'attachmentsPreview=', !!attachmentsPreview, 'attachmentsList=', !!attachmentsList);\r\n      if (!attachBtn || !attachmentsList) {\r\n        // attachBtn might not be present yet; noop\r\n        console.warn('‚ö†Ô∏è setupFooterAttachmentButton: Missing elements - will retry later');\r\n        return;\r\n      }\r\n\r\n      // Clone to remove previous listeners\r\n      const newBtn = attachBtn.cloneNode(true);\r\n      attachBtn.parentNode.replaceChild(newBtn, attachBtn);\r\n\r\n      newBtn.addEventListener('click', () => {\r\n        const fileInput = document.createElement('input');\r\n        fileInput.type = 'file';\r\n        fileInput.multiple = true;\r\n        fileInput.accept = '*/*';\r\n        fileInput.addEventListener('change', (e) => {\r\n          const files = Array.from(e.target.files);\r\n          try { this.addFooterAttachments(files); } catch (err) { console.warn('addFooterAttachments error', err); }\r\n          if (attachmentsPreview) attachmentsPreview.classList.add('show');\r\n        });\r\n        fileInput.click();\r\n      });\r\n    } catch (e) { console.warn('setupFooterAttachmentButton error', e); }\r\n  }\r\n\r\n  addFooterAttachments(files) {\r\n    try {\r\n      window.footerAttachedFiles = window.footerAttachedFiles || [];\r\n      const attachmentsList = document.getElementById('attachmentsListFooter');\r\n      const attachmentsPreview = document.getElementById('attachmentsPreviewFooter');\r\n      if (!attachmentsList) return;\r\n      window.footerAttachedFiles.push(...files);\r\n      let html = '';\r\n      window.footerAttachedFiles.forEach((file, idx) => {\r\n        html += `\r\n          <div class=\"attachment-item\">\r\n            <span class=\"attachment-name\" title=\"${file.name}\">${SVGIcons.file({ size: 14, className: 'inline-icon' })} <span>${file.name}</span></span>\r\n            <button class=\"attachment-remove\" data-index=\"${idx}\">${SVGIcons.close({ size: 12, className: 'inline-icon' })}</button>\r\n          </div>\r\n        `;\r\n      });\r\n      attachmentsList.innerHTML = html;\r\n      // Setup remove handlers\r\n      document.querySelectorAll('#attachmentsListFooter .attachment-remove').forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n          const idx = parseInt(btn.dataset.index);\r\n          window.footerAttachedFiles.splice(idx, 1);\r\n          if (window.footerAttachedFiles.length === 0) {\r\n            attachmentsPreview?.classList.remove('show');\r\n            attachmentsList.innerHTML = '';\r\n          } else {\r\n            this.addFooterAttachments([]);\r\n          }\r\n        });\r\n      });\r\n    } catch (e) { console.warn('addFooterAttachments error', e); }\r\n  }\r\n\r\n  formatCommentTime(timestamp) {\r\n    if (window.commentsModule && typeof window.commentsModule.formatCommentTime === 'function') {\r\n      return window.commentsModule.formatCommentTime(timestamp);\r\n    }\r\n    if (!timestamp) return '';\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n    if (diffMins < 1) return 'just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n  }\r\n\r\n  // Ensure footer composer posts only after commentsModule is available\r\n  async ensureCommentsModule() {\r\n    if (window.commentsModule && typeof window.commentsModule.postComment === 'function') return true;\r\n    try {\r\n      await new Promise((resolve, reject) => {\r\n        const s = document.createElement('script');\r\n        s.src = '/static/js/modules/comments.js?v=' + Date.now();\r\n        s.onload = resolve;\r\n        s.onerror = reject;\r\n        document.head.appendChild(s);\r\n      });\r\n      return !!(window.commentsModule && typeof window.commentsModule.postComment === 'function');\r\n    } catch (e) {\r\n      console.warn('Failed to load comments module dynamically:', e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  renderBalancedContent(issue) {\r\n    const container = document.getElementById('balancedContentContainer');\r\n    if (!container) return;\r\n\r\n    console.log('üé® Rendering balanced content for:', issue.key, issue);\r\n\r\n    // Helper to safely get nested fields from multiple sources\r\n    const getField = (fieldKey) => {\r\n      // Try from issue.fields first\r\n      if (issue.fields && issue.fields[fieldKey] !== undefined) {\r\n        return issue.fields[fieldKey];\r\n      }\r\n      // Try from issue.custom_fields\r\n      if (issue.custom_fields && issue.custom_fields[fieldKey] !== undefined) {\r\n        return issue.custom_fields[fieldKey];\r\n      }\r\n      // Try from issue.serviceDesk.requestFieldValues\r\n      if (issue.serviceDesk?.requestFieldValues && issue.serviceDesk.requestFieldValues[fieldKey] !== undefined) {\r\n        return issue.serviceDesk.requestFieldValues[fieldKey];\r\n      }\r\n      // Try direct access\r\n      if (issue[fieldKey] !== undefined) {\r\n        return issue[fieldKey];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    // Format field value (same logic as right-sidebar)\r\n    const formatValue = (value) => {\r\n      if (!value) return '';\r\n      if (typeof value === 'string') return value;\r\n      if (value.name) return value.name;\r\n      if (value.displayName) return value.displayName;\r\n      if (value.value) return value.value;\r\n      if (Array.isArray(value)) {\r\n        return value.map(v => v.name || v.value || v).join(', ');\r\n      }\r\n      return String(value);\r\n    };\r\n\r\n    // Extract key fields from multiple sources (same as right-sidebar)\r\n    const summary = issue.summary || getField('summary') || 'No title';\r\n    // If no description provided, keep empty so we can hide the section\r\n    const rawDescription = issue.description || getField('description') || '';\r\n    // Helper to escape HTML\r\n    const escapeHtml = (str) => String(str)\r\n      .replace(/&/g, '&amp;')\r\n      .replace(/</g, '&lt;')\r\n      .replace(/>/g, '&gt;')\r\n      .replace(/\"/g, '&quot;')\r\n      .replace(/'/g, '&#39;');\r\n    // Normalize line endings and remove excessive blank lines and leading breaks\r\n    const normalizeDescription = (txt) => {\r\n      if (!txt) return '';\r\n      let s = String(txt).replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\r\n      // Remove leading blank lines/spaces\r\n      s = s.replace(/^\\s*\\n+/, '');\r\n      // Collapse 3+ consecutive newlines to two (paragraph)\r\n      s = s.replace(/\\n{3,}/g, '\\n\\n');\r\n      // Trim trailing whitespace\r\n      s = s.replace(/\\s+$/g, '');\r\n      return s;\r\n    };\r\n    const cleanedDescription = normalizeDescription(rawDescription);\r\n    // Convert to safe HTML with <br> for line breaks so layout is consistent\r\n    const description = cleanedDescription ? escapeHtml(cleanedDescription).replace(/\\n\\n/g, '</p><p>').replace(/\\n/g, '<br>') : '';\r\n\r\n    // Standard fields\r\n    const priority = formatValue(issue.priority || getField('priority'));\r\n    const assignee = formatValue(issue.assignee || getField('assignee'));\r\n    const status = formatValue(issue.status || getField('status'));\r\n    const reporter = formatValue(issue.reporter || getField('reporter'));\r\n    const created = issue.created || getField('created');\r\n    const updated = issue.updated || getField('updated');\r\n\r\n    // Custom fields - Multiple field mappings (from CUSTOM_FIELDS_REFERENCE.json)\r\n    const requestType = formatValue(getField('customfield_10010'));\r\n\r\n    // Criticidad - try multiple possible field IDs\r\n    const criticidad = formatValue(getField('customfield_10125') || getField('customfield_10037'));\r\n\r\n    // Tipo de Solicitud\r\n    const tipoSolicitud = formatValue(getField('customfield_10156'));\r\n\r\n    // Plataforma - try multiple possible field IDs\r\n    const plataforma = formatValue(getField('customfield_10169') || getField('customfield_10129'));\r\n\r\n    // √Årea - try multiple possible field IDs\r\n    const area = formatValue(getField('customfield_10168') || getField('customfield_10130'));\r\n\r\n    // Empresa - try multiple possible field IDs\r\n    const empresa = formatValue(getField('customfield_10143') || getField('customfield_10131'));\r\n\r\n    // Producto - try multiple possible field IDs\r\n    const producto = formatValue(getField('customfield_10144') || getField('customfield_10132'));\r\n\r\n    // Contact info - try multiple possible field IDs\r\n    const email = formatValue(getField('customfield_10141') || getField('customfield_10133'));\r\n    const phone = formatValue(getField('customfield_10142') || getField('customfield_10134'));\r\n\r\n    // Additional info fields\r\n    const pais = formatValue(getField('customfield_10165') || getField('customfield_10166'));\r\n    const paisCodigo = formatValue(getField('customfield_10167'));\r\n    const notasAnalisis = formatValue(getField('customfield_10149'));\r\n    const resolucion = formatValue(getField('customfield_10151'));\r\n    const reporter2 = formatValue(getField('customfield_10111')); // Reporter/Informador\r\n\r\n    // Format dates\r\n    const formatDate = (dateStr) => {\r\n      if (!dateStr) return '';\r\n      const date = new Date(dateStr);\r\n      return date.toLocaleString('en-US', {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        year: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    };\r\n\r\n    // Collect long custom fields (strings > 120 chars) to show as full-width blocks\r\n    let longCustomFieldsHTML = '';\r\n    try {\r\n      const fld = issue.fields || {};\r\n      Object.keys(fld).forEach(k => {\r\n        if (!/^customfield_/.test(k)) return;\r\n        const raw = fld[k];\r\n        const val = formatValue(raw);\r\n        if (val && val.length > 120) {\r\n          const label = k.replace('customfield_', 'CF-');\r\n          longCustomFieldsHTML += `\r\n            <div style=\"grid-column: 1 / -1;\">\r\n              <label style=\"font-size: 10px; font-weight: 700; color: #9ca3af; display:block; margin-bottom:6px;\">${label}</label>\r\n              <div style=\"padding:8px; background:#f9fafb; border:1px solid #e5e7eb; border-radius:6px; font-size:12px; max-height:160px; overflow-y:auto; white-space:pre-wrap;\">${val}</div>\r\n            </div>\r\n          `;\r\n        }\r\n      });\r\n    } catch (e) { console.warn('Could not collect long custom fields', e); }\r\n\r\n    // TWO-COLUMN LAYOUT WITH ML SUGGESTIONS\r\n    container.innerHTML = `\r\n      ${description ? `\r\n      <!-- Description Section (Full Width) - use native <details> so collapse is CSS-driven and simpler -->\r\n      <details open class=\"ticket-description-section\" style=\"padding: 0; background: transparent; border-bottom: 1px solid rgba(59, 130, 246, 0.08);\">\r\n        <summary class=\"section-label\" style=\"display:flex; align-items:center; gap:8px; padding: 16px 20px; color: #4a5568; font-weight:600; font-size:13px; cursor:pointer;\">\r\n          <span style=\"display:flex; align-items:center; gap:8px;\">\r\n            ${SVGIcons.file({ size: 14, className: 'inline-icon' })}\r\n            <span>Descripci√≥n:</span>\r\n          </span>\r\n          <span style=\"margin-left:auto;\">${SVGIcons.chevronDown({ size: 14, className: 'inline-icon' })}</span>\r\n        </summary>\r\n        <div id=\"ticketDescriptionContent\" class=\"ticket-description-content\" style=\"padding: 0 20px 16px 20px; color: #4b5563; line-height:1.6; font-size:13px;\">\r\n          ${description ? `<p style=\"margin:0 0 8px 0;\">${description}</p>` : ''}\r\n        </div>\r\n      </details>\r\n      ` : ''}\r\n      \r\n      <div class=\"purple-divider\" style=\"margin:0\"></div>\r\n      \r\n      <!-- TWO COLUMNS LAYOUT -->\r\n      <div class=\"footer-two-columns\" style=\"display: grid; grid-template-columns: 58% 1px 41%; gap: 20px; padding: 16px 20px; max-height: calc(60vh - 250px); overflow-y: auto; align-items:start; position:relative;\">\r\n        \r\n        <!-- LEFT COLUMN: Essential Fields + ML Suggestions (58%) -->\r\n        <div class=\"left-column\" style=\"display: flex; flex-direction: column; gap: 16px;\">\r\n          \r\n          <!-- ML Suggestions Banner -->\r\n          <div class=\"ml-suggestions-banner\" style=\"display: flex; align-items: center; gap: 12px; padding: 12px; background: rgba(59, 130, 246, 0.08); border: 1px solid rgba(59, 130, 246, 0.15); border-radius: 10px;\">\r\n            <div class=\"banner-icon\" style=\"width: 40px; height: 40px; background: linear-gradient(135deg, #6366f1, #818cf8); color: white; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0;\">\r\n              <i class=\"fas fa-magic\"></i>\r\n            </div>\r\n            <div class=\"banner-content\" style=\"flex: 1;\">\r\n              <h4 style=\"color: #374151; font-size: 13px; margin: 0; font-weight: 600;\">\r\n                Analic√© el ticket y tengo sugerencias \r\n                <span style=\"font-weight: 400; opacity: 0.7; font-size: 11px;\">‚Äî Pr√≥ximamente: ML predictions</span>\r\n              </h4>\r\n            </div>\r\n          </div>\r\n          \r\n          ${longCustomFieldsHTML ? longCustomFieldsHTML : ''}\r\n          \r\n          <!-- Essential Fields Grid (3 columns) -->\r\n          <div class=\"essential-fields-grid\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;\">\r\n            \r\n            <!-- Priority -->\r\n            ${priority ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-flag\" style=\"color: #ef4444;\"></i> Priority\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${priority}\r\n              </div>\r\n              <!-- ML Suggestion Inline (placeholder) -->\r\n              <div class=\"ml-suggestion-checkbox\" style=\"margin-top: 6px; padding: 6px 8px; font-size: 10px; border-radius: 6px; background: linear-gradient(135deg, #f8f9ff, #ffffff); border: 1px solid #e3e8ff; display: flex; align-items: center; gap: 6px; opacity: 0.7;\">\r\n                <span style=\"font-size: 11px;\">‚ú®</span>\r\n                <span style=\"flex: 1; color: #6b7280;\">ML suggestions coming soon</span>\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Assignee -->\r\n            ${assignee || !assignee ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-user\" style=\"color: #3b82f6;\"></i> Assignee\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${assignee || 'Unassigned'}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Status -->\r\n            ${status ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-tasks\" style=\"color: #10b981;\"></i> Status\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${status}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Criticidad -->\r\n            ${criticidad ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-exclamation-triangle\" style=\"color: #ef4444;\"></i> Criticidad\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${criticidad}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Tipo de Solicitud -->\r\n            ${tipoSolicitud ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-clipboard-list\" style=\"color: #8b5cf6;\"></i> Tipo de Solicitud\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${tipoSolicitud}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Platform -->\r\n            ${plataforma ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-laptop\" style=\"color: #06b6d4;\"></i> Plataforma\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${plataforma}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- √Årea -->\r\n            ${area ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-sitemap\" style=\"color: #8b5cf6;\"></i> √Årea\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${area}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Empresa -->\r\n            ${empresa ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-building\" style=\"color: #6366f1;\"></i> Empresa\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: white; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 13px;\">\r\n                ${empresa}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Producto -->\r\n            ${producto ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-box\" style=\"color: #ec4899;\"></i> Producto\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: white; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 13px;\">\r\n                ${producto}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Request Type -->\r\n            ${requestType ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-ticket-alt\" style=\"color: #3b82f6;\"></i> Request Type\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: white; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 13px;\">\r\n                ${requestType}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Reporter -->\r\n            ${reporter || reporter2 ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-user-circle\" style=\"color: #6b7280;\"></i> Reporter\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: white; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 13px;\">\r\n                ${reporter || reporter2}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Email -->\r\n            ${email ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-envelope\" style=\"color: #3b82f6;\"></i> Email\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 12px; word-break: break-all; color: var(--field-text);\">\r\n                ${email}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Phone -->\r\n            ${phone ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-phone\" style=\"color: #10b981;\"></i> Phone\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${phone}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Pa√≠s -->\r\n            ${pais ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-globe\" style=\"color: #06b6d4;\"></i> Pa√≠s\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 13px; color: var(--field-text);\">\r\n                ${pais}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            <!-- Pa√≠s/C√≥digo -->\r\n            ${paisCodigo ? `\r\n            <div class=\"field-wrapper\">\r\n              <label class=\"field-label\" style=\"color: #6b7280; font-weight: 600; font-size: 11px; display: flex; align-items: center; gap: 4px; margin-bottom: 6px;\">\r\n                <i class=\"fas fa-flag\" style=\"color: #10b981;\"></i> Pa√≠s/C√≥digo\r\n              </label>\r\n              <div class=\"field-input\" style=\"padding: 8px 10px; background: white; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 13px;\">\r\n                ${paisCodigo}\r\n              </div>\r\n            </div>\r\n            ` : ''}\r\n          </div>\r\n          \r\n          <!-- SLA Monitor & Breach Risk (2 columns grid) -->\r\n          <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 16px;\">\r\n            <!-- SLA Monitor (Column 1) -->\r\n            <div class=\"sla-monitor-wrapper\">\r\n              <div class=\"sla-monitor-container\" style=\"background: rgba(249, 250, 251, 0.5); border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px;\">\r\n                <div style=\"text-align: center; padding: 12px; color: #9ca3af; font-size: 11px;\">\r\n                  <i class=\"fas fa-spinner fa-spin\" style=\"margin-bottom: 6px; font-size: 14px;\"></i><br>\r\n                  Loading SLA...\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Breach Risk Analytics (Column 2) -->\r\n            <div class=\"sla-breach-risk\" style=\"background: rgba(249, 250, 251, 0.5); border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px;\">\r\n              <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 10px;\">\r\n                <div style=\"width: 28px; height: 28px; background: linear-gradient(135deg, #f59e0b, #ef4444); color: white; border-radius: 6px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;\">\r\n                  <i class=\"fas fa-shield-alt\" style=\"font-size: 13px;\"></i>\r\n                </div>\r\n                <h4 style=\"font-size: 12px; font-weight: 600; color: #374151; margin: 0;\">Breach Risk</h4>\r\n              </div>\r\n              \r\n              <div class=\"breach-risk-content\" style=\"text-align: center; padding: 12px; color: #9ca3af; font-size: 11px;\">\r\n                <i class=\"fas fa-spinner fa-spin\" style=\"margin-bottom: 6px; font-size: 14px;\"></i><br>\r\n                Analyzing...\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Extra Details (Collapsible) -->\r\n          <div class=\"extra-details\" style=\"margin-top: 8px;\">\r\n            <button class=\"btn-toggle-details\" onclick=\"this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'none' ? 'block' : 'none'; this.querySelector('i').classList.toggle('fa-chevron-down'); this.querySelector('i').classList.toggle('fa-chevron-up');\" style=\"width: 100%; padding: 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 8px; cursor: pointer; font-weight: 600; color: var(--field-text); font-size: 12px; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.2s;\">\r\n              <i class=\"fas fa-chevron-down\" style=\"font-size: 10px;\"></i>\r\n              <span>Show More Details</span>\r\n            </button>\r\n            <div class=\"extra-details-content\" style=\"display: none; margin-top: 12px;\">\r\n              <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;\">\r\n                ${created ? `\r\n                <div>\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-calendar-plus\" style=\"margin-right: 4px;\"></i> Created\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px;\">\r\n                    ${formatDate(created)}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${updated ? `\r\n                <div>\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-calendar-check\" style=\"margin-right: 4px;\"></i> Updated\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px;\">\r\n                    ${formatDate(updated)}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${area ? `\r\n                <div>\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-sitemap\" style=\"margin-right: 4px;\"></i> √Årea\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px;\">\r\n                    ${area}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${empresa ? `\r\n                <div>\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-building\" style=\"margin-right: 4px;\"></i> Empresa\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px;\">\r\n                    ${empresa}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${producto ? `\r\n                <div>\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-box\" style=\"margin-right: 4px;\"></i> Producto\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px;\">\r\n                    ${producto}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${notasAnalisis ? `\r\n                <div style=\"grid-column: 1 / -1;\">\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-sticky-note\" style=\"margin-right: 4px;\"></i> Notas/An√°lisis\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px; max-height: 80px; overflow-y: auto;\">\r\n                    ${notasAnalisis}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n                ${resolucion ? `\r\n                <div style=\"grid-column: 1 / -1;\">\r\n                  <label style=\"font-size: 10px; font-weight: 600; color: #9ca3af; display: block; margin-bottom: 4px;\">\r\n                    <i class=\"fas fa-check-circle\" style=\"margin-right: 4px;\"></i> Resoluci√≥n\r\n                  </label>\r\n                  <div style=\"padding: 6px 8px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 11px; max-height: 80px; overflow-y: auto;\">\r\n                    ${resolucion}\r\n                  </div>\r\n                </div>\r\n                ` : ''}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Action Buttons -->\r\n          <div class=\"action-buttons-container\" style=\"display: flex; gap: 10px; padding-top: 12px; border-top: 1px solid #e5e7eb; margin-top: 8px;\">\r\n            <button onclick=\"window.flowingFooter.switchToChatView()\" style=\"flex: 1; padding: 10px 16px; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 12px; transition: all 0.2s; box-shadow: 0 2px 6px rgba(99, 102, 241, 0.3);\">\r\n              <i class=\"fas fa-comments\" style=\"margin-right: 6px;\"></i> Back to Chat\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"columns-divider\" aria-hidden=\"true\"></div>\r\n\r\n        <!-- RIGHT COLUMN: ML Actions & Comments (42%) -->\r\n        <div class=\"right-column\" style=\"display: flex; flex-direction: column; gap: 12px;\">\r\n          \r\n          <!-- ML Actions & Suggested Comments -->\r\n          <div class=\"ml-actions-section\" style=\"background: rgba(249, 250, 251, 0.5); border: 1px solid #e5e7eb; border-radius: 10px; padding: 14px;\">\r\n            <h4 style=\"font-size: 13px; font-weight: 600; color: #374151; margin: 0 0 10px 0; display: flex; align-items: center; gap: 6px;\">\r\n              <i class=\"fas fa-lightbulb\" style=\"color: #f59e0b;\"></i> ML Actions & Suggested Comments\r\n            </h4>\r\n            <div class=\"suggested-comments\" style=\"display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px;\">\r\n              <div class=\"suggestion-item\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 11px; color: var(--field-text); cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px;\">\r\n                <span style=\"flex: 1;\">Investigating issue, analyzing logs...</span>\r\n                <button style=\"padding: 4px 8px; background: #f3f4f6; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;\">\r\n                  <i class=\"fas fa-copy\"></i>\r\n                </button>\r\n              </div>\r\n              <div class=\"suggestion-item\" style=\"padding: 8px 10px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 11px; color: var(--field-text); cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px;\">\r\n                <span style=\"flex: 1;\">Escalating to backend team...</span>\r\n                <button style=\"padding: 4px 8px; background: #f3f4f6; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;\">\r\n                  <i class=\"fas fa-copy\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"quick-actions\" style=\"display: flex; gap: 8px;\">\r\n              <button style=\"flex: 1; padding: 8px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 11px; font-weight: 600; color: var(--field-text); cursor: pointer; transition: all 0.2s;\">\r\n                <i class=\"fas fa-clone\" style=\"margin-right: 4px;\"></i> Find Duplicates\r\n              </button>\r\n              <button style=\"flex: 1; padding: 8px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 6px; font-size: 11px; font-weight: 600; color: var(--field-text); cursor: pointer; transition: all 0.2s;\">\r\n                <i class=\"fas fa-clock\" style=\"margin-right: 4px;\"></i> Estimate Time\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"purple-divider\"></div>\r\n          \r\n          <!-- Comments Section (Placeholder) -->\r\n          <div class=\"comments-section\" style=\"flex: 1; background: transparent; border-radius: 10px; padding: 14px; max-height: 280px; overflow-y: auto;\">\r\n            <!-- Attachments preview (balanced/footer) -->\r\n            <div class=\"attachments-preview-footer\" id=\"attachmentsPreviewFooter\" style=\"margin-bottom:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap;\">\r\n              <div class=\"attachments-list\" id=\"attachmentsListFooter\"></div>\r\n            </div>\r\n            <div style=\"display:flex; align-items:center; justify-content:space-between; gap:8px;\">\r\n              <h4 style=\"font-size: 13px; font-weight: 600; color: #374151; margin: 0; display: flex; align-items: center; gap: 6px;\">\r\n                <i class=\"fas fa-comments\" style=\"color: #6d28d9;\"></i> Comments\r\n              </h4>\r\n              <span id=\"commentCountFooter\" style=\"font-size:12px; color:#6b7280;\">(0)</span>\r\n            </div>\r\n\r\n            <!-- Comment composer (balanced/footer view) -->\r\n            <div class=\"comment-composer\" style=\"display:flex; gap:8px; align-items:flex-start; margin:10px 0 12px 0;\">\r\n              <textarea id=\"footerCommentText\" placeholder=\"Write a comment...\" rows=\"2\" style=\"flex:1; resize: vertical; min-height:40px; max-height:120px; padding:8px 10px; border:1px solid rgba(0,0,0,0.08); border-radius:8px; font-size:13px;\"></textarea>\r\n              <div style=\"display:flex; flex-direction:column; gap:8px;\">\r\n                <div style=\"display:flex; gap:8px;\">\r\n                  <button id=\"attachFooterBtn\" class=\"comment-toolbar-btn\" title=\"Attach file\" style=\"padding:8px; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:8px; cursor:pointer;\">${SVGIcons.paperclip({ size: 14, className: 'inline-icon' })}</button>\r\n                  <button class=\"btn-add-comment-footer\" style=\"background:#10b981; color:white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;\">Send</button>\r\n                </div>\r\n                <label style=\"font-size:11px; color:#6b7280; display:flex; align-items:center; gap:6px;\"><input type=\"checkbox\" id=\"commentInternalFooter\"> Internal</label>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"comments-list\" style=\"display: flex; flex-direction: column; gap: 8px;\">\r\n              <p style=\"text-align: center; padding: 20px; color: #9ca3af; font-size: 12px;\">\r\n                <i class=\"fas fa-spinner fa-spin\" style=\"font-size: 16px; margin-bottom: 8px;\"></i><br>\r\n                Loading comments...\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n\r\n  }\r\n\r\n  adjustContentPadding(isCollapsed) {\r\n    const kanbanView = document.getElementById('kanbanView');\r\n    const boardWrapper = document.querySelector('.board-wrapper');\r\n    const rightSidebar = document.getElementById('rightSidebar');\r\n\r\n    const padding = isCollapsed ? '65px' : '70px';\r\n\r\n    if (kanbanView) kanbanView.style.paddingBottom = padding;\r\n    if (boardWrapper) boardWrapper.style.paddingBottom = padding;\r\n    if (rightSidebar) rightSidebar.style.paddingBottom = padding;\r\n  }\r\n\r\n  async sendMessage() {\r\n    if (this.isLoading) return;\r\n\r\n    const message = this.input?.value.trim();\r\n    if (!message) return;\r\n\r\n    // Clear input\r\n    this.input.value = '';\r\n    this.input.style.height = 'auto';\r\n\r\n    // Add user message\r\n    this.addMessage('user', message);\r\n\r\n    // Show loading\r\n    this.isLoading = true;\r\n    this.sendBtn.disabled = true;\r\n    const loadingMsg = this.addMessage('assistant', '', true);\r\n    const sendStart = Date.now();\r\n    console.debug('Flowing MVP sendMessage payload:', { message, context: this.context });\r\n\r\n    try {\r\n      // Send to backend\r\n      const response = await fetch('/api/copilot/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          message: message,\r\n          context: this.context\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Ensure the loading indicator is visible for a short moment so users see the \"thinking\" state\r\n      try {\r\n        const minMs = 200;\r\n        const elapsed = Date.now() - sendStart;\r\n        if (elapsed < minMs) await new Promise(r => setTimeout(r, minMs - elapsed));\r\n      } catch (e) { /* ignore timing failures */ }\r\n\r\n      // Remove loading message\r\n      loadingMsg?.remove();\r\n\r\n      // Add assistant response (handle empty responses more explicitly)\r\n      if (data && data.response) {\r\n        this.addMessage('assistant', data.response);\r\n      } else {\r\n        console.warn('Flowing MVP: empty response payload', data);\r\n        this.addMessage('assistant', 'Sorry, I could not generate a response.');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Flowing MVP error:', error);\r\n      // Try to surface server error text if available\r\n      try {\r\n        if (error && error.response) {\r\n          console.debug('Flowing MVP server error response:', error.response);\r\n        }\r\n      } catch (e) { /* ignore */ }\r\n\r\n      loadingMsg?.remove();\r\n      this.addMessage('assistant', '‚ùå Sorry, I encountered an error. Please try again.');\r\n    } finally {\r\n      this.isLoading = false;\r\n      this.sendBtn.disabled = false;\r\n    }\r\n  }\r\n\r\n  addMessage(role, content, isLoading = false) {\r\n    if (!this.messagesContainer) return null;\r\n\r\n    const messageDiv = document.createElement('div');\r\n    messageDiv.className = `flowing-message ${role}${isLoading ? ' loading' : ''}`;\r\n\r\n    const avatar = role === 'user' ? 'üë§' : 'SF';\r\n    const avatarClass = role === 'user' ? '' : 'copilot-sf-logo';\r\n\r\n    messageDiv.innerHTML = `\r\n      <div class=\"message-avatar ${avatarClass}\">${avatar}</div>\r\n      <div class=\"message-content\">\r\n        ${isLoading ? '<p>Thinking...</p>' : this.formatMessage(content)}\r\n      </div>\r\n    `;\r\n\r\n    this.messagesContainer.appendChild(messageDiv);\r\n    this.scrollToBottom();\r\n\r\n    return messageDiv;\r\n  }\r\n\r\n  formatMessage(content) {\r\n    // Convert markdown-style formatting to HTML\r\n    let formatted = content\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n      .replace(/`(.*?)`/g, '<code>$1</code>')\r\n      .replace(/\\n\\n/g, '</p><p>')\r\n      .replace(/\\n/g, '<br>');\r\n\r\n    // Convert bullet points\r\n    if (formatted.includes('- ') || formatted.includes('‚Ä¢ ')) {\r\n      const lines = formatted.split('</p><p>');\r\n      formatted = lines.map(line => {\r\n        if (line.includes('- ') || line.includes('‚Ä¢ ')) {\r\n          const items = line.split(/<br>/).filter(l => l.trim());\r\n          const listItems = items.map(item => {\r\n            const cleaned = item.replace(/^[‚Ä¢\\-]\\s*/, '').trim();\r\n            return cleaned ? `<li>${cleaned}</li>` : '';\r\n          }).join('');\r\n          return `<ul>${listItems}</ul>`;\r\n        }\r\n        return line;\r\n      }).join('</p><p>');\r\n    }\r\n\r\n    // Wrap in paragraph if not already wrapped\r\n    if (!formatted.startsWith('<p>') && !formatted.startsWith('<ul>')) {\r\n      formatted = `<p>${formatted}</p>`;\r\n    }\r\n\r\n    return formatted;\r\n  }\r\n\r\n  scrollToBottom() {\r\n    if (this.messagesContainer) {\r\n      this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;\r\n    }\r\n  }\r\n\r\n  // Public API for external usage\r\n  askAboutTicket(issueKey) {\r\n    this.expand();\r\n    this.input.value = `Tell me about ticket ${issueKey}`;\r\n    this.input.focus();\r\n  }\r\n\r\n  suggestActions(issueKey) {\r\n    this.expand();\r\n    this.input.value = `What should I do with ticket ${issueKey}?`;\r\n    this.sendMessage();\r\n  }\r\n\r\n  explainSLA(issueKey) {\r\n    this.expand();\r\n    this.input.value = `Explain the SLA status for ${issueKey}`;\r\n    this.sendMessage();\r\n  }\r\n\r\n  /**\r\n   * Mostrar sugerencias contextuales usando FlowingContext\r\n   * Integra las capacidades de IA real del sistema Flowing\r\n   */\r\n  async showContextualSuggestions() {\r\n    if (!window.FlowingContext) {\r\n      console.warn('FlowingContext not available');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Obtener sugerencias contextuales\r\n      const suggestions = await window.FlowingContext.getSuggestions();\r\n\r\n      if (!suggestions || !suggestions.suggestions || suggestions.suggestions.length === 0) {\r\n        return;\r\n      }\r\n\r\n      // Mostrar mensaje con sugerencias\r\n      const suggestionsList = suggestions.suggestions.map(s =>\r\n        `‚Ä¢ ${s.icon || 'üí°'} ${s.title}`\r\n      ).join('\\n');\r\n\r\n      this.addMessage(\r\n        `**${suggestions.title || 'Sugerencias Contextuales'}**\\n\\n${suggestionsList}\\n\\n_Click en \"‚ú® Flowing AI\" en cualquier sugerencia para ejecutarla._`,\r\n        'assistant'\r\n      );\r\n    } catch (error) {\r\n      console.error('Error showing contextual suggestions:', error);\r\n    }\r\n  }\r\n}\r\n\r\n// Exponer FlowingContext globalmente para integraci√≥n con footer\r\nif (typeof FlowingContext !== 'undefined') {\r\n  window.FlowingContext = FlowingContext;\r\n}\r\n\r\n// Initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  window.flowingFooter = new FlowingFooter();\r\n  console.log('‚úÖ Flowing MVP Footer loaded');\r\n  // Global click listener to detect issue details clicks across the app\r\n  setTimeout(() => {\r\n    document.addEventListener('click', (e) => {\r\n      try {\r\n        const detailsBtn = e.target.closest('.issue-details-btn, .btn-view-details, .issueDetailsBtn, [data-issue-key], [data-key]');\r\n        if (!detailsBtn) return;\r\n\r\n        // If the clicked element has a direct data-issue-key or data-key, use it\r\n        const issueKey = detailsBtn.dataset?.issueKey || detailsBtn.dataset?.key || detailsBtn.getAttribute('data-issue-key') || detailsBtn.getAttribute('data-key');\r\n        if (!issueKey) return;\r\n\r\n        console.log('üîî Issue details click detected for:', issueKey);\r\n\r\n        // Prevent default right-sidebar behavior if our footer will handle it\r\n        if (window.flowingFooter && typeof window.flowingFooter.switchToBalancedView === 'function') {\r\n          try {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          } catch (err) { /* ignore */ }\r\n          window.flowingFooter.switchToBalancedView(issueKey);\r\n        }\r\n\r\n        // Dispatch ticketSelected immediately for ML modules\r\n        try {\r\n          document.dispatchEvent(new CustomEvent('ticketSelected', { detail: { ticket: { key: issueKey } } }));\r\n        } catch (err) { console.warn('Could not dispatch ticketSelected on click handler:', err); }\r\n      } catch (err) {\r\n        console.warn('Error in global issue click detector:', err);\r\n      }\r\n    }, true);\r\n  }, 200);\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/glassmorphism-opacity-controller.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2958
      },
      {
        "start": 3103,
        "end": 13119
      },
      {
        "start": 13192,
        "end": 13651
      },
      {
        "start": 15582,
        "end": 16645
      },
      {
        "start": 16764,
        "end": 16907
      },
      {
        "start": 17313,
        "end": 17394
      },
      {
        "start": 17503,
        "end": 18683
      },
      {
        "start": 18756,
        "end": 18958
      },
      {
        "start": 19183,
        "end": 19385
      },
      {
        "start": 19610,
        "end": 20741
      },
      {
        "start": 20863,
        "end": 21058
      },
      {
        "start": 21262,
        "end": 21457
      },
      {
        "start": 21660,
        "end": 22304
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Transparency Manager\r\n * Controla la opacidad de elementos glassmorphic para light y dark themes\r\n * Integrado con glassmorphism.css\r\n */\r\n\r\nclass TransparencyManager {\r\n  constructor() {\r\n    // Default opacity values - HIGHER for better visibility\r\n    this.defaults = {\r\n      light: {\r\n        primary: 0.92,     // Header, sidebars - MORE OPAQUE for visibility\r\n        secondary: 0.94,   // KANBAN COLUMNS - VERY OPAQUE for readability\r\n        tertiary: 0.88,    // MVP footer - MORE OPAQUE\r\n        overlay: 0.0,      // Light overlay opacity - COMPLETELY TRANSPARENT\r\n        blur: {\r\n          primary: 10,     // Header, sidebars - LESS blur for clarity\r\n          secondary: 8,    // Kanban columns - LESS blur for readability\r\n          tertiary: 6      // MVP footer - LESS blur\r\n        }\r\n      },\r\n      dark: {\r\n        primary: 0.92,     // Dark theme - same high opacity\r\n        secondary: 0.94,   // KANBAN COLUMNS - very opaque\r\n        tertiary: 0.88,    // MVP footer - more opaque\r\n        overlay: 0.0,      // Dark overlay opacity - COMPLETELY TRANSPARENT\r\n        blur: {\r\n          primary: 10,     // Less blur for clarity\r\n          secondary: 8,    // Less blur for readability\r\n          tertiary: 6      // Less blur\r\n        }\r\n      }\r\n    };\r\n\r\n    this.storageKey = 'appTransparency';\r\n    this.currentTheme = this.detectTheme();\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Initialize transparency system\r\n   */\r\n  init() {\r\n    console.log('üé® Initializing Transparency Manager...');\r\n    \r\n    // Load saved transparency or use defaults\r\n    this.loadTransparency();\r\n    \r\n    // Validate loaded settings - reset if corrupted\r\n    this.validateSettings();\r\n    \r\n    // Apply current transparency\r\n    this.applyTransparency();\r\n    \r\n    // Listen for theme changes\r\n    document.addEventListener('themeChange', (e) => {\r\n      this.currentTheme = e.detail?.theme || this.detectTheme();\r\n      console.log(`üåì Theme changed to: ${this.currentTheme}, applying transparency...`);\r\n      this.applyTransparency();\r\n    });\r\n\r\n    // Listen for body class changes (alternate theme detection)\r\n    const observer = new MutationObserver(() => {\r\n      const newTheme = this.detectTheme();\r\n      if (newTheme !== this.currentTheme) {\r\n        this.currentTheme = newTheme;\r\n        console.log(`üîÑ Detected theme change via DOM: ${this.currentTheme}`);\r\n        this.applyTransparency();\r\n      }\r\n    });\r\n\r\n    observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });\r\n\r\n    // Re-apply transparency when DOM elements are added\r\n    const domObserver = new MutationObserver((mutations) => {\r\n      let shouldReapply = false;\r\n      \r\n      // Check if new background overlay was added\r\n      const overlays = document.querySelectorAll('.ai-background-overlay');\r\n      if (overlays.length > 0) {\r\n        // Reapply overlay opacity to any new elements\r\n        overlays.forEach(overlay => {\r\n          overlay.style.opacity = this.settings[this.currentTheme]?.overlay || this.defaults[this.currentTheme].overlay;\r\n        });\r\n      }\r\n      \r\n      // Check if kanban columns were added\r\n      for (const mutation of mutations) {\r\n        if (mutation.type === 'childList') {\r\n          for (const node of mutation.addedNodes) {\r\n            if (node.nodeType === 1) { // Element node\r\n              if (node.classList?.contains('kanban-column') || node.querySelector?.('.kanban-column')) {\r\n                shouldReapply = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (shouldReapply) break;\r\n      }\r\n      \r\n      // If kanban columns were added, reapply transparency\r\n      if (shouldReapply) {\r\n        console.log('üîÑ Kanban columns detected in DOM, applying transparency...');\r\n        requestAnimationFrame(() => {\r\n          this.applyToKanbanColumns();\r\n        });\r\n      }\r\n    });\r\n\r\n    domObserver.observe(document.body, { \r\n      childList: true, \r\n      subtree: true,\r\n      attributes: true,\r\n      attributeFilter: ['class']\r\n    });\r\n\r\n    console.log('‚úÖ Transparency Manager initialized');\r\n  }\r\n\r\n  /**\r\n   * Detect current theme from body classes\r\n   * @returns {string} 'light' or 'dark'\r\n   */\r\n  detectTheme() {\r\n    if (document.body.classList.contains('theme-dark')) {\r\n      return 'dark';\r\n    }\r\n    return 'light';\r\n  }\r\n\r\n  /**\r\n   * Load transparency settings from localStorage\r\n   */\r\n  loadTransparency() {\r\n    try {\r\n      const saved = localStorage.getItem(this.storageKey);\r\n      if (saved) {\r\n        const parsed = JSON.parse(saved);\r\n        console.log(`üì¶ Loaded transparency settings:`, parsed);\r\n        this.settings = { ...this.defaults, ...parsed };\r\n        \r\n        // PROTECTION: Ensure Kanban columns (secondary) never go below 0.75 opacity\r\n        if (this.settings.light && this.settings.light.secondary < 0.75) {\r\n          console.warn(`‚ö†Ô∏è Light secondary opacity too low (${this.settings.light.secondary}), resetting to 0.75`);\r\n          this.settings.light.secondary = 0.75;\r\n        }\r\n        if (this.settings.dark && this.settings.dark.secondary < 0.75) {\r\n          console.warn(`‚ö†Ô∏è Dark secondary opacity too low (${this.settings.dark.secondary}), resetting to 0.75`);\r\n          this.settings.dark.secondary = 0.75;\r\n        }\r\n      } else {\r\n        this.settings = JSON.parse(JSON.stringify(this.defaults));\r\n        console.log(`üì¶ Using default transparency settings`);\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Error loading transparency settings, using defaults:', error);\r\n      this.settings = JSON.parse(JSON.stringify(this.defaults));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate settings - check for corrupted or invalid values\r\n   */\r\n  validateSettings() {\r\n    let needsReset = false;\r\n    \r\n    ['light', 'dark'].forEach(theme => {\r\n      if (!this.settings[theme]) {\r\n        console.warn(`‚ö†Ô∏è Missing ${theme} theme settings, resetting...`);\r\n        needsReset = true;\r\n        return;\r\n      }\r\n      \r\n      // Check if all opacity values are valid numbers between 0 and 1\r\n      ['primary', 'secondary', 'tertiary', 'overlay'].forEach(layer => {\r\n        const value = this.settings[theme][layer];\r\n        if (typeof value !== 'number' || value < 0 || value > 1 || isNaN(value)) {\r\n          console.warn(`‚ö†Ô∏è Invalid ${theme}.${layer} value: ${value}, resetting...`);\r\n          needsReset = true;\r\n        }\r\n      });\r\n      \r\n      // Check blur values\r\n      if (this.settings[theme].blur) {\r\n        ['primary', 'secondary', 'tertiary'].forEach(layer => {\r\n          const value = this.settings[theme].blur[layer];\r\n          if (typeof value !== 'number' || value < 0 || value > 50 || isNaN(value)) {\r\n            console.warn(`‚ö†Ô∏è Invalid ${theme}.blur.${layer} value: ${value}, resetting...`);\r\n            needsReset = true;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    \r\n    if (needsReset) {\r\n      console.warn('üîÑ Resetting transparency settings to defaults due to corruption');\r\n      this.settings = JSON.parse(JSON.stringify(this.defaults));\r\n      this.saveTransparency();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save transparency settings to localStorage\r\n   */\r\n  saveTransparency() {\r\n    try {\r\n      localStorage.setItem(this.storageKey, JSON.stringify(this.settings));\r\n      console.log(`üíæ Transparency settings saved`);\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Error saving transparency settings:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Apply transparency to all glassmorphic elements\r\n   */\r\n  applyTransparency() {\r\n    const themeSettings = this.settings[this.currentTheme];\r\n    if (!themeSettings) {\r\n      console.warn(`‚ö†Ô∏è No settings found for theme: ${this.currentTheme}`);\r\n      return;\r\n    }\r\n\r\n    console.log(`üé® Applying ${this.currentTheme} transparency & blur:`, themeSettings);\r\n\r\n    // Apply to root CSS variables for glassmorphism layers\r\n    document.documentElement.style.setProperty(\r\n      '--glassmorphic-primary-opacity',\r\n      themeSettings.primary\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--glassmorphic-secondary-opacity',\r\n      themeSettings.secondary\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--glassmorphic-tertiary-opacity',\r\n      themeSettings.tertiary\r\n    );\r\n\r\n    // Apply blur CSS variables\r\n    if (themeSettings.blur) {\r\n      document.documentElement.style.setProperty(\r\n        '--glassmorphic-primary-blur',\r\n        `${themeSettings.blur.primary}px`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--glassmorphic-secondary-blur',\r\n        `${themeSettings.blur.secondary}px`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--glassmorphic-tertiary-blur',\r\n        `${themeSettings.blur.tertiary}px`\r\n      );\r\n    }\r\n\r\n    // CRITICAL: Apply directly to real UI elements ONLY\r\n    // MAIN CONTAINERS (should receive effects)\r\n    const mainContainers = {\r\n      '.sidebar': 'tertiary',\r\n      '.main-header-pro': 'tertiary',\r\n      '.right-sidebar': 'primary',\r\n      '.filter-bar-enhanced': 'tertiary',\r\n      '.modal': 'secondary',\r\n      '.navbar': 'tertiary',\r\n      '.kanban-column': 'secondary',\r\n      // Flowing MVP footer / chat assistant\r\n      '.flowing-footer': 'tertiary',\r\n      '.flowing-content': 'tertiary',\r\n      '.footer-two-columns': 'tertiary',\r\n      '.comments-ai-container': 'tertiary'\r\n    };\r\n\r\n    Object.entries(mainContainers).forEach(([selector, level]) => {\r\n      const elements = document.querySelectorAll(selector);\r\n      elements.forEach(element => {\r\n        let opacity = themeSettings[level];\r\n        \r\n        // PROTECTION: Kanban columns must have minimum 0.75 opacity to remain readable\r\n        if (element.classList.contains('kanban-column')) {\r\n          opacity = Math.max(0.75, opacity);\r\n        }\r\n        \r\n        const blur = themeSettings.blur?.[level] || 15;\r\n        \r\n        // Set background color based on current theme and element type\r\n        // Use theme-specific color values for consistency\r\n        let bgColor;\r\n        if (this.currentTheme === 'dark') {\r\n          if (element.classList.contains('sidebar') || element.classList.contains('right-sidebar') || element.classList.contains('filter-bar-enhanced')) {\r\n            bgColor = `rgba(26, 26, 26, ${opacity})`;\r\n          } else if (element.classList.contains('main-header-pro')) {\r\n            bgColor = `rgba(37, 37, 37, ${opacity})`;\r\n          } else if (element.classList.contains('kanban-column')) {\r\n            bgColor = `rgba(32, 32, 42, ${opacity})`;\r\n          } else {\r\n            bgColor = `rgba(42, 42, 42, ${opacity})`;\r\n          }\r\n        } else {\r\n          if (element.classList.contains('kanban-column')) {\r\n            bgColor = `rgba(248, 250, 252, ${opacity})`;\r\n          } else {\r\n            bgColor = `rgba(255, 255, 255, ${opacity})`;\r\n          }\r\n        }\r\n        \r\n        element.style.setProperty('background-color', bgColor, 'important');\r\n        \r\n        // Apply appropriate backdrop filter based on selector - All with 180% saturation\r\n        if (selector === '.sidebar') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.main-header-pro') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.right-sidebar') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.filter-bar-enhanced') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.modal') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.navbar') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        } else if (selector === '.kanban-column') {\r\n          element.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n          element.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n        }\r\n      });\r\n    });\r\n\r\n    // Apply overlay opacity\r\n    const overlays = document.querySelectorAll('.ai-background-overlay');\r\n    overlays.forEach(overlay => {\r\n      overlay.style.opacity = themeSettings.overlay;\r\n    });\r\n\r\n    console.log(`‚úÖ Transparency & blur applied for ${this.currentTheme} theme`);\r\n  }\r\n\r\n  /**\r\n   * Apply opacity and blur to elements with specific glassmorphic class\r\n   * IMPORTANT: Only applies to general backgrounds (sidebar, modal, navbar) NOT to object interiors\r\n   * @param {string} level - 'primary', 'secondary', or 'tertiary'\r\n   * @param {number} opacity - Opacity value (0-1)\r\n   * @param {number} blurPx - Blur value in pixels\r\n   */\r\n  applyToElements(level, opacity, blurPx) {\r\n    const className = `.glassmorphic-${level}`;\r\n    const elements = document.querySelectorAll(className);\r\n    \r\n    // Define main background containers that should get effects\r\n    const backgroundSelectors = [\r\n      '.sidebar',\r\n      '.main-header-pro',\r\n      '.right-sidebar',\r\n      '.filter-bar-enhanced',\r\n      '.modal',\r\n      '.navbar',\r\n      '.kanban-column',\r\n      // Flowing MVP footer containers\r\n      '.flowing-footer',\r\n      '.flowing-content',\r\n      '.footer-two-columns',\r\n      '.comments-ai-container'\r\n    ];\r\n    \r\n    elements.forEach(el => {\r\n      // ONLY apply to main background containers\r\n      const isMainContainer = backgroundSelectors.some(selector => \r\n        el.matches(selector)\r\n      );\r\n\r\n      if (!isMainContainer) {\r\n        // Skip small nested elements\r\n        return;\r\n      }\r\n\r\n      // Apply opacity to background color ONLY\r\n      const currentBg = window.getComputedStyle(el).backgroundColor;\r\n      \r\n      // Extract RGB values (if it's an rgba color)\r\n      const rgbMatch = currentBg.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\r\n      if (rgbMatch) {\r\n        const [, r, g, b] = rgbMatch;\r\n        // IMPORTANT: Apply to backgroundColor, NOT element opacity\r\n        el.style.backgroundColor = `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n      }\r\n\r\n      // Apply blur via backdrop-filter\r\n      if (blurPx !== undefined && blurPx > 0) {\r\n        let currentFilter = el.style.backdropFilter || '';\r\n        // Remove existing blur if present\r\n        currentFilter = currentFilter.replace(/blur\\([^)]+\\)\\s*/g, '');\r\n        // Add new blur value\r\n        const newFilter = `blur(${blurPx}px) ${currentFilter}`.trim();\r\n        el.style.backdropFilter = newFilter;\r\n      }\r\n    });\r\n\r\n    console.log(\r\n      `üìê Applied to ${className}: opacity=${opacity}, blur=${blurPx}px (${elements.length} background elements)`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Set transparency for a specific theme layer\r\n   * @param {string} theme - 'light' or 'dark'\r\n   * @param {string} layer - 'primary', 'secondary', 'tertiary', or 'overlay'\r\n   * @param {number} opacity - Opacity value (0-1)\r\n   */\r\n  setTransparency(theme, layer, opacity) {\r\n    if (opacity < 0 || opacity > 1) {\r\n      console.warn(`‚ö†Ô∏è Opacity must be between 0 and 1, got: ${opacity}`);\r\n      return;\r\n    }\r\n\r\n    if (!this.settings[theme]) {\r\n      this.settings[theme] = { ...this.defaults[theme] };\r\n    }\r\n\r\n    this.settings[theme][layer] = opacity;\r\n    console.log(`üé® Set ${theme} ${layer} transparency to ${opacity}`);\r\n\r\n    // If this is the current theme, apply immediately\r\n    if (theme === this.currentTheme) {\r\n      this.applyTransparency();\r\n    }\r\n\r\n    this.saveTransparency();\r\n  }\r\n\r\n  /**\r\n   * Get transparency for a specific theme layer\r\n   * @param {string} theme - 'light' or 'dark'\r\n   * @param {string} layer - 'primary', 'secondary', 'tertiary', or 'overlay'\r\n   * @returns {number} Opacity value (0-1)\r\n   */\r\n  getTransparency(theme, layer) {\r\n    return this.settings[theme]?.[layer] ?? this.defaults[theme]?.[layer] ?? 0.5;\r\n  }\r\n\r\n  /**\r\n   * Reset transparency to defaults\r\n   * @param {string} [theme] - Optional theme to reset (resets all if not specified)\r\n   */\r\n  resetTransparency(theme) {\r\n    if (theme) {\r\n      this.settings[theme] = JSON.parse(JSON.stringify(this.defaults[theme]));\r\n      console.log(`üîÑ Reset ${theme} transparency to defaults`);\r\n    } else {\r\n      this.settings = JSON.parse(JSON.stringify(this.defaults));\r\n      console.log(`üîÑ Reset all transparency to defaults`);\r\n    }\r\n\r\n    this.applyTransparency();\r\n    this.saveTransparency();\r\n  }\r\n\r\n  /**\r\n   * Force re-apply transparency (useful after DOM changes)\r\n   */\r\n  forceReapply() {\r\n    console.log('üîÑ Force reapplying transparency...');\r\n    this.applyTransparency();\r\n  }\r\n\r\n  /**\r\n   * Apply transparency to newly created kanban columns\r\n   * Call this after kanban board is rendered\r\n   */\r\n  applyToKanbanColumns() {\r\n    const columns = document.querySelectorAll('.kanban-column');\r\n    const themeSettings = this.settings[this.currentTheme];\r\n    \r\n    if (!themeSettings || columns.length === 0) return;\r\n\r\n    const opacity = themeSettings.secondary;\r\n    const blur = themeSettings.blur?.secondary || 15;\r\n\r\n    columns.forEach(column => {\r\n      let bgColor;\r\n      if (this.currentTheme === 'dark') {\r\n        bgColor = `rgba(32, 32, 42, ${opacity})`;\r\n      } else {\r\n        bgColor = `rgba(248, 250, 252, ${opacity})`;\r\n      }\r\n      \r\n      column.style.setProperty('background-color', bgColor, 'important');\r\n      column.style.setProperty('backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n      column.style.setProperty('-webkit-backdrop-filter', `blur(${blur}px) saturate(180%)`, 'important');\r\n    });\r\n\r\n    console.log(`‚úÖ Applied transparency to ${columns.length} kanban columns`);\r\n  }\r\n\r\n  /**\r\n   * Get current theme transparency settings\r\n   * @returns {object} Current theme transparency settings\r\n   */\r\n  getCurrentSettings() {\r\n    return this.settings[this.currentTheme];\r\n  }\r\n\r\n  /**\r\n   * Increase opacity for current theme by step\r\n   * @param {string} layer - 'primary', 'secondary', 'tertiary', or 'overlay'\r\n   * @param {number} step - Step size (default 0.05)\r\n   */\r\n  increaseOpacity(layer, step = 0.05) {\r\n    const current = this.getTransparency(this.currentTheme, layer);\r\n    const newValue = Math.min(1, current + step);\r\n    this.setTransparency(this.currentTheme, layer, newValue);\r\n  }\r\n\r\n  /**\r\n   * Decrease opacity for current theme by step\r\n   * @param {string} layer - 'primary', 'secondary', 'tertiary', or 'overlay'\r\n   * @param {number} step - Step size (default 0.05)\r\n   */\r\n  decreaseOpacity(layer, step = 0.05) {\r\n    const current = this.getTransparency(this.currentTheme, layer);\r\n    const newValue = Math.max(0, current - step);\r\n    this.setTransparency(this.currentTheme, layer, newValue);\r\n  }\r\n\r\n  /**\r\n   * Set blur for a specific theme layer\r\n   * @param {string} theme - 'light' or 'dark'\r\n   * @param {string} layer - 'primary', 'secondary', or 'tertiary'\r\n   * @param {number} blurPx - Blur value in pixels\r\n   */\r\n  setBlur(theme, layer, blurPx) {\r\n    if (blurPx < 0 || blurPx > 50) {\r\n      console.warn(`‚ö†Ô∏è Blur should be between 0 and 50px, got: ${blurPx}`);\r\n      return;\r\n    }\r\n\r\n    if (!this.settings[theme]) {\r\n      this.settings[theme] = { ...this.defaults[theme] };\r\n    }\r\n\r\n    if (!this.settings[theme].blur) {\r\n      this.settings[theme].blur = { ...this.defaults[theme].blur };\r\n    }\r\n\r\n    this.settings[theme].blur[layer] = blurPx;\r\n    console.log(`üé® Set ${theme} ${layer} blur to ${blurPx}px`);\r\n\r\n    // If this is the current theme, apply immediately\r\n    if (theme === this.currentTheme) {\r\n      this.applyTransparency();\r\n    }\r\n\r\n    this.saveTransparency();\r\n  }\r\n\r\n  /**\r\n   * Get blur for a specific theme layer\r\n   * @param {string} theme - 'light' or 'dark'\r\n   * @param {string} layer - 'primary', 'secondary', or 'tertiary'\r\n   * @returns {number} Blur value in pixels\r\n   */\r\n  getBlur(theme, layer) {\r\n    return this.settings[theme]?.blur?.[layer] ?? this.defaults[theme]?.blur?.[layer] ?? 15;\r\n  }\r\n\r\n  /**\r\n   * Increase blur for current theme by step\r\n   * @param {string} layer - 'primary', 'secondary', or 'tertiary'\r\n   * @param {number} step - Step size in pixels (default 2)\r\n   */\r\n  increaseBlur(layer, step = 2) {\r\n    const current = this.getBlur(this.currentTheme, layer);\r\n    const newValue = Math.min(50, current + step);\r\n    this.setBlur(this.currentTheme, layer, newValue);\r\n  }\r\n\r\n  /**\r\n   * Decrease blur for current theme by step\r\n   * @param {string} layer - 'primary', 'secondary', or 'tertiary'\r\n   * @param {number} step - Step size in pixels (default 2)\r\n   */\r\n  decreaseBlur(layer, step = 2) {\r\n    const current = this.getBlur(this.currentTheme, layer);\r\n    const newValue = Math.max(0, current - step);\r\n    this.setBlur(this.currentTheme, layer, newValue);\r\n  }\r\n}\r\n\r\n// Initialize globally - IMMEDIATE execution\r\ntry {\r\n  window.transparencyManager = new TransparencyManager();\r\n  console.log('‚úÖ Transparency Manager initialized successfully');\r\n  console.log('üìä Opacity methods: setTransparency(), getTransparency(), increaseOpacity(), decreaseOpacity()');\r\n  console.log('üìä Blur methods: setBlur(), getBlur(), increaseBlur(), decreaseBlur()');\r\n  console.log('üìä Example: transparencyManager.setBlur(\"light\", \"primary\", 25)');\r\n  console.log('üìä Example: transparencyManager.increaseBlur(\"primary\")');\r\n} catch (error) {\r\n  console.error('‚ùå Failed to initialize Transparency Manager:', error);\r\n}\r\n\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/header-menu-controller.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 15694
      },
      {
        "start": 15943,
        "end": 17433
      },
      {
        "start": 18929,
        "end": 22666
      },
      {
        "start": 22732,
        "end": 22741
      },
      {
        "start": 23449,
        "end": 23968
      },
      {
        "start": 24140,
        "end": 27981
      },
      {
        "start": 28066,
        "end": 28070
      },
      {
        "start": 28227,
        "end": 28695
      },
      {
        "start": 28836,
        "end": 31858
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Header Menu Controller\r\n * Manages header bar interactions: dropdown menus, theme toggle, user menu, notifications\r\n * \r\n * IMPORTANT: Uses ThemeManager (centralized theme control) to avoid conflicts\r\n */\r\n\r\n// ===== INITIALIZE FLOATING CONTROLS =====\r\nfunction initHeaderMenus() {\r\n  setupThemeToggleButton();\r\n  setupUserMenu();\r\n  setupNotifications();\r\n  closeDropDownMenusOnClickOutside();\r\n  console.log('‚úì Floating controls initialized');\r\n}\r\n\r\n// ===== THEME TOGGLE BUTTON =====\r\nfunction setupThemeToggleButton() {\r\n  const themeBtn = document.getElementById('themeToggleBtn');\r\n  \r\n  if (themeBtn) {\r\n    // Direct theme toggle on button click\r\n    themeBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      \r\n      // Get current theme from ThemeManager or body class\r\n      let currentTheme = 'light';\r\n      if (window.ThemeManager && window.ThemeManager.currentTheme) {\r\n        currentTheme = window.ThemeManager.currentTheme;\r\n      } else if (document.body.classList.contains('theme-dark')) {\r\n        currentTheme = 'dark';\r\n      }\r\n      \r\n      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\r\n      \r\n      // Use ThemeManager if available (recommended)\r\n      if (window.ThemeManager) {\r\n        window.ThemeManager.setTheme(newTheme);\r\n      } else {\r\n        // Fallback: manual application\r\n        document.documentElement.classList.remove('theme-light', 'theme-dark');\r\n        document.body.classList.remove('theme-light', 'theme-dark');\r\n        document.documentElement.classList.add(`theme-${newTheme}`);\r\n        document.body.classList.add(`theme-${newTheme}`);\r\n        document.documentElement.setAttribute('data-theme', newTheme);\r\n        \r\n        // Save to localStorage\r\n        localStorage.setItem('theme', newTheme);\r\n        localStorage.setItem('currentTheme', newTheme);\r\n        \r\n        // Trigger theme change event\r\n        window.dispatchEvent(new CustomEvent('themeChange', { detail: { theme: newTheme } }));\r\n      }\r\n      \r\n      // Update transparency manager if available\r\n      if (window.transparencyManager) {\r\n        window.transparencyManager.currentTheme = newTheme;\r\n        window.transparencyManager.applyTransparency();\r\n      }\r\n      \r\n      // Update background manager if available\r\n      if (window.backgroundManager) {\r\n        window.backgroundManager.onThemeChange(newTheme);\r\n      }\r\n      \r\n      console.log(`üé® Theme switched to: ${newTheme}`);\r\n    });\r\n    \r\n    console.log('‚úì Theme toggle button enabled');\r\n  }\r\n}\r\n\r\n// ===== USER MENU =====\r\nfunction setupUserMenu() {\r\n  // Setup header account buttons\r\n  const headerUserMenuBtn = document.getElementById('headerUserMenuBtn');\r\n  const headerSettingsBtn = document.getElementById('headerSettingsBtn');\r\n  const headerHelpBtn = document.getElementById('headerHelpBtn');\r\n  \r\n  if (headerUserMenuBtn) {\r\n    headerUserMenuBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      showProfileModal();\r\n    });\r\n    console.log('‚úì Header profile button enabled');\r\n  }\r\n\r\n  if (headerSettingsBtn) {\r\n    headerSettingsBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      showSettingsModal();\r\n    });\r\n    console.log('‚úì Header settings button enabled');\r\n  }\r\n\r\n  if (headerHelpBtn) {\r\n    headerHelpBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      showHelpModal();\r\n    });\r\n    console.log('‚úì Header help button enabled');\r\n  }\r\n  \r\n  // Update user info for display only\r\n  updateUserInfo();\r\n}\r\n\r\nfunction showSettingsModal() {\r\n  let panel = document.getElementById('settingsPanel');\r\n  \r\n  if (!panel) {\r\n    panel = createSettingsPanel();\r\n    document.body.appendChild(panel);\r\n  }\r\n  \r\n  panel.style.display = 'flex';\r\n  setTimeout(() => panel.classList.add('active'), 10);\r\n  \r\n  // Load current settings\r\n  loadSettings();\r\n}\r\n\r\nfunction createSettingsPanel() {\r\n  const panel = document.createElement('div');\r\n  panel.id = 'settingsPanel';\r\n  panel.className = 'modal-overlay';\r\n  panel.innerHTML = `\r\n    <div class=\"modal-container settings-modal\">\r\n      <div class=\"modal-header\">\r\n        <h2>‚öôÔ∏è Settings</h2>\r\n        <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"settings-tabs\">\r\n          <button class=\"settings-tab active\" data-tab=\"general\">General</button>\r\n          <button class=\"settings-tab\" data-tab=\"appearance\">Appearance</button>\r\n          <button class=\"settings-tab\" data-tab=\"notifications\">Notifications</button>\r\n          <button class=\"settings-tab\" data-tab=\"advanced\">Advanced</button>\r\n        </div>\r\n        \r\n        <div class=\"settings-content\">\r\n          <!-- General Settings -->\r\n          <div class=\"settings-panel active\" data-panel=\"general\">\r\n            <h3>General Settings</h3>\r\n            <div class=\"setting-item\">\r\n              <label for=\"autoRefresh\">Auto-refresh tickets</label>\r\n              <input type=\"checkbox\" id=\"autoRefresh\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"refreshInterval\">Refresh interval (seconds)</label>\r\n              <input type=\"number\" id=\"refreshInterval\" value=\"60\" min=\"10\" max=\"300\">\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"defaultView\">Default view</label>\r\n              <select id=\"defaultView\">\r\n                <option value=\"kanban\">Kanban Board</option>\r\n                <option value=\"list\">List View</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Appearance Settings -->\r\n          <div class=\"settings-panel\" data-panel=\"appearance\">\r\n            <h3>Appearance</h3>\r\n            <div class=\"setting-item\">\r\n              <label for=\"themeSelect\">Theme</label>\r\n              <select id=\"themeSelect\">\r\n                <option value=\"light\">Light</option>\r\n                <option value=\"dark\">Dark</option>\r\n                <option value=\"auto\">Auto (System)</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <!-- Font Family Customization -->\r\n            <div class=\"font-customization-section\" style=\"margin-top: 24px;\">\r\n              <h4>Font Family</h4>\r\n              <p class=\"section-description\" style=\"font-size: 13px; opacity: 0.7; margin-bottom: 12px;\">Choose a font combination that matches your workflow and aesthetic preferences.</p>\r\n              <div id=\"fontPresetSelector\"></div>\r\n            </div>\r\n            \r\n            <div class=\"setting-item\" style=\"margin-top: 20px;\">\r\n              <label for=\"compactMode\">Compact mode</label>\r\n              <input type=\"checkbox\" id=\"compactMode\">\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"showAvatars\">Show user avatars</label>\r\n              <input type=\"checkbox\" id=\"showAvatars\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"animationSpeed\">Animation speed</label>\r\n              <select id=\"animationSpeed\">\r\n                <option value=\"fast\">Fast</option>\r\n                <option value=\"normal\">Normal</option>\r\n                <option value=\"slow\">Slow</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Notifications Settings -->\r\n          <div class=\"settings-panel\" data-panel=\"notifications\">\r\n            <h3>Notification Preferences</h3>\r\n            <div class=\"setting-item\">\r\n              <label for=\"enableNotifications\">Enable notifications</label>\r\n              <input type=\"checkbox\" id=\"enableNotifications\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"soundEnabled\">Enable sound</label>\r\n              <input type=\"checkbox\" id=\"soundEnabled\">\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"notifyAssigned\">Notify when assigned</label>\r\n              <input type=\"checkbox\" id=\"notifyAssigned\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"notifyComments\">Notify on comments</label>\r\n              <input type=\"checkbox\" id=\"notifyComments\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"notifyMentions\">Notify on mentions</label>\r\n              <input type=\"checkbox\" id=\"notifyMentions\" checked>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Advanced Settings -->\r\n          <div class=\"settings-panel\" data-panel=\"advanced\">\r\n            <h3>Advanced Settings</h3>\r\n            <div class=\"setting-item\">\r\n              <label for=\"cacheEnabled\">Enable caching</label>\r\n              <input type=\"checkbox\" id=\"cacheEnabled\" checked>\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label for=\"debugMode\">Debug mode</label>\r\n              <input type=\"checkbox\" id=\"debugMode\">\r\n            </div>\r\n            <div class=\"setting-item\">\r\n              <label>Clear cache</label>\r\n              <button class=\"btn-secondary\" onclick=\"localStorage.clear(); location.reload()\">Clear All Data</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button class=\"btn-secondary\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">Cancel</button>\r\n        <button class=\"btn-primary\" onclick=\"saveSettingsFromModal()\">Save Changes</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  // Tab switching\r\n  panel.querySelectorAll('.settings-tab').forEach(tab => {\r\n    tab.addEventListener('click', () => {\r\n      const tabName = tab.dataset.tab;\r\n      \r\n      // Update tabs\r\n      panel.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));\r\n      tab.classList.add('active');\r\n      \r\n      // Update panels\r\n      panel.querySelectorAll('.settings-panel').forEach(p => p.classList.remove('active'));\r\n      panel.querySelector(`[data-panel=\"${tabName}\"]`).classList.add('active');\r\n    });\r\n  });\r\n  \r\n  return panel;\r\n}\r\n\r\nfunction loadSettings() {\r\n  const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');\r\n  \r\n  // General\r\n  if (settings.autoRefresh !== undefined) {\r\n    const el = document.getElementById('autoRefresh');\r\n    if (el) el.checked = settings.autoRefresh;\r\n  }\r\n  if (settings.refreshInterval) {\r\n    const el = document.getElementById('refreshInterval');\r\n    if (el) el.value = settings.refreshInterval;\r\n  }\r\n  if (settings.defaultView) {\r\n    const el = document.getElementById('defaultView');\r\n    if (el) el.value = settings.defaultView;\r\n  }\r\n  \r\n  // Appearance\r\n  if (settings.theme) {\r\n    const el = document.getElementById('themeSelect');\r\n    if (el) el.value = settings.theme;\r\n  }\r\n  if (settings.compactMode !== undefined) {\r\n    const el = document.getElementById('compactMode');\r\n    if (el) el.checked = settings.compactMode;\r\n  }\r\n  if (settings.showAvatars !== undefined) {\r\n    const el = document.getElementById('showAvatars');\r\n    if (el) el.checked = settings.showAvatars;\r\n  }\r\n  if (settings.animationSpeed) {\r\n    const el = document.getElementById('animationSpeed');\r\n    if (el) el.value = settings.animationSpeed;\r\n  }\r\n  \r\n  // Notifications\r\n  if (settings.enableNotifications !== undefined) {\r\n    const el = document.getElementById('enableNotifications');\r\n    if (el) el.checked = settings.enableNotifications;\r\n  }\r\n  if (settings.soundEnabled !== undefined) {\r\n    const el = document.getElementById('soundEnabled');\r\n    if (el) el.checked = settings.soundEnabled;\r\n  }\r\n  if (settings.notifyAssigned !== undefined) {\r\n    const el = document.getElementById('notifyAssigned');\r\n    if (el) el.checked = settings.notifyAssigned;\r\n  }\r\n  if (settings.notifyComments !== undefined) {\r\n    const el = document.getElementById('notifyComments');\r\n    if (el) el.checked = settings.notifyComments;\r\n  }\r\n  if (settings.notifyMentions !== undefined) {\r\n    const el = document.getElementById('notifyMentions');\r\n    if (el) el.checked = settings.notifyMentions;\r\n  }\r\n  \r\n  // Advanced\r\n  if (settings.cacheEnabled !== undefined) {\r\n    const el = document.getElementById('cacheEnabled');\r\n    if (el) el.checked = settings.cacheEnabled;\r\n  }\r\n  if (settings.debugMode !== undefined) {\r\n    const el = document.getElementById('debugMode');\r\n    if (el) el.checked = settings.debugMode;\r\n  }\r\n  \r\n  // Initialize Font Selector\r\n  initializeFontSelector();\r\n  \r\n  // Apply saved font preset\r\n  const savedPreset = localStorage.getItem('fontPreset') || 'business';\r\n  applyFontPreset(savedPreset);\r\n}\r\n\r\n// ===== FONT FAMILY SYSTEM =====\r\n\r\nfunction initializeFontSelector() {\r\n  const container = document.getElementById('fontPresetSelector');\r\n  if (!container) {\r\n    console.warn('‚ö†Ô∏è Font preset selector container not found');\r\n    return;\r\n  }\r\n\r\n  // Generate font preset selector HTML\r\n  container.innerHTML = generateFontPresetHTML();\r\n  \r\n  // Setup event handlers\r\n  setupFontPresetHandlers();\r\n  \r\n  console.log('‚úÖ Font selector initialized');\r\n}\r\n\r\nfunction generateFontPresetHTML() {\r\n  return `\r\n    <div class=\"font-preset-selector\">\r\n      <div class=\"font-preset-option\" data-preset=\"business\">\r\n        <div class=\"preset-header\">\r\n          <h4>Business Classic</h4>\r\n          <span class=\"preset-badge default\">Default</span>\r\n        </div>\r\n        <div class=\"preset-fonts\">\r\n          <span class=\"font-ui\">Segoe UI</span> + <span class=\"font-content\">Georgia</span>\r\n        </div>\r\n        <p class=\"preset-description\">Familiar and professional - Perfect for corporate environments</p>\r\n      </div>\r\n      \r\n      <div class=\"font-preset-option\" data-preset=\"modern\">\r\n        <div class=\"preset-header\">\r\n          <h4>Modern Professional</h4>\r\n          <span class=\"preset-badge tech\">Tech</span>\r\n        </div>\r\n        <div class=\"preset-fonts\">\r\n          <span class=\"font-ui\">Inter</span> + <span class=\"font-content\">Source Serif Pro</span>\r\n        </div>\r\n        <p class=\"preset-description\">Clean and technological - Optimized for digital interfaces</p>\r\n      </div>\r\n      \r\n      <div class=\"font-preset-option\" data-preset=\"corporate\">\r\n        <div class=\"preset-header\">\r\n          <h4>Corporate Executive</h4>\r\n          <span class=\"preset-badge premium\">Premium</span>\r\n        </div>\r\n        <div class=\"preset-fonts\">\r\n          <span class=\"font-ui\">IBM Plex Sans</span> + <span class=\"font-content\">Playfair Display</span>\r\n        </div>\r\n        <p class=\"preset-description\">Elegant and executive - Sophisticated corporate design</p>\r\n      </div>\r\n      \r\n      <div class=\"font-preset-option\" data-preset=\"creative\">\r\n        <div class=\"preset-header\">\r\n          <h4>Creative Studio</h4>\r\n          <span class=\"preset-badge creative\">Creative</span>\r\n        </div>\r\n        <div class=\"preset-fonts\">\r\n          <span class=\"font-ui\">Poppins</span> + <span class=\"font-content\">Crimson Text</span>\r\n        </div>\r\n        <p class=\"preset-description\">Approachable and creative - Perfect for innovative teams</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction setupFontPresetHandlers() {\r\n  const options = document.querySelectorAll('.font-preset-option');\r\n  \r\n  options.forEach(option => {\r\n    option.addEventListener('click', (e) => {\r\n      const presetId = option.getAttribute('data-preset');\r\n      applyFontPreset(presetId);\r\n      \r\n      // Update active state\r\n      options.forEach(opt => opt.classList.remove('active'));\r\n      option.classList.add('active');\r\n    });\r\n  });\r\n  \r\n  // Load current preset\r\n  const currentPreset = localStorage.getItem('fontPreset') || 'business';\r\n  const currentOption = document.querySelector(`[data-preset=\"${currentPreset}\"]`);\r\n  if (currentOption) {\r\n    currentOption.classList.add('active');\r\n  }\r\n}\r\n\r\nfunction applyFontPreset(presetId) {\r\n  // Remove existing preset classes\r\n  const presets = ['business', 'modern', 'corporate', 'creative'];\r\n  presets.forEach(preset => {\r\n    document.body.classList.remove(`font-preset-${preset}`);\r\n    document.documentElement.classList.remove(`font-preset-${preset}`);\r\n  });\r\n  \r\n  // Apply new preset\r\n  document.body.classList.add(`font-preset-${presetId}`);\r\n  document.documentElement.classList.add(`font-preset-${presetId}`);\r\n  \r\n  // Save to localStorage\r\n  localStorage.setItem('fontPreset', presetId);\r\n  \r\n  // Log adaptation details\r\n  logFontAdaptation(presetId);\r\n  \r\n  console.log(`‚úÖ Font preset applied: ${presetId}`);\r\n}\r\n\r\nfunction logFontAdaptation(presetId) {\r\n  const adaptations = {\r\n    'business': 'Segoe UI + Georgia ‚Üí Aptos + Century (0.95x line-height, +0.005em spacing)',\r\n    'modern': 'Inter + Source Serif Pro ‚Üí Aptos + Century (1.02x line-height, -0.002em spacing)',\r\n    'corporate': 'IBM Plex + Playfair ‚Üí Aptos + Century (1.05x line-height, +0.008em spacing)',\r\n    'creative': 'Poppins + Crimson Text ‚Üí Aptos + Century (1.08x line-height, +0.003em spacing)'\r\n  };\r\n\r\n  console.log(`üé® Font Adaptation: ${adaptations[presetId]}`);\r\n}\r\n\r\nfunction saveSettingsFromModal() {\r\n  const settings = {\r\n    autoRefresh: document.getElementById('autoRefresh')?.checked,\r\n    refreshInterval: document.getElementById('refreshInterval')?.value,\r\n    defaultView: document.getElementById('defaultView')?.value,\r\n    theme: document.getElementById('themeSelect')?.value,\r\n    compactMode: document.getElementById('compactMode')?.checked,\r\n    showAvatars: document.getElementById('showAvatars')?.checked,\r\n    animationSpeed: document.getElementById('animationSpeed')?.value,\r\n    enableNotifications: document.getElementById('enableNotifications')?.checked,\r\n    soundEnabled: document.getElementById('soundEnabled')?.checked,\r\n    notifyAssigned: document.getElementById('notifyAssigned')?.checked,\r\n    notifyComments: document.getElementById('notifyComments')?.checked,\r\n    notifyMentions: document.getElementById('notifyMentions')?.checked,\r\n    cacheEnabled: document.getElementById('cacheEnabled')?.checked,\r\n    debugMode: document.getElementById('debugMode')?.checked\r\n  };\r\n  \r\n  localStorage.setItem('userSettings', JSON.stringify(settings));\r\n  \r\n  // Close modal\r\n  const panel = document.getElementById('settingsPanel');\r\n  if (panel) {\r\n    panel.classList.remove('active');\r\n    setTimeout(() => panel.style.display = 'none', 300);\r\n  }\r\n  \r\n  // Apply theme if changed\r\n  if (settings.theme) {\r\n    document.body.className = settings.theme === 'dark' ? 'theme-dark' : '';\r\n  }\r\n  \r\n  console.log('Settings saved:', settings);\r\n}\r\n\r\nfunction showHelpModal() {\r\n  let modal = document.getElementById('helpModal');\r\n  \r\n  if (!modal) {\r\n    modal = createHelpModal();\r\n    document.body.appendChild(modal);\r\n  }\r\n  \r\n  modal.style.display = 'flex';\r\n  setTimeout(() => modal.classList.add('active'), 10);\r\n}\r\n\r\nfunction createHelpModal() {\r\n  const modal = document.createElement('div');\r\n  modal.id = 'helpModal';\r\n  modal.className = 'modal-overlay';\r\n  modal.innerHTML = `\r\n    <div class=\"modal-container help-modal\">\r\n      <div class=\"modal-header\">\r\n        <h2>‚ùî Help Center</h2>\r\n        <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"help-section\">\r\n          <h3>üöÄ Quick Start</h3>\r\n          <ul>\r\n            <li>Select a <strong>Service Desk</strong> from the sidebar dropdown</li>\r\n            <li>Choose a <strong>Queue</strong> to view tickets</li>\r\n            <li>Use the <strong>Kanban Board</strong> to organize tickets by status</li>\r\n            <li>Click on any ticket to view details and add comments</li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"help-section\">\r\n          <h3>‚å®Ô∏è Keyboard Shortcuts</h3>\r\n          <ul>\r\n            <li><kbd>Ctrl</kbd> + <kbd>K</kbd> - Quick search</li>\r\n            <li><kbd>Esc</kbd> - Close modals/panels</li>\r\n            <li><kbd>R</kbd> - Refresh tickets</li>\r\n            <li><kbd>N</kbd> - New ticket</li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"help-section\">\r\n          <h3>üé® Features</h3>\r\n          <ul>\r\n            <li><strong>Quick Triage:</strong> Identifies tickets requiring immediate attention (3+ days old)</li>\r\n            <li><strong>AI Suggestions:</strong> ML-powered insights and field recommendations</li>\r\n            <li><strong>Glassmorphism:</strong> Modern transparent UI with backdrop blur effects</li>\r\n            <li><strong>Real-time Updates:</strong> Auto-refresh to stay synced with JIRA</li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"help-section\">\r\n          <h3>üìö Resources</h3>\r\n          <ul>\r\n            <li><a href=\"https://github.com/speedyflow/docs\" target=\"_blank\">Documentation</a></li>\r\n            <li><a href=\"https://github.com/speedyflow/docs/issues\" target=\"_blank\">Report an Issue</a></li>\r\n            <li><a href=\"mailto:support@speedyflow.com\">Contact Support</a></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button class=\"btn-primary\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">Got it!</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  return modal;\r\n}\r\n\r\nfunction updateUserInfo() {\r\n  const userName = localStorage.getItem('currentUser') || 'User';\r\n  const userEmail = localStorage.getItem('userEmail') || 'user@example.com';\r\n  const fullName = localStorage.getItem('userFullName') || 'John Doe';\r\n\r\n  const userNameEl = document.getElementById('userName');\r\n  const userEmailEl = document.getElementById('userEmail');\r\n  const userFullNameEl = document.getElementById('userFullName');\r\n\r\n  if (userNameEl) userNameEl.textContent = userName;\r\n  if (userEmailEl) userEmailEl.textContent = userEmail;\r\n  if (userFullNameEl) userFullNameEl.textContent = fullName;\r\n\r\n  // Update avatar initials\r\n  const initials = fullName.split(' ')\r\n    .map(n => n[0])\r\n    .join('')\r\n    .toUpperCase()\r\n    .slice(0, 2);\r\n  \r\n  const avatars = document.querySelectorAll('.user-avatar, .user-avatar-large');\r\n  avatars.forEach(avatar => {\r\n    if (initials) avatar.textContent = initials;\r\n  });\r\n}\r\n\r\nfunction handleUserMenuAction(action) {\r\n  const actionLower = action.toLowerCase();\r\n  \r\n  if (actionLower.includes('settings')) {\r\n    console.log('Opening settings...');\r\n    showSettingsModal();\r\n  } else if (actionLower.includes('profile')) {\r\n    console.log('Opening profile...');\r\n    showProfileModal();\r\n  } else if (actionLower.includes('password')) {\r\n    console.log('Opening password change...');\r\n    showPasswordChangeModal();\r\n  } else if (actionLower.includes('help')) {\r\n    console.log('Opening help...');\r\n    window.open('/help', '_blank');\r\n  } else if (actionLower.includes('documentation')) {\r\n    console.log('Opening documentation...');\r\n    window.open('/docs', '_blank');\r\n  }\r\n}\r\n\r\nfunction showProfileModal() {\r\n  // Get user data from state or API\r\n  const userData = window.state?.user || {\r\n    name: 'User',\r\n    email: 'user@example.com',\r\n    role: 'Agent',\r\n    department: 'Support',\r\n    joined: new Date().toISOString()\r\n  };\r\n\r\n  // Calculate user stats\r\n  const issues = window.state?.issues || [];\r\n  const userIssues = issues.filter(i => \r\n    (i.assignee || i.asignado_a || '').toLowerCase().includes(userData.name.toLowerCase())\r\n  );\r\n  const completedIssues = userIssues.filter(i => {\r\n    const status = (i.status || i.estado || '').toLowerCase();\r\n    return status.includes('done') || status.includes('closed') || status.includes('resolved');\r\n  });\r\n\r\n  const initials = userData.name.split(' ').map(n => n[0]).join('').toUpperCase();\r\n  const joinDate = new Date(userData.joined).toLocaleDateString('es-ES', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n\r\n  let modal = document.getElementById('profileModal');\r\n  if (!modal) {\r\n    modal = document.createElement('div');\r\n    modal.id = 'profileModal';\r\n    modal.className = 'modal-overlay';\r\n    modal.innerHTML = `\r\n      <div class=\"modal-container profile-modal\">\r\n        <div class=\"modal-header\">\r\n          <h2>üë§ User Profile</h2>\r\n          <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"profile-content\">\r\n            <div class=\"profile-header\">\r\n              <div class=\"profile-avatar\">${initials}</div>\r\n              <div class=\"profile-info\">\r\n                <div class=\"profile-name\">${userData.name}</div>\r\n                <div class=\"profile-email\">${userData.email}</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"profile-field\">\r\n              <label>Role</label>\r\n              <div class=\"profile-field-value\">${userData.role}</div>\r\n            </div>\r\n            \r\n            <div class=\"profile-field\">\r\n              <label>Department</label>\r\n              <div class=\"profile-field-value\">${userData.department}</div>\r\n            </div>\r\n            \r\n            <div class=\"profile-field\">\r\n              <label>Member Since</label>\r\n              <div class=\"profile-field-value\">${joinDate}</div>\r\n            </div>\r\n            \r\n            <div class=\"profile-stats\">\r\n              <div class=\"profile-stat\">\r\n                <div class=\"profile-stat-value\">${userIssues.length}</div>\r\n                <div class=\"profile-stat-label\">Assigned</div>\r\n              </div>\r\n              <div class=\"profile-stat\">\r\n                <div class=\"profile-stat-value\">${completedIssues.length}</div>\r\n                <div class=\"profile-stat-label\">Completed</div>\r\n              </div>\r\n              <div class=\"profile-stat\">\r\n                <div class=\"profile-stat-value\">${userIssues.length - completedIssues.length}</div>\r\n                <div class=\"profile-stat-label\">Active</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-secondary\" onclick=\"showPasswordChangeModal()\">üîë Change Password</button>\r\n          <button class=\"btn-primary\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">Close</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n    document.body.appendChild(modal);\r\n  } else {\r\n    // Update existing modal data\r\n    modal.querySelector('.profile-avatar').textContent = initials;\r\n    modal.querySelector('.profile-name').textContent = userData.name;\r\n    modal.querySelector('.profile-email').textContent = userData.email;\r\n    modal.querySelector('.profile-field-value:nth-of-type(1)').textContent = userData.role;\r\n    modal.querySelector('.profile-field-value:nth-of-type(2)').textContent = userData.department;\r\n    modal.querySelector('.profile-field-value:nth-of-type(3)').textContent = joinDate;\r\n    modal.querySelectorAll('.profile-stat-value')[0].textContent = userIssues.length;\r\n    modal.querySelectorAll('.profile-stat-value')[1].textContent = completedIssues.length;\r\n    modal.querySelectorAll('.profile-stat-value')[2].textContent = userIssues.length - completedIssues.length;\r\n  }\r\n\r\n  modal.style.display = 'flex';\r\n  setTimeout(() => modal.classList.add('active'), 10);\r\n}\r\n\r\nfunction showPasswordChangeModal() {\r\n  alert('Password change - Coming soon üîë');\r\n}\r\n\r\nfunction logout() {\r\n  if (confirm('¬øEst√°s seguro de que deseas cerrar sesi√≥n?')) {\r\n    localStorage.clear();\r\n    window.location.href = '/logout';\r\n  }\r\n}\r\n\r\n// ===== NOTIFICATIONS =====\r\nfunction setupNotifications() {\r\n  // Notifications disabled - visual only mode\r\n  console.log('Notifications disabled - visual only');\r\n  // Just show badge count for display\r\n  updateNotificationBadge(3);\r\n}\r\n\r\nfunction updateNotificationBadge(count) {\r\n  const badge = document.querySelector('.notification-badge');\r\n  if (badge) {\r\n    badge.textContent = count;\r\n    badge.style.display = count > 0 ? 'flex' : 'none';\r\n  }\r\n}\r\n\r\nfunction showNotificationsPanel() {\r\n  console.log('Notifications panel - Coming soon');\r\n  alert('Notifications panel - Coming soon üîî');\r\n}\r\n\r\n// ===== SEARCH (DISABLED - Not used in current version) =====\r\n/*\r\nfunction setupSearch() {\r\n  const searchInput = document.getElementById('searchInput');\r\n  const searchBtn = document.querySelector('.btn-search');\r\n  \r\n  if (!searchInput) return;\r\n\r\n  // Search on enter\r\n  searchInput.addEventListener('keypress', (e) => {\r\n    if (e.key === 'Enter') {\r\n      performSearch(searchInput.value);\r\n    }\r\n  });\r\n\r\n  // Search on button click\r\n  if (searchBtn) {\r\n    searchBtn.addEventListener('click', () => {\r\n      performSearch(searchInput.value);\r\n    });\r\n  }\r\n\r\n  // Real-time filtering (opcional)\r\n  searchInput.addEventListener('input', (e) => {\r\n    const query = e.target.value.toLowerCase();\r\n    if (query.length > 0) {\r\n      filterIssuesRealtime(query);\r\n    } else {\r\n      // Reset to all issues\r\n      if (typeof renderView === 'function') renderView();\r\n    }\r\n  });\r\n}\r\n\r\nfunction performSearch(query) {\r\n  console.log('Searching for:', query);\r\n  if (query.length === 0) {\r\n    renderView();\r\n    return;\r\n  }\r\n\r\n  // Filter issues based on search query\r\n  filterIssuesRealtime(query);\r\n}\r\n\r\nfunction filterIssuesRealtime(query) {\r\n  const filtered = state.issues.filter(issue => {\r\n    const key = issue.key?.toLowerCase() || '';\r\n    const summary = (issue.summary || issue.fields?.summary || '').toLowerCase();\r\n    const assignee = (issue.assignee || issue.fields?.assignee?.displayName || '').toLowerCase();\r\n    \r\n    return key.includes(query) || summary.includes(query) || assignee.includes(query);\r\n  });\r\n\r\n  // Temporarily replace state.issues for rendering\r\n  const backup = state.issues;\r\n  state.issues = filtered;\r\n  renderView();\r\n  state.issues = backup;\r\n}\r\n*/\r\n\r\n// ===== CLOSE DROPDOWNS ON CLICK OUTSIDE =====\r\nfunction closeDropDownMenusOnClickOutside() {\r\n  document.addEventListener('click', (e) => {\r\n    // Reserved for future dropdown menus if needed\r\n  });\r\n}\r\n\r\n// ===== BREADCRUMB UPDATE =====\r\nfunction updateBreadcrumb(deskName, queueName) {\r\n  const deskBreadcrumb = document.querySelector('.breadcrumb-item:first-of-type');\r\n  const queueBreadcrumb = document.getElementById('queueBreadcrumb');\r\n  \r\n  if (deskBreadcrumb) deskBreadcrumb.textContent = deskName || 'Desk';\r\n  if (queueBreadcrumb) queueBreadcrumb.textContent = queueName || 'Queue';\r\n}\r\n\r\n// ===== QUEUE BREADCRUMB SYNC =====\r\nfunction syncQueueBreadcrumb() {\r\n  const queueSelect = document.getElementById('queueSelect');\r\n  if (queueSelect) {\r\n    const selectedOption = queueSelect.options[queueSelect.selectedIndex];\r\n    if (selectedOption) {\r\n      updateBreadcrumb(\r\n        'Servicios a Cliente',\r\n        selectedOption.textContent\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n// ===== EXPORT FOR USE =====\r\nwindow.headerMenus = {\r\n  init: initHeaderMenus,\r\n  updateUserInfo,\r\n  updateNotificationBadge,\r\n  updateBreadcrumb,\r\n  syncQueueBreadcrumb\r\n};\r\n\r\n// Initialize on DOMContentLoaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  setTimeout(() => {\r\n    initHeaderMenus();\r\n  }, 100);\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/loading-dots.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 908
      },
      {
        "start": 953,
        "end": 1023
      },
      {
        "start": 1238,
        "end": 1331
      }
    ],
    "text": "/**\r\n * LOADING DOTS MANAGER\r\n * Handles pulsing dots animation for ticket loading\r\n */\r\n\r\nclass LoadingDotsManager {\r\n  constructor() {\r\n    this.container = document.getElementById('kanbanView') || document.getElementById('listView');\r\n    this.isLoading = false;\r\n  }\r\n\r\n  /**\r\n   * Show loading dots animation\r\n   */\r\n  show(message = 'Loading tickets') {\r\n    if (!this.container) return;\r\n    \r\n    this.isLoading = true;\r\n    \r\n    this.container.innerHTML = `\r\n      <div class=\"loading-wrapper\">\r\n        <div class=\"loading-dots\">\r\n          <div class=\"loading-dot\"></div>\r\n          <div class=\"loading-dot\"></div>\r\n          <div class=\"loading-dot\"></div>\r\n        </div>\r\n        <div class=\"loading-text\">${message}</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Hide loading animation\r\n   */\r\n  hide() {\r\n    this.isLoading = false;\r\n  }\r\n\r\n  /**\r\n   * Check if currently loading\r\n   */\r\n  isActive() {\r\n    return this.isLoading;\r\n  }\r\n\r\n  /**\r\n   * Show mini loading dots (for small sections)\r\n   */\r\n  showMini() {\r\n    return `\r\n      <div class=\"loading-dots-mini\">\r\n        <div class=\"loading-dot\"></div>\r\n        <div class=\"loading-dot\"></div>\r\n        <div class=\"loading-dot\"></div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\n// Initialize global instance\r\nwindow.loadingDotsManager = new LoadingDotsManager();\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/loading-state-manager.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 663
      },
      {
        "start": 822,
        "end": 828
      },
      {
        "start": 1181,
        "end": 1226
      },
      {
        "start": 1820,
        "end": 1826
      },
      {
        "start": 2099,
        "end": 2142
      },
      {
        "start": 3110,
        "end": 3167
      },
      {
        "start": 3334,
        "end": 3340
      },
      {
        "start": 3521,
        "end": 3527
      },
      {
        "start": 3662,
        "end": 3668
      },
      {
        "start": 4234,
        "end": 4291
      },
      {
        "start": 4545,
        "end": 4551
      },
      {
        "start": 4797,
        "end": 4846
      },
      {
        "start": 5189,
        "end": 5235
      },
      {
        "start": 5588,
        "end": 5785
      },
      {
        "start": 6133,
        "end": 6139
      },
      {
        "start": 6487,
        "end": 6545
      },
      {
        "start": 7181,
        "end": 7238
      },
      {
        "start": 8268,
        "end": 8315
      },
      {
        "start": 8489,
        "end": 8537
      },
      {
        "start": 8755,
        "end": 9161
      }
    ],
    "text": "/**\r\n * STATE INDICATORS MANAGER\r\n * Intuitive loading/status animations integrated with scroll and content changes\r\n */\r\n\r\nclass StateIndicatorsManager {\r\n  constructor() {\r\n    this.loadingBar = null;\r\n    this.floatingFeedback = null;\r\n    this.isLoading = false;\r\n    this.loadingTimeout = null;\r\n    this.initLoadingBar();\r\n    this.setupScrollListener();\r\n    console.log('‚úÖ StateIndicatorsManager initialized');\r\n  }\r\n\r\n  // ===== LOADING BAR (at top of page) =====\r\n  initLoadingBar() {\r\n    this.loadingBar = document.createElement('div');\r\n    this.loadingBar.className = 'scroll-loading-bar';\r\n    document.body.appendChild(this.loadingBar);\r\n  }\r\n\r\n  showLoadingBar() {\r\n    if (this.loadingBar) {\r\n      this.loadingBar.classList.add('active');\r\n      this.loadingBar.classList.remove('complete');\r\n    }\r\n  }\r\n\r\n  completeLoadingBar() {\r\n    if (this.loadingBar) {\r\n      this.loadingBar.classList.remove('active');\r\n      this.loadingBar.classList.add('complete');\r\n      setTimeout(() => {\r\n        if (this.loadingBar) {\r\n          this.loadingBar.classList.remove('complete');\r\n          this.loadingBar.style.width = '0%';\r\n        }\r\n      }, 1100);\r\n    }\r\n  }\r\n\r\n  // ===== INLINE LOADING STATE =====\r\n  showSkeletonLoader(container, count = 3) {\r\n    const skeleton = document.createElement('div');\r\n    skeleton.className = 'skeleton-loader';\r\n    skeleton.id = 'skeleton-loader';\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const item = document.createElement('div');\r\n      item.className = 'skeleton-item';\r\n      item.innerHTML = `\r\n        <div class=\"skeleton-header\"></div>\r\n        <div class=\"skeleton-row\"></div>\r\n        <div class=\"skeleton-row\"></div>\r\n      `;\r\n      skeleton.appendChild(item);\r\n    }\r\n\r\n    container.innerHTML = '';\r\n    container.appendChild(skeleton);\r\n  }\r\n\r\n  hideSkeletonLoader(container) {\r\n    const skeleton = container.querySelector('#skeleton-loader');\r\n    if (skeleton) {\r\n      skeleton.style.opacity = '0';\r\n      skeleton.style.transition = 'opacity 0.3s ease';\r\n      setTimeout(() => skeleton.remove(), 300);\r\n    }\r\n  }\r\n\r\n  // ===== CARD LOADING STATE =====\r\n  createCardLoadingState(spinner = 'standard') {\r\n    const card = document.createElement('div');\r\n    card.className = 'card-loading';\r\n\r\n    const content = document.createElement('div');\r\n    content.className = 'card-loading-content';\r\n\r\n    let spinnerHTML = '';\r\n    switch (spinner) {\r\n      case 'pulse':\r\n        spinnerHTML = '<div class=\"spinner spinner-pulse\"></div>';\r\n        break;\r\n      case 'dots':\r\n        spinnerHTML = `\r\n          <div class=\"spinner spinner-dots\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n        `;\r\n        break;\r\n      case 'circle':\r\n        spinnerHTML = '<div class=\"spinner spinner-circle\"></div>';\r\n        break;\r\n      default:\r\n        spinnerHTML = '<div class=\"spinner spinner-standard\"></div>';\r\n    }\r\n\r\n    content.innerHTML = `\r\n      ${spinnerHTML}\r\n      <span>Loading content...</span>\r\n    `;\r\n\r\n    card.appendChild(content);\r\n    return card;\r\n  }\r\n\r\n  // ===== SUCCESS/ERROR/WARNING INDICATORS =====\r\n  showSuccess(message, duration = 3000) {\r\n    this.showFloatingFeedback(message, 'success', duration);\r\n    this.completeLoadingBar();\r\n    this.isLoading = false;\r\n  }\r\n\r\n  showError(message, duration = 5000) {\r\n    this.showFloatingFeedback(message, 'error', duration);\r\n    this.loadingBar?.classList.remove('active');\r\n    this.isLoading = false;\r\n  }\r\n\r\n  showWarning(message, duration = 4000) {\r\n    this.showFloatingFeedback(message, 'warning', duration);\r\n    this.isLoading = false;\r\n  }\r\n\r\n  showFloatingFeedback(message, type = 'info', duration = 3000) {\r\n    // Remove previous feedback if exists\r\n    const existing = document.querySelector('.floating-feedback');\r\n    if (existing) existing.remove();\r\n\r\n    const feedback = document.createElement('div');\r\n    feedback.className = `floating-feedback ${type}`;\r\n    feedback.textContent = message;\r\n\r\n    document.body.appendChild(feedback);\r\n\r\n    setTimeout(() => {\r\n      feedback.style.animation = 'floatingSlideOut 0.3s ease';\r\n      setTimeout(() => feedback.remove(), 300);\r\n    }, duration);\r\n  }\r\n\r\n  // ===== PROGRESS BAR (inline in content) =====\r\n  createProgressBar(initialProgress = 0) {\r\n    const bar = document.createElement('div');\r\n    bar.className = 'progress-bar active';\r\n    bar.innerHTML = '<div class=\"progress-bar-fill\"></div>';\r\n    bar.style.marginBottom = '16px';\r\n    return bar;\r\n  }\r\n\r\n  updateProgressBar(progressElement, progress) {\r\n    if (progressElement) {\r\n      const fill = progressElement.querySelector('.progress-bar-fill');\r\n      if (fill) {\r\n        fill.style.width = `${Math.min(progress, 100)}%`;\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===== INLINE LOADING INDICATOR =====\r\n  createLoadingIndicator(message = 'Loading...', compact = false) {\r\n    const indicator = document.createElement('div');\r\n    indicator.className = `loading-indicator ${compact ? 'compact' : ''}`;\r\n    indicator.innerHTML = `\r\n      <div class=\"spinner spinner-standard\"></div>\r\n      <span>${message}</span>\r\n    `;\r\n    return indicator;\r\n  }\r\n\r\n  // ===== STATUS IN SCROLL AREA =====\r\n  createScrollAreaStatus(message) {\r\n    const status = document.createElement('div');\r\n    status.className = 'scroll-area-status loading';\r\n    status.innerHTML = `\r\n      <div class=\"spinner spinner-dots\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n      <span>${message}</span>\r\n    `;\r\n    return status;\r\n  }\r\n\r\n  // ===== SCROLL LISTENER FOR INFINITE SCROLL =====\r\n  setupScrollListener() {\r\n    // Scroll listener disabled - visual only mode\r\n  }\r\n\r\n  // ===== INTELLIGENT LOADING ORCHESTRATOR =====\r\n  async startLoading(message = 'Loading...', container = null) {\r\n    this.isLoading = true;\r\n    this.showLoadingBar();\r\n\r\n    if (container) {\r\n      this.showSkeletonLoader(container);\r\n    } else {\r\n      this.showFloatingFeedback(message, 'info');\r\n    }\r\n\r\n    return new Promise(resolve => {\r\n      this.loadingResolve = resolve;\r\n    });\r\n  }\r\n\r\n  finishLoading(success = true, message = '') {\r\n    this.isLoading = false;\r\n    this.completeLoadingBar();\r\n\r\n    if (this.loadingResolve) {\r\n      this.loadingResolve({ success, message });\r\n    }\r\n\r\n    if (message) {\r\n      if (success) {\r\n        this.showSuccess(message);\r\n      } else {\r\n        this.showError(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===== CONTENT TRANSITION WITH INDICATOR =====\r\n  async transitionContent(fromElement, toElement, message = 'Loading...') {\r\n    // Show loading state on from element\r\n    fromElement.classList.add('content-transition', 'loading');\r\n\r\n    // Show loading indicator\r\n    const indicator = this.createLoadingIndicator(message, true);\r\n    fromElement.parentElement.insertBefore(indicator, fromElement);\r\n\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        fromElement.classList.remove('content-transition', 'loading');\r\n        indicator.remove();\r\n        toElement.classList.remove('content-transition', 'loading');\r\n        resolve();\r\n      }, 800);\r\n    });\r\n  }\r\n\r\n  // ===== API CALL WRAPPER WITH INDICATORS =====\r\n  async fetchWithIndicators(url, options = {}) {\r\n    const message = options.message || 'Loading...';\r\n    const container = options.container;\r\n    const showBar = options.showBar !== false;\r\n\r\n    // Start loading\r\n    if (showBar) this.showLoadingBar();\r\n    if (container) this.showSkeletonLoader(container);\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers\r\n        },\r\n        ...options\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Complete loading\r\n      this.completeLoadingBar();\r\n      if (container) this.hideSkeletonLoader(container);\r\n      this.showSuccess(options.successMessage || 'Done!');\r\n\r\n      return { success: true, data };\r\n    } catch (error) {\r\n      this.showError(options.errorMessage || `Error: ${error.message}`);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // ===== BADGE COUNTER ANIMATOR =====\r\n  createLoadingBadge(count) {\r\n    const badge = document.createElement('span');\r\n    badge.className = 'loading-badge';\r\n    badge.textContent = count;\r\n    return badge;\r\n  }\r\n\r\n  // ===== DOT INDICATOR (minimal) =====\r\n  createDotIndicator(state = 'loading') {\r\n    const dot = document.createElement('span');\r\n    dot.className = `dot-indicator ${state === 'success' ? 'success' : state === 'error' ? 'error' : ''}`;\r\n    return dot;\r\n  }\r\n}\r\n\r\n// ===== GLOBAL INSTANCE =====\r\nwindow.stateIndicators = new StateIndicatorsManager();\r\n\r\n// ===== AUTO-INTEGRATE WITH EXISTING EVENTS =====\r\n// Event listeners disabled - visual only mode\r\n\r\nconsole.log('‚úÖ StateIndicatorsManager initialized');\r\n\r\n// ===== EXPORT FOR USE IN OTHER SCRIPTS =====\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = StateIndicatorsManager;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/mentions-system.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 412
      },
      {
        "start": 1156,
        "end": 1236
      },
      {
        "start": 2681,
        "end": 2747
      },
      {
        "start": 3855,
        "end": 3903
      },
      {
        "start": 4307,
        "end": 4367
      },
      {
        "start": 8331,
        "end": 8381
      },
      {
        "start": 8567,
        "end": 8617
      },
      {
        "start": 9500,
        "end": 9565
      },
      {
        "start": 10433,
        "end": 10482
      },
      {
        "start": 10683,
        "end": 10729
      },
      {
        "start": 10800,
        "end": 10848
      },
      {
        "start": 10904,
        "end": 11043
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Mentions System\r\n * Auto-complete @mentions with user lookup, highlighting, and notifications\r\n */\r\n\r\nclass MentionSystem {\r\n  constructor() {\r\n    this.users = [];\r\n    this.isOpen = false;\r\n    this.selectedIndex = 0;\r\n    this.mentionStartPos = -1;\r\n    this.currentQuery = '';\r\n    this.mentionedUsers = new Set();\r\n  }\r\n\r\n  /**\r\n   * Initialize mentions system for a textarea\r\n   */\r\n  async init(textareaId) {\r\n    const textarea = document.getElementById(textareaId);\r\n    if (!textarea) {\r\n      console.warn('‚ö†Ô∏è [Mentions] Textarea not found:', textareaId);\r\n      return;\r\n    }\r\n\r\n    console.log('üéØ [Mentions] Initializing for textarea:', textareaId);\r\n    \r\n    // Fetch available users from API\r\n    await this.loadUsers();\r\n    console.log(`‚úÖ [Mentions] ${this.users.length} users loaded and ready`);\r\n\r\n    // Setup event listeners\r\n    textarea.addEventListener('input', (e) => this.handleInput(e, textareaId));\r\n    textarea.addEventListener('keydown', (e) => this.handleKeydown(e));\r\n    // No blur listener - let dropdown stay open for clicking\r\n    \r\n    console.log('‚úÖ [Mentions] Event listeners attached');\r\n  }\r\n\r\n  /**\r\n   * Load users from API (cached in database with 24h TTL)\r\n   */\r\n  async loadUsers() {\r\n    try {\r\n      // Fetch from API - backend handles caching in database\r\n      let apiUrl = '/api/users';\r\n      const currentDesk = window.state?.currentDesk;\r\n      if (currentDesk) {\r\n        apiUrl += `?serviceDeskId=${currentDesk}`;\r\n        console.log(`üìã Fetching users for Service Desk: ${currentDesk}`);\r\n      }\r\n      \r\n      const response = await fetch(apiUrl);\r\n      const data = await response.json();\r\n      \r\n      // Handle multiple response formats\r\n      if (Array.isArray(data)) {\r\n        this.users = data;\r\n      } else if (data.data?.users && Array.isArray(data.data.users)) {\r\n        // Format: { data: { users: [...] } }\r\n        this.users = data.data.users;\r\n      } else if (data.users && Array.isArray(data.users)) {\r\n        // Format: { users: [...] }\r\n        this.users = data.users;\r\n      } else if (data.data && Array.isArray(data.data)) {\r\n        // Format: { data: [...] }\r\n        this.users = data.data;\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Unexpected API response format:', data);\r\n        console.warn('Available keys:', Object.keys(data));\r\n        this.users = [];\r\n      }\r\n      \r\n      const cacheStatus = data.cached ? '(from database cache)' : '(fresh from JIRA)';\r\n      console.log(`‚úÖ Loaded ${this.users.length} users for mentions ${cacheStatus}`);\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n      this.users = [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle textarea input - detect @mention\r\n   */\r\n  handleInput(event, textareaId) {\r\n    const textarea = event.target;\r\n    const cursorPos = textarea.selectionStart;\r\n    const text = textarea.value.substring(0, cursorPos);\r\n    \r\n    console.log('üîç [Mentions] Input event, text:', text, '| @ index:', text.lastIndexOf('@'));\r\n    \r\n    // Look for @ symbol\r\n    const lastAtIndex = text.lastIndexOf('@');\r\n    if (lastAtIndex === -1) {\r\n      this.closeMentions();\r\n      return;\r\n    }\r\n    \r\n    console.log('‚úÖ [Mentions] @ detected, showing dropdown...');\r\n\r\n    // Get text after @\r\n    const beforeAt = text.substring(0, lastAtIndex);\r\n    if (beforeAt.length > 0 && beforeAt[beforeAt.length - 1].match(/\\w/)) {\r\n      // @ is preceded by word character, not a mention\r\n      this.closeMentions();\r\n      return;\r\n    }\r\n\r\n    this.mentionStartPos = lastAtIndex;\r\n    this.currentQuery = text.substring(lastAtIndex + 1).toLowerCase();\r\n\r\n    // Filter users\r\n    const matches = this.filterUsers(this.currentQuery);\r\n\r\n    if (matches.length > 0) {\r\n      this.showMentions(matches, textareaId);\r\n    } else {\r\n      this.closeMentions();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filter users by query\r\n   */\r\n  filterUsers(query) {\r\n    if (!query) return this.users.slice(0, 10); // Show first 10 if no query\r\n\r\n    return this.users.filter(user => {\r\n      const name = (user.displayName || user.name || '').toLowerCase();\r\n      const email = (user.emailAddress || '').toLowerCase();\r\n      return name.includes(query) || email.includes(query);\r\n    }).slice(0, 20); // Max 20 results para mejor visibilidad\r\n  }\r\n\r\n  /**\r\n   * Show mention suggestions dropdown\r\n   */\r\n  showMentions(users, textareaId) {\r\n    console.log('üé® [Mentions] showMentions called with', users.length, 'users');\r\n    \r\n    // Remove existing dropdown\r\n    const existing = document.getElementById('mentions-dropdown');\r\n    if (existing) {\r\n      console.log('üóëÔ∏è [Mentions] Removing existing dropdown');\r\n      existing.remove();\r\n    }\r\n\r\n    const textarea = document.getElementById(textareaId);\r\n    if (!textarea) {\r\n      console.error('‚ùå [Mentions] Textarea not found!');\r\n      return;\r\n    }\r\n    \r\n    const rect = textarea.getBoundingClientRect();\r\n    console.log('üìç [Mentions] Textarea position:', { top: rect.top, bottom: rect.bottom, left: rect.left, width: rect.width });\r\n    \r\n    // Calculate position - fixed positioning relative to viewport\r\n    const dropdownTop = rect.bottom + 5;\r\n    const dropdownLeft = rect.left;\r\n\r\n    // Create dropdown\r\n    const dropdown = document.createElement('div');\r\n    dropdown.id = 'mentions-dropdown';\r\n    dropdown.className = 'mentions-dropdown';\r\n    \r\n    // CRITICAL: Set all styles inline to override any CSS\r\n    dropdown.style.cssText = `\r\n      position: fixed !important;\r\n      top: ${dropdownTop}px !important;\r\n      left: ${dropdownLeft}px !important;\r\n      width: ${rect.width}px !important;\r\n      z-index: 9999 !important;\r\n      background-color: white !important;\r\n      border: 2px solid #4a90e2 !important;\r\n      border-radius: 6px !important;\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;\r\n      max-height: 300px !important;\r\n      overflow-y: auto !important;\r\n      display: block !important;\r\n      visibility: visible !important;\r\n      opacity: 1 !important;\r\n      font-size: 12px !important;\r\n    `;\r\n    \r\n    console.log('‚ú® [Mentions] Dropdown created with styles:', dropdown.style.cssText);\r\n\r\n    // Add users as options\r\n    users.forEach((user, index) => {\r\n      const option = document.createElement('div');\r\n      option.className = 'mention-option' + (index === 0 ? ' selected' : '');\r\n      option.dataset.userId = user.accountId || user.id;\r\n      option.dataset.userName = user.displayName || user.name;\r\n      \r\n      // Simple inline styles\r\n      option.style.padding = '8px 12px';\r\n      option.style.cursor = 'pointer';\r\n      option.style.fontSize = '12px';\r\n      option.style.color = '#333';\r\n      option.style.borderBottom = '1px solid #eee';\r\n      option.style.transition = 'background-color 0.15s';\r\n      option.style.backgroundColor = index === 0 ? '#f0f0f0' : 'white';\r\n      option.style.lineHeight = '1.4';\r\n      \r\n      // Just the name, nothing else\r\n      option.textContent = user.displayName || user.name;\r\n\r\n      // Use mousedown to prevent blur, no need for click\r\n      option.addEventListener('mousedown', (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.selectMention(option, textareaId);\r\n      });\r\n      \r\n      option.addEventListener('mouseenter', () => {\r\n        this.selectOption(index, dropdown);\r\n        option.style.backgroundColor = '#f0f0f0';\r\n      });\r\n      \r\n      option.addEventListener('mouseleave', () => {\r\n        if (!option.classList.contains('selected')) {\r\n          option.style.backgroundColor = 'white';\r\n        }\r\n      });\r\n\r\n      dropdown.appendChild(option);\r\n    });\r\n\r\n    // Prevent dropdown from closing on mousedown\r\n    dropdown.addEventListener('mousedown', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    });\r\n\r\n    document.body.appendChild(dropdown);\r\n    this.isOpen = true;\r\n    this.selectedIndex = 0;\r\n    \r\n    console.log('‚úÖ [Mentions] Dropdown appended to body!');\r\n    console.log('üìä [Mentions] Dropdown in DOM:', !!document.getElementById('mentions-dropdown'));\r\n    console.log('üìä [Mentions] Dropdown display:', dropdown.style.display);\r\n    console.log('üìä [Mentions] Dropdown visibility:', dropdown.style.visibility);\r\n    console.log('üìä [Mentions] Dropdown z-index:', dropdown.style.zIndex);\r\n  }\r\n\r\n  /**\r\n   * Close mentions dropdown\r\n   */\r\n  closeMentions() {\r\n    const dropdown = document.getElementById('mentions-dropdown');\r\n    if (dropdown) dropdown.remove();\r\n    this.isOpen = false;\r\n    this.mentionStartPos = -1;\r\n  }\r\n\r\n  /**\r\n   * Select a mention option\r\n   */\r\n  selectMention(optionEl, textareaId) {\r\n    const textarea = document.getElementById(textareaId);\r\n    const userName = optionEl.dataset.userName;\r\n    \r\n    // Get current text and cursor position\r\n    const cursorPos = textarea.selectionStart;\r\n    const text = textarea.value;\r\n\r\n    // Replace @query with @userName\r\n    const beforeMention = text.substring(0, this.mentionStartPos);\r\n    const afterMention = text.substring(cursorPos);\r\n    \r\n    textarea.value = beforeMention + '@' + userName + ' ' + afterMention;\r\n    textarea.selectionStart = beforeMention.length + userName.length + 2;\r\n    textarea.selectionEnd = textarea.selectionStart;\r\n\r\n    // Track mentioned user\r\n    this.mentionedUsers.add(userName);\r\n\r\n    // Close dropdown\r\n    this.closeMentions();\r\n\r\n    // Trigger input event for potential integrations\r\n    textarea.dispatchEvent(new Event('input'));\r\n  }\r\n\r\n  /**\r\n   * Handle keyboard navigation in dropdown\r\n   */\r\n  handleKeydown(event) {\r\n    if (!this.isOpen) return;\r\n\r\n    const dropdown = document.getElementById('mentions-dropdown');\r\n    const options = dropdown.querySelectorAll('.mention-option');\r\n\r\n    if (event.key === 'ArrowDown') {\r\n      event.preventDefault();\r\n      this.selectedIndex = (this.selectedIndex + 1) % options.length;\r\n      this.selectOption(this.selectedIndex, dropdown);\r\n    } else if (event.key === 'ArrowUp') {\r\n      event.preventDefault();\r\n      this.selectedIndex = (this.selectedIndex - 1 + options.length) % options.length;\r\n      this.selectOption(this.selectedIndex, dropdown);\r\n    } else if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      const selected = options[this.selectedIndex];\r\n      this.selectMention(selected, event.target.id);\r\n    } else if (event.key === 'Escape') {\r\n      this.closeMentions();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Select option visually\r\n   */\r\n  selectOption(index, dropdown) {\r\n    const options = dropdown.querySelectorAll('.mention-option');\r\n    options.forEach((opt, i) => {\r\n      opt.classList.toggle('selected', i === index);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get mentioned users\r\n   */\r\n  getMentionedUsers() {\r\n    return Array.from(this.mentionedUsers);\r\n  }\r\n\r\n  /**\r\n   * Clear mentioned users\r\n   */\r\n  clearMentions() {\r\n    this.mentionedUsers.clear();\r\n  }\r\n}\r\n\r\n// Create global instance\r\nwindow.mentionSystem = new MentionSystem();\r\n\r\n// Export for use\r\nwindow.MentionSystem = MentionSystem;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/ml-client.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 688
      },
      {
        "start": 2196,
        "end": 2251
      },
      {
        "start": 2817,
        "end": 2869
      },
      {
        "start": 3423,
        "end": 3483
      },
      {
        "start": 4059,
        "end": 4111
      },
      {
        "start": 4665,
        "end": 4714
      },
      {
        "start": 5266,
        "end": 5325
      },
      {
        "start": 5872,
        "end": 5932
      },
      {
        "start": 6238,
        "end": 6292
      },
      {
        "start": 6390,
        "end": 6873
      },
      {
        "start": 8328,
        "end": 8394
      },
      {
        "start": 9376,
        "end": 9435
      },
      {
        "start": 9804,
        "end": 9866
      },
      {
        "start": 10539,
        "end": 10600
      },
      {
        "start": 11208,
        "end": 11260
      },
      {
        "start": 12116,
        "end": 12165
      },
      {
        "start": 12881,
        "end": 12938
      },
      {
        "start": 13386,
        "end": 13448
      },
      {
        "start": 13887,
        "end": 13936
      },
      {
        "start": 14367,
        "end": 14762
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW ML Client - Cliente JavaScript para integrar ML Service\r\n * \r\n * Uso:\r\n * const mlClient = new MLClient('http://localhost:5001');\r\n * const predictions = await mlClient.predictAll(summary, description);\r\n */\r\n\r\nclass MLClient {\r\n    constructor(baseURL = 'http://localhost:5002') {\r\n        this.baseURL = baseURL;\r\n        this.cache = new Map();\r\n        this.cacheTimeout = 5 * 60 * 1000; // 5 minutos\r\n    }\r\n\r\n    /**\r\n     * Obtener todas las predicciones en una llamada\r\n     * @param {string} summary - Resumen/t√≠tulo del ticket\r\n     * @param {string} description - Descripci√≥n detallada\r\n     * @returns {Promise<Object>} Predicciones completas\r\n     */\r\n    async predictAll(summary, description = '') {\r\n        const cacheKey = `${summary}|${description}`;\r\n\r\n        // Verificar cach√© local\r\n        if (this.cache.has(cacheKey)) {\r\n            const cached = this.cache.get(cacheKey);\r\n            if (Date.now() - cached.timestamp < this.cacheTimeout) {\r\n                console.log('üöÄ [ML] Using cached prediction');\r\n                return cached.data;\r\n            }\r\n        }\r\n\r\n        console.log('üì° [ML] Fetching predictions from server');\r\n        const startTime = performance.now();\r\n\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/unified`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            const latency = Math.round(performance.now() - startTime);\r\n\r\n            console.log(`‚úÖ [ML] Predictions received in ${latency}ms`);\r\n\r\n            // Guardar en cach√©\r\n            this.cache.set(cacheKey, {\r\n                data,\r\n                timestamp: Date.now()\r\n            });\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error fetching predictions:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Verificar duplicados\r\n     */\r\n    async checkDuplicate(summary, description = '') {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/duplicates`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error checking duplicate:', error);\r\n            return { is_duplicate: false, confidence: 0, similar_tickets: [] };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sugerir prioridad\r\n     */\r\n    async suggestPriority(summary, description = '') {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/priority`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error suggesting priority:', error);\r\n            return { suggested_priority: 'Medium', confidence: 0 };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Predecir violaci√≥n de SLA\r\n     */\r\n    async predictSLABreach(summary, description = '') {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/sla-breach`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error predicting SLA breach:', error);\r\n            return { will_breach: false, breach_probability: 0, risk_level: 'LOW' };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sugerir asignados\r\n     */\r\n    async suggestAssignee(summary, description = '', topK = 3) {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/assignee`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error suggesting assignee:', error);\r\n            return { suggestions: [], top_choice: null };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sugerir labels\r\n     */\r\n    async suggestLabels(summary, description = '', threshold = 0.3) {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/labels`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error suggesting labels:', error);\r\n            return { suggested_labels: [], count: 0 };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sugerir siguiente estado\r\n     */\r\n    async suggestStatus(summary, description = '') {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/predict/status`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ summary, description })\r\n            });\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Error suggesting status:', error);\r\n            return { suggested_status: 'Unknown', confidence: 0 };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Health check del servicio\r\n     */\r\n    async healthCheck() {\r\n        try {\r\n            const response = await fetch(`${this.baseURL}/health`);\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('‚ùå [ML] Service unavailable:', error);\r\n            return { status: 'unavailable' };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Limpiar cach√© local\r\n     */\r\n    clearCache() {\r\n        this.cache.clear();\r\n        console.log('üóëÔ∏è [ML] Cache cleared');\r\n    }\r\n}\r\n\r\n// ==================== UI HELPERS ====================\r\n\r\n/**\r\n * Helper para auto-completar campos con sugerencias ML\r\n */\r\nclass MLUIHelper {\r\n    constructor(mlClient) {\r\n        this.mlClient = mlClient;\r\n        this.suggestionBadges = new Map();\r\n    }\r\n\r\n    /**\r\n     * Inicializar sugerencias ML en formulario de ticket\r\n     * @param {string} summaryFieldId - ID del campo summary\r\n     * @param {string} descriptionFieldId - ID del campo description\r\n     */\r\n    initTicketForm(summaryFieldId, descriptionFieldId) {\r\n        const summaryField = document.getElementById(summaryFieldId);\r\n        const descriptionField = document.getElementById(descriptionFieldId);\r\n\r\n        if (!summaryField) {\r\n            console.warn('‚ö†Ô∏è [ML] Summary field not found');\r\n            return;\r\n        }\r\n\r\n        // Debounce para evitar requests excesivos\r\n        let debounceTimer;\r\n        const debounceDelay = 800;\r\n\r\n        const fetchSuggestions = async () => {\r\n            const summary = summaryField.value.trim();\r\n            const description = descriptionField ? descriptionField.value.trim() : '';\r\n\r\n            if (summary.length < 10) return; // M√≠nimo 10 caracteres\r\n\r\n            try {\r\n                const predictions = await this.mlClient.predictAll(summary, description);\r\n                this.applyPredictions(predictions);\r\n            } catch (error) {\r\n                console.error('‚ùå [ML] Error fetching suggestions:', error);\r\n            }\r\n        };\r\n\r\n        summaryField.addEventListener('blur', () => {\r\n            clearTimeout(debounceTimer);\r\n            debounceTimer = setTimeout(fetchSuggestions, debounceDelay);\r\n        });\r\n\r\n        if (descriptionField) {\r\n            descriptionField.addEventListener('blur', () => {\r\n                clearTimeout(debounceTimer);\r\n                debounceTimer = setTimeout(fetchSuggestions, debounceDelay);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Aplicar predicciones ML a la UI\r\n     */\r\n    applyPredictions(predictions) {\r\n        // 1. Auto-completar prioridad\r\n        if (predictions.priority && predictions.priority.confidence > 0.8) {\r\n            this.autofillPriority(predictions.priority);\r\n        }\r\n\r\n        // 2. Mostrar alerta de duplicados\r\n        if (predictions.duplicate_check && predictions.duplicate_check.is_duplicate) {\r\n            this.showDuplicateAlert(predictions.duplicate_check);\r\n        }\r\n\r\n        // 3. Alerta de riesgo SLA\r\n        if (predictions.sla_breach && predictions.sla_breach.risk_level === 'HIGH') {\r\n            this.showSLAWarning(predictions.sla_breach);\r\n        }\r\n\r\n        // 4. Sugerir asignados\r\n        if (predictions.assignee && predictions.assignee.suggestions.length > 0) {\r\n            this.suggestAssignees(predictions.assignee);\r\n        }\r\n\r\n        // 5. Sugerir labels\r\n        if (predictions.labels && predictions.labels.count > 0) {\r\n            this.suggestLabels(predictions.labels);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Auto-completar prioridad\r\n     */\r\n    autofillPriority(priorityData) {\r\n        const priorityField = document.getElementById('priority') ||\r\n            document.querySelector('[name=\"priority\"]');\r\n\r\n        if (!priorityField) return;\r\n\r\n        priorityField.value = priorityData.suggested_priority;\r\n        this.showSuggestionBadge(priorityField, 'ü§ñ Sugerido por IA', priorityData.confidence);\r\n    }\r\n\r\n    /**\r\n     * Mostrar alerta de duplicado\r\n     */\r\n    showDuplicateAlert(duplicateData) {\r\n        const alertHTML = `\r\n            <div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                <i class=\"fas fa-exclamation-triangle\"></i>\r\n                <strong>‚ö†Ô∏è Posible ticket duplicado</strong>\r\n                <p>Confianza: ${(duplicateData.confidence * 100).toFixed(0)}%</p>\r\n                ${duplicateData.similar_tickets.length > 0 ?\r\n                `<p>Similares: ${duplicateData.similar_tickets.join(', ')}</p>` : ''}\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n            </div>\r\n        `;\r\n        this.showAlert(alertHTML);\r\n    }\r\n\r\n    /**\r\n     * Mostrar advertencia de SLA\r\n     */\r\n    showSLAWarning(slaData) {\r\n        const warningHTML = `\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                <i class=\"fas fa-clock\"></i>\r\n                <strong>üö® Alto riesgo de violar SLA</strong>\r\n                <p>Probabilidad: ${(slaData.breach_probability * 100).toFixed(0)}%</p>\r\n                <p>Nivel de riesgo: <span class=\"badge bg-danger\">${slaData.risk_level}</span></p>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n            </div>\r\n        `;\r\n        this.showAlert(warningHTML);\r\n    }\r\n\r\n    /**\r\n     * Sugerir asignados\r\n     */\r\n    suggestAssignees(assigneeData) {\r\n        const assigneeField = document.getElementById('assignee') ||\r\n            document.querySelector('[name=\"assignee\"]');\r\n\r\n        if (!assigneeField) return;\r\n\r\n        // Si es un select, agregar opciones con badges de confianza\r\n        if (assigneeField.tagName === 'SELECT') {\r\n            assigneeData.suggestions.forEach((suggestion, index) => {\r\n                const confidence = (suggestion.confidence * 100).toFixed(0);\r\n                const option = document.createElement('option');\r\n                option.value = suggestion.assignee;\r\n                option.text = `${suggestion.assignee} (${confidence}% ML)`;\r\n\r\n                if (index === 0) {\r\n                    assigneeField.prepend(option);\r\n                    option.selected = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sugerir labels\r\n     */\r\n    suggestLabels(labelsData) {\r\n        const labelsContainer = document.getElementById('suggested-labels');\r\n        if (!labelsContainer) return;\r\n\r\n        labelsContainer.innerHTML = '<strong>üè∑Ô∏è Labels sugeridos:</strong><br>';\r\n\r\n        labelsData.suggested_labels.forEach(label => {\r\n            const confidence = (label.confidence * 100).toFixed(0);\r\n            const badge = document.createElement('span');\r\n            badge.className = 'badge bg-info me-2 mb-2';\r\n            badge.innerHTML = `${label.label} (${confidence}%)`;\r\n            badge.style.cursor = 'pointer';\r\n            badge.onclick = () => this.addLabel(label.label);\r\n            labelsContainer.appendChild(badge);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Agregar label al campo\r\n     */\r\n    addLabel(labelText) {\r\n        const labelsField = document.getElementById('labels') ||\r\n            document.querySelector('[name=\"labels\"]');\r\n        if (!labelsField) return;\r\n\r\n        const currentLabels = labelsField.value.split(',').map(l => l.trim()).filter(Boolean);\r\n        if (!currentLabels.includes(labelText)) {\r\n            currentLabels.push(labelText);\r\n            labelsField.value = currentLabels.join(', ');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mostrar badge de sugerencia\r\n     */\r\n    showSuggestionBadge(field, text, confidence) {\r\n        const badge = document.createElement('span');\r\n        badge.className = 'badge bg-success ms-2';\r\n        badge.innerHTML = `${text} (${(confidence * 100).toFixed(0)}%)`;\r\n\r\n        // Insertar despu√©s del campo\r\n        field.parentNode.insertBefore(badge, field.nextSibling);\r\n\r\n        // Auto-remover despu√©s de 5 segundos\r\n        setTimeout(() => badge.remove(), 5000);\r\n    }\r\n\r\n    /**\r\n     * Mostrar alerta\r\n     */\r\n    showAlert(html) {\r\n        let alertContainer = document.getElementById('ml-alerts');\r\n        if (!alertContainer) {\r\n            alertContainer = document.createElement('div');\r\n            alertContainer.id = 'ml-alerts';\r\n            alertContainer.className = 'ml-alerts-container';\r\n            document.body.insertBefore(alertContainer, document.body.firstChild);\r\n        }\r\n        alertContainer.innerHTML += html;\r\n    }\r\n}\r\n\r\n// ==================== EXPORT ====================\r\n\r\n// Crear instancia global si no existe\r\nif (typeof window !== 'undefined') {\r\n    window.MLClient = MLClient;\r\n    window.MLUIHelper = MLUIHelper;\r\n\r\n    // Instancia lista para usar\r\n    window.mlClient = new MLClient();\r\n    window.mlUIHelper = new MLUIHelper(window.mlClient);\r\n\r\n    console.log('‚úÖ [ML] Client initialized');\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/ai-field-suggestions.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 473
      },
      {
        "start": 1747,
        "end": 1802
      },
      {
        "start": 3646,
        "end": 3696
      },
      {
        "start": 4087,
        "end": 4137
      },
      {
        "start": 4616,
        "end": 4668
      },
      {
        "start": 7413,
        "end": 7473
      },
      {
        "start": 7857,
        "end": 7924
      },
      {
        "start": 8387,
        "end": 8450
      },
      {
        "start": 10430,
        "end": 10503
      },
      {
        "start": 11243,
        "end": 11299
      },
      {
        "start": 11609,
        "end": 11651
      },
      {
        "start": 11852,
        "end": 11920
      },
      {
        "start": 12097,
        "end": 12151
      },
      {
        "start": 12497,
        "end": 12553
      },
      {
        "start": 12680,
        "end": 13109
      }
    ],
    "text": "/**\r\n * AI FIELD SUGGESTIONS MODULE\r\n * Implementa funcionalidad similar a Atlassian Intelligence\r\n * Analiza tickets y sugiere actualizaciones de campos\r\n */\r\n\r\nclass AIFieldSuggestions {\r\n  constructor() {\r\n    this.modal = null;\r\n    this.currentIssue = null;\r\n    this.suggestions = [];\r\n    this.selectedSuggestions = new Set();\r\n  }\r\n\r\n  /**\r\n   * Muestra el modal de sugerencias AI para un ticket\r\n   * @param {string} issueKey - Key del ticket a analizar\r\n   */\r\n  async showSuggestionsModal(issueKey) {\r\n    console.log(`ü§ñ Analyzing ticket ${issueKey} for field suggestions...`);\r\n    \r\n    this.currentIssue = issueKey;\r\n    this.selectedSuggestions.clear();\r\n    \r\n    // Crear modal\r\n    this.createModal();\r\n    \r\n    // Mostrar loading state\r\n    this.showLoadingState();\r\n    \r\n    try {\r\n      // Llamar al backend para obtener sugerencias\r\n      const response = await fetch('/api/ai/suggest-updates', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          issue_key: issueKey,\r\n          fields_to_analyze: ['severity', 'priority', 'labels', 'assignee']\r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      this.suggestions = data.suggestions || [];\r\n      \r\n      console.log(`‚úÖ Received ${this.suggestions.length} suggestions`);\r\n      \r\n      // Mostrar sugerencias\r\n      this.renderSuggestions();\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching AI suggestions:', error);\r\n      this.showErrorState(error.message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Crea el modal de sugerencias\r\n   */\r\n  createModal() {\r\n    // Remover modal existente si hay\r\n    const existingModal = document.getElementById('aiSuggestionsModal');\r\n    if (existingModal) {\r\n      existingModal.remove();\r\n    }\r\n\r\n    const modal = document.createElement('div');\r\n    modal.id = 'aiSuggestionsModal';\r\n    modal.className = 'modal-overlay';\r\n    modal.innerHTML = `\r\n      <div class=\"modal-container ai-suggestions-modal\">\r\n        <div class=\"modal-header\">\r\n          <div class=\"modal-title-section\">\r\n            <span class=\"modal-icon\">ü§ñ</span>\r\n            <h2 class=\"modal-title\">Actualiza los campos que sugiere Atlassian Intelligence</h2>\r\n          </div>\r\n          <button class=\"modal-close\" onclick=\"window.aiSuggestions.closeModal()\">√ó</button>\r\n        </div>\r\n        <div class=\"modal-subtitle\">\r\n          <span class=\"badge badge-info\">‚ú® Priorizaci√≥n</span>\r\n          <span class=\"modal-issue-key\">${this.currentIssue}</span>\r\n        </div>\r\n        <div class=\"modal-body\" id=\"aiSuggestionsContent\">\r\n          <!-- Content will be injected here -->\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-secondary\" onclick=\"window.aiSuggestions.closeModal()\">\r\n            Cancelar\r\n          </button>\r\n          <button class=\"btn-primary\" id=\"applyAISuggestionsBtn\" disabled>\r\n            <span class=\"btn-icon\">‚ú®</span>\r\n            <span class=\"btn-text\">Actualizar campos</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n    this.modal = modal;\r\n\r\n    // Event listeners\r\n    modal.addEventListener('click', (e) => {\r\n      if (e.target === modal) {\r\n        this.closeModal();\r\n      }\r\n    });\r\n\r\n    const applyBtn = modal.querySelector('#applyAISuggestionsBtn');\r\n    applyBtn.addEventListener('click', () => this.applySuggestions());\r\n  }\r\n\r\n  /**\r\n   * Muestra estado de carga\r\n   */\r\n  showLoadingState() {\r\n    const content = document.getElementById('aiSuggestionsContent');\r\n    content.innerHTML = `\r\n      <div class=\"ai-loading-state\">\r\n        <div class=\"ai-spinner\"></div>\r\n        <p class=\"ai-loading-text\">Analizando ticket con Atlassian Intelligence...</p>\r\n        <p class=\"ai-loading-subtext\">Buscando campos que se puedan mejorar</p>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Muestra estado de error\r\n   */\r\n  showErrorState(errorMessage) {\r\n    const content = document.getElementById('aiSuggestionsContent');\r\n    content.innerHTML = `\r\n      <div class=\"ai-error-state\">\r\n        <span class=\"error-icon\">‚ö†Ô∏è</span>\r\n        <h3>No se pudieron obtener sugerencias</h3>\r\n        <p class=\"error-message\">${this.escapeHtml(errorMessage)}</p>\r\n        <button class=\"btn-secondary\" onclick=\"window.aiSuggestions.closeModal()\">\r\n          Cerrar\r\n        </button>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Renderiza las sugerencias\r\n   */\r\n  renderSuggestions() {\r\n    const content = document.getElementById('aiSuggestionsContent');\r\n    \r\n    if (this.suggestions.length === 0) {\r\n      content.innerHTML = `\r\n        <div class=\"ai-empty-state\">\r\n          <span class=\"empty-icon\">‚úÖ</span>\r\n          <h3>Todo se ve bien</h3>\r\n          <p>No se encontraron campos que mejorar en este ticket.</p>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    let html = '<div class=\"ai-suggestions-list\">';\r\n    \r\n    this.suggestions.forEach((suggestion, index) => {\r\n      const suggestionId = `suggestion-${index}`;\r\n      const isSelected = this.selectedSuggestions.has(index);\r\n      const confidencePercent = Math.round(suggestion.confidence * 100);\r\n      const confidenceClass = this.getConfidenceClass(suggestion.confidence);\r\n      \r\n      html += `\r\n        <div class=\"ai-suggestion-card ${isSelected ? 'selected' : ''}\" data-index=\"${index}\">\r\n          <div class=\"suggestion-header\">\r\n            <div class=\"suggestion-checkbox\">\r\n              <input \r\n                type=\"checkbox\" \r\n                id=\"${suggestionId}\" \r\n                ${isSelected ? 'checked' : ''}\r\n                onchange=\"window.aiSuggestions.toggleSuggestion(${index})\"\r\n              />\r\n              <label for=\"${suggestionId}\"></label>\r\n            </div>\r\n            <div class=\"suggestion-info\">\r\n              <div class=\"suggestion-field-name\">\r\n                ${this.escapeHtml(suggestion.field_label)}\r\n              </div>\r\n              <div class=\"suggestion-confidence ${confidenceClass}\">\r\n                <span class=\"confidence-icon\">üéØ</span>\r\n                <span class=\"confidence-value\">${confidencePercent}% confianza</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"suggestion-change\">\r\n            <div class=\"change-item\">\r\n              <span class=\"change-label\">Valor actual:</span>\r\n              <span class=\"change-value current\">\r\n                ${this.formatValue(suggestion.current_value)}\r\n              </span>\r\n            </div>\r\n            <div class=\"change-arrow\">‚Üí</div>\r\n            <div class=\"change-item\">\r\n              <span class=\"change-label\">Valor sugerido:</span>\r\n              <span class=\"change-value suggested\">\r\n                ${this.formatValue(suggestion.suggested_value)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"suggestion-reason\">\r\n            <span class=\"reason-icon\">üí°</span>\r\n            <span class=\"reason-text\">${this.escapeHtml(suggestion.reason)}</span>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    \r\n    html += '</div>';\r\n    content.innerHTML = html;\r\n\r\n    // Actualizar bot√≥n\r\n    this.updateApplyButton();\r\n  }\r\n\r\n  /**\r\n   * Toggle de selecci√≥n de sugerencia\r\n   */\r\n  toggleSuggestion(index) {\r\n    if (this.selectedSuggestions.has(index)) {\r\n      this.selectedSuggestions.delete(index);\r\n    } else {\r\n      this.selectedSuggestions.add(index);\r\n    }\r\n\r\n    // Actualizar UI\r\n    const card = this.modal.querySelector(`[data-index=\"${index}\"]`);\r\n    if (card) {\r\n      card.classList.toggle('selected');\r\n    }\r\n\r\n    this.updateApplyButton();\r\n  }\r\n\r\n  /**\r\n   * Actualiza el estado del bot√≥n de aplicar\r\n   */\r\n  updateApplyButton() {\r\n    const applyBtn = this.modal.querySelector('#applyAISuggestionsBtn');\r\n    const count = this.selectedSuggestions.size;\r\n    \r\n    if (count > 0) {\r\n      applyBtn.disabled = false;\r\n      applyBtn.querySelector('.btn-text').textContent = \r\n        `Actualizar ${count} campo${count > 1 ? 's' : ''}`;\r\n    } else {\r\n      applyBtn.disabled = true;\r\n      applyBtn.querySelector('.btn-text').textContent = 'Actualizar campos';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Aplica las sugerencias seleccionadas\r\n   */\r\n  async applySuggestions() {\r\n    if (this.selectedSuggestions.size === 0) {\r\n      return;\r\n    }\r\n\r\n    const applyBtn = this.modal.querySelector('#applyAISuggestionsBtn');\r\n    const originalText = applyBtn.querySelector('.btn-text').textContent;\r\n    \r\n    // Mostrar loading\r\n    applyBtn.disabled = true;\r\n    applyBtn.querySelector('.btn-text').textContent = 'Aplicando...';\r\n    applyBtn.classList.add('loading');\r\n\r\n    try {\r\n      const selectedSuggestionsList = Array.from(this.selectedSuggestions)\r\n        .map(index => this.suggestions[index]);\r\n\r\n      // Preparar updates para JIRA API\r\n      const fields = {};\r\n      selectedSuggestionsList.forEach(suggestion => {\r\n        fields[suggestion.field] = this.prepareFieldValue(suggestion);\r\n      });\r\n\r\n      // Actualizar ticket via API\r\n      const response = await fetch(`/api/issues/${this.currentIssue}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ fields })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to update issue: ${response.statusText}`);\r\n      }\r\n\r\n      console.log(`‚úÖ Successfully updated ${this.selectedSuggestions.size} fields`);\r\n\r\n      // Mostrar notificaci√≥n de √©xito\r\n      this.showSuccessNotification(this.selectedSuggestions.size);\r\n\r\n      // Cerrar modal\r\n      this.closeModal();\r\n\r\n      // Recargar datos del ticket\r\n      if (window.app && typeof window.app.refreshCurrentIssue === 'function') {\r\n        window.app.refreshCurrentIssue();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error applying suggestions:', error);\r\n      \r\n      // Restaurar bot√≥n\r\n      applyBtn.disabled = false;\r\n      applyBtn.querySelector('.btn-text').textContent = originalText;\r\n      applyBtn.classList.remove('loading');\r\n      \r\n      // Mostrar error\r\n      alert(`Error al actualizar los campos: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Prepara el valor del campo para la API de JIRA\r\n   */\r\n  prepareFieldValue(suggestion) {\r\n    const { field_name, suggested_value } = suggestion;\r\n    \r\n    // Severity/Criticidad - usar el value para customfield\r\n    if (field_name === 'severity') {\r\n      return { value: suggested_value };\r\n    }\r\n    \r\n    // Priority - usar name\r\n    if (field_name === 'priority') {\r\n      return { name: suggested_value };\r\n    }\r\n    \r\n    // Labels - array simple\r\n    if (field_name === 'labels') {\r\n      return Array.isArray(suggested_value) ? suggested_value : [suggested_value];\r\n    }\r\n    \r\n    // Assignee - usar accountId o name\r\n    if (field_name === 'assignee') {\r\n      return { name: suggested_value };\r\n    }\r\n    \r\n    // Default: retornar valor tal cual\r\n    return suggested_value;\r\n  }\r\n\r\n  /**\r\n   * Muestra notificaci√≥n de √©xito\r\n   */\r\n  showSuccessNotification(count) {\r\n    if (window.notificationSystem) {\r\n      window.notificationSystem.show({\r\n        type: 'success',\r\n        title: 'Campos actualizados',\r\n        message: `Se actualizaron ${count} campo${count > 1 ? 's' : ''} exitosamente`,\r\n        duration: 4000\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cierra el modal\r\n   */\r\n  closeModal() {\r\n    if (this.modal) {\r\n      this.modal.remove();\r\n      this.modal = null;\r\n    }\r\n    this.currentIssue = null;\r\n    this.suggestions = [];\r\n    this.selectedSuggestions.clear();\r\n  }\r\n\r\n  /**\r\n   * Obtiene clase CSS para nivel de confianza\r\n   */\r\n  getConfidenceClass(confidence) {\r\n    if (confidence >= 0.8) return 'confidence-high';\r\n    if (confidence >= 0.6) return 'confidence-medium';\r\n    return 'confidence-low';\r\n  }\r\n\r\n  /**\r\n   * Formatea valor para mostrar\r\n   */\r\n  formatValue(value) {\r\n    if (value === null || value === undefined || value === '') {\r\n      return '<span class=\"value-empty\">Sin valor</span>';\r\n    }\r\n    \r\n    if (Array.isArray(value)) {\r\n      return value.map(v => `<span class=\"badge\">${this.escapeHtml(v)}</span>`).join(' ');\r\n    }\r\n    \r\n    return this.escapeHtml(String(value));\r\n  }\r\n\r\n  /**\r\n   * Escapa HTML para prevenir XSS\r\n   */\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n}\r\n\r\n// Inicializar instancia global\r\nif (typeof window !== 'undefined') {\r\n  try {\r\n    window.aiSuggestions = new AIFieldSuggestions();\r\n    console.log('‚úÖ AI Field Suggestions module loaded successfully');\r\n    console.log('Available methods:', Object.getOwnPropertyNames(Object.getPrototypeOf(window.aiSuggestions)));\r\n  } catch (error) {\r\n    console.error('‚ùå Failed to initialize AI Field Suggestions:', error);\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/ai-queue-analyzer.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 807
      },
      {
        "start": 898,
        "end": 1238
      },
      {
        "start": 1329,
        "end": 1349
      },
      {
        "start": 6326,
        "end": 6332
      },
      {
        "start": 7896,
        "end": 7902
      },
      {
        "start": 7993,
        "end": 7999
      },
      {
        "start": 8376,
        "end": 8382
      },
      {
        "start": 9013,
        "end": 9019
      },
      {
        "start": 9364,
        "end": 9571
      },
      {
        "start": 10771,
        "end": 10920
      },
      {
        "start": 11210,
        "end": 11290
      },
      {
        "start": 11902,
        "end": 11908
      },
      {
        "start": 15047,
        "end": 15053
      },
      {
        "start": 15197,
        "end": 15203
      },
      {
        "start": 15643,
        "end": 15649
      },
      {
        "start": 18264,
        "end": 18429
      }
    ],
    "text": "/**\r\n * AI Queue Analyzer Module\r\n * Analiza todos los tickets de la cola actual y muestra solo los que necesitan mejoras\r\n * Similar a Atlassian Intelligence\r\n */\r\n\r\nclass AIQueueAnalyzer {\r\n  constructor() {\r\n    console.log('üß† Initializing AIQueueAnalyzer...');\r\n    this.modal = null;\r\n    this.results = null;\r\n    this.selectedUpdates = new Map(); // Map<issueKey, Set<fieldName>>\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('üîó Setting up AIQueueAnalyzer event listeners...');\r\n    this.attachButton();\r\n    console.log('‚úÖ AIQueueAnalyzer initialized successfully');\r\n  }\r\n\r\n  attachButton() {\r\n    // Try primary button ID\r\n    const btn = document.getElementById('mlAnalyzeBtn');\r\n    if (btn) {\r\n      console.log('‚úÖ Found mlAnalyzeBtn (primary)');\r\n      btn.addEventListener('click', () => {\r\n        console.log('üñ±Ô∏è mlAnalyzeBtn clicked');\r\n        this.analyze();\r\n      });\r\n    } else {\r\n      console.warn('‚ö†Ô∏è mlAnalyzeBtn not found (it should be in header)');\r\n    }\r\n    \r\n    // Fallback: try secondary button ID\r\n    const btnAlt = document.getElementById('aiAnalyzeBtn');\r\n    if (btnAlt && btnAlt !== btn) {\r\n      console.log('‚úÖ Found aiAnalyzeBtn (fallback)');\r\n      btnAlt.addEventListener('click', () => {\r\n        console.log('üñ±Ô∏è aiAnalyzeBtn clicked');\r\n        this.analyze();\r\n      });\r\n    }\r\n  }\r\n\r\n  async analyze() {\r\n    // Require desk/queue selection\r\n    if (!window.state || !window.state.currentDesk || !window.state.currentQueue) {\r\n      alert('Por favor selecciona un Service Desk y una Cola primero');\r\n      console.error('‚ùå Missing desk or queue:', { desk: window.state?.currentDesk, queue: window.state?.currentQueue });\r\n      return;\r\n    }\r\n    \r\n    console.log('üß† Starting ML analysis:', { desk: window.state.currentDesk, queue: window.state.currentQueue });\r\n    \r\n    const cacheKey = `ml_analysis_${window.state.currentDesk}_${window.state.currentQueue}`;\r\n    \r\n    this.showModal();\r\n    \r\n    // üöÄ LEVEL 1: Check memory cache (INSTANT - <1ms)\r\n    if (window.mlAnalysisCache && window.mlAnalysisCache[cacheKey]) {\r\n      const cached = window.mlAnalysisCache[cacheKey];\r\n      const age = Date.now() - cached.timestamp;\r\n      const maxAge = window.state?.issues?.length >= 50 ? 3 * 60 * 60 * 1000 : 15 * 60 * 1000;\r\n      \r\n      if (age < maxAge) {\r\n        console.log(`üí® Using memory cache (${(age / 1000).toFixed(0)}s old) - INSTANT LOAD`);\r\n        this.results = cached.data;\r\n        this.renderResults(this.results);\r\n        this.showCacheIndicator('memory', age);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // üèÉ LEVEL 2: Check LocalStorage (FAST - <10ms)\r\n    const localCached = window.CacheManager?.get(cacheKey);\r\n    if (localCached) {\r\n      console.log('üíæ Using LocalStorage cache - FAST LOAD');\r\n      \r\n      // Store in memory for next time\r\n      window.mlAnalysisCache = window.mlAnalysisCache || {};\r\n      window.mlAnalysisCache[cacheKey] = {\r\n        data: localCached,\r\n        timestamp: Date.now()\r\n      };\r\n      \r\n      this.results = localCached;\r\n      this.renderResults(this.results);\r\n      this.showCacheIndicator('localStorage', 0);\r\n      return;\r\n    }\r\n    \r\n    // üì° LEVEL 3: Fetch from backend (NETWORK - ~500ms)\r\n    console.log('üì° Fetching from backend...');\r\n    this.showLoading();\r\n\r\n    try {\r\n      const body = {\r\n        desk_id: window.state.currentDesk,\r\n        queue_id: window.state.currentQueue\r\n      };\r\n      \r\n      console.log('üì§ Sending request to /api/ai/analyze-queue:', body);\r\n      \r\n      const response = await fetch('/api/ai/analyze-queue', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.text();\r\n        console.error('‚ùå HTTP Error:', response.status, error);\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      let data = await response.json();\r\n      console.log('‚úÖ AI Analysis Response:', data);\r\n      \r\n      // El decorador @json_response envuelve la respuesta en {success, data, timestamp}\r\n      // Extraer los datos reales si est√°n envueltos\r\n      if (data.success && data.data) {\r\n        console.log('üì¶ Unwrapping response from json_response decorator');\r\n        data = data.data;\r\n      }\r\n      \r\n      console.log('‚úÖ Processed data:', data);\r\n      console.log('üìä Response keys:', Object.keys(data));\r\n      this.results = data;\r\n\r\n      // Verificar si hay error en la respuesta\r\n      if (data.error) {\r\n        console.error('‚ùå API returned error:', data.error);\r\n        this.showError(data.error);\r\n        return;\r\n      }\r\n      \r\n      // Store in ALL cache levels for next time\r\n      const cacheKey = `ml_analysis_${window.state.currentDesk}_${window.state.currentQueue}`;\r\n      \r\n      // Memory cache (LEVEL 1)\r\n      window.mlAnalysisCache = window.mlAnalysisCache || {};\r\n      window.mlAnalysisCache[cacheKey] = {\r\n        data: data,\r\n        timestamp: Date.now()\r\n      };\r\n      \r\n      // LocalStorage cache (LEVEL 2)\r\n      const ttl = window.state?.issues?.length >= 50 ? 3 * 60 * 60 * 1000 : 15 * 60 * 1000;\r\n      if (window.CacheManager) {\r\n        window.CacheManager.set(cacheKey, data, ttl);\r\n      }\r\n      \r\n      console.log(`üíæ Cached ML analysis in memory + localStorage (TTL: ${(ttl / (60 * 60 * 1000)).toFixed(1)}h)`);\r\n      this.showCacheIndicator('backend', 0);\r\n\r\n      // Validar estructura de datos\r\n      if (!data.suggestions || !Array.isArray(data.suggestions)) {\r\n        console.error('‚ùå Invalid response structure:', data);\r\n        console.error('   Expected suggestions to be array but got:', typeof data.suggestions);\r\n        this.showError(`Respuesta inv√°lida del servidor. suggestions=${typeof data.suggestions}. Ver consola.`);\r\n        return;\r\n      }\r\n\r\n      if (data.issues_with_suggestions === 0) {\r\n        console.log('‚úÖ No suggestions needed for any tickets');\r\n        this.showNoSuggestions(data.analyzed_count);\r\n      } else {\r\n        console.log(`‚úÖ Found ${data.issues_with_suggestions} tickets with suggestions`);\r\n        this.renderResults(data);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Analysis Error:', error);\r\n      this.showError(error.message || 'Unknown error occurred');\r\n    }\r\n  }\r\n\r\n  showModal() {\r\n    let modal = document.getElementById('aiQueueModal');\r\n    if (!modal) {\r\n      modal = document.createElement('div');\r\n      modal.id = 'aiQueueModal';\r\n      modal.className = 'modal-overlay';\r\n      modal.innerHTML = `\r\n        <div class=\"modal-container ai-queue-modal\">\r\n          <div class=\"modal-header\">\r\n            <div class=\"modal-title-section\">\r\n              <span class=\"modal-icon\">üß†</span>\r\n              <h2 class=\"modal-title\">Sugerencias de ML para la cola</h2>\r\n              <small style=\"color: #64748b; font-size: 12px; font-weight: normal; margin-left: 8px;\">Machine Learning con patrones globales</small>\r\n            </div>\r\n            <div id=\"mlAnalysisCacheIndicator\" style=\"display: none; align-items: center; gap: 8px; margin-left: auto; margin-right: 16px; font-size: 12px; color: #64748b;\"></div>\r\n            <button class=\"modal-close\" onclick=\"window.aiQueueAnalyzer.closeModal()\">√ó</button>\r\n          </div>\r\n          <div class=\"modal-body\" id=\"aiQueueContent\"></div>\r\n          <div class=\"modal-footer\" id=\"aiQueueFooter\" style=\"display:none\">\r\n            <button class=\"btn-secondary\" onclick=\"window.aiQueueAnalyzer.closeModal()\">\r\n              Cancelar\r\n            </button>\r\n            <button class=\"btn-primary\" onclick=\"window.aiQueueAnalyzer.applySelected()\">\r\n              Aplicar cambios seleccionados\r\n            </button>\r\n          </div>\r\n        </div>\r\n      `;\r\n      document.body.appendChild(modal);\r\n      this.modal = modal;\r\n    }\r\n    modal.style.display = 'flex';\r\n  }\r\n\r\n  closeModal() {\r\n    if (this.modal) {\r\n      this.modal.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  showLoading() {\r\n    const content = document.getElementById('aiQueueContent');\r\n    content.innerHTML = `\r\n      <div class=\"loading-state\">\r\n        <div class=\"spinner\"></div>\r\n        <p>Analizando tickets de la cola...</p>\r\n        <small style=\"color: #64748b; margin-top: 8px;\">Usando patrones del cach√© global para mejores sugerencias</small>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  showNoSuggestions(analyzedCount) {\r\n    const content = document.getElementById('aiQueueContent');\r\n    content.innerHTML = `\r\n      <div class=\"success-state\">\r\n        <div class=\"success-icon\">‚úÖ</div>\r\n        <h3>Todos los tickets est√°n correctos</h3>\r\n        <p>Se analizaron <strong>${analyzedCount}</strong> tickets de la cola y no se encontraron campos que necesiten actualizarse.</p>\r\n        <small style=\"color: #64748b; margin-top: 12px;\">üí° El an√°lisis usa patrones aprendidos de todos los tickets sincronizados.</small>\r\n      </div>\r\n    `;\r\n    document.getElementById('aiQueueFooter').style.display = 'none';\r\n  }\r\n\r\n  showError(message) {\r\n    const content = document.getElementById('aiQueueContent');\r\n    content.innerHTML = `\r\n      <div class=\"error-state\">\r\n        <div class=\"error-icon\">‚ùå</div>\r\n        <h3>Error al analizar</h3>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    document.getElementById('aiQueueFooter').style.display = 'none';\r\n  }\r\n  \r\n  /**\r\n   * Show cache indicator with refresh button\r\n   * @param {string} source - Cache source: 'memory', 'localStorage', or 'backend'\r\n   * @param {number} age - Cache age in milliseconds\r\n   */\r\n  showCacheIndicator(source, age) {\r\n    const indicator = document.getElementById('mlAnalysisCacheIndicator');\r\n    if (!indicator) return;\r\n    \r\n    const sourceIcons = {\r\n      memory: 'üí®',\r\n      localStorage: 'üíæ',\r\n      backend: 'üì°'\r\n    };\r\n    \r\n    const sourceLabels = {\r\n      memory: 'En memoria',\r\n      localStorage: 'En cach√© local',\r\n      backend: 'Del servidor'\r\n    };\r\n    \r\n    const ageText = age > 0 ? ` ‚Ä¢ ${this.formatAge(age)} atr√°s` : '';\r\n    \r\n    indicator.innerHTML = `\r\n      <span style=\"display: flex; align-items: center; gap: 6px;\">\r\n        ${sourceIcons[source]} ${sourceLabels[source]}${ageText}\r\n      </span>\r\n      <button \r\n        onclick=\"window.aiQueueAnalyzer.refreshAnalysis()\" \r\n        style=\"padding: 4px 8px; background: #f1f5f9; border: 1px solid #cbd5e1; border-radius: 4px; cursor: pointer; font-size: 11px; display: flex; align-items: center; gap: 4px; transition: all 0.2s;\"\r\n        onmouseover=\"this.style.background='#e2e8f0'\" \r\n        onmouseout=\"this.style.background='#f1f5f9'\"\r\n        title=\"Actualizar an√°lisis con datos recientes\"\r\n      >\r\n        üîÑ Actualizar\r\n      </button>\r\n    `;\r\n    indicator.style.display = 'flex';\r\n  }\r\n  \r\n  /**\r\n   * Format cache age for display\r\n   * @param {number} ms - Age in milliseconds\r\n   * @returns {string} Formatted age string\r\n   */\r\n  formatAge(ms) {\r\n    const seconds = Math.floor(ms / 1000);\r\n    const minutes = Math.floor(seconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n    \r\n    if (hours > 0) return `${hours}h ${minutes % 60}m`;\r\n    if (minutes > 0) return `${minutes}m`;\r\n    return `${seconds}s`;\r\n  }\r\n  \r\n  /**\r\n   * Refresh analysis by clearing cache and re-analyzing\r\n   */\r\n  async refreshAnalysis() {\r\n    const cacheKey = `ml_analysis_${window.state?.currentDesk}_${window.state?.currentQueue}`;\r\n    \r\n    // Clear all cache levels\r\n    if (window.mlAnalysisCache) {\r\n      delete window.mlAnalysisCache[cacheKey];\r\n      console.log('üóëÔ∏è Cleared memory cache for ML analysis');\r\n    }\r\n    \r\n    if (window.CacheManager) {\r\n      window.CacheManager.remove(cacheKey);\r\n      console.log('üóëÔ∏è Cleared LocalStorage cache for ML analysis');\r\n    }\r\n    \r\n    // Re-analyze with fresh data\r\n    console.log('üîÑ Refreshing ML analysis with recent data...');\r\n    await this.analyze();\r\n  }\r\n\r\n  renderResults(data) {\r\n    const content = document.getElementById('aiQueueContent');\r\n    \r\n    let html = `\r\n      <div class=\"ai-results-summary\">\r\n        <p>\r\n          üéØ <strong>${data.issues_with_suggestions}</strong> de <strong>${data.analyzed_count}</strong> \r\n          tickets de la cola tienen campos que pueden mejorarse\r\n        </p>\r\n        <small style=\"color: #64748b; font-size: 12px;\">An√°lisis basado en ${data.cache_size || 'm√∫ltiples'} tickets del cach√© global</small>\r\n      </div>\r\n      <div class=\"ai-results-list\">\r\n    `;\r\n\r\n    data.suggestions.forEach(issue => {\r\n      html += `\r\n        <div class=\"ai-issue-card\">\r\n          <div class=\"ai-issue-header\">\r\n            <span class=\"ai-issue-key\">${issue.issue_key}</span>\r\n            <span class=\"ai-issue-summary\">${issue.issue_summary}</span>\r\n          </div>\r\n          <div class=\"ai-suggestions-list\">\r\n      `;\r\n\r\n      issue.suggestions.forEach((sug, idx) => {\r\n        const fieldId = `${issue.issue_key}_${sug.field_name}`;\r\n        html += `\r\n          <div class=\"ai-suggestion-item\">\r\n            <input type=\"checkbox\" \r\n                   id=\"${fieldId}\" \r\n                   data-issue=\"${issue.issue_key}\"\r\n                   data-field=\"${sug.field}\"\r\n                   data-value=\"${JSON.stringify(sug.suggested_value).replace(/\"/g, '&quot;')}\">\r\n            <label for=\"${fieldId}\">\r\n              <div class=\"suggestion-header\">\r\n                <strong>${sug.field_label}</strong>\r\n                <span class=\"confidence confidence-${this.getConfidenceClass(sug.confidence)}\">\r\n                  ${Math.round(sug.confidence * 100)}%\r\n                </span>\r\n              </div>\r\n              <div class=\"suggestion-change\">\r\n                <span class=\"current-value\">${sug.current_value || '(vac√≠o)'}</span>\r\n                <span class=\"arrow\">‚Üí</span>\r\n                <span class=\"suggested-value\">${this.formatValue(sug.suggested_value)}</span>\r\n              </div>\r\n              <div class=\"suggestion-reason\">${sug.reason}</div>\r\n            </label>\r\n          </div>\r\n        `;\r\n      });\r\n\r\n      html += `\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n\r\n    html += `</div>`;\r\n    content.innerHTML = html;\r\n    document.getElementById('aiQueueFooter').style.display = 'flex';\r\n    \r\n    // Add click listeners to issue keys to open ticket details\r\n    content.querySelectorAll('.ai-issue-key').forEach(keyElement => {\r\n      keyElement.style.cursor = 'pointer';\r\n      keyElement.addEventListener('click', (e) => {\r\n        e.stopPropagation();\r\n        const issueKey = keyElement.textContent.trim();\r\n        console.log('üéØ Opening ticket from AI recommendations:', issueKey);\r\n        \r\n        // Close AI modal\r\n        this.close();\r\n        \r\n        // Open ticket details\r\n        if (typeof showTicketDetails === 'function') {\r\n          showTicketDetails(issueKey);\r\n        } else if (typeof openIssueDetails === 'function') {\r\n          openIssueDetails(issueKey);\r\n        } else if (window.rightSidebar) {\r\n          window.rightSidebar.open(issueKey);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  getConfidenceClass(confidence) {\r\n    if (confidence >= 0.8) return 'high';\r\n    if (confidence >= 0.6) return 'medium';\r\n    return 'low';\r\n  }\r\n\r\n  formatValue(value) {\r\n    if (Array.isArray(value)) {\r\n      return value.join(', ');\r\n    }\r\n    if (typeof value === 'object' && value !== null) {\r\n      // Handle JIRA field objects like {\"value\": \"Cr√≠tico\"} or {\"name\": \"High\"}\r\n      if (value.value) return value.value;\r\n      if (value.name) return value.name;\r\n      if (value.displayName) return value.displayName;\r\n      return JSON.stringify(value);\r\n    }\r\n    return value;\r\n  }\r\n\r\n  async applySelected() {\r\n    const checkboxes = document.querySelectorAll('#aiQueueContent input[type=\"checkbox\"]:checked');\r\n    \r\n    if (checkboxes.length === 0) {\r\n      alert('Selecciona al menos un campo para actualizar');\r\n      return;\r\n    }\r\n\r\n    const updates = {};\r\n    checkboxes.forEach(cb => {\r\n      const issueKey = cb.dataset.issue;\r\n      const field = cb.dataset.field;\r\n      const value = JSON.parse(cb.dataset.value);\r\n      \r\n      console.log(`üîß Preparing update for ${issueKey}.${field}:`, value);\r\n      \r\n      if (!updates[issueKey]) {\r\n        updates[issueKey] = { fields: {} };\r\n      }\r\n      updates[issueKey].fields[field] = value;\r\n    });\r\n\r\n    console.log('üì§ Applying updates:', updates);\r\n    \r\n    // Show progress\r\n    const footer = document.getElementById('aiQueueFooter');\r\n    const originalFooter = footer.innerHTML;\r\n    footer.innerHTML = `\r\n      <div style=\"display: flex; align-items: center; gap: 12px;\">\r\n        <div class=\"spinner\"></div>\r\n        <span>Aplicando cambios...</span>\r\n      </div>\r\n    `;\r\n\r\n    // Aplicar updates\r\n    let success = 0;\r\n    let errors = 0;\r\n    const errorDetails = [];\r\n\r\n    for (const [issueKey, data] of Object.entries(updates)) {\r\n      try {\r\n        console.log(`üîÑ Updating ${issueKey} with:`, data);\r\n        \r\n        const response = await fetch(`/api/issues/${issueKey}`, {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(data)\r\n        });\r\n\r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          console.log(`‚úÖ Updated ${issueKey}:`, result);\r\n          success++;\r\n        } else {\r\n          const errorText = await response.text();\r\n          console.error(`‚ùå Failed to update ${issueKey}:`, response.status, errorText);\r\n          errors++;\r\n          errorDetails.push(`${issueKey}: ${response.status} ${errorText.substring(0, 100)}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`‚ùå Error updating ${issueKey}:`, error);\r\n        errors++;\r\n        errorDetails.push(`${issueKey}: ${error.message}`);\r\n      }\r\n    }\r\n\r\n    // Show results\r\n    let message = `‚úÖ ${success} tickets actualizados correctamente`;\r\n    if (errors > 0) {\r\n      message += `\\n\\n‚ùå ${errors} errores:\\n${errorDetails.join('\\n')}`;\r\n    }\r\n    \r\n    alert(message);\r\n    this.closeModal();\r\n    \r\n    // Refresh issues\r\n    if (window.loadIssues && window.state && window.state.currentQueue) {\r\n      console.log('üîÑ Refreshing issues...');\r\n      await window.loadIssues(window.state.currentQueue);\r\n    }\r\n  }\r\n}\r\n\r\n// Initialize\r\nif (typeof window !== 'undefined') {\r\n  window.aiQueueAnalyzer = new AIQueueAnalyzer();\r\n  console.log('‚úÖ AI Queue Analyzer initialized');\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/comments.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 1250
      },
      {
        "start": 1569,
        "end": 6049
      },
      {
        "start": 6728,
        "end": 6750
      },
      {
        "start": 9197,
        "end": 9379
      },
      {
        "start": 9554,
        "end": 9771
      }
    ],
    "text": "/**\r\n * Comments Module\r\n * Centralized functions for loading, rendering and posting comments\r\n */\r\n(function(){\r\n  function formatCommentTime(dateString) {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n    if (diffMins < 1) return 'just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n  }\r\n\r\n  function processCommentText(text) {\r\n    if (!text) return '';\r\n    const isHtml = text.includes('<') && (text.includes('</') || text.includes('/>'));\r\n    if (!isHtml) {\r\n      text = text.replace(/&/g, '&amp;')\r\n                 .replace(/</g, '&lt;')\r\n                 .replace(/>/g, '&gt;')\r\n                 .replace(/\\n/g, '<br>');\r\n    }\r\n    text = text.replace(/!([^!]*\\.(png|jpg|jpeg|gif|webp|pdf|doc|docx|xls|xlsx|txt|zip|rar|7z|svg))[^!]*!/gi, '');\r\n    text = text.replace(/!\\[([^\\]]+)\\]\\(([^)]+)\\)/g, (m, alt, url) => {\r\n      const isImage = /\\.(jpg|jpeg|png|gif|webp|svg)$/i.test(url);\r\n      if (isImage) {\r\n        return `<img src=\"${url}\" alt=\"${alt}\" style=\"max-width:100%; cursor:pointer;\" onclick=\"window.open('${url}','_blank')\" />`;\r\n      }\r\n      return `<a href=\"${url}\" target=\"_blank\">${alt}</a>`;\r\n    });\r\n    text = text.replace(/^[A-Z]{2,3}(\\s*<br\\s*\\/?>|\\s*$)/gm, '');\r\n    text = text.replace(/^[A-Z][a-z]+ [A-Z][a-z]+(\\s*<br\\s*\\/?>|\\s*$)/gm, '');\r\n    text = text.replace(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(\\s*<br\\s*\\/?>|\\s*$)/gm, '');\r\n    text = text.replace(/^(SC|SG|Admin|User)(\\s*<br\\s*\\/?>|\\s*$)/gm, '');\r\n    text = text.replace(/(<br\\s*\\/?>){3,}/gi, '<br><br>');\r\n    text = text.replace(/^(<br\\s*\\/?>)+|(<br\\s*\\/?>)+$/gi, '');\r\n    return text.trim();\r\n  }\r\n\r\n  async function loadIssueComments(issueKey, opts = {}) {\r\n    // opts: {listSelector, countSelector}\r\n    // support opts.order: 'asc' (oldest first) or 'desc' (newest first)\r\n    const listSel = opts.listSelector || '#commentsList';\r\n    const countSel = opts.countSelector || '#commentCount';\r\n    const commentsList = document.querySelector(listSel);\r\n    const commentCount = document.querySelector(countSel);\r\n    if (!commentsList) return;\r\n    commentsList.innerHTML = '<p class=\"loading\">Loading comments...</p>';\r\n    try {\r\n      const resp = await fetch(`/api/v2/issues/${issueKey}/comments`);\r\n      if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\r\n      const data = await resp.json();\r\n      let comments = [];\r\n      if (data.success && data.data) {\r\n        if (Array.isArray(data.data.comments)) comments = data.data.comments;\r\n        else if (Array.isArray(data.data)) comments = data.data;\r\n      } else if (Array.isArray(data)) comments = data;\r\n      else if (data.data && Array.isArray(data.data)) comments = data.data;\r\n      else if (data.comments && Array.isArray(data.comments)) comments = data.comments;\r\n      else if (data.result && Array.isArray(data.result)) comments = data.result;\r\n      if (!Array.isArray(comments)) comments = [];\r\n      if (comments.length === 0) {\r\n        commentsList.innerHTML = '<p class=\"no-comments\">No comments yet</p>';\r\n        if (commentCount) commentCount.textContent = '(0)';\r\n        return;\r\n      }\r\n      if (commentCount) commentCount.textContent = `(${comments.length})`;\r\n      let html = '';\r\n      // Optionally reverse order to show newest first\r\n      const order = (opts.order || 'asc').toLowerCase();\r\n      const iter = order === 'desc' ? comments.slice().reverse() : comments;\r\n\r\n      iter.forEach((comment, index) => {\r\n        const author = comment.author?.displayName || comment.author || 'Unknown';\r\n        const time = formatCommentTime(comment.created || comment.timestamp);\r\n        let text = comment.body_html || comment.body || comment.text || '';\r\n        text = processCommentText(text);\r\n        const initials = author.split(' ').map(n => n[0]).join('').toUpperCase().slice(0,2);\r\n        const commentId = comment.id || index;\r\n        const isInternal = comment.visibility === 'internal' || comment.jsdPublic === false;\r\n        const visibilityBadge = isInternal ? '<span class=\"comment-visibility-badge internal\">üîí Internal</span>' : '';\r\n        html += `\r\n          <div class=\"comment ${isInternal ? 'internal' : ''}\" data-comment-id=\"${commentId}\" data-author=\"${author}\">\r\n            <div class=\"comment-avatar\">${initials}</div>\r\n            <div class=\"comment-content\">\r\n              <div class=\"comment-header\">\r\n                <span class=\"comment-author\">${author}</span>\r\n                <span class=\"comment-time\">${time}</span>\r\n                ${visibilityBadge}\r\n              </div>\r\n              <div class=\"comment-text\">${text}</div>\r\n              <div class=\"comment-actions\">\r\n                <button class=\"comment-action-btn reply\">‚Ü©Ô∏è Reply</button>\r\n                <button class=\"comment-action-btn like\">üëç Like</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      });\r\n      commentsList.innerHTML = html;\r\n      setupCommentEventListeners(issueKey, {listSelector: listSel});\r\n      // If newest-first, ensure top of list (newest) is visible just under composer\r\n      try {\r\n        commentsList.scrollTop = 0;\r\n      } catch (e) { /* ignore */ }\r\n    } catch (err) {\r\n      commentsList.innerHTML = '<p class=\"error\">Failed to load comments</p>';\r\n    }\r\n  }\r\n\r\n  function setupCommentEventListeners(issueKey, opts = {}) {\r\n    const listSel = opts.listSelector || '#commentsList';\r\n    const container = document.querySelector(listSel);\r\n    if (!container) return;\r\n    const actionBtns = container.querySelectorAll('.comment-action-btn');\r\n    actionBtns.forEach(btn => {\r\n      btn.addEventListener('click', (e) => {\r\n        const comment = e.target.closest('.comment');\r\n        if (!comment) return;\r\n        const authorName = comment.dataset.author || '';\r\n        if (btn.classList.contains('reply')) {\r\n          const textarea = document.querySelector(opts.textareaSelector || '#commentText');\r\n          if (textarea) {\r\n            const mention = `@${authorName} `;\r\n            if (!textarea.value.includes(mention)) textarea.value = mention + textarea.value;\r\n            textarea.focus();\r\n            textarea.setSelectionRange(textarea.value.length, textarea.value.length);\r\n            textarea.placeholder = `Reply to ${authorName}...`;\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async function postComment(issueKey, opts = {}) {\r\n    // opts: {textareaSelector, internalCheckboxSelector, listSelector, countSelector, format}\r\n    const taSel = opts.textareaSelector || '#commentText';\r\n    const checkboxSel = opts.internalCheckboxSelector || '#commentInternal';\r\n    const listSel = opts.listSelector || '#commentsList';\r\n    const countSel = opts.countSelector || '#commentCount';\r\n    const textarea = document.querySelector(taSel);\r\n    if (!textarea) return { success:false, message:'No textarea' };\r\n    const text = textarea.value.trim();\r\n    if (!text) return { success:false, message:'Empty' };\r\n    const internalCheckbox = document.querySelector(checkboxSel);\r\n    const isInternal = internalCheckbox ? internalCheckbox.checked : false;\r\n    try {\r\n      const btn = document.querySelector(opts.buttonSelector || '.btn-add-comment');\r\n      const originalText = btn ? btn.textContent : '';\r\n      if (btn) { btn.disabled = true; btn.textContent = 'Posting...'; }\r\n      const response = await fetch(`/api/v2/issues/${issueKey}/comments`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ body: text, internal: isInternal, format: opts.format || 'text' })\r\n      });\r\n      if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n      const data = await response.json();\r\n      const success = data.success || (data.data && data.data.id) || data.id;\r\n      if (success) {\r\n        textarea.value = '';\r\n        if (internalCheckbox) { internalCheckbox.checked = false; const vis = document.querySelector(opts.visibilityLabelSelector || '.visibility-label'); if (vis) vis.textContent = 'üîì Public'; }\r\n        if (countSel) { const countEl = document.querySelector(countSel); if (countEl) { const cur = parseInt(countEl.textContent.replace(/[^0-9]/g,'')) || 0; countEl.textContent = `(${cur+1})`; } }\r\n        // reload\r\n        await loadIssueComments(issueKey, {listSelector: listSel, countSelector: countSel});\r\n        return { success:true };\r\n      }\r\n      return { success:false, message:'API failed' };\r\n    } catch (err) {\r\n      console.error('postComment error', err);\r\n      return { success:false, message: err.message };\r\n    } finally {\r\n      const btn = document.querySelector(opts.buttonSelector || '.btn-add-comment');\r\n      if (btn) { btn.disabled = false; btn.textContent = originalText || 'Add Comment'; }\r\n    }\r\n  }\r\n\r\n  function setupCommentShortcuts() {\r\n    const commentText = document.getElementById('commentText');\r\n    if (!commentText) return;\r\n    commentText.addEventListener('keydown', (e) => {\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\r\n        e.preventDefault();\r\n        document.querySelector('.btn-add-comment')?.click();\r\n      }\r\n    });\r\n  }\r\n\r\n  // Expose\r\n  window.commentsModule = {\r\n    formatCommentTime,\r\n    processCommentText,\r\n    loadIssueComments,\r\n    setupCommentEventListeners,\r\n    postComment,\r\n    setupCommentShortcuts\r\n  };\r\n})();\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/mentions-autocomplete.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2606
      },
      {
        "start": 3175,
        "end": 3228
      },
      {
        "start": 4130,
        "end": 4207
      },
      {
        "start": 4300,
        "end": 4359
      },
      {
        "start": 5609,
        "end": 5662
      },
      {
        "start": 6410,
        "end": 6465
      },
      {
        "start": 8734,
        "end": 8805
      },
      {
        "start": 9347,
        "end": 9409
      },
      {
        "start": 9694,
        "end": 9752
      },
      {
        "start": 10859,
        "end": 10912
      },
      {
        "start": 11062,
        "end": 11719
      }
    ],
    "text": "/**\r\n * Mentions Autocomplete Module\r\n * Handles @mention autocomplete functionality in textareas\r\n */\r\n\r\nconst createMentionsAutocomplete = (() => {\r\n  let activeTextarea = null;\r\n  let autocompleteDropdown = null;\r\n  let mentionableUsers = [];\r\n  let currentIssueKey = '';\r\n  let currentQuery = '';\r\n  let selectedIndex = 0;\r\n\r\n  /**\r\n   * Initialize mentions system\r\n   */\r\n  function init() {\r\n    // Create dropdown element\r\n    createDropdown();\r\n    window.logger?.debug('‚úÖ Mentions autocomplete initialized');\r\n  }\r\n\r\n  /**\r\n   * Create autocomplete dropdown element\r\n   */\r\n  function createDropdown() {\r\n    if (autocompleteDropdown) return;\r\n\r\n    autocompleteDropdown = document.createElement('div');\r\n    autocompleteDropdown.className = 'mentions-autocomplete-dropdown';\r\n    // Base inline styles to ensure visibility across contexts (high z-index, white bg)\r\n    autocompleteDropdown.style.cssText = `\r\n      display: none !important;\r\n      position: fixed !important;\r\n      z-index: 20000 !important;\r\n      background: #ffffff !important;\r\n      border: 1px solid rgba(0,0,0,0.08) !important;\r\n      border-radius: 8px !important;\r\n      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12) !important;\r\n      max-height: 320px !important;\r\n      overflow: auto !important;\r\n      font-size: 13px !important;\r\n      color: #0f172a !important;\r\n    `;\r\n    autocompleteDropdown.innerHTML = '<div class=\"mentions-loading\" style=\"padding:10px; color:#6b7280; font-size:12px;\">Loading...</div>';\r\n    document.body.appendChild(autocompleteDropdown);\r\n  }\r\n\r\n  /**\r\n   * Attach mention autocomplete to a textarea\r\n   */\r\n  function attachTo(textarea, issueKey) {\r\n    if (!textarea) {\r\n      console.warn('‚ö†Ô∏è Cannot attach mentions: textarea not found');\r\n      return;\r\n    }\r\n\r\n    console.log(`üîß Attaching mentions to textarea for ${issueKey}`, {\r\n      textareaId: textarea.id,\r\n      textareaValue: textarea.value.substring(0, 50),\r\n      hasDropdown: !!autocompleteDropdown\r\n    });\r\n\r\n    currentIssueKey = issueKey;\r\n    activeTextarea = textarea;\r\n\r\n    // Remove old listeners to avoid duplicates\r\n    textarea.removeEventListener('input', handleInput);\r\n    textarea.removeEventListener('keydown', handleKeydown);\r\n    textarea.removeEventListener('blur', handleBlur);\r\n\r\n    // Add event listeners\r\n    textarea.addEventListener('input', handleInput);\r\n    textarea.addEventListener('keydown', handleKeydown);\r\n    textarea.addEventListener('blur', handleBlur);\r\n\r\n    console.log(`‚úÖ Mentions attached to textarea for ${issueKey}`);\r\n  }\r\n\r\n  /**\r\n   * Handle textarea input\r\n   */\r\n  function handleInput(event) {\r\n    const textarea = event.target;\r\n    const cursorPos = textarea.selectionStart;\r\n    const textBeforeCursor = textarea.value.substring(0, cursorPos);\r\n\r\n    // Check if we're typing a mention\r\n    const mentionMatch = textBeforeCursor.match(/@([a-zA-Z0-9._-]*)$/);\r\n\r\n    if (mentionMatch) {\r\n      const query = mentionMatch[1];\r\n      currentQuery = query;\r\n      console.log(`üîç Mention detected: @${query} (issue: ${currentIssueKey})`);\r\n      showAutocomplete(textarea, query);\r\n    } else {\r\n      hideAutocomplete();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle keyboard navigation\r\n   */\r\n  function handleKeydown(event) {\r\n    if (!autocompleteDropdown || autocompleteDropdown.style.display === 'none') {\r\n      return;\r\n    }\r\n\r\n    const items = autocompleteDropdown.querySelectorAll('.mention-item');\r\n\r\n    switch (event.key) {\r\n      case 'ArrowDown':\r\n        event.preventDefault();\r\n        selectedIndex = Math.min(selectedIndex + 1, items.length - 1);\r\n        updateSelection(items);\r\n        break;\r\n\r\n      case 'ArrowUp':\r\n        event.preventDefault();\r\n        selectedIndex = Math.max(selectedIndex - 1, 0);\r\n        updateSelection(items);\r\n        break;\r\n\r\n      case 'Enter':\r\n      case 'Tab':\r\n        if (items.length > 0 && selectedIndex >= 0) {\r\n          event.preventDefault();\r\n          selectUser(items[selectedIndex]);\r\n        }\r\n        break;\r\n\r\n      case 'Escape':\r\n        event.preventDefault();\r\n        hideAutocomplete();\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle textarea blur (with delay for click events)\r\n   */\r\n  function handleBlur() {\r\n    setTimeout(() => {\r\n      hideAutocomplete();\r\n    }, 200);\r\n  }\r\n\r\n  /**\r\n   * Fetch mentionable users from API\r\n   */\r\n  async function fetchMentionableUsers(issueKey, query = '') {\r\n    try {\r\n      const url = `/api/v2/issues/${issueKey}/mentions/users?query=${encodeURIComponent(query)}`;\r\n      console.log(`üì° Fetching mentionable users: ${url}`);\r\n      \r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'same-origin'\r\n      });\r\n\r\n      console.log(`üì° Mentions API response status: ${response.status}`);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(`üì• Mentions API data:`, data);\r\n\r\n      if (data.success || data.data?.success) {\r\n        // Handle wrapped response from json_response decorator\r\n        const users = data.users || data.data?.users || [];\r\n        mentionableUsers = users;\r\n        console.log(`‚úÖ Fetched ${mentionableUsers.length} mentionable users`);\r\n        return mentionableUsers;\r\n      }\r\n\r\n      console.warn('‚ö†Ô∏è API response missing success flag:', data);\r\n      return [];\r\n    } catch (error) {\r\n      console.error(`‚ùå Failed to fetch mentionable users: ${error.message}`);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show autocomplete dropdown\r\n   */\r\n  async function showAutocomplete(textarea, query) {\r\n    if (!currentIssueKey) {\r\n      window.logger?.warn('‚ö†Ô∏è No issue key set for mentions');\r\n      return;\r\n    }\r\n\r\n    // Fetch users\r\n    const users = await fetchMentionableUsers(currentIssueKey, query);\r\n\r\n    if (users.length === 0) {\r\n      hideAutocomplete();\r\n      return;\r\n    }\r\n\r\n    // Render dropdown\r\n    renderDropdown(users, query);\r\n\r\n    // Position dropdown\r\n    positionDropdown(textarea);\r\n\r\n    // Show dropdown\r\n    autocompleteDropdown.style.display = 'block';\r\n    autocompleteDropdown.style.visibility = 'visible';\r\n    autocompleteDropdown.style.opacity = '1';\r\n    selectedIndex = 0;\r\n    updateSelection(autocompleteDropdown.querySelectorAll('.mention-item'));\r\n  }\r\n\r\n  /**\r\n   * Render autocomplete dropdown\r\n   */\r\n  function renderDropdown(users, query) {\r\n    const queryLower = query.toLowerCase();\r\n    const filteredUsers = users.filter(user => {\r\n      const displayName = (user.displayName || '').toLowerCase();\r\n      const username = (user.username || '').toLowerCase();\r\n      const email = (user.emailAddress || '').toLowerCase();\r\n      return displayName.includes(queryLower) ||\r\n             username.includes(queryLower) ||\r\n             email.includes(queryLower);\r\n    });\r\n\r\n    if (filteredUsers.length === 0) {\r\n      autocompleteDropdown.innerHTML = '<div class=\"mentions-empty\">No users found</div>';\r\n      return;\r\n    }\r\n\r\n    let html = '<div class=\"mentions-list\">';\r\n    filteredUsers.slice(0, 10).forEach((user, index) => {\r\n      const initial = (user.displayName || '?')[0].toUpperCase();\r\n      html += `\r\n        <div class=\"mention-item\" data-index=\"${index}\" data-username=\"${user.username || user.displayName}\">\r\n          <div class=\"mention-avatar\" style=\"background-image: url('${user.avatarUrl || ''}')\">\r\n            ${user.avatarUrl ? '' : initial}\r\n          </div>\r\n          <div class=\"mention-info\">\r\n            <div class=\"mention-name\">${user.displayName || 'Unknown'}</div>\r\n            <div class=\"mention-email\">${user.emailAddress || ''}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    html += '</div>';\r\n\r\n    autocompleteDropdown.innerHTML = html;\r\n\r\n    // Attach pointer listeners. Use mousedown/touchstart to avoid textarea blur\r\n    const items = autocompleteDropdown.querySelectorAll('.mention-item');\r\n    items.forEach(item => {\r\n      const handler = (ev) => {\r\n        try {\r\n          ev.preventDefault();\r\n          ev.stopPropagation();\r\n        } catch (e) {}\r\n        selectUser(item);\r\n      };\r\n      item.addEventListener('mousedown', handler);\r\n      item.addEventListener('touchstart', handler, { passive: true });\r\n      // Keep click for compatibility but guard against lost focus\r\n      item.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // If the dropdown is already visible, handle selection via selectUser\r\n        if (autocompleteDropdown && autocompleteDropdown.style.display !== 'none') selectUser(item);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Position dropdown above textarea (not below)\r\n   */\r\n  function positionDropdown(textarea) {\r\n    const rect = textarea.getBoundingClientRect();\r\n    const dropdownHeight = autocompleteDropdown.offsetHeight || 200;\r\n    \r\n    // Position above textarea with small gap\r\n    const top = rect.top - dropdownHeight - 8;\r\n    const left = rect.left;\r\n    \r\n    autocompleteDropdown.style.position = 'fixed';\r\n    autocompleteDropdown.style.left = `${left}px`;\r\n    autocompleteDropdown.style.top = `${Math.max(10, top)}px`;\r\n    autocompleteDropdown.style.width = `${Math.min(280, rect.width)}px`;\r\n  }\r\n\r\n  /**\r\n   * Update visual selection in dropdown\r\n   */\r\n  function updateSelection(items) {\r\n    items.forEach((item, index) => {\r\n      if (index === selectedIndex) {\r\n        item.classList.add('selected');\r\n        item.scrollIntoView({ block: 'nearest' });\r\n      } else {\r\n        item.classList.remove('selected');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Select a user from autocomplete\r\n   */\r\n  function selectUser(item) {\r\n    if (!activeTextarea) return;\r\n\r\n    const username = item.dataset.username;\r\n    const textarea = activeTextarea;\r\n    const cursorPos = textarea.selectionStart;\r\n    const textBeforeCursor = textarea.value.substring(0, cursorPos);\r\n    const textAfterCursor = textarea.value.substring(cursorPos);\r\n\r\n    // Replace @query with @username\r\n    const mentionMatch = textBeforeCursor.match(/@([a-zA-Z0-9._-]*)$/);\r\n    if (mentionMatch) {\r\n      const mentionStart = cursorPos - mentionMatch[0].length;\r\n      const newText = textarea.value.substring(0, mentionStart) +\r\n                      `@${username} ` +\r\n                      textAfterCursor;\r\n      textarea.value = newText;\r\n\r\n      // Move cursor after the mention\r\n      const newCursorPos = mentionStart + username.length + 2;\r\n      textarea.setSelectionRange(newCursorPos, newCursorPos);\r\n\r\n      // Trigger input event for other listeners\r\n      textarea.dispatchEvent(new Event('input', { bubbles: true }));\r\n\r\n      window.logger?.info(`‚úÖ Mentioned user: @${username}`);\r\n    }\r\n\r\n    hideAutocomplete();\r\n  }\r\n\r\n  /**\r\n   * Hide autocomplete dropdown\r\n   */\r\n  function hideAutocomplete() {\r\n    if (autocompleteDropdown) {\r\n      autocompleteDropdown.style.display = 'none';\r\n    }\r\n    selectedIndex = 0;\r\n  }\r\n\r\n  // Public API\r\n  return {\r\n    init,\r\n    attachTo,\r\n    hideAutocomplete,\r\n    fetchMentionableUsers\r\n  };\r\n})();\r\n\r\n// Export to window and initialize immediately\r\nif (typeof window !== 'undefined') {\r\n  window.mentionsAutocomplete = createMentionsAutocomplete;\r\n  \r\n  // Auto-initialize when DOM is ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n      console.log('üîÑ Initializing mentions autocomplete...');\r\n      window.mentionsAutocomplete.init();\r\n    });\r\n  } else {\r\n    console.log('üîÑ Initializing mentions autocomplete...');\r\n    window.mentionsAutocomplete.init();\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/sidebar-actions.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 1367
      },
      {
        "start": 1409,
        "end": 4068
      },
      {
        "start": 4126,
        "end": 4132
      },
      {
        "start": 4199,
        "end": 4205
      },
      {
        "start": 4274,
        "end": 5137
      },
      {
        "start": 5310,
        "end": 5625
      },
      {
        "start": 6429,
        "end": 6560
      },
      {
        "start": 8572,
        "end": 8636
      },
      {
        "start": 11348,
        "end": 11514
      },
      {
        "start": 18101,
        "end": 18145
      },
      {
        "start": 18620,
        "end": 18667
      },
      {
        "start": 19276,
        "end": 19322
      },
      {
        "start": 20861,
        "end": 20911
      },
      {
        "start": 21928,
        "end": 27198
      },
      {
        "start": 27285,
        "end": 28054
      },
      {
        "start": 28494,
        "end": 28627
      },
      {
        "start": 29268,
        "end": 29401
      },
      {
        "start": 30042,
        "end": 30671
      },
      {
        "start": 32056,
        "end": 32125
      },
      {
        "start": 33888,
        "end": 33946
      },
      {
        "start": 34885,
        "end": 34949
      },
      {
        "start": 35249,
        "end": 35290
      },
      {
        "start": 37710,
        "end": 37759
      },
      {
        "start": 38946,
        "end": 38996
      },
      {
        "start": 39315,
        "end": 39354
      },
      {
        "start": 40030,
        "end": 55650
      },
      {
        "start": 57507,
        "end": 57561
      },
      {
        "start": 60549,
        "end": 60600
      },
      {
        "start": 60953,
        "end": 61001
      },
      {
        "start": 61326,
        "end": 61373
      },
      {
        "start": 62252,
        "end": 62621
      },
      {
        "start": 63423,
        "end": 63471
      },
      {
        "start": 65733,
        "end": 65782
      },
      {
        "start": 68450,
        "end": 68494
      },
      {
        "start": 69303,
        "end": 69347
      },
      {
        "start": 70256,
        "end": 70328
      },
      {
        "start": 71633,
        "end": 71679
      },
      {
        "start": 72842,
        "end": 72890
      },
      {
        "start": 74366,
        "end": 74414
      },
      {
        "start": 75578,
        "end": 75627
      },
      {
        "start": 77175,
        "end": 77221
      },
      {
        "start": 77726,
        "end": 77779
      },
      {
        "start": 77906,
        "end": 77958
      },
      {
        "start": 79519,
        "end": 79570
      },
      {
        "start": 80917,
        "end": 80956
      },
      {
        "start": 81363,
        "end": 81716
      },
      {
        "start": 83389,
        "end": 85163
      },
      {
        "start": 85208,
        "end": 85282
      },
      {
        "start": 85408,
        "end": 85468
      },
      {
        "start": 85818,
        "end": 85866
      },
      {
        "start": 92687,
        "end": 92745
      },
      {
        "start": 94999,
        "end": 95039
      },
      {
        "start": 96715,
        "end": 96757
      },
      {
        "start": 97232,
        "end": 97453
      },
      {
        "start": 97494,
        "end": 97560
      },
      {
        "start": 97761,
        "end": 97958
      },
      {
        "start": 98111,
        "end": 98165
      },
      {
        "start": 98713,
        "end": 98783
      },
      {
        "start": 99301,
        "end": 99477
      },
      {
        "start": 99690,
        "end": 99730
      },
      {
        "start": 100238,
        "end": 101082
      },
      {
        "start": 101567,
        "end": 101628
      },
      {
        "start": 103769,
        "end": 103828
      },
      {
        "start": 104551,
        "end": 104595
      },
      {
        "start": 105289,
        "end": 105506
      },
      {
        "start": 106697,
        "end": 106844
      },
      {
        "start": 107135,
        "end": 107189
      },
      {
        "start": 107723,
        "end": 108261
      }
    ],
    "text": "/**\r\n * SIDEBAR ACTIONS\r\n * Maneja la funcionalidad de todos los botones de la sidebar\r\n */\r\n\r\n// Reduce noise: treat existing console.log calls in this module as debug-level\r\n// so they are hidden unless debug verbosity is enabled via app log settings.\r\n(function () {\r\n  try {\r\n    if (window && window.appLogger && window.appLogger.level !== 'debug') {\r\n      console.log = console.debug.bind(console);\r\n    }\r\n  } catch (e) { }\r\n})();\r\n\r\nclass SidebarActions {\r\n  constructor() {\r\n    this.initialized = false;\r\n    this.notificationsPanel = null;\r\n    this.userDropdown = null;\r\n\r\n    // Background cache for sidebar data\r\n    this.cache = {\r\n      currentUser: null,\r\n      serviceDesks: null,\r\n      notifications: [],\r\n      starred: [],\r\n      lastRefresh: null\r\n    };\r\n\r\n    // Start background caching immediately\r\n    this.startBackgroundCaching();\r\n  }\r\n\r\n  /**\r\n   * Start background caching of sidebar data\r\n   */\r\n  startBackgroundCaching() {\r\n    console.log('üíæ Starting background cache for sidebar...');\r\n\r\n    // Cache current user immediately\r\n    this.cacheCurrentUser();\r\n\r\n    // Cache service desks\r\n    this.cacheServiceDesks();\r\n\r\n    // Cache notifications periodically\r\n    this.cacheNotifications();\r\n\r\n    // Cache users for autocomplete (global cache)\r\n    this.cacheUsers();\r\n\r\n    // Refresh cache every 5 minutes\r\n    setInterval(() => {\r\n      this.refreshCache();\r\n    }, 5 * 60 * 1000);\r\n  }\r\n\r\n  /**\r\n   * Cache current user data in background\r\n   */\r\n  async cacheCurrentUser() {\r\n    try {\r\n      const response = await fetch('/api/user');\r\n      const json = await response.json();\r\n\r\n      if (json.success && json.user) {\r\n        this.cache.currentUser = json.user;\r\n        console.log('üíæ Cached current user:', json.user.displayName);\r\n\r\n        // Store in window state for immediate access\r\n        if (window.state) {\r\n          window.state.currentUser = json.user.displayName || json.user.name;\r\n          window.state.currentUserAccountId = json.user.accountId;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Failed to cache current user:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cache service desks data in background\r\n   */\r\n  async cacheServiceDesks() {\r\n    try {\r\n      const response = await fetch('/api/desks');\r\n      const json = await response.json();\r\n\r\n      if (json.success) {\r\n        this.cache.serviceDesks = json.data || json;\r\n        console.log('üíæ Cached service desks:', this.cache.serviceDesks.length);\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Failed to cache service desks:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cache notifications in background\r\n   */\r\n  async cacheNotifications() {\r\n    try {\r\n      // Simulate notifications API (replace with actual endpoint)\r\n      this.cache.notifications = [];\r\n      console.log('üíæ Cached notifications: 0');\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Failed to cache notifications:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cache users for autocomplete in background\r\n   */\r\n  async cacheUsers(forceRefresh = false) {\r\n    try {\r\n      if (window.cachedUsers && !forceRefresh) {\r\n        console.log('üíæ Users already cached:', window.cachedUsers.length);\r\n        return;\r\n      }\r\n\r\n      console.log('üîÑ Fetching users from database...');\r\n      const response = await fetch('/api/users');\r\n      if (response.ok) {\r\n        const users = await response.json();\r\n        window.cachedUsers = users;\r\n        console.log('üíæ Cached users for autocomplete:', users.length);\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Failed to cache users:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Refresh all cached data\r\n   */\r\n  async refreshCache() {\r\n    console.log('üîÑ Refreshing sidebar cache...');\r\n    this.cache.lastRefresh = new Date();\r\n\r\n    await Promise.all([\r\n      this.cacheCurrentUser(),\r\n      this.cacheServiceDesks(),\r\n      this.cacheNotifications(),\r\n      this.cacheUsers()\r\n    ]);\r\n\r\n    console.log('‚úÖ Sidebar cache refreshed');\r\n  }\r\n\r\n  /**\r\n   * Get cached data (instant access)\r\n   */\r\n  getCachedUser() {\r\n    return this.cache.currentUser;\r\n  }\r\n\r\n  getCachedServiceDesks() {\r\n    return this.cache.serviceDesks;\r\n  }\r\n\r\n  getCachedNotifications() {\r\n    return this.cache.notifications;\r\n  }\r\n\r\n  /**\r\n   * Inicializa todos los event listeners de la sidebar\r\n   */\r\n  init() {\r\n    if (this.initialized) return;\r\n\r\n    console.log('üéÆ Initializing Sidebar Actions...');\r\n\r\n    // Primary Actions\r\n    this.initNewTicketButton();\r\n\r\n    // Navigation\r\n    this.initNavigationItems();\r\n\r\n    // Utilities\r\n    this.initSearchButton();\r\n    this.initReportsButton();\r\n    this.initNotificationsButton();\r\n    this.initRefreshButton();\r\n\r\n    // Account\r\n    this.initSettingsButton();\r\n    this.initHelpCenterButton();\r\n    this.initUserMenuButton();\r\n    this.initLogoutButton();\r\n\r\n    this.initialized = true;\r\n    console.log('‚úÖ Sidebar Actions initialized');\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Create Ticket\r\n   */\r\n  initNewTicketButton() {\r\n    const btn = document.getElementById('newTicketBtn');\r\n    if (!btn) return;\r\n\r\n    btn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      console.log('üé´ Create New Ticket clicked');\r\n      this.showNotification('Create Ticket', 'Feature coming soon!', 'info');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Navigation: My Tickets, All Tickets, Starred\r\n   */\r\n  initNavigationItems() {\r\n    const navItems = document.querySelectorAll('.sidebar-section[aria-label=\"Navigation\"] .sidebar-menu-item:not(#newTicketBtn)');\r\n\r\n    navItems.forEach((item, index) => {\r\n      item.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        // Remove active class from all navigation items (excluding Create Ticket)\r\n        navItems.forEach(nav => nav.classList.remove('active'));\r\n\r\n        // Add active to clicked navigation item\r\n        item.classList.add('active');\r\n\r\n        const label = item.querySelector('.label')?.textContent || '';\r\n        console.log(`üìÇ Navigation: ${label}`);\r\n\r\n        // Handle different navigation types (excluding Create Ticket button)\r\n        switch (index) {\r\n          case 0: // My Tickets\r\n            this.filterMyTickets();\r\n            break;\r\n          case 1: // All Tickets\r\n            this.filterAllTickets();\r\n            break;\r\n          case 2: // Starred\r\n            this.filterStarredTickets();\r\n            break;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Filter: My Tickets\r\n   * Auto-selects the current user's desk and \"assigned to me\" queue\r\n   */\r\n  async filterMyTickets() {\r\n    console.log('üîç Filtering: My Tickets');\r\n\r\n    try {\r\n      // Set filter mode to myTickets\r\n      if (window.state) {\r\n        window.state.filterMode = 'myTickets';\r\n        console.log('‚úÖ Set filter mode to: myTickets');\r\n      }\r\n\r\n      // Get current user from cache (instant) or API (fallback)\r\n      let currentUser = this.getCachedUser();\r\n\r\n      if (currentUser) {\r\n        console.log('üíæ Using cached user data:', currentUser.displayName);\r\n        currentUser = currentUser.displayName || currentUser.name;\r\n      } else {\r\n        console.log('‚ö†Ô∏è Cache not ready, fetching user...');\r\n        currentUser = await this.getCurrentUserInfo();\r\n      }\r\n\r\n      if (!currentUser) {\r\n        this.showNotification('My Tickets', 'No se pudo detectar el usuario actual. Intenta refrescar la p√°gina.', 'warning');\r\n        return;\r\n      }\r\n\r\n      console.log('‚úÖ Current user detected:', currentUser);\r\n\r\n      // Store current user in state\r\n      if (window.state) {\r\n        window.state.currentUser = currentUser;\r\n      }\r\n\r\n      // Auto-select user's desk and \"assigned to me\" queue\r\n      const selected = await this.autoSelectUserDeskAndQueue(currentUser);\r\n\r\n      if (selected) {\r\n        // Reload issues to apply the filter\r\n        console.log(`üîÑ Reloading issues for queue: ${window.state.currentQueue}`);\r\n        await window.loadIssues(window.state.currentQueue);\r\n\r\n        const issueCount = window.state?.issues?.length || 0;\r\n        this.showNotification('My Tickets', `Showing ${issueCount} ticket${issueCount !== 1 ? 's' : ''} assigned to ${currentUser}`, 'success');\r\n      } else {\r\n        this.showNotification('My Tickets', 'Could not find \"Assigned to me\" queue. Please select Service Desk and Queue manually.', 'warning');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error in filterMyTickets:', error);\r\n      this.showNotification('My Tickets', 'Error al configurar vista personal. Intenta refrescar.', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current user information from API\r\n   */\r\n  async getCurrentUserInfo() {\r\n    try {\r\n      // Check memory cache first (instant)\r\n      if (this.cache.currentUser) {\r\n        const userName = this.cache.currentUser.displayName || this.cache.currentUser.name;\r\n        console.log('üíæ Using cached user from memory:', userName);\r\n        return userName;\r\n      }\r\n\r\n      // Check window state cache second (should be a string)\r\n      if (window.state?.currentUser) {\r\n        const userName = typeof window.state.currentUser === 'string'\r\n          ? window.state.currentUser\r\n          : (window.state.currentUser.displayName || window.state.currentUser.name);\r\n        console.log('üíæ Using cached user from state:', userName);\r\n        return userName;\r\n      }\r\n\r\n      // Check localStorage third\r\n      const cachedUser = localStorage.getItem('currentUser');\r\n      if (cachedUser) {\r\n        console.log('üì¶ Using cached user from localStorage:', cachedUser);\r\n        return cachedUser;\r\n      }\r\n\r\n      // Fetch from API (last resort)\r\n      console.log('üåê Fetching user from API...');\r\n      const response = await fetch('/api/user');\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (data.success && data.user) {\r\n        const userName = data.user.displayName || data.user.name || data.user.accountId;\r\n\r\n        console.log('‚úÖ Fetched user from API:', userName);\r\n\r\n        // Cache in memory\r\n        this.cache.currentUser = data.user;\r\n\r\n        // Cache in state\r\n        if (!window.state) window.state = {};\r\n        window.state.currentUser = userName;\r\n        window.state.currentUserAccountId = data.user.accountId;\r\n\r\n        // Cache in localStorage\r\n        localStorage.setItem('currentUser', userName);\r\n        if (data.user.accountId) {\r\n          localStorage.setItem('currentUserAccountId', data.user.accountId);\r\n        }\r\n\r\n        return userName;\r\n      }\r\n\r\n      throw new Error('Invalid user response');\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching current user:', error);\r\n\r\n      // Fallback: try to get from existing tickets\r\n      const issues = window.state?.issues || [];\r\n      const assignedIssue = issues.find(i => i.assignee || i.asignado_a);\r\n\r\n      if (assignedIssue) {\r\n        const fallbackUser = typeof assignedIssue.assignee === 'string'\r\n          ? assignedIssue.assignee\r\n          : (assignedIssue.assignee?.displayName || assignedIssue.asignado_a);\r\n\r\n        if (fallbackUser && fallbackUser !== 'Unassigned') {\r\n          console.log('üîÑ Using fallback user from tickets:', fallbackUser);\r\n          return fallbackUser;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Auto-select the user's desk and queue from .env configuration\r\n   * Uses USER_DESK_ID and USER_QUEUE_ID from backend, searches queue by JQL\r\n   */\r\n  async autoSelectUserDeskAndQueue(currentUser) {\r\n    try {\r\n      console.log('üîç Auto-selecting desk and queue for:', currentUser);\r\n\r\n      // Get desk context from backend (.env configuration)\r\n      const contextResponse = await fetch('/api/user/desk-context');\r\n      if (!contextResponse.ok) {\r\n        throw new Error(`Failed to fetch desk context: ${contextResponse.status}`);\r\n      }\r\n\r\n      const contextData = await contextResponse.json();\r\n      console.log('üìã Desk context from backend:', contextData);\r\n\r\n      const { desk_id, queue_id, source } = contextData;\r\n\r\n      // Check if we have valid configuration\r\n      if (!desk_id) {\r\n        console.warn('‚ö†Ô∏è No desk configured in .env (USER_DESK_ID)');\r\n        return false;\r\n      }\r\n\r\n      // Get user profile for accountId\r\n      const userResponse = await fetch('/api/user');\r\n      if (!userResponse.ok) {\r\n        throw new Error(`Failed to fetch user profile: ${userResponse.status}`);\r\n      }\r\n\r\n      const userData = await userResponse.json();\r\n      const userProfile = userData.user || userData;\r\n      const userAccountId = userProfile.accountId;\r\n\r\n      console.log(`‚úÖ User accountId: ${userAccountId}, config source: ${source}`);\r\n\r\n      // Get available desks to validate desk_id\r\n      let desks = this.getCachedServiceDesks();\r\n      if (!desks || desks.length === 0) {\r\n        console.log('‚ö†Ô∏è Fetching desks from API...');\r\n        const desksResponse = await fetch('/api/desks');\r\n        if (!desksResponse.ok) {\r\n          throw new Error(`Failed to fetch desks: ${desksResponse.status}`);\r\n        }\r\n\r\n        const desksData = await desksResponse.json();\r\n        desks = desksData.data || desksData.desks || desksData;\r\n\r\n        if (!Array.isArray(desks)) {\r\n          console.error('‚ùå Desks response is not an array:', desksData);\r\n          desks = [];\r\n        }\r\n      }\r\n\r\n      // Find the configured desk\r\n      const userDesk = desks.find(d => String(d.id) === String(desk_id));\r\n\r\n      if (!userDesk) {\r\n        console.error(`‚ùå Configured desk_id ${desk_id} not found in available desks`);\r\n        return false;\r\n      }\r\n\r\n      console.log(`üìÇ Using configured desk: ${userDesk.name || userDesk.displayName} (ID: ${desk_id})`);\r\n\r\n      // Find the queue - either from config or search by JQL\r\n      let targetQueue = null;\r\n      const queues = userDesk.queues || [];\r\n\r\n      if (queue_id) {\r\n        // Use configured queue_id\r\n        targetQueue = queues.find(q => String(q.id) === String(queue_id));\r\n\r\n        if (targetQueue) {\r\n          console.log(`üìã Using configured queue: ${targetQueue.name} (ID: ${queue_id})`);\r\n          console.log(`üìù Queue JQL: ${targetQueue.jql || 'N/A'}`);\r\n        } else {\r\n          console.warn(`‚ö†Ô∏è Configured queue_id ${queue_id} not found in desk`);\r\n        }\r\n      }\r\n\r\n      // If no queue configured or not found, search by JQL for user's tickets\r\n      if (!targetQueue) {\r\n        console.log('üîç Searching for queue with JQL that includes user tickets (assignee OR reporter)...');\r\n\r\n        // Priority 1: Look for queue with JQL that includes both assignee and reporter\r\n        targetQueue = queues.find(q => {\r\n          const jql = (q.jql || '').toLowerCase();\r\n          // Check if JQL contains patterns for both assignee and reporter\r\n          const hasAssignee = jql.includes('assignee') || jql.includes('assigned');\r\n          const hasReporter = jql.includes('reporter') || jql.includes('creator');\r\n          return hasAssignee && hasReporter;\r\n        });\r\n\r\n        if (targetQueue) {\r\n          console.log(`‚úÖ Found queue with assignee AND reporter JQL: ${targetQueue.name}`);\r\n        }\r\n\r\n        // Priority 2: Look for \"My Tickets\" or similar named queues\r\n        if (!targetQueue) {\r\n          targetQueue = queues.find(q => {\r\n            const queueName = (q.name || '').toLowerCase();\r\n            return queueName.includes('my tickets') ||\r\n              queueName.includes('mis tickets') ||\r\n              queueName.includes('my issues') ||\r\n              queueName.includes('mis incidencias');\r\n          });\r\n\r\n          if (targetQueue) {\r\n            console.log(`‚úÖ Found queue by name pattern: ${targetQueue.name}`);\r\n          }\r\n        }\r\n\r\n        // Priority 3: Look for \"assigned to me\" queue\r\n        if (!targetQueue) {\r\n          targetQueue = queues.find(q => {\r\n            const queueName = (q.name || '').toLowerCase();\r\n            const jql = (q.jql || '').toLowerCase();\r\n            return queueName.includes('assigned to me') ||\r\n              queueName.includes('asignado a m√≠') ||\r\n              queueName.includes('asignado a mi') ||\r\n              jql.includes('assignee = currentuser()') ||\r\n              jql.includes('assignee=currentuser()');\r\n          });\r\n\r\n          if (targetQueue) {\r\n            console.log(`‚úÖ Found \"assigned to me\" queue: ${targetQueue.name}`);\r\n          }\r\n        }\r\n\r\n        // Last resort: use first queue\r\n        if (!targetQueue && queues.length > 0) {\r\n          targetQueue = queues[0];\r\n          console.log(`‚ö†Ô∏è No matching queue found, using first available: ${targetQueue.name}`);\r\n        }\r\n      }\r\n\r\n      if (!targetQueue) {\r\n        console.error('‚ùå No queue available in desk');\r\n        return false;\r\n      }\r\n\r\n      console.log(`üìã Final queue: ${targetQueue.name} (ID: ${targetQueue.id})`);\r\n      console.log(`üìù Queue JQL: ${targetQueue.jql || 'N/A'}`);\r\n\r\n      // Update UI selects\r\n      const deskSelect = document.getElementById('serviceDeskSelectFilter');\r\n      const queueSelect = document.getElementById('queueSelectFilter');\r\n\r\n      if (deskSelect) {\r\n        deskSelect.value = desk_id;\r\n        const changeEvent = new Event('change', { bubbles: true });\r\n        deskSelect.dispatchEvent(changeEvent);\r\n\r\n        if (window.state) {\r\n          window.state.currentDesk = desk_id;\r\n        }\r\n\r\n        console.log('‚úÖ Updated desk select to:', desk_id);\r\n      }\r\n\r\n      // Wait for queue dropdown to populate\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n      if (queueSelect) {\r\n        queueSelect.value = targetQueue.id;\r\n        const changeEvent = new Event('change', { bubbles: true });\r\n        queueSelect.dispatchEvent(changeEvent);\r\n\r\n        if (window.state) {\r\n          window.state.currentQueue = targetQueue.id;\r\n        }\r\n\r\n        console.log('‚úÖ Updated queue select to:', targetQueue.id);\r\n      }\r\n\r\n      return true;\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error in autoSelectUserDeskAndQueue:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Select desk in UI\r\n   */\r\n  async selectDesk(desk) {\r\n    const deskSelect = document.getElementById('deskSelect');\r\n    if (deskSelect && desk) {\r\n      deskSelect.value = desk.id;\r\n\r\n      // Trigger change event to load queues\r\n      const event = new Event('change', { bubbles: true });\r\n      deskSelect.dispatchEvent(event);\r\n\r\n      // Update state\r\n      if (window.state) {\r\n        window.state.currentDesk = desk;\r\n      }\r\n\r\n      console.log('‚úÖ Auto-selected desk:', desk.name);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Select queue in UI  \r\n   */\r\n  async selectQueue(queue) {\r\n    // Wait a bit for queues to load after desk selection\r\n    setTimeout(() => {\r\n      const queueSelect = document.getElementById('queueSelect');\r\n      if (queueSelect && queue) {\r\n        queueSelect.value = queue.id;\r\n\r\n        // Trigger change event to load issues\r\n        const event = new Event('change', { bubbles: true });\r\n        queueSelect.dispatchEvent(event);\r\n\r\n        // Update state\r\n        if (window.state) {\r\n          window.state.currentQueue = queue;\r\n        }\r\n\r\n        console.log('‚úÖ Auto-selected queue:', queue.name);\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  /**\r\n   * Filter: All Tickets\r\n   */\r\n  async filterAllTickets() {\r\n    console.log('üîç Filtering: All Tickets');\r\n\r\n    // Set filter mode to all\r\n    if (window.state) {\r\n      window.state.filterMode = 'all';\r\n      console.log('‚úÖ Set filter mode to: all');\r\n    }\r\n\r\n    // Clear all filters using FilterManager\r\n    if (window.filterManager && typeof window.filterManager.clearAllFilters === 'function') {\r\n      window.filterManager.clearAllFilters();\r\n    } else {\r\n      // Direct fallback\r\n      const inputs = document.querySelectorAll('.filter-bar input, .filter-bar select');\r\n      inputs.forEach(input => {\r\n        if (input.type === 'checkbox') {\r\n          input.checked = false;\r\n        } else {\r\n          input.value = '';\r\n        }\r\n      });\r\n\r\n      // Trigger filter update\r\n      if (window.filterManager && typeof window.filterManager.applyFilters === 'function') {\r\n        window.filterManager.applyFilters();\r\n      }\r\n    }\r\n\r\n    // Reload issues to show all tickets\r\n    if (window.loadIssues && window.state?.currentQueue) {\r\n      console.log(`üîÑ Reloading issues for queue: ${window.state.currentQueue}`);\r\n      await window.loadIssues(window.state.currentQueue);\r\n\r\n      const totalCount = window.state?.issues?.length || 0;\r\n      this.showNotification('All Tickets', `Showing all ${totalCount} tickets`, 'success');\r\n    } else {\r\n      console.warn('‚ö†Ô∏è No queue selected. Please select a Service Desk and Queue first.');\r\n      this.showNotification('All Tickets', 'Please select a Service Desk and Queue first', 'warning');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filter: Starred Tickets\r\n   */\r\n  filterStarredTickets() {\r\n    console.log('‚≠ê Filtering: Starred Tickets');\r\n\r\n    // Get starred tickets from localStorage\r\n    const starred = JSON.parse(localStorage.getItem('starredTickets') || '[]');\r\n\r\n    if (starred.length === 0) {\r\n      this.showNotification('Starred Tickets', 'No starred tickets yet. Click the star icon on any ticket to add it.', 'info');\r\n      return;\r\n    }\r\n\r\n    // Apply custom filter for starred tickets\r\n    if (window.filterManager) {\r\n      // Store starred filter\r\n      window.filterManager.customFilters = window.filterManager.customFilters || {};\r\n      window.filterManager.customFilters.starred = (issue) => starred.includes(issue.key);\r\n      window.filterManager.applyFilters();\r\n\r\n      const filteredCount = window.state.filteredIssues?.length || 0;\r\n      this.showNotification('Starred Tickets', `Showing ${filteredCount} starred ticket(s)`, 'success');\r\n    } else {\r\n      this.showNotification('Starred Tickets', 'Filter system not ready', 'warning');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Search\r\n   */\r\n  initSearchButton() {\r\n    // Find by text content\r\n    const items = document.querySelectorAll('.sidebar-section[aria-label=\"Utilities\"] .sidebar-menu-item');\r\n    const searchBtn = Array.from(items).find(item => item.textContent.includes('Search'));\r\n\r\n    if (searchBtn) {\r\n      searchBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        console.log('üîç Search clicked');\r\n        this.openAdvancedSearch();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open Advanced Search\r\n   */\r\n  async openAdvancedSearch() {\r\n    // Refetch users for fresh data\r\n    await this.cacheUsers(true);\r\n\r\n    let panel = document.getElementById('searchPanel');\r\n\r\n    if (!panel) {\r\n      panel = this.createAdvancedSearch();\r\n      document.body.appendChild(panel);\r\n    }\r\n\r\n    panel.style.display = 'flex';\r\n    setTimeout(() => {\r\n      panel.classList.add('active');\r\n      panel.querySelector('#searchKeyword').focus();\r\n    }, 10);\r\n  }\r\n\r\n  /**\r\n   * Create Advanced Search Panel\r\n   */\r\n  createAdvancedSearch() {\r\n    const panel = document.createElement('div');\r\n    panel.id = 'searchPanel';\r\n    panel.className = 'modal-overlay';\r\n    panel.innerHTML = `\r\n      <div class=\"modal-container search-modal\">\r\n        <div class=\"modal-header\">\r\n          <h2>üîç Advanced Search</h2>\r\n          <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"search-form\">\r\n            <div class=\"search-field\" style=\"position: relative;\">\r\n              <label for=\"searchKeyword\">üîé Keyword</label>\r\n              <input type=\"text\" id=\"searchKeyword\" placeholder=\"Search in summary, description...\" autocomplete=\"off\">\r\n              <div id=\"searchSuggestions\" class=\"search-suggestions\" style=\"display: none;\"></div>\r\n            </div>\r\n            \r\n            <div class=\"search-row\">\r\n              <div class=\"search-field\">\r\n                <label for=\"searchStatus\">Status</label>\r\n                <select id=\"searchStatus\" multiple>\r\n                  <option value=\"\">All Statuses</option>\r\n                  <option value=\"open\">Open</option>\r\n                  <option value=\"in-progress\">In Progress</option>\r\n                  <option value=\"done\">Done</option>\r\n                  <option value=\"closed\">Closed</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div class=\"search-field\">\r\n                <label for=\"searchPriority\">Priority</label>\r\n                <select id=\"searchPriority\" multiple>\r\n                  <option value=\"\">All Priorities</option>\r\n                  <option value=\"critical\">Critical</option>\r\n                  <option value=\"high\">High</option>\r\n                  <option value=\"medium\">Medium</option>\r\n                  <option value=\"low\">Low</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"search-row\">\r\n              <div class=\"search-field\" style=\"position: relative;\">\r\n                <label for=\"searchAssignee\">Assignee</label>\r\n                <input type=\"text\" id=\"searchAssignee\" placeholder=\"Assignee name...\" autocomplete=\"off\">\r\n                <div id=\"assigneeSuggestions\" class=\"search-suggestions\" style=\"display: none;\"></div>\r\n              </div>\r\n              \r\n              <div class=\"search-field\" style=\"position: relative;\">\r\n                <label for=\"searchReporter\">Reporter</label>\r\n                <input type=\"text\" id=\"searchReporter\" placeholder=\"Reporter name...\" autocomplete=\"off\">\r\n                <div id=\"reporterSuggestions\" class=\"search-suggestions\" style=\"display: none;\"></div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"search-row\">\r\n              <div class=\"search-field\">\r\n                <label for=\"searchDateFrom\">Date From</label>\r\n                <input type=\"date\" id=\"searchDateFrom\">\r\n              </div>\r\n              \r\n              <div class=\"search-field\">\r\n                <label for=\"searchDateTo\">Date To</label>\r\n                <input type=\"date\" id=\"searchDateTo\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"search-field\">\r\n              <label for=\"searchLabels\">Labels (comma-separated)</label>\r\n              <input type=\"text\" id=\"searchLabels\" placeholder=\"bug, feature, urgent...\">\r\n            </div>\r\n            \r\n            <div class=\"search-actions\">\r\n              <button class=\"btn-secondary\" onclick=\"window.sidebarActions.clearSearch()\">Clear</button>\r\n              <button class=\"btn-primary\" onclick=\"window.sidebarActions.performSearch()\">Search</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"search-results\" id=\"searchResults\" style=\"display: none;\">\r\n            <h3>Search Results (<span id=\"resultCount\">0</span>)</h3>\r\n            <div id=\"resultsList\" class=\"results-list\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Enter key to search\r\n    panel.querySelector('#searchKeyword').addEventListener('keypress', (e) => {\r\n      if (e.key === 'Enter') {\r\n        this.performSearch();\r\n      }\r\n    });\r\n\r\n    // Initialize autocomplete for search fields\r\n    this.initSearchAutocomplete(panel);\r\n\r\n    return panel;\r\n  }\r\n\r\n  /**\r\n   * Initialize autocomplete for search fields\r\n   */\r\n  initSearchAutocomplete(panel) {\r\n    const keywordInput = panel.querySelector('#searchKeyword');\r\n    const assigneeInput = panel.querySelector('#searchAssignee');\r\n    const reporterInput = panel.querySelector('#searchReporter');\r\n\r\n    const keywordSuggestions = panel.querySelector('#searchSuggestions');\r\n    const assigneeSuggestions = panel.querySelector('#assigneeSuggestions');\r\n    const reporterSuggestions = panel.querySelector('#reporterSuggestions');\r\n\r\n    // Keyword autocomplete (suggest from ticket summaries and keys)\r\n    keywordInput.addEventListener('input', (e) => {\r\n      const query = e.target.value.trim();\r\n      if (query.length < 2) {\r\n        keywordSuggestions.style.display = 'none';\r\n        return;\r\n      }\r\n\r\n      const suggestions = this.getKeywordSuggestions(query);\r\n      this.displaySuggestions(keywordSuggestions, suggestions, (value) => {\r\n        keywordInput.value = value;\r\n        keywordSuggestions.style.display = 'none';\r\n        keywordInput.focus();\r\n      });\r\n    });\r\n\r\n    // Assignee autocomplete (instant with cache)\r\n    let assigneeDebounceTimer;\r\n    assigneeInput.addEventListener('input', (e) => {\r\n      const query = e.target.value.trim();\r\n      if (query.length < 2) {\r\n        assigneeSuggestions.style.display = 'none';\r\n        return;\r\n      }\r\n\r\n      clearTimeout(assigneeDebounceTimer);\r\n      this.showLoadingSuggestions(assigneeSuggestions);\r\n\r\n      assigneeDebounceTimer = setTimeout(async () => {\r\n        const suggestions = await this.getUserSuggestionsFromDB(query);\r\n        this.displaySuggestions(assigneeSuggestions, suggestions, (value) => {\r\n          assigneeInput.value = value;\r\n          assigneeSuggestions.style.display = 'none';\r\n          assigneeInput.focus();\r\n        });\r\n      }, 100);\r\n    });\r\n\r\n    // Reporter autocomplete (instant with cache)\r\n    let reporterDebounceTimer;\r\n    reporterInput.addEventListener('input', (e) => {\r\n      const query = e.target.value.trim();\r\n      if (query.length < 2) {\r\n        reporterSuggestions.style.display = 'none';\r\n        return;\r\n      }\r\n\r\n      clearTimeout(reporterDebounceTimer);\r\n      this.showLoadingSuggestions(reporterSuggestions);\r\n\r\n      reporterDebounceTimer = setTimeout(async () => {\r\n        const suggestions = await this.getUserSuggestionsFromDB(query);\r\n        this.displaySuggestions(reporterSuggestions, suggestions, (value) => {\r\n          reporterInput.value = value;\r\n          reporterSuggestions.style.display = 'none';\r\n          reporterInput.focus();\r\n        });\r\n      }, 100);\r\n    });\r\n\r\n    // Close suggestions on click outside\r\n    document.addEventListener('click', (e) => {\r\n      if (!keywordInput.contains(e.target) && !keywordSuggestions.contains(e.target)) {\r\n        keywordSuggestions.style.display = 'none';\r\n      }\r\n      if (!assigneeInput.contains(e.target) && !assigneeSuggestions.contains(e.target)) {\r\n        assigneeSuggestions.style.display = 'none';\r\n      }\r\n      if (!reporterInput.contains(e.target) && !reporterSuggestions.contains(e.target)) {\r\n        reporterSuggestions.style.display = 'none';\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get keyword suggestions from tickets\r\n   */\r\n  getKeywordSuggestions(query) {\r\n    if (!window.state?.issues || window.state.issues.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    const queryLower = query.toLowerCase();\r\n    const suggestions = new Set();\r\n    const ticketMatches = [];\r\n\r\n    // Get ticket key matches (exact start match has highest priority)\r\n    window.state.issues.forEach(issue => {\r\n      const key = issue.key || '';\r\n      if (key.toLowerCase().startsWith(queryLower)) {\r\n        ticketMatches.push({\r\n          type: 'ticket',\r\n          value: key,\r\n          label: `${key} - ${(issue.summary || '').substring(0, 50)}...`,\r\n          priority: 1\r\n        });\r\n      }\r\n    });\r\n\r\n    // Get summary word matches\r\n    window.state.issues.forEach(issue => {\r\n      const summary = issue.summary || '';\r\n      const words = summary.split(/\\s+/);\r\n\r\n      words.forEach(word => {\r\n        if (word.length >= 3 && word.toLowerCase().includes(queryLower)) {\r\n          suggestions.add(word);\r\n        }\r\n      });\r\n    });\r\n\r\n    // Convert suggestions to array with metadata\r\n    const wordSuggestions = Array.from(suggestions).slice(0, 5).map(word => ({\r\n      type: 'word',\r\n      value: word,\r\n      label: word,\r\n      priority: 2\r\n    }));\r\n\r\n    // Combine and sort by priority\r\n    const allSuggestions = [...ticketMatches.slice(0, 5), ...wordSuggestions];\r\n    return allSuggestions.slice(0, 10);\r\n  }\r\n\r\n  /**\r\n   * Get user suggestions from database (async)\r\n   */\r\n  async getUserSuggestionsFromDB(query) {\r\n    try {\r\n      let users = [];\r\n\r\n      // Use global cache if available (instant)\r\n      if (window.cachedUsers) {\r\n        const lowerQuery = query.toLowerCase();\r\n        users = window.cachedUsers.filter(user => {\r\n          const searchStr = `${user.displayName || ''} ${user.emailAddress || ''}`.toLowerCase();\r\n          return searchStr.includes(lowerQuery);\r\n        });\r\n        console.log(`‚úÖ Found ${users.length} users from cache (instant)`);\r\n      } else {\r\n        // Fallback to API if cache not ready\r\n        const serviceDeskId = window.state?.serviceDeskId || '';\r\n        const response = await fetch(`/api/users?query=${encodeURIComponent(query)}&serviceDeskId=${serviceDeskId}`);\r\n\r\n        if (!response.ok) {\r\n          console.warn('Failed to fetch users from DB, falling back to empty list');\r\n          return [];\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        // The response is wrapped in {success, data: {users: [...], count, cached}}\r\n        if (!result.success || !result.data || !result.data.users) {\r\n          console.warn('Invalid response structure from /api/users:', result);\r\n          return [];\r\n        }\r\n\r\n        users = result.data.users;\r\n        console.log(`‚úÖ Found ${users.length} users from API`);\r\n      }\r\n\r\n      // Format users for suggestions\r\n      return users.slice(0, 10).map(user => ({\r\n        type: 'user',\r\n        value: user.displayName || user.name || user.emailAddress,\r\n        label: user.displayName || user.name || user.emailAddress,\r\n        icon: 'üë§',\r\n        accountId: user.accountId\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching user suggestions:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Display suggestions in dropdown\r\n   */\r\n  displaySuggestions(container, suggestions, onSelect) {\r\n    if (suggestions.length === 0) {\r\n      container.innerHTML = '<div class=\"suggestion-item\" style=\"cursor: default; opacity: 0.6;\">No se encontraron resultados</div>';\r\n      container.style.display = 'block';\r\n      return;\r\n    }\r\n\r\n    container.innerHTML = suggestions.map(sug => {\r\n      const icon = sug.icon || (sug.type === 'ticket' ? 'üé´' : sug.type === 'user' ? 'üë§' : 'üîç');\r\n      return `\r\n        <div class=\"suggestion-item\" data-value=\"${sug.value}\">\r\n          <span class=\"suggestion-icon\">${icon}</span>\r\n          <span class=\"suggestion-label\">${sug.label}</span>\r\n        </div>\r\n      `;\r\n    }).join('');\r\n\r\n    container.style.display = 'block';\r\n\r\n    // Add click listeners\r\n    container.querySelectorAll('.suggestion-item').forEach(item => {\r\n      item.addEventListener('click', () => {\r\n        onSelect(item.dataset.value);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Show loading indicator in suggestions\r\n   */\r\n  showLoadingSuggestions(container) {\r\n    container.innerHTML = `\r\n      <div class=\"suggestion-item\" style=\"cursor: default;\">\r\n        <span class=\"suggestion-icon\">‚è≥</span>\r\n        <span class=\"suggestion-label\">Buscando...</span>\r\n      </div>\r\n    `;\r\n    container.style.display = 'block';\r\n  }\r\n\r\n  /**\r\n   * Perform Search\r\n   */\r\n  performSearch() {\r\n    const keyword = document.getElementById('searchKeyword').value.toLowerCase().trim();\r\n    const status = Array.from(document.getElementById('searchStatus').selectedOptions).map(o => o.value).filter(v => v);\r\n    const priority = Array.from(document.getElementById('searchPriority').selectedOptions).map(o => o.value).filter(v => v);\r\n    const assignee = document.getElementById('searchAssignee').value.toLowerCase().trim();\r\n    const reporter = document.getElementById('searchReporter').value.toLowerCase().trim();\r\n    const dateFrom = document.getElementById('searchDateFrom').value;\r\n    const dateTo = document.getElementById('searchDateTo').value;\r\n    const labels = document.getElementById('searchLabels').value.toLowerCase().split(',').map(l => l.trim()).filter(l => l);\r\n\r\n    if (!window.state || !window.state.issues) {\r\n      this.showNotification('Search', 'No tickets loaded', 'warning');\r\n      return;\r\n    }\r\n\r\n    // Filter issues\r\n    const results = window.state.issues.filter(issue => {\r\n      // Keyword search\r\n      if (keyword) {\r\n        const searchIn = `${issue.key} ${issue.summary} ${issue.description || ''}`.toLowerCase();\r\n        if (!searchIn.includes(keyword)) return false;\r\n      }\r\n\r\n      // Status filter\r\n      if (status.length > 0 && !status.includes(issue.status?.toLowerCase())) return false;\r\n\r\n      // Priority filter\r\n      if (priority.length > 0 && !priority.includes(issue.priority?.toLowerCase())) return false;\r\n\r\n      // Assignee filter\r\n      if (assignee && !issue.assignee?.toLowerCase().includes(assignee)) return false;\r\n\r\n      // Reporter filter\r\n      if (reporter && !issue.reporter?.toLowerCase().includes(reporter)) return false;\r\n\r\n      // Date filters (if date field exists)\r\n      if (dateFrom && issue.created) {\r\n        const issueDate = new Date(issue.created);\r\n        if (issueDate < new Date(dateFrom)) return false;\r\n      }\r\n      if (dateTo && issue.created) {\r\n        const issueDate = new Date(issue.created);\r\n        if (issueDate > new Date(dateTo)) return false;\r\n      }\r\n\r\n      // Labels filter\r\n      if (labels.length > 0 && issue.labels) {\r\n        const issueLabels = issue.labels.map(l => l.toLowerCase());\r\n        if (!labels.some(label => issueLabels.includes(label))) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    // Display results\r\n    this.displaySearchResults(results);\r\n  }\r\n\r\n  /**\r\n   * Display Search Results\r\n   */\r\n  displaySearchResults(results) {\r\n    const resultsContainer = document.getElementById('searchResults');\r\n    const resultsList = document.getElementById('resultsList');\r\n    const resultCount = document.getElementById('resultCount');\r\n\r\n    resultCount.textContent = results.length;\r\n    resultsContainer.style.display = 'block';\r\n\r\n    if (results.length === 0) {\r\n      resultsList.innerHTML = '<p class=\"no-results\">No tickets match your search criteria</p>';\r\n      return;\r\n    }\r\n\r\n    resultsList.innerHTML = results.map(issue => `\r\n      <div class=\"result-item\" onclick=\"window.sidebarActions.openTicketFromSearch('${issue.key}')\">\r\n        <div class=\"result-header\">\r\n          <strong>${issue.key}</strong>\r\n          <span class=\"result-status\">${issue.status || 'Unknown'}</span>\r\n        </div>\r\n        <div class=\"result-summary\">${issue.summary || 'No summary'}</div>\r\n        <div class=\"result-meta\">\r\n          <span>üë§ ${issue.assignee || 'Unassigned'}</span>\r\n          <span>üè∑Ô∏è ${issue.priority || 'None'}</span>\r\n        </div>\r\n      </div>\r\n    `).join('');\r\n\r\n    this.showNotification('Search Complete', `Found ${results.length} ticket(s)`, 'success');\r\n  }\r\n\r\n  /**\r\n   * Open Ticket from Search\r\n   */\r\n  openTicketFromSearch(issueKey) {\r\n    // Close all modals (search, AI analyzer, etc)\r\n    closeAllModals();\r\n\r\n    // Open ticket details\r\n    if (typeof showTicketDetails === 'function') {\r\n      showTicketDetails(issueKey);\r\n    } else if (window.rightSidebar) {\r\n      window.rightSidebar.open(issueKey);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear Search\r\n   */\r\n  clearSearch() {\r\n    document.getElementById('searchKeyword').value = '';\r\n    document.getElementById('searchStatus').selectedIndex = 0;\r\n    document.getElementById('searchPriority').selectedIndex = 0;\r\n    document.getElementById('searchAssignee').value = '';\r\n    document.getElementById('searchReporter').value = '';\r\n    document.getElementById('searchDateFrom').value = '';\r\n    document.getElementById('searchDateTo').value = '';\r\n    document.getElementById('searchLabels').value = '';\r\n\r\n    const resultsContainer = document.getElementById('searchResults');\r\n    resultsContainer.style.display = 'none';\r\n\r\n    document.getElementById('searchKeyword').focus();\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Reports\r\n   */\r\n  initReportsButton() {\r\n    const items = document.querySelectorAll('.sidebar-section[aria-label=\"Utilities\"] .sidebar-menu-item');\r\n    const reportsBtn = Array.from(items).find(item => item.textContent.includes('Reports'));\r\n\r\n    if (reportsBtn) {\r\n      reportsBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        console.log('üìä Reports clicked');\r\n        this.openReportsDashboard();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open Reports Dashboard\r\n   */\r\n  openReportsDashboard() {\r\n    let panel = document.getElementById('reportsPanel');\r\n\r\n    if (!panel) {\r\n      panel = this.createReportsDashboard();\r\n      document.body.appendChild(panel);\r\n    }\r\n\r\n    panel.style.display = 'flex';\r\n    setTimeout(() => panel.classList.add('active'), 10);\r\n\r\n    // Generate reports\r\n    this.generateReports();\r\n  }\r\n\r\n  /**\r\n   * Create Reports Dashboard (Compact Version)\r\n   */\r\n  createReportsDashboard() {\r\n    const panel = document.createElement('div');\r\n    panel.id = 'reportsPanel';\r\n    panel.className = 'modal-overlay';\r\n    panel.innerHTML = `\r\n      <div class=\"modal-container reports-modal-compact\">\r\n        <div class=\"modal-header\">\r\n          <h2>üìä Metrics & Insights</h2>\r\n          <div id=\"metricsCacheIndicator\" style=\"display: none; align-items: center; gap: 8px; margin-left: auto; margin-right: 8px; font-size: 12px; color: #64748b;\"></div>\r\n          <div class=\"header-actions\">\r\n            <button class=\"btn-icon\" onclick=\"window.sidebarActions.showComparisonModal()\" title=\"Compare Periods\"><span>üìä</span></button>\r\n            <button class=\"btn-icon\" onclick=\"window.sidebarActions.showDateFilterModal()\" title=\"Date Range\"><span>üìÖ</span></button>\r\n            <button class=\"btn-icon\" onclick=\"window.sidebarActions.refreshReports()\" title=\"Refresh\"><span>üîÑ</span></button>\r\n            <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div id=\"reportsLoading\" class=\"reports-loading\" style=\"display: none;\">\r\n            <div class=\"spinner\"></div>\r\n            <p>Generating intelligent metrics...</p>\r\n          </div>\r\n          \r\n          <!-- AI Insights Section -->\r\n          <div id=\"insightsSection\" class=\"insights-section\" style=\"display: none;\">\r\n            <h3>üí° Smart Insights</h3>\r\n            <div id=\"insightsList\" class=\"insights-list\"></div>\r\n          </div>\r\n          \r\n          <!-- Period Comparison -->\r\n          <div id=\"comparisonSection\" class=\"comparison-section\" style=\"display: none;\">\r\n            <div class=\"comparison-card\">\r\n              <span class=\"comparison-label\">This Month</span>\r\n              <span class=\"comparison-value\" id=\"currentMonthValue\">-</span>\r\n              <span class=\"comparison-change\" id=\"comparisonChange\">-</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Compact Metrics Grid -->\r\n          <div class=\"metrics-compact-grid\">\r\n            <div class=\"metric-card\">\r\n              <span class=\"metric-icon\">üìã</span>\r\n              <div class=\"metric-content\">\r\n                <div class=\"metric-value\" id=\"totalTickets\">-</div>\r\n                <div class=\"metric-label\">Total</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"metric-card\">\r\n              <span class=\"metric-icon\">üîÑ</span>\r\n              <div class=\"metric-content\">\r\n                <div class=\"metric-value\" id=\"openTickets\">-</div>\r\n                <div class=\"metric-label\">Open</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"metric-card\">\r\n              <span class=\"metric-icon\">‚úÖ</span>\r\n              <div class=\"metric-content\">\r\n                <div class=\"metric-value\" id=\"closedTickets\">-</div>\r\n                <div class=\"metric-label\">Closed</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"metric-card\">\r\n              <span class=\"metric-icon\">‚è±Ô∏è</span>\r\n              <div class=\"metric-content\">\r\n                <div class=\"metric-value\" id=\"avgResolutionTime\">-</div>\r\n                <div class=\"metric-label\">Avg. Time</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Trend Chart (7 days) -->\r\n          <div class=\"chart-compact\">\r\n            <h3>üìà Last 7 Days Trend</h3>\r\n            <div id=\"trendChart\" class=\"chart-container-compact\"></div>\r\n          </div>\r\n          \r\n          <!-- Quick Stats -->\r\n          <div class=\"quick-stats\">\r\n            <div class=\"stat-row\">\r\n              <span class=\"stat-label\">By Status</span>\r\n              <div id=\"statusQuickStats\" class=\"stat-pills\"></div>\r\n            </div>\r\n            <div class=\"stat-row\">\r\n              <span class=\"stat-label\">By Priority</span>\r\n              <div id=\"priorityQuickStats\" class=\"stat-pills\"></div>\r\n            </div>\r\n            <div class=\"stat-row\">\r\n              <span class=\"stat-label\">Top Assignees</span>\r\n              <div id=\"assigneeQuickStats\" class=\"stat-pills\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <div class=\"footer-left\">\r\n            <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.exportReport('csv')\">üì• CSV</button>\r\n            <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.exportReport('json')\">üìÑ JSON</button>\r\n            <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.exportReport('excel')\">üìä Excel</button>\r\n          </div>\r\n          <button class=\"btn-primary btn-sm\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">Close</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Add compact styles\r\n    this.addCompactReportsStyles();\r\n\r\n    return panel;\r\n  }\r\n\r\n  /**\r\n   * Add Compact Reports Styles\r\n   */\r\n  addCompactReportsStyles() {\r\n    if (document.getElementById('compactReportsStyles')) return;\r\n\r\n    const style = document.createElement('style');\r\n    style.id = 'compactReportsStyles';\r\n    style.textContent = `\r\n      .reports-modal-compact {\r\n        max-width: 700px;\r\n        max-height: 85vh;\r\n      }\r\n      \r\n      .modal-header .header-actions {\r\n        display: flex;\r\n        gap: 8px;\r\n        align-items: center;\r\n      }\r\n      \r\n      .btn-icon {\r\n        background: none;\r\n        border: none;\r\n        cursor: pointer;\r\n        font-size: 16px;\r\n        padding: 4px 8px;\r\n        border-radius: 6px;\r\n        transition: background 0.2s;\r\n      }\r\n      \r\n      .btn-icon:hover {\r\n        background: rgba(255,255,255,0.1);\r\n      }\r\n      \r\n      .reports-loading {\r\n        text-align: center;\r\n        padding: 40px 20px;\r\n      }\r\n      \r\n      .spinner {\r\n        border: 3px solid rgba(255,255,255,0.1);\r\n        border-top: 3px solid #4a90e2;\r\n        border-radius: 50%;\r\n        width: 40px;\r\n        height: 40px;\r\n        animation: spin 1s linear infinite;\r\n        margin: 0 auto 16px;\r\n      }\r\n      \r\n      @keyframes spin {\r\n        0% { transform: rotate(0deg); }\r\n        100% { transform: rotate(360deg); }\r\n      }\r\n      \r\n      .insights-section {\r\n        margin-bottom: 24px;\r\n        padding: 16px;\r\n        background: rgba(74, 144, 226, 0.1);\r\n        border-radius: 8px;\r\n        border-left: 3px solid #4a90e2;\r\n      }\r\n      \r\n      .insights-section h3 {\r\n        margin: 0 0 12px 0;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n      }\r\n      \r\n      .insights-list {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 8px;\r\n      }\r\n      \r\n      .insight-item {\r\n        padding: 8px 12px;\r\n        background: rgba(255,255,255,0.05);\r\n        border-radius: 6px;\r\n        font-size: 12px;\r\n        display: flex;\r\n        align-items: start;\r\n        gap: 8px;\r\n      }\r\n      \r\n      .insight-item.warning {\r\n        background: rgba(255, 193, 7, 0.1);\r\n        border-left: 2px solid #ffc107;\r\n      }\r\n      \r\n      .insight-item.success {\r\n        background: rgba(76, 175, 80, 0.1);\r\n        border-left: 2px solid #4caf50;\r\n      }\r\n      \r\n      .insight-item.info {\r\n        background: rgba(33, 150, 243, 0.1);\r\n        border-left: 2px solid #2196f3;\r\n      }\r\n      \r\n      .metrics-compact-grid {\r\n        display: grid;\r\n        grid-template-columns: repeat(4, 1fr);\r\n        gap: 12px;\r\n        margin-bottom: 20px;\r\n      }\r\n      \r\n      .metric-card {\r\n        background: rgba(255,255,255,0.05);\r\n        border-radius: 8px;\r\n        padding: 12px;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n      }\r\n      \r\n      .metric-icon {\r\n        font-size: 20px;\r\n      }\r\n      \r\n      .metric-content {\r\n        flex: 1;\r\n      }\r\n      \r\n      .metric-value {\r\n        font-size: 20px;\r\n        font-weight: 700;\r\n        line-height: 1;\r\n        margin-bottom: 4px;\r\n      }\r\n      \r\n      .metric-label {\r\n        font-size: 11px;\r\n        opacity: 0.7;\r\n        text-transform: uppercase;\r\n        letter-spacing: 0.5px;\r\n      }\r\n      \r\n      .chart-compact {\r\n        margin-bottom: 20px;\r\n      }\r\n      \r\n      .chart-compact h3 {\r\n        font-size: 14px;\r\n        margin-bottom: 12px;\r\n        font-weight: 600;\r\n      }\r\n      \r\n      .chart-container-compact {\r\n        height: 120px;\r\n        background: rgba(255,255,255,0.03);\r\n        border-radius: 8px;\r\n        padding: 12px;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        gap: 8px;\r\n        justify-content: space-between;\r\n      }\r\n      \r\n      .chart-bar {\r\n        flex: 1;\r\n        background: linear-gradient(to top, #4a90e2, #64b5f6);\r\n        border-radius: 4px 4px 0 0;\r\n        min-height: 20px;\r\n        position: relative;\r\n        transition: all 0.3s;\r\n      }\r\n      \r\n      .chart-bar:hover {\r\n        background: linear-gradient(to top, #2196f3, #64b5f6);\r\n        transform: translateY(-2px);\r\n      }\r\n      \r\n      .chart-bar-label {\r\n        position: absolute;\r\n        bottom: -20px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        font-size: 9px;\r\n        opacity: 0.6;\r\n        white-space: nowrap;\r\n      }\r\n      \r\n      .quick-stats {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 12px;\r\n      }\r\n      \r\n      .stat-row {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 12px;\r\n      }\r\n      \r\n      .stat-label {\r\n        font-size: 11px;\r\n        opacity: 0.7;\r\n        min-width: 80px;\r\n        text-transform: uppercase;\r\n        letter-spacing: 0.5px;\r\n      }\r\n      \r\n      .stat-pills {\r\n        display: flex;\r\n        gap: 6px;\r\n        flex-wrap: wrap;\r\n      }\r\n      \r\n      .stat-pill {\r\n        padding: 4px 10px;\r\n        background: rgba(255,255,255,0.08);\r\n        border-radius: 12px;\r\n        font-size: 11px;\r\n        white-space: nowrap;\r\n      }\r\n      \r\n      .btn-sm {\r\n        padding: 6px 12px;\r\n        font-size: 12px;\r\n      }\r\n      \r\n      .modal-footer {\r\n        display: flex;\r\n        gap: 12px;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 12px 20px;\r\n        border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n      }\r\n      \r\n      .footer-left {\r\n        display: flex;\r\n        gap: 8px;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  /**\r\n   * Generate Reports (with Smart Backend)\r\n   */\r\n  async generateReports() {\r\n    const loadingEl = document.getElementById('reportsLoading');\r\n\r\n    try {\r\n      // Get current service desk and queue\r\n      const serviceDeskId = window.state?.currentDesk || '4';\r\n      const queueId = window.state?.currentQueue || '';\r\n\r\n      const cacheKey = `metrics_${serviceDeskId}_${queueId}`;\r\n\r\n      // üöÄ LEVEL 1: Check memory cache (INSTANT - <1ms)\r\n      if (window.metricsCache && window.metricsCache[cacheKey]) {\r\n        const cached = window.metricsCache[cacheKey];\r\n        const age = Date.now() - cached.timestamp;\r\n        const maxAge = window.state?.issues?.length >= 50 ? 3 * 60 * 60 * 1000 : 15 * 60 * 1000;\r\n\r\n        if (age < maxAge) {\r\n          console.log(`üí® Using memory cache (${(age / 1000).toFixed(0)}s old) - INSTANT LOAD`);\r\n          if (loadingEl) loadingEl.style.display = 'none';\r\n          this.renderCompactMetrics(cached.data);\r\n          this.showMetricsCacheIndicator('memory', age);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // üèÉ LEVEL 2: Check LocalStorage (FAST - <10ms)\r\n      const localCached = window.CacheManager?.get(cacheKey);\r\n      if (localCached) {\r\n        console.log('üíæ Using LocalStorage cache - FAST LOAD');\r\n        if (loadingEl) loadingEl.style.display = 'none';\r\n\r\n        // Store in memory for next time\r\n        window.metricsCache = window.metricsCache || {};\r\n        window.metricsCache[cacheKey] = {\r\n          data: localCached,\r\n          timestamp: Date.now()\r\n        };\r\n\r\n        this.renderCompactMetrics(localCached);\r\n        this.showMetricsCacheIndicator('localStorage', 0);\r\n        return;\r\n      }\r\n\r\n      // üì° LEVEL 3: Fetch from backend (NETWORK - ~500ms)\r\n      console.log(`üìä Fetching intelligent metrics for desk=${serviceDeskId}, queue=${queueId}`);\r\n      if (loadingEl) loadingEl.style.display = 'block';\r\n\r\n      let url = `/api/reports/metrics?serviceDeskId=${serviceDeskId}`;\r\n      if (queueId) url += `&queueId=${queueId}`;\r\n\r\n      // Add date range filters if available\r\n      if (window.state?.dateRange) {\r\n        url += `&startDate=${window.state.dateRange.startDate}&endDate=${window.state.dateRange.endDate}`;\r\n        console.log(`üìÖ Applying date filter: ${window.state.dateRange.startDate} to ${window.state.dateRange.endDate}`);\r\n      }\r\n\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (loadingEl) loadingEl.style.display = 'none';\r\n\r\n      if (data.cached && data.metrics) {\r\n        // Backend returned cached metrics (from DB)\r\n        console.log('‚úÖ Using backend cached metrics');\r\n\r\n        // Store in BOTH caches for next time\r\n        // Memory cache (LEVEL 1 - instant)\r\n        window.metricsCache = window.metricsCache || {};\r\n        window.metricsCache[cacheKey] = {\r\n          data: data.metrics,\r\n          timestamp: Date.now()\r\n        };\r\n\r\n        // LocalStorage cache (LEVEL 2 - fast)\r\n        const ttl = window.state?.issues?.length >= 50 ? 3 * 60 * 60 * 1000 : 15 * 60 * 1000;\r\n        if (window.CacheManager) {\r\n          window.CacheManager.set(cacheKey, data.metrics, ttl);\r\n        }\r\n\r\n        console.log(`üíæ Cached metrics in memory + localStorage (TTL: ${(ttl / (60 * 60 * 1000)).toFixed(1)}h)`);\r\n\r\n        this.renderCompactMetrics(data.metrics);\r\n        this.showMetricsCacheIndicator('backend', 0);\r\n      } else if (data.refresh_status) {\r\n        // Background refresh in progress\r\n        console.log('üîÑ Metrics refresh in progress:', data.refresh_status);\r\n        this.showRefreshProgress(data.refresh_status);\r\n\r\n        // Poll for completion\r\n        this.pollMetricsRefresh(serviceDeskId, queueId);\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Unexpected response format');\r\n        this.showEmptyState();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to load metrics:', error);\r\n      if (loadingEl) loadingEl.style.display = 'none';\r\n      this.showEmptyState();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render Compact Metrics\r\n   */\r\n  renderCompactMetrics(metrics) {\r\n    const summary = metrics.summary || {};\r\n    const trends = metrics.trends || {};\r\n    const performance = metrics.performance || {};\r\n    const insights = metrics.insights || [];\r\n\r\n    // Update metric cards\r\n    document.getElementById('totalTickets').textContent = summary.total || 0;\r\n    document.getElementById('openTickets').textContent = summary.open || 0;\r\n    document.getElementById('closedTickets').textContent = summary.closed || 0;\r\n\r\n    const avgHours = performance.avg_resolution_hours || 0;\r\n    const avgText = avgHours < 1 ? '<1h' :\r\n      avgHours < 24 ? `${Math.round(avgHours)}h` :\r\n        `${Math.round(avgHours / 24)}d`;\r\n    document.getElementById('avgResolutionTime').textContent = avgText;\r\n\r\n    // Render insights\r\n    if (insights.length > 0) {\r\n      const insightsSection = document.getElementById('insightsSection');\r\n      const insightsList = document.getElementById('insightsList');\r\n      insightsSection.style.display = 'block';\r\n      insightsList.innerHTML = insights.map(insight => `\r\n        <div class=\"insight-item ${insight.type}\">\r\n          <div>\r\n            <strong>${insight.title}:</strong> ${insight.message}\r\n            ${insight.metric ? `<br><span style=\"opacity:0.7; font-size:11px;\">${insight.metric}</span>` : ''}\r\n          </div>\r\n        </div>\r\n      `).join('');\r\n    }\r\n\r\n    // Render 7-day trend\r\n    if (trends.last_7_days) {\r\n      this.renderTrendChart(trends.last_7_days);\r\n    }\r\n\r\n    // Render quick stats\r\n    if (summary.by_status) {\r\n      this.renderQuickStats('statusQuickStats', summary.by_status);\r\n    }\r\n    if (summary.by_priority) {\r\n      this.renderQuickStats('priorityQuickStats', summary.by_priority);\r\n    }\r\n    if (summary.by_assignee) {\r\n      this.renderQuickStats('assigneeQuickStats', summary.by_assignee, 5);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render Trend Chart (7 days)\r\n   */\r\n  renderTrendChart(trendData) {\r\n    const container = document.getElementById('trendChart');\r\n    if (!container) return;\r\n\r\n    // Check if Chart.js is available\r\n    if (typeof Chart !== 'undefined') {\r\n      // Use Chart.js for interactive charts\r\n      container.innerHTML = '<canvas id=\"trendChartCanvas\" style=\"max-height: 200px;\"></canvas>';\r\n      const canvas = document.getElementById('trendChartCanvas');\r\n      const ctx = canvas.getContext('2d');\r\n\r\n      const labels = trendData.map(d => {\r\n        const date = new Date(d.date);\r\n        return date.toLocaleDateString('en', { month: 'short', day: 'numeric' });\r\n      });\r\n\r\n      new Chart(ctx, {\r\n        type: 'bar',\r\n        data: {\r\n          labels: labels,\r\n          datasets: [\r\n            {\r\n              label: 'Created',\r\n              data: trendData.map(d => d.created),\r\n              backgroundColor: 'rgba(74, 144, 226, 0.6)',\r\n              borderColor: 'rgba(74, 144, 226, 1)',\r\n              borderWidth: 1\r\n            },\r\n            {\r\n              label: 'Resolved',\r\n              data: trendData.map(d => d.resolved),\r\n              backgroundColor: 'rgba(76, 175, 80, 0.6)',\r\n              borderColor: 'rgba(76, 175, 80, 1)',\r\n              borderWidth: 1\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true,\r\n              ticks: {\r\n                color: 'rgba(255, 255, 255, 0.7)'\r\n              },\r\n              grid: {\r\n                color: 'rgba(255, 255, 255, 0.1)'\r\n              }\r\n            },\r\n            x: {\r\n              ticks: {\r\n                color: 'rgba(255, 255, 255, 0.7)'\r\n              },\r\n              grid: {\r\n                display: false\r\n              }\r\n            }\r\n          },\r\n          plugins: {\r\n            legend: {\r\n              labels: {\r\n                color: 'rgba(255, 255, 255, 0.8)',\r\n                font: { size: 11 }\r\n              }\r\n            },\r\n            tooltip: {\r\n              callbacks: {\r\n                label: function (context) {\r\n                  return `${context.dataset.label}: ${context.parsed.y}`;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      // Fallback to basic HTML bars\r\n      const maxValue = Math.max(...trendData.map(d => Math.max(d.created, d.resolved)));\r\n\r\n      container.innerHTML = trendData.map(day => {\r\n        const createdHeight = maxValue > 0 ? (day.created / maxValue * 100) : 0;\r\n        const date = new Date(day.date);\r\n        const label = date.toLocaleDateString('en', { weekday: 'short' });\r\n\r\n        return `\r\n          <div class=\"chart-bar\" style=\"height: ${createdHeight}%\" title=\"${day.date}: ${day.created} created, ${day.resolved} resolved\">\r\n            <div class=\"chart-bar-label\">${label}</div>\r\n          </div>\r\n        `;\r\n      }).join('');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render Quick Stats Pills\r\n   */\r\n  renderQuickStats(containerId, data, limit = 10) {\r\n    const container = document.getElementById(containerId);\r\n    if (!container) return;\r\n\r\n    const entries = Object.entries(data).slice(0, limit);\r\n    container.innerHTML = entries.map(([key, value]) =>\r\n      `<span class=\"stat-pill\">${key}: <strong>${value}</strong></span>`\r\n    ).join('');\r\n  }\r\n\r\n  /**\r\n   * Show Refresh Progress\r\n   */\r\n  showRefreshProgress(status) {\r\n    const loadingEl = document.getElementById('reportsLoading');\r\n    if (loadingEl) {\r\n      loadingEl.style.display = 'block';\r\n      loadingEl.innerHTML = `\r\n        <div class=\"spinner\"></div>\r\n        <p>${status.status || 'Generating'} (${status.progress || 0}%)</p>\r\n      `;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Poll Metrics Refresh\r\n   */\r\n  async pollMetricsRefresh(serviceDeskId, queueId, attempts = 0) {\r\n    if (attempts >= 30) {\r\n      console.warn('‚ö†Ô∏è Metrics refresh timeout');\r\n      this.showEmptyState();\r\n      return;\r\n    }\r\n\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n    try {\r\n      let url = `/api/reports/metrics?serviceDeskId=${serviceDeskId}`;\r\n      if (queueId) url += `&queueId=${queueId}`;\r\n\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (data.cached && data.metrics) {\r\n        this.renderCompactMetrics(data.metrics);\r\n      } else if (data.refresh_status && data.refresh_status.status !== 'completed') {\r\n        this.showRefreshProgress(data.refresh_status);\r\n        this.pollMetricsRefresh(serviceDeskId, queueId, attempts + 1);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Poll error:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show Empty State\r\n   */\r\n  showEmptyState() {\r\n    document.getElementById('totalTickets').textContent = '0';\r\n    document.getElementById('openTickets').textContent = '0';\r\n    document.getElementById('closedTickets').textContent = '0';\r\n    document.getElementById('avgResolutionTime').textContent = '-';\r\n  }\r\n\r\n  /**\r\n   * Refresh Reports\r\n   */\r\n  async refreshReports() {\r\n    const serviceDeskId = window.state?.currentDesk || '4';\r\n    const queueId = window.state?.currentQueue || '';\r\n\r\n    let url = `/api/reports/metrics?serviceDeskId=${serviceDeskId}&forceRefresh=true`;\r\n    if (queueId) url += `&queueId=${queueId}`;\r\n\r\n    const loadingEl = document.getElementById('reportsLoading');\r\n    if (loadingEl) loadingEl.style.display = 'block';\r\n\r\n    try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (data.refresh_status) {\r\n        this.showRefreshProgress(data.refresh_status);\r\n        this.pollMetricsRefresh(serviceDeskId, queueId);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to refresh:', error);\r\n      if (loadingEl) loadingEl.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show Comparison Modal\r\n   */\r\n  async showComparisonModal() {\r\n    const serviceDeskId = window.state?.currentDesk || '4';\r\n    const queueId = window.state?.currentQueue || '';\r\n\r\n    try {\r\n      let url = `/api/reports/compare?serviceDeskId=${serviceDeskId}`;\r\n      if (queueId) url += `&queueId=${queueId}`;\r\n\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (!data.success) {\r\n        this.showNotification('Comparison Error', data.error || 'Failed to load comparison', 'error');\r\n        return;\r\n      }\r\n\r\n      // Update comparison section\r\n      const section = document.getElementById('comparisonSection');\r\n      if (section) {\r\n        section.style.display = 'block';\r\n\r\n        const card = section.querySelector('.comparison-card');\r\n        if (card) {\r\n          const currentValue = data.comparison.current_month?.total_issues || 0;\r\n          const growthPercent = data.comparison.growth_percent || 0;\r\n          const trend = data.comparison.trend || 'stable';\r\n\r\n          const trendIcon = trend === 'up' ? 'üìà' : trend === 'down' ? 'üìâ' : '‚û°Ô∏è';\r\n          const trendColor = trend === 'up' ? '#4caf50' : trend === 'down' ? '#f44336' : '#ff9800';\r\n\r\n          card.innerHTML = `\r\n            <h4>Period Comparison</h4>\r\n            <div style=\"display: flex; gap: 20px; margin-top: 12px;\">\r\n              <div style=\"flex: 1;\">\r\n                <div style=\"font-size: 11px; opacity: 0.7; margin-bottom: 4px;\">Current Month</div>\r\n                <div style=\"font-size: 24px; font-weight: 700;\">${currentValue}</div>\r\n              </div>\r\n              <div style=\"flex: 1;\">\r\n                <div style=\"font-size: 11px; opacity: 0.7; margin-bottom: 4px;\">Growth</div>\r\n                <div style=\"font-size: 24px; font-weight: 700; color: ${trendColor};\">\r\n                  ${trendIcon} ${growthPercent > 0 ? '+' : ''}${growthPercent.toFixed(1)}%\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }\r\n      }\r\n\r\n      this.showNotification('Comparison Loaded', 'Period comparison updated', 'success');\r\n    } catch (error) {\r\n      console.error('‚ùå Comparison error:', error);\r\n      this.showNotification('Comparison Error', 'Failed to load comparison data', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show Date Filter Modal\r\n   */\r\n  showDateFilterModal() {\r\n    const existingModal = document.getElementById('dateFilterModal');\r\n    if (existingModal) {\r\n      existingModal.remove();\r\n    }\r\n\r\n    const modal = document.createElement('div');\r\n    modal.id = 'dateFilterModal';\r\n    modal.className = 'modal-overlay active';\r\n    modal.style.display = 'flex';\r\n\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n\r\n    modal.innerHTML = `\r\n      <div class=\"modal-content reports-modal-compact\" style=\"max-width: 400px;\">\r\n        <div class=\"modal-header\">\r\n          <h2>üìÖ Date Range Filter</h2>\r\n          <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').remove()\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div style=\"display: flex; flex-direction: column; gap: 16px;\">\r\n            <div>\r\n              <label for=\"startDate\" style=\"display: block; margin-bottom: 6px; font-size: 12px; opacity: 0.8;\">Start Date</label>\r\n              <input type=\"date\" id=\"startDate\" value=\"${thirtyDaysAgo}\" style=\"width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: #fff;\">\r\n            </div>\r\n            <div>\r\n              <label for=\"endDate\" style=\"display: block; margin-bottom: 6px; font-size: 12px; opacity: 0.8;\">End Date</label>\r\n              <input type=\"date\" id=\"endDate\" value=\"${today}\" style=\"width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: #fff;\">\r\n            </div>\r\n            <div style=\"display: flex; gap: 8px; flex-wrap: wrap;\">\r\n              <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.applyDatePreset('today')\">Today</button>\r\n              <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.applyDatePreset('week')\">Last 7 Days</button>\r\n              <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.applyDatePreset('month')\">Last 30 Days</button>\r\n              <button class=\"btn-secondary btn-sm\" onclick=\"window.sidebarActions.applyDatePreset('quarter')\">Last 90 Days</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-secondary btn-sm\" onclick=\"this.closest('.modal-overlay').remove()\">Cancel</button>\r\n          <button class=\"btn-primary btn-sm\" onclick=\"window.sidebarActions.applyDateFilter()\">Apply Filter</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n  }\r\n\r\n  /**\r\n   * Apply Date Preset\r\n   */\r\n  applyDatePreset(preset) {\r\n    const today = new Date();\r\n    const endDate = today.toISOString().split('T')[0];\r\n    let startDate;\r\n\r\n    switch (preset) {\r\n      case 'today':\r\n        startDate = endDate;\r\n        break;\r\n      case 'week':\r\n        startDate = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n        break;\r\n      case 'month':\r\n        startDate = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n        break;\r\n      case 'quarter':\r\n        startDate = new Date(today.getTime() - 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    document.getElementById('startDate').value = startDate;\r\n    document.getElementById('endDate').value = endDate;\r\n  }\r\n\r\n  /**\r\n   * Apply Date Filter\r\n   */\r\n  async applyDateFilter() {\r\n    const startDate = document.getElementById('startDate')?.value;\r\n    const endDate = document.getElementById('endDate')?.value;\r\n\r\n    if (!startDate || !endDate) {\r\n      this.showNotification('Invalid Date', 'Please select both start and end dates', 'warning');\r\n      return;\r\n    }\r\n\r\n    if (new Date(startDate) > new Date(endDate)) {\r\n      this.showNotification('Invalid Date', 'Start date must be before end date', 'warning');\r\n      return;\r\n    }\r\n\r\n    // Close date filter modal\r\n    document.getElementById('dateFilterModal')?.remove();\r\n\r\n    // Store date range in session state\r\n    if (!window.state) window.state = {};\r\n    window.state.dateRange = { startDate, endDate };\r\n\r\n    // Regenerate reports with date filter\r\n    this.showNotification('Applying Filter', `Loading data from ${startDate} to ${endDate}`, 'info');\r\n    await this.generateReports();\r\n  }\r\n\r\n  /**\r\n   * Calculate average resolution time from issues\r\n   */\r\n  calculateAvgResolutionTime(issues) {\r\n    const resolvedIssues = issues.filter(i => {\r\n      const status = (i.status || i.estado || '').toLowerCase();\r\n      return status.includes('done') || status.includes('closed') ||\r\n        status.includes('resolved') || status.includes('completado');\r\n    });\r\n\r\n    if (resolvedIssues.length === 0) return '0h';\r\n\r\n    let totalHours = 0;\r\n    let validCount = 0;\r\n\r\n    resolvedIssues.forEach(issue => {\r\n      const created = issue.created || issue.createdDate;\r\n      const resolved = issue.resolutiondate || issue.updated;\r\n\r\n      if (created && resolved) {\r\n        const createdDate = new Date(created);\r\n        const resolvedDate = new Date(resolved);\r\n        const diffMs = resolvedDate - createdDate;\r\n        const diffHours = diffMs / (1000 * 60 * 60);\r\n\r\n        if (diffHours > 0 && diffHours < 8760) { // Max 1 year\r\n          totalHours += diffHours;\r\n          validCount++;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (validCount === 0) return 'N/A';\r\n\r\n    const avgHours = totalHours / validCount;\r\n\r\n    if (avgHours < 1) {\r\n      return `${Math.round(avgHours * 60)}m`;\r\n    } else if (avgHours < 24) {\r\n      return `${Math.round(avgHours)}h`;\r\n    } else {\r\n      const days = Math.round(avgHours / 24);\r\n      return `${days}d`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render Status Chart\r\n   */\r\n  renderStatusChart(issues) {\r\n    const statusCounts = {};\r\n    issues.forEach(issue => {\r\n      const status = issue.status || issue.estado || 'Unknown';\r\n      statusCounts[status] = (statusCounts[status] || 0) + 1;\r\n    });\r\n\r\n    const chart = document.getElementById('statusChart');\r\n    if (!chart) return;\r\n\r\n    const total = issues.length;\r\n\r\n    if (total === 0) {\r\n      chart.innerHTML = '<p class=\"no-data\">No data available</p>';\r\n      return;\r\n    }\r\n\r\n    chart.innerHTML = Object.entries(statusCounts)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 5)\r\n      .map(([status, count]) => {\r\n        const percentage = ((count / total) * 100).toFixed(1);\r\n        const statusClass = status.toLowerCase().replace(/\\s+/g, '-');\r\n        return `\r\n          <div class=\"chart-bar\">\r\n            <div class=\"chart-label\">${this.escapeHtml(status)}</div>\r\n            <div class=\"chart-bar-container\">\r\n              <div class=\"chart-bar-fill status-${statusClass}\" style=\"width: ${percentage}%\"></div>\r\n            </div>\r\n            <div class=\"chart-value\">${count} (${percentage}%)</div>\r\n          </div>\r\n        `;\r\n      }).join('');\r\n  }\r\n\r\n  /**\r\n   * Render Priority Chart\r\n   */\r\n  renderPriorityChart(issues) {\r\n    const priorityCounts = {};\r\n    issues.forEach(issue => {\r\n      const priority = issue.priority || issue.prioridad || 'None';\r\n      priorityCounts[priority] = (priorityCounts[priority] || 0) + 1;\r\n    });\r\n\r\n    const chart = document.getElementById('priorityChart');\r\n    if (!chart) return;\r\n\r\n    const total = issues.length;\r\n\r\n    if (total === 0) {\r\n      chart.innerHTML = '<p class=\"no-data\">No data available</p>';\r\n      return;\r\n    }\r\n\r\n    // Priority color mapping\r\n    const priorityColors = {\r\n      'critical': '#dc2626',\r\n      'highest': '#dc2626',\r\n      'high': '#f59e0b',\r\n      'medium': '#3b82f6',\r\n      'low': '#10b981',\r\n      'lowest': '#6b7280',\r\n      'none': '#9ca3af'\r\n    };\r\n\r\n    chart.innerHTML = Object.entries(priorityCounts)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .map(([priority, count]) => {\r\n        const percentage = ((count / total) * 100).toFixed(1);\r\n        const priorityKey = priority.toLowerCase();\r\n        const color = priorityColors[priorityKey] || '#3b82f6';\r\n        return `\r\n          <div class=\"chart-bar\">\r\n            <div class=\"chart-label\">${this.escapeHtml(priority)}</div>\r\n            <div class=\"chart-bar-container\">\r\n              <div class=\"chart-bar-fill\" style=\"width: ${percentage}%; background: ${color};\"></div>\r\n            </div>\r\n            <div class=\"chart-value\">${count} (${percentage}%)</div>\r\n          </div>\r\n        `;\r\n      }).join('');\r\n  }\r\n\r\n  /**\r\n   * Render Assignee Chart\r\n   */\r\n  renderAssigneeChart(issues) {\r\n    const assigneeCounts = {};\r\n    issues.forEach(issue => {\r\n      const assignee = issue.assignee || issue.asignado_a || 'Unassigned';\r\n      assigneeCounts[assignee] = (assigneeCounts[assignee] || 0) + 1;\r\n    });\r\n\r\n    const chart = document.getElementById('assigneeChart');\r\n    if (!chart) return;\r\n\r\n    const total = issues.length;\r\n\r\n    if (total === 0) {\r\n      chart.innerHTML = '<p class=\"no-data\">No data available</p>';\r\n      return;\r\n    }\r\n\r\n    chart.innerHTML = Object.entries(assigneeCounts)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 10)\r\n      .map(([assignee, count]) => {\r\n        const percentage = ((count / total) * 100).toFixed(1);\r\n        return `\r\n          <div class=\"chart-bar\">\r\n            <div class=\"chart-label\">${this.escapeHtml(assignee)}</div>\r\n            <div class=\"chart-bar-container\">\r\n              <div class=\"chart-bar-fill\" style=\"width: ${percentage}%; background: linear-gradient(90deg, #3b82f6, #8b5cf6);\"></div>\r\n            </div>\r\n            <div class=\"chart-value\">${count} tickets (${percentage}%)</div>\r\n          </div>\r\n        `;\r\n      }).join('');\r\n  }\r\n\r\n  /**\r\n   * Render Recent Activity\r\n   */\r\n  renderRecentActivity(issues) {\r\n    const activity = document.getElementById('recentActivity');\r\n    if (!activity) return;\r\n\r\n    if (!issues || issues.length === 0) {\r\n      activity.innerHTML = '<p class=\"no-data\">No recent activity</p>';\r\n      return;\r\n    }\r\n\r\n    // Sort by updated date (most recent first)\r\n    const sortedIssues = [...issues].sort((a, b) => {\r\n      const dateA = new Date(a.updated || a.actualizado || a.created || 0);\r\n      const dateB = new Date(b.updated || b.actualizado || b.created || 0);\r\n      return dateB - dateA;\r\n    });\r\n\r\n    const recent = sortedIssues.slice(0, 5).map(issue => {\r\n      const key = issue.key || 'N/A';\r\n      const summary = issue.summary || issue.resumen || 'No summary';\r\n      const assignee = issue.assignee || issue.asignado_a || 'Unassigned';\r\n      const status = issue.status || issue.estado || 'Unknown';\r\n      const updated = issue.updated || issue.actualizado;\r\n      const timeAgo = updated ? this.getTimeAgo(new Date(updated)) : '';\r\n\r\n      return `\r\n        <div class=\"activity-item\">\r\n          <span class=\"activity-icon\">üìã</span>\r\n          <div class=\"activity-content\">\r\n            <strong>${this.escapeHtml(key)}</strong>\r\n            <p>${this.escapeHtml(summary)}</p>\r\n            <small>\r\n              üë§ ${this.escapeHtml(assignee)} ‚Ä¢ \r\n              üìä ${this.escapeHtml(status)}\r\n              ${timeAgo ? ` ‚Ä¢ üïê ${timeAgo}` : ''}\r\n            </small>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join('');\r\n\r\n    activity.innerHTML = recent;\r\n  }\r\n\r\n  /**\r\n   * Get time ago string\r\n   */\r\n  getTimeAgo(date) {\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / (1000 * 60));\r\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffMins < 1) return 'just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString();\r\n  }\r\n\r\n  /**\r\n   * Escape HTML to prevent XSS\r\n   */\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n\r\n  /**\r\n   * Apply quick filter helper\r\n   */\r\n  applyQuickFilter(filterType, value) {\r\n    if (!window.filterManager) {\r\n      console.warn('FilterManager not available');\r\n      return;\r\n    }\r\n\r\n    // Clear other filters first\r\n    const inputs = document.querySelectorAll('.filter-bar input:not([type=\"checkbox\"]), .filter-bar select');\r\n    inputs.forEach(input => input.value = '');\r\n\r\n    // Apply specific filter based on type\r\n    let filterInput;\r\n    switch (filterType) {\r\n      case 'assignee':\r\n        filterInput = document.getElementById('assigneeFilterInput') ||\r\n          document.querySelector('input[placeholder*=\"Assignee\"]') ||\r\n          document.querySelector('input[placeholder*=\"Asignado\"]') ||\r\n          document.querySelector('.filter-input[placeholder*=\"assignee\" i]');\r\n        break;\r\n      case 'status':\r\n        filterInput = document.getElementById('statusFilterSelect') ||\r\n          document.querySelector('select.status-filter') ||\r\n          document.querySelector('#statusSelectFilter');\r\n        break;\r\n      case 'priority':\r\n        filterInput = document.getElementById('priorityFilterSelect') ||\r\n          document.querySelector('select.priority-filter') ||\r\n          document.querySelector('#prioritySelectFilter');\r\n        break;\r\n    }\r\n\r\n    if (filterInput) {\r\n      filterInput.value = value;\r\n      // Trigger filter application\r\n      if (typeof window.filterManager.applyFilters === 'function') {\r\n        window.filterManager.applyFilters();\r\n      }\r\n    } else {\r\n      console.warn(`Filter input not found for type: ${filterType}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export Report (Enhanced)\r\n   */\r\n  async exportReport(format = 'csv') {\r\n    const serviceDeskId = window.state?.currentDesk || '4';\r\n    const queueId = window.state?.currentQueue || '';\r\n\r\n    try {\r\n      let url = `/api/reports/export/${format}?serviceDeskId=${serviceDeskId}`;\r\n      if (queueId) url += `&queueId=${queueId}`;\r\n\r\n      // Add date range filters if available\r\n      if (window.state?.dateRange) {\r\n        url += `&startDate=${window.state.dateRange.startDate}&endDate=${window.state.dateRange.endDate}`;\r\n      }\r\n\r\n      const response = await fetch(url);\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const downloadUrl = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = downloadUrl;\r\n        a.download = `speedyflow_report_${new Date().getTime()}.${format}`;\r\n        a.click();\r\n        URL.revokeObjectURL(downloadUrl);\r\n\r\n        this.showNotification('Report Exported', `${format.toUpperCase()} file downloaded successfully`, 'success');\r\n      } else {\r\n        const error = await response.json();\r\n        this.showNotification('Export Failed', error.error || 'Failed to export report', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      this.showNotification('Export Error', 'Failed to download report', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate CSV\r\n   */\r\n  generateCSV(issues) {\r\n    const headers = ['Key', 'Summary', 'Status', 'Priority', 'Assignee'];\r\n    const rows = issues.map(issue => [\r\n      issue.key,\r\n      issue.summary || '',\r\n      issue.status || '',\r\n      issue.priority || '',\r\n      issue.assignee || ''\r\n    ]);\r\n\r\n    return [\r\n      headers.join(','),\r\n      ...rows.map(row => row.map(cell => `\"${cell}\"`).join(','))\r\n    ].join('\\n');\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Notifications\r\n   */\r\n  initNotificationsButton() {\r\n    // NOTE: Button handler is now managed by notifications-panel.js\r\n    // This prevents duplicate event listeners\r\n    console.log('‚úÖ Notifications button initialization skipped (handled by notifications-panel.js)');\r\n  }\r\n\r\n  /**\r\n   * Create Notifications Panel\r\n   */\r\n  createNotificationsPanel() {\r\n    const panel = document.createElement('div');\r\n    panel.id = 'notificationsPanel';\r\n    panel.className = 'notifications-panel';\r\n    panel.innerHTML = `\r\n      <div class=\"notifications-header\">\r\n        <h3>üîî Notifications</h3>\r\n        <button class=\"close-btn\" onclick=\"const p = this.closest('.notifications-panel'); p.classList.remove('active'); setTimeout(() => p.style.display='none', 300);\">&times;</button>\r\n      </div>\r\n      <div class=\"notifications-body\">\r\n        <div class=\"notification-item unread\">\r\n          <span class=\"notification-icon\">üìã</span>\r\n          <div class=\"notification-content\">\r\n            <strong>New ticket assigned</strong>\r\n            <p>MSM-6891 has been assigned to you</p>\r\n            <small>2 minutes ago</small>\r\n          </div>\r\n        </div>\r\n        <div class=\"notification-item unread\">\r\n          <span class=\"notification-icon\">üí¨</span>\r\n          <div class=\"notification-content\">\r\n            <strong>New comment</strong>\r\n            <p>Someone commented on MSM-6885</p>\r\n            <small>15 minutes ago</small>\r\n          </div>\r\n        </div>\r\n        <div class=\"notification-item\">\r\n          <span class=\"notification-icon\">‚úÖ</span>\r\n          <div class=\"notification-content\">\r\n            <strong>Ticket updated</strong>\r\n            <p>MSM-6863 status changed to Done</p>\r\n            <small>1 hour ago</small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"notifications-footer\">\r\n        <button class=\"btn-text\">Mark all as read</button>\r\n        <button class=\"btn-text\">View all</button>\r\n      </div>\r\n    `;\r\n\r\n    return panel;\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Refresh\r\n   */\r\n  initRefreshButton() {\r\n    const btn = document.getElementById('refreshBtn');\r\n    if (!btn) return;\r\n\r\n    btn.addEventListener('click', async (e) => {\r\n      e.preventDefault();\r\n      console.log('üîÑ Refresh clicked');\r\n\r\n      // Add spinning animation\r\n      const icon = btn.querySelector('.icon');\r\n      if (icon) {\r\n        icon.style.animation = 'spin 1s linear';\r\n      }\r\n\r\n      // Reload data\r\n      await this.refreshData();\r\n\r\n      // Remove animation\r\n      setTimeout(() => {\r\n        if (icon) icon.style.animation = '';\r\n      }, 1000);\r\n\r\n      this.showNotification('Refresh', 'Data refreshed successfully', 'success');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Refresh Data\r\n   */\r\n  async refreshData() {\r\n    console.log('üîÑ Refreshing data...');\r\n\r\n    // Refresh sidebar cache in background\r\n    await this.refreshCache();\r\n\r\n    // Clear browser cache\r\n    if (window.CacheManager) {\r\n      window.CacheManager.clear();\r\n      console.log('üóëÔ∏è Cleared browser cache');\r\n    }\r\n\r\n    // Reload issues\r\n    if (typeof window.loadIssuesForQueue === 'function' && window.state?.currentQueue) {\r\n      await window.loadIssuesForQueue(window.state.currentDesk, window.state.currentQueue);\r\n    } else if (typeof window.loadIssues === 'function' && window.state?.currentQueue) {\r\n      await window.loadIssues(window.state.currentQueue);\r\n    }\r\n\r\n    // Reload service desks if function exists\r\n    if (typeof window.loadServiceDesks === 'function') {\r\n      await window.loadServiceDesks();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Settings\r\n   */\r\n  initSettingsButton() {\r\n    const items = document.querySelectorAll('.sidebar-section[aria-label=\"Account\"] .sidebar-menu-item');\r\n    const settingsBtn = Array.from(items).find(item => item.textContent.includes('Settings'));\r\n\r\n    if (settingsBtn) {\r\n      settingsBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        console.log('‚öôÔ∏è Settings clicked');\r\n        this.openSettingsPanel();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open Settings Panel\r\n   */\r\n  openSettingsPanel() {\r\n    let panel = document.getElementById('settingsPanel');\r\n\r\n    if (!panel) {\r\n      panel = this.createSettingsPanel();\r\n      document.body.appendChild(panel);\r\n    }\r\n\r\n    panel.style.display = 'flex';\r\n    setTimeout(() => panel.classList.add('active'), 10);\r\n\r\n    // Load current settings\r\n    this.loadSettings();\r\n  }\r\n\r\n  /**\r\n   * Create Settings Panel\r\n   */\r\n  createSettingsPanel() {\r\n    const panel = document.createElement('div');\r\n    panel.id = 'settingsPanel';\r\n    panel.className = 'modal-overlay';\r\n    panel.innerHTML = `\r\n      <div class=\"modal-container settings-modal\">\r\n        <div class=\"modal-header\">\r\n          <h2>‚öôÔ∏è Settings</h2>\r\n          <button class=\"modal-close\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"settings-tabs\">\r\n            <button class=\"settings-tab active\" data-tab=\"general\">General</button>\r\n            <button class=\"settings-tab\" data-tab=\"appearance\">Appearance</button>\r\n            <button class=\"settings-tab\" data-tab=\"notifications\">Notifications</button>\r\n            <button class=\"settings-tab\" data-tab=\"advanced\">Advanced</button>\r\n          </div>\r\n          \r\n          <div class=\"settings-content\">\r\n            <!-- General Settings -->\r\n            <div class=\"settings-panel active\" data-panel=\"general\">\r\n              <h3>General Settings</h3>\r\n              <div class=\"setting-item\">\r\n                <label for=\"autoRefresh\">Auto-refresh tickets</label>\r\n                <input type=\"checkbox\" id=\"autoRefresh\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"refreshInterval\">Refresh interval (seconds)</label>\r\n                <input type=\"number\" id=\"refreshInterval\" value=\"60\" min=\"10\" max=\"300\">\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"defaultView\">Default view</label>\r\n                <select id=\"defaultView\">\r\n                  <option value=\"kanban\">Kanban Board</option>\r\n                  <option value=\"list\">List View</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Appearance Settings -->\r\n            <div class=\"settings-panel\" data-panel=\"appearance\">\r\n              <h3>Appearance</h3>\r\n              <div class=\"setting-item\">\r\n                <label for=\"themeSelect\">Theme</label>\r\n                <select id=\"themeSelect\">\r\n                  <option value=\"light\">Light</option>\r\n                  <option value=\"dark\">Dark</option>\r\n                  <option value=\"auto\">Auto (System)</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <!-- Font Family Customization -->\r\n              <div class=\"font-customization-section\">\r\n                <h4>Font Family</h4>\r\n                <p class=\"section-description\">Choose a font combination that matches your workflow and aesthetic preferences.</p>\r\n                <div id=\"fontPresetSelector\"></div>\r\n              </div>\r\n              \r\n              <div class=\"setting-item\">\r\n                <label for=\"compactMode\">Compact mode</label>\r\n                <input type=\"checkbox\" id=\"compactMode\">\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"showAvatars\">Show user avatars</label>\r\n                <input type=\"checkbox\" id=\"showAvatars\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"animationSpeed\">Animation speed</label>\r\n                <select id=\"animationSpeed\">\r\n                  <option value=\"fast\">Fast</option>\r\n                  <option value=\"normal\">Normal</option>\r\n                  <option value=\"slow\">Slow</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Notifications Settings -->\r\n            <div class=\"settings-panel\" data-panel=\"notifications\">\r\n              <h3>Notification Preferences</h3>\r\n              <div class=\"setting-item\">\r\n                <label for=\"enableNotifications\">Enable notifications</label>\r\n                <input type=\"checkbox\" id=\"enableNotifications\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"soundEnabled\">Enable sound</label>\r\n                <input type=\"checkbox\" id=\"soundEnabled\">\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"notifyAssigned\">Notify when assigned</label>\r\n                <input type=\"checkbox\" id=\"notifyAssigned\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"notifyComments\">Notify on comments</label>\r\n                <input type=\"checkbox\" id=\"notifyComments\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"notifyMentions\">Notify on mentions</label>\r\n                <input type=\"checkbox\" id=\"notifyMentions\" checked>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Advanced Settings -->\r\n            <div class=\"settings-panel\" data-panel=\"advanced\">\r\n              <h3>Advanced Settings</h3>\r\n              <div class=\"setting-item\">\r\n                <label for=\"cacheEnabled\">Enable caching</label>\r\n                <input type=\"checkbox\" id=\"cacheEnabled\" checked>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label for=\"debugMode\">Debug mode</label>\r\n                <input type=\"checkbox\" id=\"debugMode\">\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label>Clear cache</label>\r\n                <button class=\"btn-secondary\" onclick=\"localStorage.clear(); location.reload()\">Clear All Data</button>\r\n              </div>\r\n              <div class=\"setting-item\">\r\n                <label>Export settings</label>\r\n                <button class=\"btn-secondary\" onclick=\"window.sidebarActions.exportSettings()\">Export</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn-secondary\" onclick=\"this.closest('.modal-overlay').classList.remove('active'); setTimeout(() => this.closest('.modal-overlay').style.display='none', 300)\">Cancel</button>\r\n          <button class=\"btn-primary\" onclick=\"window.sidebarActions.saveSettings()\">Save Changes</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Tab switching\r\n    panel.querySelectorAll('.settings-tab').forEach(tab => {\r\n      tab.addEventListener('click', () => {\r\n        const tabName = tab.dataset.tab;\r\n\r\n        // Update tabs\r\n        panel.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));\r\n        tab.classList.add('active');\r\n\r\n        // Update panels\r\n        panel.querySelectorAll('.settings-panel').forEach(p => p.classList.remove('active'));\r\n        panel.querySelector(`[data-panel=\"${tabName}\"]`).classList.add('active');\r\n      });\r\n    });\r\n\r\n    return panel;\r\n  }\r\n\r\n  /**\r\n   * Load Settings from localStorage\r\n   */\r\n  loadSettings() {\r\n    const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');\r\n\r\n    // General\r\n    if (settings.autoRefresh !== undefined) {\r\n      document.getElementById('autoRefresh').checked = settings.autoRefresh;\r\n    }\r\n    if (settings.refreshInterval) {\r\n      document.getElementById('refreshInterval').value = settings.refreshInterval;\r\n    }\r\n    if (settings.defaultView) {\r\n      document.getElementById('defaultView').value = settings.defaultView;\r\n    }\r\n\r\n    // Appearance\r\n    if (settings.theme) {\r\n      document.getElementById('themeSelect').value = settings.theme;\r\n    }\r\n    if (settings.compactMode !== undefined) {\r\n      document.getElementById('compactMode').checked = settings.compactMode;\r\n    }\r\n    if (settings.showAvatars !== undefined) {\r\n      document.getElementById('showAvatars').checked = settings.showAvatars;\r\n    }\r\n    if (settings.animationSpeed) {\r\n      document.getElementById('animationSpeed').value = settings.animationSpeed;\r\n    }\r\n\r\n    // Initialize font family selector\r\n    this.initializeFontSelector();\r\n\r\n    // Apply saved font preset\r\n    const savedPreset = localStorage.getItem('fontPreset') || 'business';\r\n    this.applyFontPreset(savedPreset);\r\n\r\n    // Notifications\r\n    if (settings.enableNotifications !== undefined) {\r\n      document.getElementById('enableNotifications').checked = settings.enableNotifications;\r\n    }\r\n    if (settings.soundEnabled !== undefined) {\r\n      document.getElementById('soundEnabled').checked = settings.soundEnabled;\r\n    }\r\n    if (settings.notifyAssigned !== undefined) {\r\n      document.getElementById('notifyAssigned').checked = settings.notifyAssigned;\r\n    }\r\n    if (settings.notifyComments !== undefined) {\r\n      document.getElementById('notifyComments').checked = settings.notifyComments;\r\n    }\r\n    if (settings.notifyMentions !== undefined) {\r\n      document.getElementById('notifyMentions').checked = settings.notifyMentions;\r\n    }\r\n\r\n    // Advanced\r\n    if (settings.cacheEnabled !== undefined) {\r\n      document.getElementById('cacheEnabled').checked = settings.cacheEnabled;\r\n    }\r\n    if (settings.debugMode !== undefined) {\r\n      document.getElementById('debugMode').checked = settings.debugMode;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save Settings\r\n   */\r\n  saveSettings() {\r\n    const settings = {\r\n      // General\r\n      autoRefresh: document.getElementById('autoRefresh').checked,\r\n      refreshInterval: parseInt(document.getElementById('refreshInterval').value),\r\n      defaultView: document.getElementById('defaultView').value,\r\n\r\n      // Appearance\r\n      theme: document.getElementById('themeSelect').value,\r\n      compactMode: document.getElementById('compactMode').checked,\r\n      showAvatars: document.getElementById('showAvatars').checked,\r\n      animationSpeed: document.getElementById('animationSpeed').value,\r\n\r\n      // Notifications\r\n      enableNotifications: document.getElementById('enableNotifications').checked,\r\n      soundEnabled: document.getElementById('soundEnabled').checked,\r\n      notifyAssigned: document.getElementById('notifyAssigned').checked,\r\n      notifyComments: document.getElementById('notifyComments').checked,\r\n      notifyMentions: document.getElementById('notifyMentions').checked,\r\n\r\n      // Advanced\r\n      cacheEnabled: document.getElementById('cacheEnabled').checked,\r\n      debugMode: document.getElementById('debugMode').checked\r\n    };\r\n\r\n    localStorage.setItem('userSettings', JSON.stringify(settings));\r\n\r\n    // Apply theme if changed\r\n    if (settings.theme !== 'auto') {\r\n      document.body.className = `theme-${settings.theme}`;\r\n      localStorage.setItem('theme', settings.theme);\r\n    }\r\n\r\n    // Close modal\r\n    const panel = document.getElementById('settingsPanel');\r\n    panel.classList.remove('active');\r\n    setTimeout(() => panel.style.display = 'none', 300);\r\n\r\n    this.showNotification('Settings Saved', 'Your preferences have been updated', 'success');\r\n  }\r\n\r\n  /**\r\n   * Export Settings\r\n   */\r\n  exportSettings() {\r\n    const settings = localStorage.getItem('userSettings') || '{}';\r\n    const blob = new Blob([settings], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `speedyflow-settings-${new Date().getTime()}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n\r\n    this.showNotification('Settings Exported', 'Settings file downloaded', 'success');\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Help Center\r\n   */\r\n  initHelpCenterButton() {\r\n    const items = document.querySelectorAll('.sidebar-section[aria-label=\"Account\"] .sidebar-menu-item');\r\n    const helpBtn = Array.from(items).find(item => item.textContent.includes('Help'));\r\n\r\n    if (helpBtn) {\r\n      helpBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        console.log('‚ùî Help Center clicked');\r\n\r\n        // Open help documentation\r\n        window.open('https://github.com/speedyflow/docs', '_blank');\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: User Menu\r\n   */\r\n  initUserMenuButton() {\r\n    const btn = document.getElementById('userMenuBtn');\r\n    if (!btn) return;\r\n\r\n    btn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      console.log('üë§ User Menu clicked');\r\n\r\n      // Toggle user dropdown\r\n      this.toggleUserDropdown();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggle User Dropdown\r\n   */\r\n  toggleUserDropdown() {\r\n    const dropdown = document.getElementById('userDropdown');\r\n    if (!dropdown) {\r\n      console.warn('User dropdown not found');\r\n      return;\r\n    }\r\n\r\n    const isExpanded = dropdown.classList.contains('active');\r\n\r\n    if (isExpanded) {\r\n      dropdown.classList.remove('active');\r\n      dropdown.setAttribute('aria-hidden', 'true');\r\n    } else {\r\n      dropdown.classList.add('active');\r\n      dropdown.setAttribute('aria-hidden', 'false');\r\n\r\n      // Update user info\r\n      this.updateUserDropdown();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update User Dropdown with current user info\r\n   */\r\n  updateUserDropdown() {\r\n    const dropdown = document.getElementById('userDropdown');\r\n    if (!dropdown || !window.state?.currentUser) return;\r\n\r\n    const userName = dropdown.querySelector('.user-dropdown-header h4');\r\n    const userEmail = dropdown.querySelector('.user-dropdown-header p');\r\n\r\n    if (userName) {\r\n      userName.textContent = window.state.currentUser;\r\n    }\r\n\r\n    if (userEmail && window.state.currentUserAccountId) {\r\n      userEmail.textContent = window.state.currentUserAccountId;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Bot√≥n: Logout\r\n   */\r\n  initLogoutButton() {\r\n    const btn = document.getElementById('logoutBtn');\r\n    if (!btn) return;\r\n\r\n    btn.addEventListener('click', async (e) => {\r\n      e.preventDefault();\r\n      console.log('üö™ Logout clicked');\r\n\r\n      // Confirm logout\r\n      if (confirm('Are you sure you want to logout?')) {\r\n        await this.logout();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Logout\r\n   */\r\n  async logout() {\r\n    console.log('üö™ Logging out...');\r\n\r\n    // Clear localStorage\r\n    localStorage.clear();\r\n\r\n    // Clear session\r\n    if (typeof window.state !== 'undefined') {\r\n      window.state.currentUser = null;\r\n      window.state.currentUserAccountId = null;\r\n    }\r\n\r\n    // Redirect to login or home\r\n    this.showNotification('Logout', 'Logged out successfully', 'success');\r\n\r\n    // Reload page after short delay\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 1500);\r\n  }\r\n\r\n  /**\r\n   * Show Notification Toast\r\n   */\r\n  showNotification(title, message, type = 'info') {\r\n    console.log(`üì¢ ${title}: ${message}`);\r\n\r\n    // Create toast notification\r\n    const toast = document.createElement('div');\r\n    toast.className = `toast toast-${type}`;\r\n    toast.innerHTML = `\r\n      <div class=\"toast-icon\">${this.getToastIcon(type)}</div>\r\n      <div class=\"toast-content\">\r\n        <strong>${title}</strong>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n\r\n    // Add to body\r\n    document.body.appendChild(toast);\r\n\r\n    // Show with animation\r\n    setTimeout(() => toast.classList.add('show'), 10);\r\n\r\n    // Remove after 3 seconds\r\n    setTimeout(() => {\r\n      toast.classList.remove('show');\r\n      setTimeout(() => toast.remove(), 300);\r\n    }, 3000);\r\n  }\r\n\r\n  /**\r\n   * Initialize Font Selector\r\n   */\r\n  initializeFontSelector() {\r\n    const container = document.getElementById('fontPresetSelector');\r\n    if (!container) {\r\n      console.warn('‚ö†Ô∏è Font preset selector container not found');\r\n      return;\r\n    }\r\n\r\n    // Generate font preset selector HTML directly\r\n    const selectorHTML = this.generateFontPresetHTML();\r\n    container.innerHTML = selectorHTML;\r\n\r\n    // Setup event handlers\r\n    this.setupFontPresetHandlers();\r\n\r\n    console.log('‚úÖ Font selector initialized');\r\n  }\r\n\r\n  /**\r\n   * Generate Font Preset Selector HTML\r\n   */\r\n  generateFontPresetHTML() {\r\n    return `\r\n      <div class=\"font-preset-selector\">\r\n        <div class=\"font-preset-option\" data-preset=\"business\">\r\n          <div class=\"preset-header\">\r\n            <h4>Business Classic</h4>\r\n            <span class=\"preset-badge default\">Default</span>\r\n          </div>\r\n          <div class=\"preset-fonts\">\r\n            <span class=\"font-ui\">Segoe UI</span> + <span class=\"font-content\">Georgia</span>\r\n          </div>\r\n          <p class=\"preset-description\">Familiar and professional - Perfect for corporate environments</p>\r\n        </div>\r\n        \r\n        <div class=\"font-preset-option\" data-preset=\"modern\">\r\n          <div class=\"preset-header\">\r\n            <h4>Modern Professional</h4>\r\n            <span class=\"preset-badge tech\">Tech</span>\r\n          </div>\r\n          <div class=\"preset-fonts\">\r\n            <span class=\"font-ui\">Inter</span> + <span class=\"font-content\">Source Serif Pro</span>\r\n          </div>\r\n          <p class=\"preset-description\">Clean and technological - Optimized for digital interfaces</p>\r\n        </div>\r\n        \r\n        <div class=\"font-preset-option\" data-preset=\"corporate\">\r\n          <div class=\"preset-header\">\r\n            <h4>Corporate Executive</h4>\r\n            <span class=\"preset-badge premium\">Premium</span>\r\n          </div>\r\n          <div class=\"preset-fonts\">\r\n            <span class=\"font-ui\">IBM Plex Sans</span> + <span class=\"font-content\">Playfair Display</span>\r\n          </div>\r\n          <p class=\"preset-description\">Elegant and executive - Sophisticated corporate design</p>\r\n        </div>\r\n        \r\n        <div class=\"font-preset-option\" data-preset=\"creative\">\r\n          <div class=\"preset-header\">\r\n            <h4>Creative Studio</h4>\r\n            <span class=\"preset-badge creative\">Creative</span>\r\n          </div>\r\n          <div class=\"preset-fonts\">\r\n            <span class=\"font-ui\">Poppins</span> + <span class=\"font-content\">Crimson Text</span>\r\n          </div>\r\n          <p class=\"preset-description\">Approachable and creative - Perfect for innovative teams</p>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Setup Font Preset Event Handlers\r\n   */\r\n  setupFontPresetHandlers() {\r\n    const options = document.querySelectorAll('.font-preset-option');\r\n\r\n    options.forEach(option => {\r\n      option.addEventListener('click', (e) => {\r\n        const presetId = option.getAttribute('data-preset');\r\n        this.applyFontPreset(presetId);\r\n\r\n        // Update active state\r\n        options.forEach(opt => opt.classList.remove('active'));\r\n        option.classList.add('active');\r\n      });\r\n    });\r\n\r\n    // Load current preset\r\n    const currentPreset = localStorage.getItem('fontPreset') || 'business';\r\n    const currentOption = document.querySelector(`[data-preset=\"${currentPreset}\"]`);\r\n    if (currentOption) {\r\n      currentOption.classList.add('active');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Apply Font Preset\r\n   */\r\n  applyFontPreset(presetId) {\r\n    // Remove existing preset classes\r\n    const presets = ['business', 'modern', 'corporate', 'creative'];\r\n    presets.forEach(preset => {\r\n      document.body.classList.remove(`font-preset-${preset}`);\r\n      document.documentElement.classList.remove(`font-preset-${preset}`);\r\n    });\r\n\r\n    // Apply new preset\r\n    document.body.classList.add(`font-preset-${presetId}`);\r\n    document.documentElement.classList.add(`font-preset-${presetId}`);\r\n\r\n    // Save to localStorage\r\n    localStorage.setItem('fontPreset', presetId);\r\n\r\n    // Log adaptation details\r\n    this.logFontAdaptation(presetId);\r\n\r\n    console.log(`‚úÖ Font preset applied: ${presetId}`);\r\n  }\r\n\r\n  /**\r\n   * Show cache indicator with refresh button for Metrics\r\n   * @param {string} source - Cache source: 'memory', 'localStorage', or 'backend'\r\n   * @param {number} age - Cache age in milliseconds\r\n   */\r\n  showMetricsCacheIndicator(source, age) {\r\n    const indicator = document.getElementById('metricsCacheIndicator');\r\n    if (!indicator) return;\r\n\r\n    const sourceIcons = {\r\n      memory: 'üí®',\r\n      localStorage: 'üíæ',\r\n      backend: 'üì°'\r\n    };\r\n\r\n    const sourceLabels = {\r\n      memory: 'En memoria',\r\n      localStorage: 'En cach√© local',\r\n      backend: 'Del servidor'\r\n    };\r\n\r\n    const ageText = age > 0 ? ` ‚Ä¢ ${this.formatCacheAge(age)} atr√°s` : '';\r\n\r\n    indicator.innerHTML = `\r\n      <span style=\"display: flex; align-items: center; gap: 6px;\">\r\n        ${sourceIcons[source]} ${sourceLabels[source]}${ageText}\r\n      </span>\r\n      <button \r\n        onclick=\"window.sidebarActions.refreshReports()\" \r\n        style=\"padding: 4px 8px; background: #f1f5f9; border: 1px solid #cbd5e1; border-radius: 4px; cursor: pointer; font-size: 11px; display: flex; align-items: center; gap: 4px; transition: all 0.2s;\"\r\n        onmouseover=\"this.style.background='#e2e8f0'\" \r\n        onmouseout=\"this.style.background='#f1f5f9'\"\r\n        title=\"Actualizar m√©tricas con datos recientes\"\r\n      >\r\n        üîÑ Actualizar\r\n      </button>\r\n    `;\r\n    indicator.style.display = 'flex';\r\n  }\r\n\r\n  /**\r\n   * Format cache age for display\r\n   * @param {number} ms - Age in milliseconds\r\n   * @returns {string} Formatted age string\r\n   */\r\n  formatCacheAge(ms) {\r\n    const seconds = Math.floor(ms / 1000);\r\n    const minutes = Math.floor(seconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n\r\n    if (hours > 0) return `${hours}h ${minutes % 60}m`;\r\n    if (minutes > 0) return `${minutes}m`;\r\n    return `${seconds}s`;\r\n  }\r\n\r\n  /**\r\n   * Log Font Adaptation Details\r\n   */\r\n  logFontAdaptation(presetId) {\r\n    const adaptations = {\r\n      'business': 'Segoe UI + Georgia ‚Üí Aptos + Century (0.95x line-height, +0.005em spacing)',\r\n      'modern': 'Inter + Source Serif Pro ‚Üí Aptos + Century (1.02x line-height, -0.002em spacing)',\r\n      'corporate': 'IBM Plex + Playfair ‚Üí Aptos + Century (1.05x line-height, +0.008em spacing)',\r\n      'creative': 'Poppins + Crimson Text ‚Üí Aptos + Century (1.08x line-height, +0.003em spacing)'\r\n    };\r\n\r\n    console.log(`üé® Font Adaptation: ${adaptations[presetId]}`);\r\n  }\r\n\r\n  /**\r\n   * Get Toast Icon\r\n   */\r\n  getToastIcon(type) {\r\n    const icons = {\r\n      'success': '‚úÖ',\r\n      'error': '‚ùå',\r\n      'warning': '‚ö†Ô∏è',\r\n      'info': '‚ÑπÔ∏è'\r\n    };\r\n    return icons[type] || '‚ÑπÔ∏è';\r\n  }\r\n}\r\n\r\n// Initialize on DOM ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    window.sidebarActions = new SidebarActions();\r\n    window.sidebarActions.init();\r\n  });\r\n} else {\r\n  window.sidebarActions = new SidebarActions();\r\n  window.sidebarActions.init();\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/sidebar-inline-editor.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 447
      },
      {
        "start": 711,
        "end": 779
      },
      {
        "start": 1640,
        "end": 1700
      },
      {
        "start": 3216,
        "end": 3284
      },
      {
        "start": 4275,
        "end": 4326
      },
      {
        "start": 4494,
        "end": 4562
      },
      {
        "start": 5879,
        "end": 5948
      },
      {
        "start": 6168,
        "end": 6240
      },
      {
        "start": 8362,
        "end": 8421
      },
      {
        "start": 9657,
        "end": 9723
      },
      {
        "start": 10938,
        "end": 10988
      },
      {
        "start": 11434,
        "end": 11509
      },
      {
        "start": 12320,
        "end": 12386
      },
      {
        "start": 12631,
        "end": 12690
      },
      {
        "start": 12881,
        "end": 12947
      },
      {
        "start": 13503,
        "end": 13567
      },
      {
        "start": 14272,
        "end": 14328
      },
      {
        "start": 14547,
        "end": 14634
      },
      {
        "start": 15153,
        "end": 15337
      }
    ],
    "text": "/**\r\n * SIDEBAR INLINE EDITOR WITH AI SUGGESTIONS\r\n * Integra el AI analyzer con edici√≥n inline de campos en el sidebar\r\n */\r\n\r\nclass SidebarInlineEditor {\r\n  constructor() {\r\n    this.currentIssue = null;\r\n    this.aiSuggestions = [];\r\n    this.editableFields = [];\r\n    this.isEditMode = false;\r\n    this.pendingChanges = {};\r\n  }\r\n\r\n  /**\r\n   * Inicializa el editor inline para un issue\r\n   * @param {string} issueKey - Key del issue\r\n   */\r\n  async initForIssue(issueKey) {\r\n    console.log(`üìù Initializing inline editor for ${issueKey}`);\r\n    this.currentIssue = issueKey;\r\n    this.pendingChanges = {};\r\n    \r\n    // Agregar bot√≥n de AI suggestions en el sidebar\r\n    this.addAISuggestionsButton();\r\n  }\r\n\r\n  /**\r\n   * Agrega bot√≥n de AI suggestions al sidebar\r\n   */\r\n  addAISuggestionsButton() {\r\n    const sidebar = document.getElementById('rightSidebar');\r\n    if (!sidebar) return;\r\n\r\n    // Buscar el header del sidebar\r\n    const header = sidebar.querySelector('.sidebar-header');\r\n    if (!header) return;\r\n\r\n    // Verificar si ya existe\r\n    if (document.getElementById('aiSuggestionsBtn')) return;\r\n\r\n    // Crear bot√≥n\r\n    const btn = document.createElement('button');\r\n    btn.id = 'aiSuggestionsBtn';\r\n    btn.className = 'sidebar-ai-btn';\r\n    btn.innerHTML = 'ü§ñ AI Analyze';\r\n    btn.title = 'Get AI suggestions for missing fields';\r\n    btn.onclick = () => this.loadAISuggestions();\r\n\r\n    // Insertar antes del bot√≥n de cerrar\r\n    const closeBtn = header.querySelector('#closeSidebarBtn');\r\n    if (closeBtn) {\r\n      header.insertBefore(btn, closeBtn);\r\n    } else {\r\n      header.appendChild(btn);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Carga y muestra sugerencias de AI\r\n   */\r\n  async loadAISuggestions() {\r\n    console.log(`ü§ñ Loading AI suggestions for ${this.currentIssue}`);\r\n    \r\n    const btn = document.getElementById('aiSuggestionsBtn');\r\n    if (btn) {\r\n      btn.innerHTML = '‚è≥ Analyzing...';\r\n      btn.disabled = true;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/ai/suggest-updates', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          issue_key: this.currentIssue,\r\n          fields_to_analyze: [\r\n            'customfield_10125',  // Criticidad\r\n            'priority',\r\n            'labels',\r\n            'assignee',\r\n            'components',\r\n            'description'\r\n          ]\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      this.aiSuggestions = data.suggestions || [];\r\n      \r\n      console.log(`‚úÖ Received ${this.aiSuggestions.length} AI suggestions`);\r\n\r\n      if (this.aiSuggestions.length === 0) {\r\n        this.showNoSuggestionsMessage();\r\n      } else {\r\n        this.enableEditMode();\r\n        this.renderInlineSuggestions();\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error loading AI suggestions:', error);\r\n      alert('Failed to load AI suggestions. Please try again.');\r\n    } finally {\r\n      if (btn) {\r\n        btn.innerHTML = 'ü§ñ AI Analyze';\r\n        btn.disabled = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Muestra mensaje cuando no hay sugerencias\r\n   */\r\n  showNoSuggestionsMessage() {\r\n    const sidebar = document.getElementById('detailsPanel');\r\n    if (!sidebar) return;\r\n\r\n    // Crear banner temporal\r\n    const banner = document.createElement('div');\r\n    banner.className = 'ai-suggestions-banner success';\r\n    banner.innerHTML = `\r\n      <div style=\"display: flex; align-items: center; gap: 12px; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(5,150,105,0.1)); border-radius: 12px; border-left: 4px solid #10b981; margin: 16px 0;\">\r\n        <span style=\"font-size: 24px;\">‚úÖ</span>\r\n        <div>\r\n          <div style=\"font-weight: 600; color: #10b981; margin-bottom: 4px;\">All Fields Complete!</div>\r\n          <div style=\"font-size: 13px; color: #64748b;\">This ticket has all required fields filled out correctly.</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    sidebar.insertBefore(banner, sidebar.firstChild);\r\n\r\n    // Remover despu√©s de 5 segundos\r\n    setTimeout(() => banner.remove(), 5000);\r\n  }\r\n\r\n  /**\r\n   * Habilita modo de edici√≥n\r\n   */\r\n  enableEditMode() {\r\n    this.isEditMode = true;\r\n    console.log('üìù Edit mode enabled');\r\n\r\n    // Agregar banner de sugerencias\r\n    this.addSuggestionsBanner();\r\n  }\r\n\r\n  /**\r\n   * Agrega banner con contador de sugerencias\r\n   */\r\n  addSuggestionsBanner() {\r\n    const sidebar = document.getElementById('detailsPanel');\r\n    if (!sidebar) return;\r\n\r\n    // Remover banner existente\r\n    const existingBanner = sidebar.querySelector('.ai-suggestions-banner');\r\n    if (existingBanner) existingBanner.remove();\r\n\r\n    const banner = document.createElement('div');\r\n    banner.className = 'ai-suggestions-banner';\r\n    banner.innerHTML = `\r\n      <div style=\"display: flex; align-items: center; justify-content: space-between; padding: 16px; background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(139,92,246,0.1)); border-radius: 12px; border-left: 4px solid #a855f7; margin: 16px 0;\">\r\n        <div style=\"display: flex; align-items: center; gap: 12px;\">\r\n          <span style=\"font-size: 24px;\">ü§ñ</span>\r\n          <div>\r\n            <div style=\"font-weight: 600; color: #cbd5e1; margin-bottom: 4px;\">AI Suggestions Ready</div>\r\n            <div style=\"font-size: 13px; color: #94a3b8;\">Found ${this.aiSuggestions.length} field${this.aiSuggestions.length !== 1 ? 's' : ''} to improve</div>\r\n          </div>\r\n        </div>\r\n        <button class=\"btn-primary-sm\" onclick=\"window.sidebarEditor.applyAllSuggestions()\">\r\n          Apply All\r\n        </button>\r\n      </div>\r\n    `;\r\n\r\n    sidebar.insertBefore(banner, sidebar.firstChild);\r\n  }\r\n\r\n  /**\r\n   * Renderiza sugerencias inline en los campos\r\n   */\r\n  renderInlineSuggestions() {\r\n    console.log(`üé® Rendering ${this.aiSuggestions.length} inline suggestions`);\r\n\r\n    this.aiSuggestions.forEach(suggestion => {\r\n      this.renderFieldSuggestion(suggestion);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Renderiza sugerencia para un campo espec√≠fico\r\n   */\r\n  renderFieldSuggestion(suggestion) {\r\n    const { field, field_label, current_value, suggested_value, confidence, reason } = suggestion;\r\n\r\n    // Buscar el campo en el sidebar\r\n    const fieldElements = document.querySelectorAll('.field-item, .detail-section');\r\n    let fieldContainer = null;\r\n\r\n    for (const el of fieldElements) {\r\n      const label = el.querySelector('.field-label, .detail-label');\r\n      if (label && label.textContent.includes(field_label)) {\r\n        fieldContainer = el;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!fieldContainer) {\r\n      console.warn(`Field container not found for: ${field_label}`);\r\n      return;\r\n    }\r\n\r\n    // Agregar clase para highlighting\r\n    fieldContainer.classList.add('has-ai-suggestion');\r\n\r\n    // Crear sugerencia inline\r\n    const suggestionEl = document.createElement('div');\r\n    suggestionEl.className = 'inline-ai-suggestion';\r\n    suggestionEl.innerHTML = `\r\n      <div class=\"suggestion-header\">\r\n        <span class=\"suggestion-icon\">ü§ñ</span>\r\n        <span class=\"suggestion-label\">AI Suggestion</span>\r\n        <span class=\"confidence-badge\" style=\"background: ${this.getConfidenceColor(confidence)}\">\r\n          ${Math.round(confidence * 100)}% confident\r\n        </span>\r\n      </div>\r\n      <div class=\"suggestion-value\">\r\n        <strong>Suggested:</strong> ${this.formatSuggestionValue(suggested_value)}\r\n      </div>\r\n      <div class=\"suggestion-reason\">${reason}</div>\r\n      <div class=\"suggestion-actions\">\r\n        <button class=\"btn-suggestion-apply\" onclick=\"window.sidebarEditor.applySuggestion('${field}', ${JSON.stringify(suggested_value).replace(/'/g, \"&#39;\")})\">\r\n          ‚úì Apply\r\n        </button>\r\n        <button class=\"btn-suggestion-dismiss\" onclick=\"window.sidebarEditor.dismissSuggestion('${field}')\">\r\n          ‚úï Dismiss\r\n        </button>\r\n      </div>\r\n    `;\r\n\r\n    // Insertar despu√©s del valor actual\r\n    const valueEl = fieldContainer.querySelector('.field-value, .detail-value');\r\n    if (valueEl) {\r\n      valueEl.after(suggestionEl);\r\n    } else {\r\n      fieldContainer.appendChild(suggestionEl);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Aplica una sugerencia individual\r\n   */\r\n  async applySuggestion(field, suggestedValue) {\r\n    console.log(`‚úì Applying suggestion for ${field}:`, suggestedValue);\r\n\r\n    try {\r\n      // Preparar el valor seg√∫n el tipo de campo\r\n      const fieldUpdate = this.prepareFieldUpdate(field, suggestedValue);\r\n\r\n      // Llamar al API para actualizar\r\n      const response = await fetch(`/api/issues/${this.currentIssue}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ fields: fieldUpdate })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      console.log(`‚úÖ Field ${field} updated successfully`);\r\n\r\n      // Remover la sugerencia de la UI\r\n      this.removeSuggestionUI(field);\r\n\r\n      // Actualizar el valor en la UI\r\n      this.updateFieldValue(field, suggestedValue);\r\n\r\n      // Mostrar notificaci√≥n de √©xito\r\n      this.showSuccessNotification(field);\r\n\r\n      // Actualizar el modal de ML si est√° abierto\r\n      this.refreshMLAnalysisModal();\r\n\r\n    } catch (error) {\r\n      console.error(`‚ùå Error applying suggestion for ${field}:`, error);\r\n      alert(`Failed to update ${field}. Please try again.`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Aplica todas las sugerencias de una vez\r\n   */\r\n  async applyAllSuggestions() {\r\n    console.log(`üöÄ Applying all ${this.aiSuggestions.length} suggestions`);\r\n\r\n    const btn = document.querySelector('.ai-suggestions-banner button');\r\n    if (btn) {\r\n      btn.innerHTML = '‚è≥ Applying...';\r\n      btn.disabled = true;\r\n    }\r\n\r\n    let successCount = 0;\r\n    let failCount = 0;\r\n\r\n    for (const suggestion of this.aiSuggestions) {\r\n      try {\r\n        await this.applySuggestion(suggestion.field, suggestion.suggested_value);\r\n        successCount++;\r\n      } catch (error) {\r\n        console.error(`Failed to apply suggestion for ${suggestion.field}:`, error);\r\n        failCount++;\r\n      }\r\n    }\r\n\r\n    console.log(`‚úÖ Applied ${successCount}/${this.aiSuggestions.length} suggestions`);\r\n\r\n    // Remover el banner\r\n    const banner = document.querySelector('.ai-suggestions-banner');\r\n    if (banner) banner.remove();\r\n\r\n    // Mostrar resultado\r\n    alert(`Successfully applied ${successCount} of ${this.aiSuggestions.length} suggestions!`);\r\n\r\n    // Recargar el sidebar\r\n    if (window.openIssueDetails) {\r\n      window.openIssueDetails(this.currentIssue);\r\n    }\r\n\r\n    // Actualizar el modal de ML si est√° abierto\r\n    this.refreshMLAnalysisModal();\r\n  }\r\n\r\n  /**\r\n   * Descarta una sugerencia\r\n   */\r\n  dismissSuggestion(field) {\r\n    console.log(`‚úï Dismissing suggestion for ${field}`);\r\n    this.removeSuggestionUI(field);\r\n\r\n    // Remover de la lista\r\n    this.aiSuggestions = this.aiSuggestions.filter(s => s.field !== field);\r\n\r\n    // Si no quedan sugerencias, remover el banner\r\n    if (this.aiSuggestions.length === 0) {\r\n      const banner = document.querySelector('.ai-suggestions-banner');\r\n      if (banner) banner.remove();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Prepara el valor del campo para la actualizaci√≥n\r\n   */\r\n  prepareFieldUpdate(field, value) {\r\n    const update = {};\r\n\r\n    // Manejar diferentes tipos de campos\r\n    if (field.startsWith('customfield_')) {\r\n      // Custom fields como criticidad\r\n      if (typeof value === 'string') {\r\n        update[field] = { value: value };\r\n      } else {\r\n        update[field] = value;\r\n      }\r\n    } else if (field === 'priority') {\r\n      update[field] = { name: value };\r\n    } else if (field === 'assignee') {\r\n      update[field] = { accountId: value };\r\n    } else if (field === 'labels') {\r\n      update[field] = Array.isArray(value) ? value : [value];\r\n    } else if (field === 'components') {\r\n      update[field] = Array.isArray(value) ? value.map(v => ({ name: v })) : [{ name: value }];\r\n    } else {\r\n      update[field] = value;\r\n    }\r\n\r\n    return update;\r\n  }\r\n\r\n  /**\r\n   * Formatea el valor sugerido para mostrar\r\n   */\r\n  formatSuggestionValue(value) {\r\n    if (Array.isArray(value)) {\r\n      return value.join(', ');\r\n    }\r\n    if (typeof value === 'object') {\r\n      return value.name || value.value || JSON.stringify(value);\r\n    }\r\n    return String(value);\r\n  }\r\n\r\n  /**\r\n   * Obtiene color seg√∫n la confianza\r\n   */\r\n  getConfidenceColor(confidence) {\r\n    if (confidence >= 0.9) return 'rgba(16,185,129,0.2)';\r\n    if (confidence >= 0.7) return 'rgba(59,130,246,0.2)';\r\n    return 'rgba(245,158,11,0.2)';\r\n  }\r\n\r\n  /**\r\n   * Remueve la UI de sugerencia de un campo\r\n   */\r\n  removeSuggestionUI(field) {\r\n    const fieldElements = document.querySelectorAll('.field-item, .detail-section');\r\n    \r\n    for (const el of fieldElements) {\r\n      const suggestion = el.querySelector('.inline-ai-suggestion');\r\n      if (suggestion) {\r\n        const applyBtn = suggestion.querySelector('.btn-suggestion-apply');\r\n        if (applyBtn && applyBtn.onclick && applyBtn.onclick.toString().includes(field)) {\r\n          suggestion.remove();\r\n          el.classList.remove('has-ai-suggestion');\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Actualiza el valor del campo en la UI\r\n   */\r\n  updateFieldValue(field, newValue) {\r\n    const fieldElements = document.querySelectorAll('.field-item, .detail-section');\r\n    \r\n    for (const el of fieldElements) {\r\n      const label = el.querySelector('.field-label, .detail-label');\r\n      if (label && label.textContent.includes(field)) {\r\n        const valueEl = el.querySelector('.field-value, .detail-value');\r\n        if (valueEl) {\r\n          valueEl.textContent = this.formatSuggestionValue(newValue);\r\n          valueEl.classList.add('field-updated');\r\n          \r\n          // Remover highlight despu√©s de 3 segundos\r\n          setTimeout(() => valueEl.classList.remove('field-updated'), 3000);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Muestra notificaci√≥n de √©xito\r\n   */\r\n  showSuccessNotification(field) {\r\n    // Usar el sistema de notificaciones si est√° disponible\r\n    if (window.showNotification) {\r\n      window.showNotification(`‚úÖ ${field} updated successfully`, 'success');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Actualiza el modal de ML analysis despu√©s de aplicar cambios\r\n   */\r\n  refreshMLAnalysisModal() {\r\n    console.log('üîÑ Refreshing ML analysis modal...');\r\n    \r\n    // Si el modal de Smart Functions est√° abierto, recalcular\r\n    if (window.smartFunctionsModal && window.smartFunctionsModal.isOpen) {\r\n      console.log('üìä Recalculating ML analysis stats');\r\n      \r\n      // Disparar evento personalizado para actualizar\r\n      const event = new CustomEvent('mlAnalysisUpdate', {\r\n        detail: { issueKey: this.currentIssue }\r\n      });\r\n      document.dispatchEvent(event);\r\n    }\r\n  }\r\n}\r\n\r\n// Inicializar globalmente\r\nif (typeof window !== 'undefined') {\r\n  window.sidebarEditor = new SidebarInlineEditor();\r\n  console.log('‚úÖ Sidebar Inline Editor initialized');\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/modules/view-toggle-filters.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 544
      },
      {
        "start": 655,
        "end": 822
      },
      {
        "start": 934,
        "end": 1091
      },
      {
        "start": 1136,
        "end": 1312
      },
      {
        "start": 1363,
        "end": 2046
      },
      {
        "start": 2068,
        "end": 2086
      },
      {
        "start": 2188,
        "end": 2627
      },
      {
        "start": 3899,
        "end": 3905
      },
      {
        "start": 4464,
        "end": 4470
      },
      {
        "start": 5378,
        "end": 5384
      },
      {
        "start": 6292,
        "end": 6298
      },
      {
        "start": 6893,
        "end": 6899
      },
      {
        "start": 8327,
        "end": 8333
      },
      {
        "start": 9280,
        "end": 9286
      },
      {
        "start": 10031,
        "end": 10152
      },
      {
        "start": 10198,
        "end": 10211
      },
      {
        "start": 10620,
        "end": 10626
      },
      {
        "start": 11186,
        "end": 11348
      },
      {
        "start": 11645,
        "end": 11651
      },
      {
        "start": 13215,
        "end": 13221
      },
      {
        "start": 13348,
        "end": 14296
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - View Toggle Filters\r\n * Manages the view-mode style filter interface\r\n */\r\n\r\nclass ViewToggleFilters {\r\n  constructor() {\r\n    this.currentDesk = null;\r\n    this.currentQueue = null;\r\n    this.desks = [];\r\n    this.queues = [];\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n    this.loadDesks();\r\n  }\r\n\r\n  bindEvents() {\r\n    // Service Desk Toggle\r\n    const serviceDeskToggle = document.getElementById('serviceDeskToggle');\r\n    if (serviceDeskToggle) {\r\n      serviceDeskToggle.addEventListener('click', (e) => {\r\n        if (e.target.closest('.view-btn')) {\r\n          this.showDeskDropdown(e);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Queue Toggle\r\n    const queueToggle = document.getElementById('queueToggle');\r\n    if (queueToggle) {\r\n      queueToggle.addEventListener('click', (e) => {\r\n        if (e.target.closest('.view-btn')) {\r\n          this.showQueueDropdown(e);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Save Button\r\n    const saveBtn = document.getElementById('saveFiltersBtn');\r\n    if (saveBtn) {\r\n      saveBtn.addEventListener('click', () => {\r\n        this.saveFilters();\r\n      });\r\n    }\r\n\r\n    // Header Toggle Buttons\r\n    const compactBtn = document.getElementById('compactModeBtn');\r\n    if (compactBtn) {\r\n      compactBtn.addEventListener('click', () => {\r\n        this.toggleCompactMode();\r\n      });\r\n    }\r\n\r\n    // NOTE: ML Dashboard button (mlDashboardBtn) is handled in app.js setupEventListeners()\r\n    // No need to attach listener here - avoid duplicate handlers\r\n\r\n    // Close dropdowns on outside click\r\n    document.addEventListener('click', (e) => {\r\n      if (!e.target.closest('.filter-dropdown')) {\r\n        this.closeAllDropdowns();\r\n      }\r\n    });\r\n  }\r\n\r\n  async loadDesks() {\r\n    try {\r\n      // Get desks from existing select or API\r\n      const existingSelect = document.getElementById('serviceDeskSelectFilter');\r\n      if (existingSelect && existingSelect.options.length > 1) {\r\n        this.desks = Array.from(existingSelect.options)\r\n          .filter(option => option.value)\r\n          .map(option => ({\r\n            id: option.value,\r\n            name: option.textContent.trim()\r\n          }));\r\n      } else {\r\n        // Fallback data\r\n        this.desks = [\r\n          { id: 'sd1', name: 'IT Support' },\r\n          { id: 'sd2', name: 'HR Services' },\r\n          { id: 'sd3', name: 'Finance' },\r\n          { id: 'sd4', name: 'General Support' }\r\n        ];\r\n      }\r\n      console.log('‚úÖ Loaded', this.desks.length, 'service desks');\r\n    } catch (error) {\r\n      console.error('‚ùå Error loading desks:', error);\r\n    }\r\n  }\r\n\r\n  async loadQueues(deskId) {\r\n    if (!deskId) {\r\n      this.queues = [];\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Trigger existing queue loading\r\n      const existingSelect = document.getElementById('serviceDeskSelectFilter');\r\n      if (existingSelect) {\r\n        existingSelect.value = deskId;\r\n        existingSelect.dispatchEvent(new Event('change'));\r\n      }\r\n\r\n      // Wait for queues to load\r\n      setTimeout(() => {\r\n        const queueSelect = document.getElementById('queueSelectFilter');\r\n        if (queueSelect && queueSelect.options.length > 1) {\r\n          this.queues = Array.from(queueSelect.options)\r\n            .filter(option => option.value)\r\n            .map(option => ({\r\n              id: option.value,\r\n              name: option.textContent.trim()\r\n            }));\r\n        } else {\r\n          // Fallback data\r\n          this.queues = [\r\n            { id: 'q1', name: 'Incidents' },\r\n            { id: 'q2', name: 'Service Requests' },\r\n            { id: 'q3', name: 'Changes' },\r\n            { id: 'q4', name: 'Problems' }\r\n          ];\r\n        }\r\n        console.log('‚úÖ Loaded', this.queues.length, 'queues for desk', deskId);\r\n      }, 500);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error loading queues:', error);\r\n    }\r\n  }\r\n\r\n  showDeskDropdown(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const toggleElement = document.getElementById('serviceDeskToggle');\r\n    if (!toggleElement) return;\r\n\r\n    this.closeAllDropdowns();\r\n\r\n    // Create dropdown\r\n    const dropdown = this.createDropdown(this.desks, (desk) => {\r\n      this.selectDesk(desk.id, desk.name);\r\n    });\r\n\r\n    dropdown.className = 'filter-dropdown desk-dropdown';\r\n    toggleElement.appendChild(dropdown);\r\n\r\n    // Position dropdown\r\n    this.positionDropdown(dropdown, toggleElement);\r\n  }\r\n\r\n  showQueueDropdown(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    if (!this.currentDesk) {\r\n      this.showNotification('Please select a Service Desk first', 'warning');\r\n      return;\r\n    }\r\n\r\n    const toggleElement = document.getElementById('queueToggle');\r\n    if (!toggleElement) return;\r\n\r\n    this.closeAllDropdowns();\r\n\r\n    // Load queues if needed\r\n    if (this.queues.length === 0) {\r\n      this.loadQueues(this.currentDesk);\r\n      setTimeout(() => {\r\n        this.showQueueDropdown(event);\r\n      }, 600);\r\n      return;\r\n    }\r\n\r\n    // Create dropdown\r\n    const dropdown = this.createDropdown(this.queues, (queue) => {\r\n      this.selectQueue(queue.id, queue.name);\r\n    });\r\n\r\n    dropdown.className = 'filter-dropdown queue-dropdown';\r\n    toggleElement.appendChild(dropdown);\r\n\r\n    // Position dropdown\r\n    this.positionDropdown(dropdown, toggleElement);\r\n  }\r\n\r\n  createDropdown(items, onSelect) {\r\n    const dropdown = document.createElement('div');\r\n    \r\n    if (items.length === 0) {\r\n      dropdown.innerHTML = '<div class=\"dropdown-item disabled\">No items available</div>';\r\n      return dropdown;\r\n    }\r\n\r\n    dropdown.innerHTML = items.map(item => \r\n      `<div class=\"dropdown-item\" data-value=\"${item.id}\">\r\n        <span class=\"item-icon\">üìã</span>\r\n        <span class=\"item-text\">${this.escapeHtml(item.name)}</span>\r\n      </div>`\r\n    ).join('');\r\n\r\n    // Bind click events\r\n    dropdown.addEventListener('click', (e) => {\r\n      const item = e.target.closest('.dropdown-item');\r\n      if (item && !item.classList.contains('disabled')) {\r\n        const itemId = item.dataset.value;\r\n        const itemData = items.find(i => i.id === itemId);\r\n        if (itemData) {\r\n          onSelect(itemData);\r\n        }\r\n      }\r\n    });\r\n\r\n    return dropdown;\r\n  }\r\n\r\n  positionDropdown(dropdown, toggleElement) {\r\n    const rect = toggleElement.getBoundingClientRect();\r\n    const viewportHeight = window.innerHeight;\r\n    const dropdownHeight = Math.min(300, dropdown.scrollHeight);\r\n\r\n    // Check if dropdown fits below\r\n    if (rect.bottom + dropdownHeight <= viewportHeight) {\r\n      dropdown.style.top = '100%';\r\n      dropdown.style.bottom = 'auto';\r\n    } else {\r\n      dropdown.style.top = 'auto';\r\n      dropdown.style.bottom = '100%';\r\n    }\r\n\r\n    dropdown.style.left = '0';\r\n    dropdown.style.right = 'auto';\r\n    dropdown.style.zIndex = '1000';\r\n  }\r\n\r\n  selectDesk(deskId, deskName) {\r\n    this.currentDesk = deskId;\r\n    this.currentQueue = null;\r\n\r\n    // Update toggle button\r\n    const toggleBtn = document.querySelector('#serviceDeskToggle .view-btn');\r\n    if (toggleBtn) {\r\n      const textElement = toggleBtn.querySelector('.view-text');\r\n      if (textElement) {\r\n        textElement.textContent = deskName;\r\n      }\r\n      toggleBtn.classList.add('active');\r\n      toggleBtn.setAttribute('aria-selected', 'true');\r\n    }\r\n\r\n    // Reset queue button\r\n    const queueBtn = document.querySelector('#queueToggle .view-btn');\r\n    if (queueBtn) {\r\n      const queueTextElement = queueBtn.querySelector('.view-text');\r\n      if (queueTextElement) {\r\n        queueTextElement.textContent = 'Select Queue...';\r\n      }\r\n      queueBtn.classList.remove('active');\r\n      queueBtn.setAttribute('aria-selected', 'false');\r\n    }\r\n\r\n    // Update hidden select\r\n    const hiddenSelect = document.getElementById('serviceDeskSelectFilter');\r\n    if (hiddenSelect) {\r\n      hiddenSelect.value = deskId;\r\n      hiddenSelect.dispatchEvent(new Event('change'));\r\n    }\r\n\r\n    // Load queues\r\n    this.loadQueues(deskId);\r\n    this.closeAllDropdowns();\r\n\r\n    // Update breadcrumb\r\n    const breadcrumb = document.getElementById('deskBreadcrumb');\r\n    if (breadcrumb) {\r\n      breadcrumb.textContent = deskName;\r\n    }\r\n\r\n    this.showNotification(`Selected: ${deskName}`, 'success');\r\n  }\r\n\r\n  selectQueue(queueId, queueName) {\r\n    this.currentQueue = queueId;\r\n\r\n    // Update toggle button\r\n    const toggleBtn = document.querySelector('#queueToggle .view-btn');\r\n    if (toggleBtn) {\r\n      const textElement = toggleBtn.querySelector('.view-text');\r\n      if (textElement) {\r\n        textElement.textContent = queueName;\r\n      }\r\n      toggleBtn.classList.add('active');\r\n      toggleBtn.setAttribute('aria-selected', 'true');\r\n    }\r\n\r\n    // Update hidden select\r\n    const hiddenSelect = document.getElementById('queueSelectFilter');\r\n    if (hiddenSelect) {\r\n      hiddenSelect.value = queueId;\r\n      hiddenSelect.dispatchEvent(new Event('change'));\r\n    }\r\n\r\n    this.closeAllDropdowns();\r\n\r\n    // Update breadcrumb\r\n    const breadcrumb = document.getElementById('queueBreadcrumb');\r\n    if (breadcrumb) {\r\n      breadcrumb.textContent = queueName;\r\n    }\r\n\r\n    this.showNotification(`Selected: ${queueName}`, 'success');\r\n  }\r\n\r\n  saveFilters() {\r\n    if (!this.currentDesk || !this.currentQueue) {\r\n      this.showNotification('Please select both Service Desk and Queue', 'warning');\r\n      return;\r\n    }\r\n\r\n    // Visual feedback on diskette button\r\n    const saveBtn = document.getElementById('saveFiltersBtn');\r\n    if (saveBtn) {\r\n      saveBtn.classList.add('saving');\r\n      \r\n      setTimeout(() => {\r\n        saveBtn.classList.remove('saving');\r\n      }, 800);\r\n    }\r\n\r\n    this.showNotification('Filters saved successfully!', 'success');\r\n\r\n    // Trigger any existing save functionality\r\n    const existingSaveBtn = document.querySelector('[onclick*=\"save\"]');\r\n    if (existingSaveBtn && existingSaveBtn !== saveBtn) {\r\n      existingSaveBtn.click();\r\n    }\r\n  }\r\n\r\n  closeAllDropdowns() {\r\n    const dropdowns = document.querySelectorAll('.filter-dropdown');\r\n    dropdowns.forEach(dropdown => {\r\n      dropdown.remove();\r\n    });\r\n  }\r\n\r\n  showNotification(message, type = 'info') {\r\n    // Update status indicator\r\n    const statusText = document.getElementById('filterStatus');\r\n    if (statusText) {\r\n      statusText.textContent = message;\r\n      statusText.className = `status-text ${type}`;\r\n      \r\n      setTimeout(() => {\r\n        statusText.textContent = 'Ready';\r\n        statusText.className = 'status-text';\r\n      }, 3000);\r\n    }\r\n  }\r\n\r\n  toggleCompactMode() {\r\n    const compactBtn = document.getElementById('compactModeBtn');\r\n    if (!compactBtn) return;\r\n\r\n    const isActive = compactBtn.classList.contains('active');\r\n    \r\n    if (isActive) {\r\n      compactBtn.classList.remove('active');\r\n      document.body.classList.remove('compact-mode');\r\n      this.showNotification('Compact mode disabled', 'info');\r\n    } else {\r\n      compactBtn.classList.add('active');\r\n      document.body.classList.add('compact-mode');\r\n      this.showNotification('Compact mode enabled', 'success');\r\n    }\r\n  }\r\n\r\n  // NOTE: This method is no longer used - ML Dashboard button is handled in app.js\r\n  // Kept for backward compatibility in case other code references it\r\n  triggerAiAnalysis() {\r\n    console.log('‚ö†Ô∏è triggerAiAnalysis called from view-toggle-filters (deprecated)');\r\n    console.log('‚úÖ Use app.js mlDashboardBtn listener instead');\r\n    \r\n    // Delegate to the correct handler\r\n    if (window.mlDashboard) {\r\n      window.mlDashboard.show();\r\n    }\r\n  }\r\n\r\n  triggerAiQueueAnalyzer() {\r\n    const mlBtn = document.getElementById('mlAnalyzeBtn');\r\n    if (!mlBtn) {\r\n      return;\r\n    }\r\n\r\n    // Get current desk and queue from window.state\r\n    const currentDesk = window.state?.currentDesk;\r\n    const currentQueue = window.state?.currentQueue;\r\n    \r\n    if (!currentDesk || !currentQueue) {\r\n      alert('Por favor selecciona Service Desk y Queue primero');\r\n      return;\r\n    }\r\n\r\n    // Visual feedback\r\n    mlBtn.classList.add('active');\r\n    mlBtn.disabled = true;\r\n    const originalHTML = mlBtn.innerHTML;\r\n    mlBtn.innerHTML = '<span class=\"header-btn-icon\">‚è≥</span><span class=\"header-btn-text\">Analyzing...</span>';\r\n\r\n    console.log('üì§ Calling AIQueueAnalyzer.analyze()...');\r\n\r\n    // Delegate to AIQueueAnalyzer (global instance)\r\n    if (window.aiQueueAnalyzer) {\r\n      // Trigger the analysis\r\n      window.aiQueueAnalyzer.analyze()\r\n        .catch(error => {\r\n          console.error('‚ùå Analysis error:', error);\r\n          alert(`Error: ${error.message || 'Analysis failed'}`);\r\n        })\r\n        .finally(() => {\r\n          // Restore button\r\n          mlBtn.classList.remove('active');\r\n          mlBtn.innerHTML = originalHTML;\r\n          mlBtn.disabled = false;\r\n          console.log('‚úÖ ML Analysis complete');\r\n        });\r\n    } else {\r\n      console.error('‚ùå AIQueueAnalyzer not available');\r\n      alert('AI Analyzer module not loaded. Please refresh the page.');\r\n      mlBtn.classList.remove('active');\r\n      mlBtn.innerHTML = originalHTML;\r\n      mlBtn.disabled = false;\r\n    }\r\n  }\r\n\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n}\r\n\r\n// Initialize\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  setTimeout(() => {\r\n    window.viewToggleFilters = new ViewToggleFilters();\r\n    console.log('‚úÖ View toggle filters loaded');\r\n    \r\n    // Debug: Check if button exists\r\n    const mlBtn = document.getElementById('mlAnalyzeBtn');\r\n    console.log('ü§ñ ML Analyze button found:', !!mlBtn);\r\n    if (mlBtn) {\r\n      console.log('üìå Button is clickable:', !mlBtn.disabled);\r\n      console.log('üìå Button HTML:', mlBtn.outerHTML.substring(0, 100));\r\n    }\r\n    \r\n    // Debug: Check if AIQueueAnalyzer exists\r\n    console.log('üß† AIQueueAnalyzer available:', !!window.aiQueueAnalyzer);\r\n    \r\n    // Debug: Check window.state\r\n    console.log('üìä window.state available:', !!window.state);\r\n    if (window.state) {\r\n      console.log('   - currentDesk:', window.state.currentDesk);\r\n      console.log('   - currentQueue:', window.state.currentQueue);\r\n    }\r\n  }, 500);\r\n});"
  },
  {
    "url": "http://localhost:5005/static/js/notifications-panel.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 3233
      },
      {
        "start": 3254,
        "end": 3673
      },
      {
        "start": 4328,
        "end": 6038
      },
      {
        "start": 6078,
        "end": 8211
      },
      {
        "start": 8246,
        "end": 8410
      },
      {
        "start": 8445,
        "end": 9370
      },
      {
        "start": 9926,
        "end": 13892
      },
      {
        "start": 13961,
        "end": 14017
      },
      {
        "start": 14156,
        "end": 15212
      },
      {
        "start": 15861,
        "end": 15906
      },
      {
        "start": 16063,
        "end": 16469
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Notifications System\r\n * Real-time notifications with Server-Sent Events (SSE)\r\n * Clean implementation from scratch\r\n */\r\n\r\nclass NotificationsPanel {\r\n  constructor() {\r\n    this.notifications = [];\r\n    this.unreadCount = 0;\r\n    this.eventSource = null;\r\n    this.isOpen = false;\r\n    this.reconnectAttempts = 0;\r\n    this.maxReconnectAttempts = 5;\r\n  }\r\n\r\n  /**\r\n   * Initialize notification system\r\n   */\r\n  async init() {\r\n    console.log('üîî Initializing Notifications System...');\r\n    \r\n    // Setup click handler\r\n    this.setupButtonHandler();\r\n    \r\n    // Load existing notifications\r\n    await this.loadNotifications();\r\n    \r\n    // Connect to SSE stream\r\n    this.connectSSE();\r\n    \r\n    // Update badge\r\n    this.updateBadge();\r\n    \r\n    console.log('‚úÖ Notifications System ready');\r\n  }\r\n\r\n  /**\r\n   * Setup button click handler\r\n   */\r\n  setupButtonHandler() {\r\n    const btn = document.getElementById('notificationsBtn');\r\n    if (!btn) {\r\n      console.warn('‚ö†Ô∏è Notifications button not found');\r\n      return;\r\n    }\r\n\r\n    btn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      this.togglePanel();\r\n    });\r\n\r\n    console.log('‚úÖ Button handler attached');\r\n  }\r\n\r\n  /**\r\n   * Load notifications from API\r\n   */\r\n  async loadNotifications() {\r\n    try {\r\n      console.log('üîÑ Fetching notifications from /api/notifications...');\r\n      const response = await fetch('/api/notifications');\r\n      console.log('üì° Response status:', response.status);\r\n      \r\n      if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n      \r\n      const result = await response.json();\r\n      console.log('üì¶ Response data:', result);\r\n      \r\n      // Handle wrapped response format: {success, data: {notifications: []}}\r\n      const data = result.data || result;\r\n      this.notifications = data.notifications || [];\r\n      this.unreadCount = this.notifications.filter(n => !n.read).length;\r\n      \r\n      this.updateBadge();\r\n      \r\n      console.log(`üì¨ Loaded ${this.notifications.length} notifications (${this.unreadCount} unread)`);\r\n      console.log('üìã Notifications array:', this.notifications);\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to load notifications:', error);\r\n      this.notifications = [];\r\n      this.unreadCount = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Connect to SSE stream for real-time updates\r\n   */\r\n  connectSSE() {\r\n    if (this.eventSource) {\r\n      this.eventSource.close();\r\n    }\r\n\r\n    console.log('üì° Connecting to SSE stream...');\r\n    \r\n    try {\r\n      this.eventSource = new EventSource('/api/notifications/stream');\r\n      \r\n      this.eventSource.onopen = () => {\r\n        console.log('‚úÖ SSE connection established');\r\n        this.reconnectAttempts = 0;\r\n      };\r\n      \r\n      this.eventSource.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n          \r\n          if (data.type === 'ping' || data.type === 'connected') {\r\n            return; // Ignore keep-alive messages\r\n          }\r\n          \r\n          console.log('üì¨ New notification received:', data);\r\n          \r\n          // Add to list if not duplicate\r\n          if (!this.notifications.find(n => n.id === data.id)) {\r\n            this.notifications.unshift(data);\r\n            this.unreadCount++;\r\n            this.updateBadge();\r\n            \r\n            // Update panel if open\r\n            if (this.isOpen) {\r\n              this.renderNotifications();\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.error('‚ùå Error parsing SSE message:', e);\r\n        }\r\n      };\r\n      \r\n      this.eventSource.onerror = (error) => {\r\n        console.error('‚ùå SSE connection error:', error);\r\n        this.eventSource.close();\r\n        \r\n        // Attempt reconnection with exponential backoff\r\n        if (this.reconnectAttempts < this.maxReconnectAttempts) {\r\n          this.reconnectAttempts++;\r\n          const delay = Math.min(1000 * Math.pow(2, this.reconnectAttempts), 30000);\r\n          console.log(`üîÑ Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\r\n          \r\n          setTimeout(() => this.connectSSE(), delay);\r\n        } else {\r\n          console.error('‚ùå Max reconnection attempts reached');\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to create SSE connection:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update notification badge\r\n   */\r\n  updateBadge() {\r\n    const badge = document.querySelector('.notification-badge');\r\n    if (badge) {\r\n      badge.textContent = this.unreadCount;\r\n      badge.style.display = this.unreadCount > 0 ? 'flex' : 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle notification panel\r\n   */\r\n  togglePanel() {\r\n    if (this.isOpen) {\r\n      this.closePanel();\r\n    } else {\r\n      this.openPanel();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open notification panel\r\n   */\r\n  async openPanel() {\r\n    if (document.getElementById('notificationsModal')) {\r\n      return; // Already open\r\n    }\r\n\r\n    const modal = document.createElement('div');\r\n    modal.id = 'notificationsModal';\r\n    // Note: Styles are defined in cards-modals.css specifically for #notificationsModal\r\n    \r\n    modal.innerHTML = `\r\n      <div class=\"bg-modal-overlay\"></div>\r\n      <div class=\"bg-modal-content\" style=\"max-width: 600px;\">\r\n        <div class=\"bg-modal-header\">\r\n          <h3 class=\"bg-modal-title\">üîî Notifications</h3>\r\n          <button class=\"bg-modal-close\" onclick=\"window.notificationsPanel.closePanel()\">√ó</button>\r\n        </div>\r\n        \r\n        <div id=\"notificationsContent\" style=\"max-height: 70vh; overflow-y: auto; margin-top: 16px;\">\r\n          <div style=\"text-align: center; padding: 40px 20px; color: #94a3b8;\">\r\n            <div style=\"font-size: 16px;\">Loading...</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n    \r\n    // Close on overlay click\r\n    modal.querySelector('.bg-modal-overlay').addEventListener('click', () => {\r\n      this.closePanel();\r\n    });\r\n    \r\n    // Close on Escape key\r\n    const escapeHandler = (e) => {\r\n      if (e.key === 'Escape') {\r\n        this.closePanel();\r\n        document.removeEventListener('keydown', escapeHandler);\r\n      }\r\n    };\r\n    document.addEventListener('keydown', escapeHandler);\r\n    \r\n    this.isOpen = true;\r\n    \r\n    // Load notifications before rendering\r\n    await this.loadNotifications();\r\n    this.renderNotifications();\r\n    \r\n    console.log('‚úÖ Notification panel opened');\r\n  }\r\n\r\n  /**\r\n   * Close notification panel\r\n   */\r\n  closePanel() {\r\n    const modal = document.getElementById('notificationsModal');\r\n    if (modal) {\r\n      // Simple fade out with opacity\r\n      modal.style.opacity = '0';\r\n      modal.style.transition = 'opacity 0.2s ease';\r\n      setTimeout(() => modal.remove(), 200);\r\n    }\r\n    this.isOpen = false;\r\n    console.log('‚úÖ Notification panel closed');\r\n  }\r\n\r\n  /**\r\n   * Render notifications in panel\r\n   */\r\n  renderNotifications() {\r\n    console.log('üé® Rendering notifications...', this.notifications);\r\n    const container = document.getElementById('notificationsContent');\r\n    if (!container) {\r\n      console.error('‚ùå Container #notificationsContent not found');\r\n      return;\r\n    }\r\n\r\n    // Empty state\r\n    if (this.notifications.length === 0) {\r\n      console.log('‚ÑπÔ∏è No notifications to display (empty state)');\r\n      container.innerHTML = `\r\n        <div style=\"text-align: center; padding: 60px 20px; color: #94a3b8;\">\r\n          <div style=\"font-size: 64px; margin-bottom: 16px;\">üîï</div>\r\n          <div style=\"font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #cbd5e1;\">\r\n            No notifications\r\n          </div>\r\n          <div style=\"font-size: 13px;\">You're all caught up!</div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    console.log(`‚úÖ Rendering ${this.notifications.length} notifications`);\r\n\r\n    // Group by date\r\n    const grouped = this.groupByDate(this.notifications);\r\n    \r\n    let html = '';\r\n    \r\n    if (grouped.today.length > 0) {\r\n      html += '<div class=\"notif-date-header\">Today</div>';\r\n      html += grouped.today.map(n => this.renderNotificationCard(n)).join('');\r\n    }\r\n\r\n    if (grouped.yesterday.length > 0) {\r\n      html += '<div class=\"notif-date-header\">Yesterday</div>';\r\n      html += grouped.yesterday.map(n => this.renderNotificationCard(n)).join('');\r\n    }\r\n\r\n    if (grouped.older.length > 0) {\r\n      html += '<div class=\"notif-date-header\">Older</div>';\r\n      html += grouped.older.map(n => this.renderNotificationCard(n)).join('');\r\n    }\r\n\r\n    container.innerHTML = html;\r\n    \r\n    // Attach click handlers to notification cards\r\n    this.attachNotificationClickHandlers(container);\r\n  }\r\n  \r\n  /**\r\n   * Attach click handlers to notification cards\r\n   */\r\n  attachNotificationClickHandlers(container) {\r\n    const cards = container.querySelectorAll('.notif-card[data-issue-key]');\r\n    console.log(`üñ±Ô∏è Attaching click handlers to ${cards.length} notification cards`);\r\n    \r\n    cards.forEach(card => {\r\n      const issueKey = card.getAttribute('data-issue-key');\r\n      const notifId = card.getAttribute('data-notif-id');\r\n      \r\n      if (!issueKey) return;\r\n      \r\n      card.style.cursor = 'pointer';\r\n      \r\n      card.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        console.log(`üìç Notification clicked: ${issueKey}`);\r\n        \r\n        // Open issue details in right sidebar\r\n        if (window.openIssueDetails) {\r\n          console.log(`üîç Opening issue details for: ${issueKey}`);\r\n          window.openIssueDetails(issueKey);\r\n          this.closePanel();\r\n        } else {\r\n          console.warn('‚ö†Ô∏è window.openIssueDetails not available');\r\n        }\r\n        \r\n        // Mark as read\r\n        if (notifId) {\r\n          this.markAsRead(notifId);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Group notifications by date\r\n   */\r\n  groupByDate(notifications) {\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n    \r\n    const grouped = { today: [], yesterday: [], older: [] };\r\n    \r\n    notifications.forEach(notif => {\r\n      const date = new Date(notif.created_at || notif.timestamp);\r\n      date.setHours(0, 0, 0, 0);\r\n      \r\n      if (date.getTime() === today.getTime()) {\r\n        grouped.today.push(notif);\r\n      } else if (date.getTime() === yesterday.getTime()) {\r\n        grouped.yesterday.push(notif);\r\n      } else {\r\n        grouped.older.push(notif);\r\n      }\r\n    });\r\n    \r\n    return grouped;\r\n  }\r\n\r\n  /**\r\n   * Render single notification card\r\n   */\r\n  renderNotificationCard(notif) {\r\n    const icon = this.getIcon(notif.type || notif.action);\r\n    const time = this.formatTime(notif.created_at || notif.timestamp);\r\n    const isUnread = !notif.read;\r\n    const issueKey = notif.issue_key || notif.key;\r\n    \r\n    // Build clear message\r\n    const message = this.buildClearMessage(notif);\r\n    \r\n    const card = `\r\n      <div class=\"notif-card ${isUnread ? 'unread' : ''}\" \r\n           data-issue-key=\"${issueKey || ''}\"\r\n           data-notif-id=\"${notif.id}\">\r\n        <div style=\"display: flex; gap: 12px; align-items: start;\">\r\n          <div class=\"notif-icon\" style=\"font-size: 28px; flex-shrink: 0;\">${icon}</div>\r\n          <div style=\"flex: 1; min-width: 0;\">\r\n            <div class=\"notif-message\" style=\"font-size: 14px; font-weight: 500; color: ${isUnread ? '#1e293b' : '#64748b'}; margin-bottom: 6px; line-height: 1.4;\">\r\n              ${message}\r\n            </div>\r\n            ${issueKey ? `\r\n              <div class=\"notif-issue-key\" style=\"display: inline-block; padding: 2px 8px; background: rgba(99, 102, 241, 0.1); color: #6366f1; border-radius: 4px; font-size: 11px; font-weight: 700; font-family: monospace; margin-bottom: 6px;\">\r\n                ${issueKey}\r\n              </div>\r\n            ` : ''}\r\n            <div class=\"notif-time\" style=\"font-size: 12px; color: #94a3b8; display: flex; align-items: center; gap: 8px;\">\r\n              <span>üïê ${time}</span>\r\n              ${issueKey ? '<span style=\"color: #3b82f6; cursor: pointer; font-weight: 600;\">‚Üí View Details</span>' : ''}\r\n            </div>\r\n          </div>\r\n          ${isUnread ? '<div class=\"notif-unread-dot\" style=\"width: 10px; height: 10px; background: #3b82f6; border-radius: 50%; flex-shrink: 0; margin-top: 8px; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\"></div>' : ''}\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    return card;\r\n  }\r\n\r\n  /**\r\n   * Build clear notification message\r\n   */\r\n  buildClearMessage(notif) {\r\n    const user = notif.user || notif.actor || 'Someone';\r\n    const action = notif.action || notif.type || 'updated';\r\n    const summary = notif.summary || notif.title || '';\r\n    \r\n    // Action verb mapping for clarity\r\n    const actionMap = {\r\n      'mention': 'mentioned you in',\r\n      'mentioned': 'mentioned you in',\r\n      'comment': 'commented on',\r\n      'commented': 'commented on',\r\n      'assignment': 'assigned you to',\r\n      'assigned': 'assigned you to',\r\n      'status': 'changed the status of',\r\n      'update': 'updated',\r\n      'updated': 'updated',\r\n      'priority': 'changed the priority of',\r\n      'new': 'created',\r\n      'created': 'created',\r\n      'resolved': 'resolved',\r\n      'closed': 'closed'\r\n    };\r\n    \r\n    const verb = actionMap[action.toLowerCase()] || action;\r\n    \r\n    let msg = `<strong style=\"color: #1e293b;\">${user}</strong> ${verb}`;\r\n    \r\n    // Add ticket summary if available\r\n    if (summary) {\r\n      msg += ` <span style=\"color: #64748b; font-style: italic;\">\"${this.truncate(summary, 50)}\"</span>`;\r\n    }\r\n    \r\n    return msg;\r\n  }\r\n  \r\n  /**\r\n   * Build notification message (legacy fallback)\r\n   */\r\n  buildMessage(notif) {\r\n    return this.buildClearMessage(notif);\r\n  }\r\n  \r\n  /**\r\n   * Truncate text with ellipsis\r\n   */\r\n  truncate(text, maxLength) {\r\n    if (!text || text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  }\r\n\r\n  /**\r\n   * Get icon for notification type\r\n   */\r\n  getIcon(type) {\r\n    const icons = {\r\n      mention: 'üí¨',\r\n      comment: 'üí¨',\r\n      assignment: 'üë§',\r\n      assigned: 'üë§',\r\n      status: 'üîÑ',\r\n      update: 'üîÑ',\r\n      priority: '‚ö°',\r\n      new: '‚ú®',\r\n      created: '‚ú®',\r\n      resolved: '‚úÖ',\r\n      closed: '‚úÖ'\r\n    };\r\n    return icons[type] || 'üîî';\r\n  }\r\n\r\n  /**\r\n   * Format timestamp to relative time\r\n   */\r\n  formatTime(timestamp) {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    \r\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n  }\r\n\r\n  /**\r\n   * Mark notification as read\r\n   */\r\n  async markAsRead(notifId) {\r\n    try {\r\n      const response = await fetch(`/api/notifications/${notifId}/read`, {\r\n        method: 'POST'\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const notif = this.notifications.find(n => n.id == notifId);\r\n        if (notif && !notif.read) {\r\n          notif.read = true;\r\n          this.unreadCount = Math.max(0, this.unreadCount - 1);\r\n          this.updateBadge();\r\n          this.renderNotifications();\r\n          console.log(`‚úÖ Marked notification ${notifId} as read`);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to mark notification as read:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cleanup on destroy\r\n   */\r\n  destroy() {\r\n    if (this.eventSource) {\r\n      this.eventSource.close();\r\n      console.log('üîå SSE connection closed');\r\n    }\r\n    this.closePanel();\r\n  }\r\n}\r\n\r\n// Initialize when DOM is ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    window.notificationsPanel = new NotificationsPanel();\r\n    window.notificationsPanel.init();\r\n  });\r\n} else {\r\n  window.notificationsPanel = new NotificationsPanel();\r\n  window.notificationsPanel.init();\r\n}\r\n\r\nconsole.log('‚úÖ Notifications panel module loaded');\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/quick-triage.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 744
      },
      {
        "start": 962,
        "end": 1027
      },
      {
        "start": 1375,
        "end": 1453
      },
      {
        "start": 1723,
        "end": 1810
      },
      {
        "start": 2625,
        "end": 2694
      },
      {
        "start": 2950,
        "end": 3004
      },
      {
        "start": 3476,
        "end": 3532
      },
      {
        "start": 4465,
        "end": 4520
      },
      {
        "start": 6889,
        "end": 6938
      },
      {
        "start": 7232,
        "end": 7286
      },
      {
        "start": 7727,
        "end": 7783
      },
      {
        "start": 8651,
        "end": 8715
      },
      {
        "start": 9469,
        "end": 9535
      },
      {
        "start": 10332,
        "end": 10374
      },
      {
        "start": 10563,
        "end": 10741
      }
    ],
    "text": "/**\r\n * Quick Triage Module\r\n * Provides rapid access to urgent/unassigned tickets requiring immediate attention\r\n */\r\n\r\nclass QuickTriage {\r\n  constructor() {\r\n    this.modalId = 'quickTriageModal';\r\n    this.snoozedTickets = this.loadSnoozedTickets();\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('‚ö° Quick Triage module initialized');\r\n  }\r\n\r\n  /**\r\n   * Load snoozed tickets from localStorage\r\n   */\r\n  loadSnoozedTickets() {\r\n    try {\r\n      const snoozed = localStorage.getItem('speedyflow_snoozed_tickets');\r\n      return snoozed ? JSON.parse(snoozed) : {};\r\n    } catch (e) {\r\n      console.error('Error loading snoozed tickets:', e);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save snoozed tickets to localStorage\r\n   */\r\n  saveSnoozedTickets() {\r\n    try {\r\n      localStorage.setItem('speedyflow_snoozed_tickets', JSON.stringify(this.snoozedTickets));\r\n    } catch (e) {\r\n      console.error('Error saving snoozed tickets:', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if a ticket is currently snoozed\r\n   */\r\n  isSnoozed(issueKey) {\r\n    const snoozeData = this.snoozedTickets[issueKey];\r\n    if (!snoozeData) return false;\r\n    \r\n    const now = Date.now();\r\n    if (now > snoozeData.until) {\r\n      // Snooze expired, remove it\r\n      delete this.snoozedTickets[issueKey];\r\n      this.saveSnoozedTickets();\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Snooze a ticket for specified duration (in minutes)\r\n   */\r\n  snoozeTicket(issueKey, minutes) {\r\n    const until = Date.now() + (minutes * 60 * 1000);\r\n    this.snoozedTickets[issueKey] = { until, snoozedAt: Date.now() };\r\n    this.saveSnoozedTickets();\r\n    console.log(`üí§ Ticket ${issueKey} snoozed for ${minutes} minutes`);\r\n  }\r\n\r\n  /**\r\n   * Filter issues for triage (urgent/unassigned/needs attention)\r\n   */\r\n  filterTriageIssues(allIssues) {\r\n    if (!allIssues || !Array.isArray(allIssues)) return [];\r\n\r\n    return allIssues.filter(issue => {\r\n      // Skip snoozed tickets\r\n      if (this.isSnoozed(issue.key)) return false;\r\n\r\n      // Filter criteria\r\n      const isUnassigned = !issue.assignee || issue.assignee === 'Unassigned' || issue.assignee === 'No assignee';\r\n      const isHighPriority = issue.severity === 'Critico' || issue.severity === 'Alto' || issue.severity === 'Mayor';\r\n      \r\n      // Use last_real_change like app.js cards, fallback to updated or created\r\n      const lastChange = issue.last_real_change || issue.updated || issue.created;\r\n      const isStale = this.isOlderThan(lastChange, 3); // 3+ days without changes\r\n      \r\n      return isUnassigned || isHighPriority || isStale;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Check if date is older than specified days\r\n   */\r\n  isOlderThan(dateString, days) {\r\n    if (!dateString) return false;\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffDays = diffMs / (1000 * 60 * 60 * 24);\r\n    return diffDays > days;\r\n  }\r\n\r\n  /**\r\n   * Open the Quick Triage modal\r\n   */\r\n  async open() {\r\n    // Get current issues from window.app cache\r\n    const allIssues = window.app?.issuesCache \r\n      ? Array.from(window.app.issuesCache.values()) \r\n      : [];\r\n\r\n    if (allIssues.length === 0) {\r\n      this.showEmptyState();\r\n      return;\r\n    }\r\n\r\n    const triageIssues = this.filterTriageIssues(allIssues);\r\n    \r\n    if (triageIssues.length === 0) {\r\n      this.showAllClearState();\r\n      return;\r\n    }\r\n\r\n    this.showModal(triageIssues);\r\n  }\r\n\r\n  /**\r\n   * Show modal with triage issues\r\n   */\r\n  showModal(issues) {\r\n    // Remove existing modal if any\r\n    this.closeModal();\r\n\r\n    const modal = document.createElement('div');\r\n    modal.id = this.modalId;\r\n    modal.className = 'quick-triage-modal';\r\n    modal.innerHTML = `\r\n      <div class=\"quick-triage-overlay\" onclick=\"window.quickTriage.closeModal()\"></div>\r\n      <div class=\"quick-triage-content\">\r\n        <div class=\"quick-triage-header\">\r\n          <h2>‚ö° Quick Triage</h2>\r\n          <p class=\"quick-triage-subtitle\">${issues.length} ticket${issues.length !== 1 ? 's' : ''} requiring attention</p>\r\n          <button class=\"quick-triage-close\" onclick=\"window.quickTriage.closeModal()\">‚úï</button>\r\n        </div>\r\n        <div class=\"quick-triage-body\">\r\n          ${this.renderIssueList(issues)}\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n    \r\n    // Animate in\r\n    setTimeout(() => modal.classList.add('active'), 10);\r\n  }\r\n\r\n  /**\r\n   * Render list of triage issues\r\n   */\r\n  renderIssueList(issues) {\r\n    // Sort by priority (Critico > Alto > Mayor > rest)\r\n    const priorityOrder = { 'Critico': 1, 'Alto': 2, 'Mayor': 3 };\r\n    const sortedIssues = issues.sort((a, b) => {\r\n      const aPriority = priorityOrder[a.severity] || 999;\r\n      const bPriority = priorityOrder[b.severity] || 999;\r\n      return aPriority - bPriority;\r\n    });\r\n\r\n    return sortedIssues.map(issue => {\r\n      const severityClass = this.getSeverityClass(issue.severity);\r\n      const isUnassigned = !issue.assignee || issue.assignee === 'Unassigned' || issue.assignee === 'No assignee';\r\n      // Use last_real_change like app.js cards\r\n      const lastChange = issue.last_real_change || issue.updated || issue.created;\r\n      const ageTag = this.getAgeTag(lastChange);\r\n\r\n      return `\r\n        <div class=\"triage-issue-card\" data-issue-key=\"${issue.key}\">\r\n          <div class=\"triage-issue-header\">\r\n            <span class=\"triage-issue-key\" onclick=\"openIssueDetails('${issue.key}')\">${issue.key}</span>\r\n            <span class=\"triage-severity ${severityClass}\">${issue.severity || 'Normal'}</span>\r\n            ${ageTag ? `<span class=\"triage-age-tag\">${ageTag}</span>` : ''}\r\n          </div>\r\n          <div class=\"triage-issue-summary\" onclick=\"openIssueDetails('${issue.key}')\">${issue.summary || 'No summary'}</div>\r\n          <div class=\"triage-issue-meta\">\r\n            ${isUnassigned ? '<span class=\"triage-meta-badge unassigned\">üë§ Unassigned</span>' : `<span class=\"triage-meta-badge\">üë§ ${issue.assignee}</span>`}\r\n            ${issue.status ? `<span class=\"triage-meta-badge\">üìä ${issue.status}</span>` : ''}\r\n          </div>\r\n          <div class=\"triage-issue-actions\">\r\n            ${isUnassigned ? `<button class=\"triage-btn triage-btn-primary\" onclick=\"window.quickTriage.assignToMe('${issue.key}')\">\r\n              üë§ Assign to me\r\n            </button>` : ''}\r\n            <button class=\"triage-btn triage-btn-secondary\" onclick=\"window.quickTriage.snoozeTicket('${issue.key}', 60); window.quickTriage.open();\">\r\n              üí§ Snooze 1h\r\n            </button>\r\n            <button class=\"triage-btn triage-btn-secondary\" onclick=\"window.quickTriage.snoozeTicket('${issue.key}', 1440); window.quickTriage.open();\">\r\n              üåô Snooze 24h\r\n            </button>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join('');\r\n  }\r\n\r\n  /**\r\n   * Get severity CSS class\r\n   */\r\n  getSeverityClass(severity) {\r\n    const severityMap = {\r\n      'Critico': 'severity-critical',\r\n      'Alto': 'severity-high',\r\n      'Mayor': 'severity-major',\r\n      'Medio': 'severity-medium',\r\n      'Baja': 'severity-low'\r\n    };\r\n    return severityMap[severity] || 'severity-normal';\r\n  }\r\n\r\n  /**\r\n   * Get age tag for old tickets\r\n   */\r\n  getAgeTag(dateString) {\r\n    if (!dateString) return null;\r\n    \r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays > 30) return 'üî¥ 30+ days';\r\n    if (diffDays > 14) return 'üü† 14+ days';\r\n    if (diffDays > 7) return 'üü° 7+ days';\r\n    if (diffDays >= 3) return '‚ö†Ô∏è 3+ days';\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Assign ticket to current user\r\n   */\r\n  async assignToMe(issueKey) {\r\n    try {\r\n      const currentUser = window.state?.currentUser || 'You';\r\n      console.log(`Assigning ${issueKey} to ${currentUser}...`);\r\n\r\n      const response = await fetch(`/api/issues/${issueKey}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ assignee: currentUser })\r\n      });\r\n\r\n      if (response.ok) {\r\n        console.log(`‚úÖ Assigned ${issueKey} to ${currentUser}`);\r\n        // Refresh the modal\r\n        this.open();\r\n        // Trigger issues reload\r\n        if (window.loadIssues) window.loadIssues();\r\n      } else {\r\n        throw new Error(`Failed to assign: ${response.statusText}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error assigning ${issueKey}:`, error);\r\n      alert(`Failed to assign ticket: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show empty state (no issues in cache)\r\n   */\r\n  showEmptyState() {\r\n    const modal = document.createElement('div');\r\n    modal.id = this.modalId;\r\n    modal.className = 'quick-triage-modal';\r\n    modal.innerHTML = `\r\n      <div class=\"quick-triage-overlay\" onclick=\"window.quickTriage.closeModal()\"></div>\r\n      <div class=\"quick-triage-content quick-triage-empty\">\r\n        <button class=\"quick-triage-close\" onclick=\"window.quickTriage.closeModal()\">‚úï</button>\r\n        <div class=\"quick-triage-empty-state\">\r\n          <div class=\"empty-icon\">üì≠</div>\r\n          <h2>No Issues Loaded</h2>\r\n          <p>Load a queue first to see tickets requiring triage</p>\r\n        </div>\r\n      </div>\r\n    `;\r\n    document.body.appendChild(modal);\r\n    setTimeout(() => modal.classList.add('active'), 10);\r\n  }\r\n\r\n  /**\r\n   * Show all clear state (no urgent issues)\r\n   */\r\n  showAllClearState() {\r\n    const modal = document.createElement('div');\r\n    modal.id = this.modalId;\r\n    modal.className = 'quick-triage-modal';\r\n    modal.innerHTML = `\r\n      <div class=\"quick-triage-overlay\" onclick=\"window.quickTriage.closeModal()\"></div>\r\n      <div class=\"quick-triage-content quick-triage-empty\">\r\n        <button class=\"quick-triage-close\" onclick=\"window.quickTriage.closeModal()\">‚úï</button>\r\n        <div class=\"quick-triage-empty-state\">\r\n          <div class=\"empty-icon\">‚úÖ</div>\r\n          <h2>All Clear!</h2>\r\n          <p>No urgent or unassigned tickets right now</p>\r\n          <p class=\"empty-subtitle\">Great work! üéâ</p>\r\n        </div>\r\n      </div>\r\n    `;\r\n    document.body.appendChild(modal);\r\n    setTimeout(() => modal.classList.add('active'), 10);\r\n  }\r\n\r\n  /**\r\n   * Close the modal\r\n   */\r\n  closeModal() {\r\n    const modal = document.getElementById(this.modalId);\r\n    if (modal) {\r\n      modal.classList.remove('active');\r\n      setTimeout(() => modal.remove(), 300);\r\n    }\r\n  }\r\n}\r\n\r\n// Initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  window.quickTriage = new QuickTriage();\r\n  console.log('‚úÖ Quick Triage ready');\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/right-sidebar.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 1690
      },
      {
        "start": 1913,
        "end": 3283
      },
      {
        "start": 3310,
        "end": 3493
      },
      {
        "start": 3658,
        "end": 3826
      },
      {
        "start": 3908,
        "end": 4055
      },
      {
        "start": 4624,
        "end": 4789
      },
      {
        "start": 5278,
        "end": 5286
      },
      {
        "start": 5362,
        "end": 5410
      },
      {
        "start": 6428,
        "end": 6483
      },
      {
        "start": 7505,
        "end": 7539
      },
      {
        "start": 7884,
        "end": 7926
      },
      {
        "start": 8340,
        "end": 8470
      },
      {
        "start": 9115,
        "end": 9152
      },
      {
        "start": 9434,
        "end": 9468
      },
      {
        "start": 9825,
        "end": 9944
      },
      {
        "start": 10342,
        "end": 10392
      },
      {
        "start": 10782,
        "end": 10815
      },
      {
        "start": 11345,
        "end": 11379
      },
      {
        "start": 12079,
        "end": 12137
      },
      {
        "start": 12768,
        "end": 12814
      },
      {
        "start": 23187,
        "end": 23227
      },
      {
        "start": 23456,
        "end": 23494
      },
      {
        "start": 24951,
        "end": 24990
      },
      {
        "start": 29730,
        "end": 29762
      },
      {
        "start": 30091,
        "end": 30142
      },
      {
        "start": 30602,
        "end": 30736
      },
      {
        "start": 31338,
        "end": 32245
      },
      {
        "start": 33088,
        "end": 33231
      },
      {
        "start": 36886,
        "end": 36890
      },
      {
        "start": 39118,
        "end": 39122
      },
      {
        "start": 39397,
        "end": 41240
      },
      {
        "start": 41331,
        "end": 41763
      },
      {
        "start": 42304,
        "end": 42973
      },
      {
        "start": 43058,
        "end": 43141
      },
      {
        "start": 44088,
        "end": 44394
      },
      {
        "start": 45258,
        "end": 45462
      },
      {
        "start": 45610,
        "end": 46757
      },
      {
        "start": 46844,
        "end": 48473
      },
      {
        "start": 48738,
        "end": 49459
      },
      {
        "start": 49617,
        "end": 49619
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Right Sidebar Controller\r\n * Manejo de detalles de tickets, comentarios y actividad\r\n */\r\n\r\n// Reduce noise: treat existing console.log calls in this module as debug-level\r\n// so they are hidden unless debug verbosity is enabled via app log settings.\r\n(function () {\r\n  try {\r\n    if (window && window.appLogger && window.appLogger.level !== 'debug') {\r\n      console.log = console.debug.bind(console);\r\n    }\r\n  } catch (e) { }\r\n})();\r\n\r\nconsole.log('üì• [Load] right-sidebar.js loading...');\r\n\r\nconst sidebarState = {\r\n  isOpen: false,\r\n  currentIssue: null,\r\n  currentPanel: 'detailsPanel'\r\n};\r\n\r\n// ===== INITIALIZE RIGHT SIDEBAR =====\r\nfunction initRightSidebar() {\r\n  // If FlowingContext is active, the right sidebar is used for context-aware suggestions\r\n  if (window.FlowingContext) {\r\n    console.log('‚ÑπÔ∏è [Right Sidebar] FlowingContext detected ‚Äî deferring rendering to context-aware module');\r\n    setupSidebarEventListeners();\r\n    return;\r\n  }\r\n\r\n  setupSidebarEventListeners();\r\n  setupPanelTabs();\r\n  console.log('‚úÖ [Right Sidebar] Base initialization complete - interaction systems will load when sidebar opens');\r\n}\r\n\r\n// ===== SETUP EVENT LISTENERS =====\r\nfunction setupSidebarEventListeners() {\r\n  const rightSidebar = document.getElementById('rightSidebar');\r\n  const closeSidebarBtn = document.getElementById('closeSidebarBtn');\r\n\r\n  if (!closeSidebarBtn) return;\r\n\r\n  // Close button\r\n  closeSidebarBtn.addEventListener('click', closeSidebar);\r\n\r\n  // Close on ESC key\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Escape' && sidebarState.isOpen) {\r\n      closeSidebar();\r\n    }\r\n  });\r\n}\r\n\r\n// ===== SETUP PANEL TABS =====\r\nfunction processCommentText(text) {\r\n  if (window.commentsModule && typeof window.commentsModule.processCommentText === 'function') {\r\n    return window.commentsModule.processCommentText(text);\r\n  }\r\n  return text || '';\r\n}\r\n// Wait for next paint cycle to ensure DOM is fully visible\r\nrequestAnimationFrame(() => {\r\n  setTimeout(() => {\r\n    console.log('‚è±Ô∏è [Right Sidebar] DOM settled, setting up systems...');\r\n    // Mention system is now automatic via mentions-system.js (type @ in textarea)\r\n    // setupMentionSystem(); // Disabled: button removed, auto-mention works better\r\n    setupAttachmentsSystem();\r\n    setupCommentShortcuts();\r\n\r\n    // Now render attachments (DOM is ready and visible)\r\n    if (sidebarState.currentIssue) {\r\n      console.log('üé® [Right Sidebar] Rendering attachments for:', sidebarState.currentIssue.key);\r\n      renderAttachments(sidebarState.currentIssue);\r\n    }\r\n\r\n    // Initialize inline editor with AI suggestions\r\n    if (window.sidebarEditor) {\r\n      window.sidebarEditor.initForIssue(issueKey);\r\n    }\r\n  }, 100);\r\n});\r\n\r\n// Setup comment button and mentions\r\nconst commentBtn = document.querySelector('.btn-add-comment');\r\nconst commentTextarea = document.getElementById('commentText');\r\nconst visibilityToggle = document.getElementById('commentInternal');\r\nconst visibilityLabel = document.querySelector('.visibility-label');\r\n\r\nif (commentBtn) {\r\n  // Remove previous listeners\r\n  const newBtn = commentBtn.cloneNode(true);\r\n  commentBtn.parentNode.replaceChild(newBtn, commentBtn);\r\n\r\n  // Add new listener\r\n  newBtn.addEventListener('click', () => postComment(issueKey));\r\n}\r\n\r\n// Setup visibility toggle\r\nif (visibilityToggle && visibilityLabel) {\r\n  visibilityToggle.checked = false; // Reset to public\r\n  visibilityToggle.addEventListener('change', (e) => {\r\n    if (e.target.checked) {\r\n      visibilityLabel.textContent = 'üîí Internal';\r\n    } else {\r\n      visibilityLabel.textContent = 'üîì Public';\r\n    }\r\n  });\r\n}\r\n\r\n// Attach mentions autocomplete to textarea\r\nif (commentTextarea && window.mentionsAutocomplete) {\r\n  // Small delay to ensure textarea is ready\r\n  setTimeout(() => {\r\n    window.mentionsAutocomplete.attachTo(commentTextarea, issueKey);\r\n  }, 100);\r\n}\r\n// If mentionsAutocomplete is not present, try loading it dynamically\r\nelse if (commentTextarea && !window.mentionsAutocomplete) {\r\n  (async () => {\r\n    try {\r\n      await new Promise((resolve, reject) => {\r\n        const s = document.createElement('script');\r\n        s.src = '/static/js/modules/mentions-autocomplete.js?v=' + Date.now();\r\n        s.onload = resolve;\r\n        s.onerror = reject;\r\n        document.head.appendChild(s);\r\n      });\r\n      if (window.mentionsAutocomplete) {\r\n        setTimeout(() => window.mentionsAutocomplete.attachTo(commentTextarea, issueKey), 120);\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to dynamically load mentions-autocomplete:', e);\r\n    }\r\n  })();\r\n}\r\n\r\n// Initialize SLA Monitor if available\r\nif (window.slaMonitor && typeof window.slaMonitor.init === 'function') {\r\n  window.slaMonitor.init(issueKey).then(() => {\r\n    // Render SLA panel only if real data exists\r\n    const slaContainer = document.getElementById('slaMonitorContainer');\r\n    if (slaContainer) {\r\n      if (window.slaMonitor.slaData[issueKey]) {\r\n        const slaPanel = window.slaMonitor.renderSLAPanel(issueKey);\r\n        slaContainer.innerHTML = '';\r\n        slaContainer.appendChild(slaPanel);\r\n      } else {\r\n        // Hide SLA container if no real data\r\n        slaContainer.style.display = 'none';\r\n      }\r\n    }\r\n  }).catch(err => {\r\n    console.error('SLA Monitor initialization failed:', err);\r\n  });\r\n}\r\n\r\n// ===== POPULATE ISSUE DETAILS =====\r\nfunction populateIssueDetails(issue) {\r\n  // Delegated: When Flowing Footer / FlowingContext is active we delegate details rendering\r\n  if (!issue) return;\r\n\r\n  if (window.flowingFooter && typeof window.flowingFooter.switchToBalancedView === 'function') {\r\n    try {\r\n      // Ensure the footer is visible with the selected issue\r\n      window.flowingFooter.switchToBalancedView(issue.key || issue);\r\n      sidebarState.currentIssue = issue;\r\n      sidebarState.isOpen = false; // Right-sidebar remains used for Flowing Context suggestions\r\n      return;\r\n    } catch (e) {\r\n      console.warn('Delegation to FlowingFooter failed, falling back to legacy renderer:', e);\r\n    }\r\n  }\r\n\r\n  // If FlowingFooter not available, keep minimal legacy behavior: store current issue and trigger fetch\r\n  sidebarState.currentIssue = issue;\r\n  console.log('‚ö†Ô∏è FlowingFooter not available - falling back to legacy right-sidebar minimal fetch for', issue.key || issue);\r\n  if (issue.key) fetchServiceDeskRequestDetails(issue.key);\r\n}\r\n\r\n// ===== FETCH SERVICE DESK REQUEST DETAILS =====\r\nfunction fetchServiceDeskRequestDetails(issueKey) {\r\n  // Delegated: FlowingFooter handles fetching and rendering complete ticket details\r\n  console.log('üîÅ Delegating Service Desk details fetch to FlowingFooter for:', issueKey);\r\n  if (window.flowingFooter && typeof window.flowingFooter.loadTicketIntoBalancedView === 'function') {\r\n    window.flowingFooter.loadTicketIntoBalancedView(issueKey).catch(err => console.warn('FlowingFooter failed to load ticket:', err));\r\n    return;\r\n  }\r\n\r\n  // Legacy fallback: perform basic fetch and store result (minimal behavior)\r\n  console.warn('‚ö†Ô∏è FlowingFooter not available - performing legacy fetch');\r\n  fetch(`/api/servicedesk/request/${issueKey}`)\r\n    .then(r => r.json())\r\n    .then(data => {\r\n      const payload = data.data || data;\r\n      sidebarState.currentIssue = { ...(sidebarState.currentIssue || {}), ...payload };\r\n      try { renderAttachments(sidebarState.currentIssue); } catch (e) { }\r\n    })\r\n    .catch(err => console.error('Legacy fetch failed:', err));\r\n}\r\n\r\n// ===== LOAD COMMENTS =====\r\nfunction loadIssueComments(issueKey) {\r\n  if (window.commentsModule && typeof window.commentsModule.loadIssueComments === 'function') {\r\n    return window.commentsModule.loadIssueComments(issueKey, { listSelector: '#commentsList', countSelector: '#commentCount' });\r\n  }\r\n  console.warn('commentsModule not available - cannot load comments');\r\n}\r\n\r\n// ===== GET ISSUE ATTACHMENTS =====\r\nfunction getIssueAttachments(issue) {\r\n  if (!issue) return [];\r\n\r\n  let attachments = [];\r\n\r\n  if (issue.fields && Array.isArray(issue.fields.attachment)) {\r\n    attachments = issue.fields.attachment;\r\n  } else if (Array.isArray(issue.attachment)) {\r\n    attachments = issue.attachment;\r\n  } else if (Array.isArray(issue.attachments)) {\r\n    attachments = issue.attachments;\r\n  }\r\n\r\n  return attachments || [];\r\n}\r\n\r\n// ===== RENDER ATTACHMENTS =====\r\n// Stubbed: delegate to FlowingContext or FlowingFooter to avoid duplicating UI rendering\r\nfunction renderAttachments(issue) {\r\n  if (window.FlowingContext && typeof window.FlowingContext.renderAttachmentsInBar === 'function') {\r\n    try { return window.FlowingContext.renderAttachmentsInBar(issue); } catch (e) { console.warn('FlowingContext.renderAttachmentsInBar failed', e); }\r\n  }\r\n  if (window.flowingFooter && typeof window.flowingFooter.renderAttachmentsForBalanced === 'function') {\r\n    try { return window.flowingFooter.renderAttachmentsForBalanced(issue); } catch (e) { console.warn('flowingFooter.renderAttachmentsForBalanced failed', e); }\r\n  }\r\n  // No-op minimal fallback: do nothing to avoid DOM conflicts\r\n  return;\r\n}\r\n\r\n// ===== FORMAT FILE SIZE =====\r\nfunction formatFileSize(bytes) {\r\n  if (!bytes || bytes === 0) return '0 B';\r\n\r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n}\r\n\r\n// ===== GET FILE ICON =====\r\nfunction getFileIcon(filename) {\r\n  const ext = filename.split('.').pop().toLowerCase();\r\n  const iconMap = {\r\n    'pdf': 'üìÑ', 'doc': 'üìù', 'docx': 'üìù', 'xls': 'üìä', 'xlsx': 'üìä',\r\n    'txt': 'üìÉ', 'zip': 'üóúÔ∏è', 'rar': 'üóúÔ∏è', '7z': 'üóúÔ∏è',\r\n    'png': 'üñºÔ∏è', 'jpg': 'üñºÔ∏è', 'jpeg': 'üñºÔ∏è', 'gif': 'üñºÔ∏è', 'webp': 'üñºÔ∏è'\r\n  };\r\n  return iconMap[ext] || 'üìé';\r\n}\r\n\r\n// ===== PROCESS COMMENT TEXT =====\r\n// Stubbed: FlowingContext handles comment formatting for the balanced view.\r\nfunction processCommentText(text) {\r\n  if (window.FlowingContext && typeof window.FlowingContext.processCommentText === 'function') {\r\n    return window.FlowingContext.processCommentText(text);\r\n  }\r\n  // Minimal fallback: escape HTML and preserve newlines\r\n  if (!text) return '';\r\n  return String(text).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\n/g, '<br>');\r\n}\r\n\r\n// ===== SETUP COMMENT EVENT LISTENERS =====\r\nfunction setupCommentEventListeners(issueKey) {\r\n  if (window.commentsModule && typeof window.commentsModule.setupCommentEventListeners === 'function') {\r\n    return window.commentsModule.setupCommentEventListeners(issueKey, { listSelector: '#commentsList', textareaSelector: '#commentText' });\r\n  }\r\n  console.warn('commentsModule not available - cannot setup comment event listeners');\r\n}\r\n\r\n// ===== POST COMMENT =====\r\nfunction postComment(issueKey) {\r\n  if (window.commentsModule && typeof window.commentsModule.postComment === 'function') {\r\n    // default targets for right-sidebar\r\n    return window.commentsModule.postComment(issueKey, { textareaSelector: '#commentText', internalCheckboxSelector: '#commentInternal', listSelector: '#commentsList', countSelector: '#commentCount', buttonSelector: '.btn-add-comment', visibilityLabelSelector: '.visibility-label' });\r\n  }\r\n  console.warn('commentsModule not available - cannot post comment');\r\n}\r\n\r\n// ===== CLOSE SIDEBAR =====\r\nfunction closeSidebar() {\r\n  const rightSidebar = document.getElementById('rightSidebar');\r\n  const mainWrapper = document.querySelector('.main-wrapper');\r\n\r\n  // Notify ML features about ticket leave (for cache save)\r\n  if (window.commentSuggestionsUI && sidebarState.currentIssue) {\r\n    window.commentSuggestionsUI.onTicketLeave();\r\n  }\r\n\r\n  // Add closing animation\r\n  rightSidebar.classList.add('closing');\r\n\r\n  // Remove classes after animation\r\n  setTimeout(() => {\r\n    rightSidebar.style.display = 'none';\r\n    rightSidebar.classList.remove('closing');\r\n    mainWrapper.classList.remove('sidebar-open');\r\n    sidebarState.isOpen = false;\r\n    sidebarState.currentIssue = null;\r\n  }, 300);\r\n}\r\n\r\n// ===== EXTRACT FIELD VALUE FROM NESTED PATHS =====\r\nfunction extractFieldValue(obj, paths) {\r\n  if (!obj) return null;\r\n\r\n  for (const path of paths) {\r\n    const parts = path.split('.');\r\n    let value = obj;\r\n\r\n    for (const part of parts) {\r\n      if (value && typeof value === 'object' && part in value) {\r\n        value = value[part];\r\n      } else {\r\n        value = null;\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Extract value from object if needed\r\n    if (value && typeof value === 'object') {\r\n      value = value.value || value.name || null;\r\n    }\r\n\r\n    if (value !== null && value !== undefined && value !== '') {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n// ===== EXTRACT ALL RELEVANT FIELDS =====\r\nfunction extractAllFields(issue) {\r\n  const fields = [];\r\n  const seenKeys = new Set(); // Track already added fields\r\n\r\n  const excludeFields = new Set([\r\n    // Technical/structural fields to hide (keep everything else visible in All Fields)\r\n    'transitions', 'comments', 'attachment', 'worklog',\r\n    'expand', 'self', 'id', 'changelog', 'operations', 'editmeta', 'names', 'schema',\r\n    'statuscategory', 'statusCategory', 'lastViewed', 'watches',\r\n    'issuelinks', 'subtasks', 'parent', 'aggregatetimespent', 'aggregatetimeoriginalestimate',\r\n    'aggregatetimeestimate', 'aggregateprogress', 'progress', 'workratio', 'avatarUrls',\r\n    'timetracking', 'security', 'votes',\r\n\r\n    // Redundant fields (already shown in kanban card or sidebar header)\r\n    'key', 'summary', 'status', 'assignee', 'reporter', 'created', 'updated',\r\n    'issuetype',\r\n\r\n    // Numeric fields that are always 0.0 (unused SLA/tracking fields)\r\n    'customfield_10027', 'customfield_10028', 'customfield_10029', 'customfield_10030',\r\n    'customfield_10041', 'customfield_10042', 'customfield_10196', 'customfield_10197',\r\n    'customfield_10198', 'customfield_10205', 'customfield_10206', 'customfield_10218',\r\n    'customfield_10221', 'customfield_10224', 'customfield_10227', 'customfield_10230',\r\n    'customfield_10233', 'customfield_10236', 'customfield_10237', 'customfield_10238',\r\n    'customfield_10239', 'customfield_10240', 'customfield_10241', 'customfield_10242',\r\n    'customfield_10249', 'customfield_10279', 'customfield_10280', 'customfield_10289',\r\n    'customfield_10292', 'customfield_10295', 'customfield_10301', 'customfield_10341',\r\n    'customfield_10677', 'customfield_10717', 'customfield_10718', 'customfield_10719',\r\n    'customfield_10720', 'customfield_10733', 'customfield_10734',\r\n\r\n    // Empty/unused system fields\r\n    'customfield_10002', 'customfield_10019', 'customfield_10124',\r\n    'customfield_10148', 'customfield_10157', 'customfield_10159'\r\n  ]);\r\n\r\n  // Check if value is meaningful (not null, empty, or just structural)\r\n  const hasValue = (val) => {\r\n    if (val === null || val === undefined) return false;\r\n    if (val === '' && typeof val === 'string') return false;\r\n    if (Array.isArray(val) && val.length === 0) return false;\r\n    if (typeof val === 'object') {\r\n      // Description with ADF content\r\n      if (val.content && Array.isArray(val.content)) return true;\r\n      // SLA objects with ongoingCycle have millis data - KEEP them\r\n      if (val.ongoingCycle && (val.ongoingCycle.elapsedTime || val.ongoingCycle.remainingTime)) return true;\r\n      // Request Type object - KEEP it\r\n      if (val._links && val._links.self && val._links.self.includes('requesttype')) return true;\r\n      // Other SLA structure without data - skip\r\n      if (val._links || (val.completedCycles !== undefined && val.ongoingCycle === undefined) || val.slaDisplayFormat) return false;\r\n      // Empty objects\r\n      if (Object.keys(val).length === 0) return false;\r\n      // Has meaningful data\r\n      if (val.name || val.displayName || val.value) return true;\r\n    }\r\n    if (typeof val === 'number' && val === 0) return false;\r\n    return true;\r\n  };\r\n\r\n  // Field mappings from CUSTOM_FIELDS_REFERENCE.json\r\n  const fieldMappings = {\r\n    // Standard JIRA fields\r\n    'priority': '‚ö° Priority',\r\n    'reporter': 'üì¢ Reporter',\r\n    'labels': 'üè∑Ô∏è Labels',\r\n    'components': 'üß© Components',\r\n    'fixVersions': 'üîñ Fix Versions',\r\n    'affectsVersions': 'üêõ Affects Versions',\r\n    'environment': 'üñ•Ô∏è Environment',\r\n    'duedate': 'üìÖ Due Date',\r\n    'resolutiondate': '‚úÖ Resolution Date',\r\n    'timespent': '‚è±Ô∏è Time Spent',\r\n    'timeestimate': '‚è∞ Time Estimate',\r\n    'timeoriginalestimate': 'üïê Original Estimate',\r\n    'project': 'üìÅ Project',\r\n    'creator': 'üë§ Creator',\r\n    'resolution': '‚úîÔ∏è Resolution',\r\n\r\n    // Form fields (Request-type form fields)\r\n    'customfield_10125': 'üö® Criticidad',\r\n    'customfield_10156': 'üé´ Tipo de Solicitud',\r\n    'customfield_10168': 'üìÇ √Årea',\r\n    'customfield_10169': 'üíª Plataforma',\r\n    'customfield_10143': 'üè¢ Empresa',\r\n    'customfield_10144': 'üì¶ Producto',\r\n    'customfield_10149': 'üìù Notas/An√°lisis',\r\n    'customfield_10151': '‚úÖ Resoluci√≥n',\r\n    'customfield_10165': 'üåé Pa√≠s',\r\n    'customfield_10167': 'üìû Pa√≠s/C√≥digo',\r\n\r\n    // Contact info fields\r\n    'customfield_10141': '‚úâÔ∏è Email',\r\n    'customfield_10142': 'üì± Phone',\r\n    'customfield_10111': 'üë§ Reporter/Informador',\r\n\r\n    // System fields\r\n    'customfield_10010': 'üéØ Request Type',\r\n    'customfield_10061': 'üìã Status Transition Log',\r\n    'customfield_10110': 'üìÅ Issue Category',\r\n    'customfield_10115': 'üåê Language',\r\n    'customfield_10166': 'üåç Country (Alternative)',\r\n    'customfield_10024': 'üïê Timestamp',\r\n\r\n    // SLA fields (links to SLA definitions)\r\n    'customfield_10170': '‚è±Ô∏è SLA\\'s Incidente HUB',\r\n    'customfield_10176': 'üîí Cierre Ticket',\r\n    'customfield_10181': 'üì∫ SLA\\'s Servicios Streaming',\r\n    'customfield_10182': 'üì∫ SLA\\'s Servicios Streaming (SR)',\r\n    'customfield_10183': 'üìä SLA\\'s Solicitud de CDRs Captura Logs',\r\n    'customfield_10184': 'üí∞ SLA\\'s Cotizaci√≥n Orden de Compra',\r\n    'customfield_10185': 'üêõ SLA\\'s Errores Pruebas de Integraci√≥n',\r\n    'customfield_10186': 'üîÑ SLA\\'s Actualizaci√≥n de SDK',\r\n    'customfield_10187': 'üìà SLA\\'s Splunk',\r\n    'customfield_10190': 'üõ†Ô∏è SLA\\'s Soporte Aplicaciones',\r\n    'customfield_10259': 'üö® SLA War Room',\r\n    'customfield_11957': 'üíö Salud de Servicios',\r\n\r\n    // Other common fields\r\n    'customfield_10020': 'üèÉ Sprint',\r\n    'customfield_10016': 'üìä Story Points',\r\n    'customfield_10037': 'üìñ Epic Link'\r\n  };\r\n\r\n  // SLA custom field IDs (primary and secondary)\r\n  const slaFieldIds = [\r\n    'customfield_10170', // SLA's Incidente HUB\r\n    'customfield_10176', // Cierre Ticket (secondary)\r\n    'customfield_10181', // SLA's Servicios Streaming\r\n    'customfield_10182', // SLA's Servicios Streaming (SR)\r\n    'customfield_10183', // SLA's Solicitud de CDRs\r\n    'customfield_10184', // SLA's Cotizaci√≥n Orden de Compra\r\n    'customfield_10185', // SLA's Errores Pruebas de Integraci√≥n\r\n    'customfield_10186', // SLA's Actualizaci√≥n de SDK\r\n    'customfield_10187', // SLA's Splunk\r\n    'customfield_10190', // SLA's Soporte Aplicaciones\r\n    'customfield_10259', // SLA War Room\r\n    'customfield_11957'  // Salud de Servicios\r\n  ];\r\n\r\n  // Helper to extract fields from an object\r\n  const extractFields = (obj, checkExcluded = false) => {\r\n    if (!obj) return;\r\n    Object.entries(obj).forEach(([key, value]) => {\r\n      if ((checkExcluded && excludeFields.has(key)) || !hasValue(value) || seenKeys.has(key)) return;\r\n\r\n      // üîç FILTER SLA FIELDS: Only show SLAs with active ongoingCycle\r\n      if (slaFieldIds.includes(key)) {\r\n        // Skip SLA fields that don't have an ongoingCycle\r\n        if (!value || typeof value !== 'object' || !value.ongoingCycle) {\r\n          console.log(`‚è≠Ô∏è Skipping ${key} - no active ongoingCycle`);\r\n          return;\r\n        }\r\n        console.log(`‚úÖ Including ${key} - has active ongoingCycle:`, value.name);\r\n\r\n        // Mark secondary SLA (Cierre Ticket - customfield_10176)\r\n        if (key === 'customfield_10176') {\r\n          value._isSecondarySLA = true;\r\n        }\r\n      }\r\n\r\n      fields.push({\r\n        label: fieldMappings[key] || humanizeFieldName(key),\r\n        value,\r\n        type: detectFieldType(value),\r\n        key\r\n      });\r\n      seenKeys.add(key);\r\n    });\r\n  };\r\n\r\n  // Add description explicitly first (priority 0)\r\n  if (issue.fields?.description || issue.description) {\r\n    const desc = issue.fields?.description || issue.description;\r\n    if (hasValue(desc)) {\r\n      fields.push({\r\n        label: 'üìù Description',\r\n        value: desc,\r\n        type: detectFieldType(desc),\r\n        key: 'description'\r\n      });\r\n      seenKeys.add('description');\r\n    }\r\n  }\r\n\r\n  // Extract from multiple sources\r\n  extractFields(issue.fields, true); // Check excluded fields\r\n  extractFields(issue.custom_fields);\r\n  extractFields(issue.serviceDesk?.requestFieldValues);\r\n\r\n  // Extract from Service Desk currentStatus\r\n  if (issue.serviceDesk && issue.serviceDesk.currentStatus) {\r\n    const status = issue.serviceDesk.currentStatus;\r\n    if (hasValue(status.status) && !seenKeys.has('serviceDesk.currentStatus')) {\r\n      fields.push({\r\n        label: 'üîÑ Service Desk Status',\r\n        value: status.status,\r\n        type: 'string',\r\n        key: 'serviceDesk.currentStatus'\r\n      });\r\n      seenKeys.add('serviceDesk.currentStatus');\r\n    }\r\n  }\r\n\r\n  // Extract SLA data with millis\r\n  if (issue.slaData && Array.isArray(issue.slaData)) {\r\n    issue.slaData.forEach((sla, idx) => {\r\n      if (!sla || !sla.name) return;\r\n\r\n      const key = `sla_${idx}_${sla.name}`;\r\n      if (seenKeys.has(key)) return;\r\n\r\n      fields.push({\r\n        label: `‚è±Ô∏è ${sla.name}`,\r\n        value: sla,\r\n        type: 'sla',\r\n        key\r\n      });\r\n      seenKeys.add(key);\r\n    });\r\n  }\r\n\r\n  // Total: ${fields.length} fields extracted\r\n\r\n  // Define priority order for important fields\r\n  const priorityOrder = {\r\n    // Tier 0: Description (most important, full width)\r\n    'Description': 0,\r\n    'üìù Description': 0,\r\n\r\n    // Tier 1: Critical business info (top)\r\n    'üö® Criticidad': 1,\r\n    'üé´ Tipo de Solicitud': 2,\r\n    'üìÇ √Årea': 3,\r\n    'üíª Plataforma': 4,\r\n    'üè¢ Empresa': 5,\r\n    'üì¶ Producto': 6,\r\n\r\n    // Tier 2: Contact & location\r\n    '‚úâÔ∏è Email': 10,\r\n    'üì± Phone': 11,\r\n    'üåé Pa√≠s': 12,\r\n    'üìû Pa√≠s/C√≥digo': 13,\r\n\r\n    // Tier 3: Status & resolution\r\n    '‚ö° Priority': 20,\r\n    '‚úîÔ∏è Resolution': 21,\r\n    'üìÖ Due Date': 22,\r\n    '‚úÖ Resolution Date': 23,\r\n\r\n    // Tier 4: Notes & analysis (show full width)\r\n    'üìù Notas/An√°lisis': 30,\r\n    '‚úÖ Resoluci√≥n': 31,\r\n\r\n    // Tier 5: Other fields\r\n    // (unlisted fields get 100)\r\n\r\n    // Tier 6: System/technical fields (bottom)\r\n    'üéØ Request Type': 200,\r\n    'üåê Language': 201,\r\n    'üìÅ Issue Category': 202,\r\n  };\r\n\r\n  // Sort by priority\r\n  fields.sort((a, b) => {\r\n    const aPriority = priorityOrder[a.label] || 100;\r\n    const bPriority = priorityOrder[b.label] || 100;\r\n\r\n    if (aPriority !== bPriority) {\r\n      return aPriority - bPriority;\r\n    }\r\n\r\n    // Same priority: alphabetical\r\n    return a.label.localeCompare(b.label);\r\n  });\r\n\r\n  return fields;\r\n}\r\n\r\n// ===== HUMANIZE FIELD NAME =====\r\nfunction humanizeFieldName(fieldName) {\r\n  return fieldName\r\n    .replace(/^customfield_\\d+/, 'Custom Field')\r\n    .replace(/_/g, ' ')\r\n    .replace(/([A-Z])/g, ' $1')\r\n    .trim()\r\n    .replace(/\\b\\w/g, l => l.toUpperCase());\r\n}\r\n\r\n// ===== DETECT FIELD TYPE =====\r\nfunction detectFieldType(value) {\r\n  if (Array.isArray(value)) return 'array';\r\n  if (value === null || value === undefined) return 'null';\r\n  if (typeof value === 'object') {\r\n    // Description with ADF content\r\n    if (value.content && Array.isArray(value.content)) return 'description';\r\n    // Request Type (customfield_10010)\r\n    if (value._links && value._links.self && value._links.self.includes('requesttype')) return 'request_type';\r\n    // SLA objects with ongoing cycle and millis data\r\n    if (value.ongoingCycle && value.ongoingCycle.elapsedTime) return 'sla';\r\n    // Other SLA structure objects\r\n    if (value._links || value.completedCycles !== undefined || value.slaDisplayFormat) return 'sla_empty';\r\n    // User objects\r\n    if (value.displayName && value.accountId) return 'user';\r\n    if (value.displayName) return 'user';\r\n    // Select/dropdown values\r\n    if (value.value && !value.id) return 'select';\r\n    // Named objects (project, components, etc)\r\n    if (value.name && value.id) return 'object';\r\n    if (value.name) return 'object';\r\n    return 'object';\r\n  }\r\n  if (typeof value === 'boolean') return 'boolean';\r\n  if (typeof value === 'number') return 'number';\r\n  if (typeof value === 'string') {\r\n    if (value.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}/)) return 'date';\r\n    if (value.match(/^\\d{4}-\\d{2}-\\d{2}/)) return 'date';\r\n    if (value.length > 200) return 'text';\r\n    return 'string';\r\n  }\r\n  return 'unknown';\r\n}\r\n\r\n// ===== FORMAT FIELD VALUE =====\r\nfunction formatFieldValue(value, type, issueKey) {\r\n  if (!value && value !== 0 && value !== false) return '‚Äî';\r\n\r\n  switch (type) {\r\n    case 'description':\r\n      // Atlassian Document Format (ADF) - extract text content\r\n      if (value.content && Array.isArray(value.content)) {\r\n        let text = '';\r\n        const extractText = (node) => {\r\n          if (node.type === 'text') {\r\n            text += node.text;\r\n          } else if (node.content) {\r\n            node.content.forEach(extractText);\r\n          }\r\n        };\r\n        value.content.forEach(extractText);\r\n        const escaped = text.trim()\r\n          .replace(/&/g, '&amp;')\r\n          .replace(/</g, '&lt;')\r\n          .replace(/>/g, '&gt;')\r\n          .replace(/\\n/g, '<br>');\r\n        return `<div class=\"field-text-long\">${escaped || '‚Äî'}</div>`;\r\n      }\r\n      return String(value);\r\n\r\n    case 'request_type':\r\n      // Request Type - create button to customer portal\r\n      const requestTypeName = value.name || 'View Request';\r\n      const portalUrl = value._links?.web || '#';\r\n      return `<a href=\"${portalUrl}\" target=\"_blank\" class=\"request-type-button\" title=\"Open in Customer Portal\">\r\n                <span class=\"icon\">üé´</span>\r\n                <span class=\"text\">${requestTypeName}</span>\r\n                <span class=\"external\">‚Üó</span>\r\n              </a>`;\r\n\r\n    case 'sla':\r\n      // SLA objects with ongoing cycle - show elapsed and remaining millis\r\n      if (value.ongoingCycle) {\r\n        const elapsed = value.ongoingCycle.elapsedTime;\r\n        const remaining = value.ongoingCycle.remainingTime;\r\n        const paused = value.ongoingCycle.paused || false;\r\n        const breached = value.ongoingCycle.breached || false;\r\n\r\n        const elapsedMs = elapsed?.millis || 0;\r\n        const remainingMs = remaining?.millis || 0;\r\n\r\n        const elapsedHrs = (elapsedMs / (1000 * 60 * 60)).toFixed(1);\r\n        const remainingHrs = (remainingMs / (1000 * 60 * 60)).toFixed(1);\r\n\r\n        // Check if this is marked as secondary SLA (by field ID customfield_10176)\r\n        const slaName = value.name || 'SLA';\r\n        const isSecondarySLA = value._isSecondarySLA === true;\r\n\r\n        const pausedBadge = paused ? '<span style=\"color: #f59e0b; font-weight: bold;\"> ‚è∏Ô∏è PAUSED</span>' : '';\r\n        const secondaryBadge = isSecondarySLA ? '<span style=\"background: #f59e0b; color: white; padding: 2px 6px; border-radius: 3px; font-size: 9px; font-weight: bold; margin-left: 4px;\">‚ö†Ô∏è FALLBACK</span>' : '';\r\n        const breachedBadge = breached ? '<span style=\"color: #ef4444; font-weight: bold;\"> üî¥ BREACHED</span>' : '';\r\n\r\n        const statusColor = breached ? '#ef4444' : (remainingMs < 0 ? '#ef4444' : '#10b981');\r\n        const nameColor = isSecondarySLA ? '#f59e0b' : (breached ? '#ef4444' : '#1e293b');\r\n\r\n        return `<div style=\"font-size: 11px;\">\r\n          <strong style=\"color: ${nameColor};\">${slaName}</strong>${secondaryBadge}${pausedBadge}${breachedBadge}<br>\r\n          <span style=\"color: #3b82f6;\">‚è±Ô∏è Elapsed: ${elapsedHrs}h (${elapsedMs.toLocaleString()}ms)</span><br>\r\n          <span style=\"color: ${statusColor};\">‚è∞ Remaining: ${remainingHrs}h (${remainingMs.toLocaleString()}ms)</span>\r\n          ${isSecondarySLA ? '<br><span style=\"color: #f59e0b; font-size: 10px;\">‚ö†Ô∏è No primary SLA available for this ticket type</span>' : ''}\r\n        </div>`;\r\n      }\r\n      return value.name || 'SLA Object';\r\n\r\n    case 'sla_empty':\r\n      // Empty SLA structure - skip\r\n      return '‚Äî';\r\n\r\n    case 'user':\r\n      return value.displayName || value.name || value.emailAddress || '‚Äî';\r\n\r\n    case 'select':\r\n      return value.value || value.name || '‚Äî';\r\n\r\n    case 'array':\r\n      if (value.length === 0) return '‚Äî';\r\n      return value.map(item => {\r\n        if (typeof item === 'object') {\r\n          return item.name || item.value || item.displayName || JSON.stringify(item);\r\n        }\r\n        return item;\r\n      }).join(', ');\r\n\r\n    case 'date':\r\n      return formatDate(value);\r\n\r\n    case 'boolean':\r\n      return value ? '‚úÖ Yes' : '‚ùå No';\r\n\r\n    case 'number':\r\n      return value.toLocaleString();\r\n\r\n    case 'text':\r\n      // Mostrar TODO el texto sin truncar\r\n      const escaped = String(value)\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;');\r\n      return escaped;\r\n\r\n    case 'object':\r\n      if (value.name) return value.name;\r\n      if (value.displayName) return value.displayName;\r\n      if (value.value) return value.value;\r\n      // Try to show something meaningful\r\n      const str = JSON.stringify(value);\r\n      if (str.length < 50) return str;\r\n      return str.substring(0, 80) + '...';\r\n\r\n    default:\r\n      return String(value);\r\n  }\r\n}\r\n\r\n// ===== FORMAT DATE =====\r\nfunction formatDate(dateString) {\r\n  if (!dateString || dateString === '‚Äî') return '‚Äî';\r\n\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US') + ' ' + date.toLocaleTimeString('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return dateString;\r\n  }\r\n}\r\n\r\n// ===== FORMAT COMMENT TIME (relative) =====\r\nfunction formatCommentTime(dateString) {\r\n  if (window.commentsModule && typeof window.commentsModule.formatCommentTime === 'function') {\r\n    return window.commentsModule.formatCommentTime(dateString);\r\n  }\r\n  if (!dateString) return '‚Äî';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US') + ' ' + date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\r\n  } catch {\r\n    return dateString;\r\n  }\r\n}\r\n\r\n// ===== RENDER ATTACHMENTS =====\r\n// Stub: delegate attachments rendering to FlowingContext/FlowingFooter to avoid duplicate UI\r\nfunction renderAttachments(issue) {\r\n  if (window.FlowingContext && typeof window.FlowingContext.renderAttachmentsInBar === 'function') {\r\n    try { return window.FlowingContext.renderAttachmentsInBar(issue); } catch (e) { console.warn('FlowingContext.renderAttachmentsInBar failed', e); }\r\n  }\r\n  if (window.flowingFooter && typeof window.flowingFooter.renderAttachmentsForBalanced === 'function') {\r\n    try { return window.flowingFooter.renderAttachmentsForBalanced(issue); } catch (e) { console.warn('flowingFooter.renderAttachmentsForBalanced failed', e); }\r\n  }\r\n  // No-op fallback\r\n  return;\r\n}\r\n\r\n// ===== INTEGRATION WITH KANBAN CARDS =====\r\nfunction setupIssueCardClickHandlers() {\r\n  console.log('üîß [Setup] ===== EXECUTING setupIssueCardClickHandlers =====');\r\n\r\n  // Setup details buttons with proper drag and drop compatibility\r\n  const detailsButtons = document.querySelectorAll('.issue-details-btn');\r\n  console.log('üìã [Setup] Found', detailsButtons.length, 'details buttons');\r\n\r\n  detailsButtons.forEach((btn, index) => {\r\n    const issueKey = btn.getAttribute('data-issue-key');\r\n    console.log(`üîß [Setup] Configuring button ${index + 1}:`, issueKey);\r\n\r\n    // Force styling\r\n    btn.style.cursor = 'pointer';\r\n    btn.style.pointerEvents = 'auto';\r\n    btn.style.zIndex = '9999';\r\n    btn.style.position = 'relative';\r\n\r\n    // Remove any existing listeners\r\n    btn.onclick = null;\r\n\r\n    // Use click with delay to avoid conflict with drag events\r\n    btn.addEventListener('click', function (e) {\r\n      console.log('üéØ [CLICK] Details button clicked for:', issueKey);\r\n\r\n      // Check if we're in the middle of a drag operation\r\n      if (window.dragTransitionVertical && window.dragTransitionVertical.isDragging) {\r\n        console.log('‚ö†Ô∏è [CLICK] Drag in progress, ignoring button click');\r\n        return;\r\n      }\r\n\r\n      // Stop propagation to prevent card events\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      // Small delay to ensure it's a deliberate click, not part of drag\r\n      setTimeout(() => {\r\n        if (typeof openIssueDetails === 'function') {\r\n          console.log('‚úÖ [CLICK] Calling openIssueDetails for:', issueKey);\r\n          openIssueDetails(issueKey);\r\n        } else {\r\n          console.error('‚ùå [CLICK] openIssueDetails function not found');\r\n        }\r\n      }, 50);\r\n    });\r\n\r\n    console.log('‚úÖ [Setup] Button configured with mousedown handler for:', issueKey);\r\n  });\r\n}\r\n\r\n// ===== SETUP MENTIONS SYSTEM =====\r\nfunction setupMentionSystem() {\r\n  console.log('üîß [Mentions] Setting up mention system...');\r\n\r\n  // Check if sidebar exists\r\n  const rightSidebar = document.getElementById('rightSidebar');\r\n  console.log('üìç [Mentions] rightSidebar exists:', !!rightSidebar);\r\n\r\n  // Search for elements globally\r\n  const mentionBtn = document.getElementById('mentionBtn');\r\n  const mentionsDropdown = document.getElementById('mentionsDropdown');\r\n  const mentionsSearch = document.getElementById('mentionsSearch');\r\n  const mentionsList = document.getElementById('mentionsList');\r\n  const commentText = document.getElementById('commentText');\r\n\r\n  console.log('üìç [Mentions] mentionBtn found:', !!mentionBtn);\r\n  console.log('üìç [Mentions] mentionsDropdown found:', !!mentionsDropdown);\r\n  console.log('üìç [Mentions] mentionsSearch found:', !!mentionsSearch);\r\n  console.log('üìç [Mentions] mentionsList found:', !!mentionsList);\r\n  console.log('üìç [Mentions] commentText found:', !!commentText);\r\n\r\n  // List all elements in the sidebar\r\n  if (rightSidebar) {\r\n    const allIds = rightSidebar.querySelectorAll('[id]');\r\n    console.log('üìä [Mentions] IDs in sidebar:', Array.from(allIds).map(el => el.id));\r\n  }\r\n\r\n  // Also try searching within sidebar specifically\r\n  if (rightSidebar && !mentionBtn) {\r\n    console.log('üîç [Mentions] Searching within sidebar...');\r\n    const btnInSidebar = rightSidebar.querySelector('#mentionBtn');\r\n    console.log('üìç [Mentions] mentionBtn in sidebar:', !!btnInSidebar);\r\n  }\r\n\r\n  if (!mentionBtn || !mentionsDropdown) {\r\n    console.warn('‚ö†Ô∏è [Mentions] Required elements not found - aborting setup');\r\n    console.log('Full document structure check:');\r\n    console.log('mentionBtn in doc:', document.getElementById('mentionBtn'));\r\n    console.log('mentionsDropdown in doc:', document.getElementById('mentionsDropdown'));\r\n\r\n    // Debug: check if they're maybe in the sidebar but with different query\r\n    if (rightSidebar) {\r\n      console.log('üîç [Mentions] Attempting querySelectorAll...');\r\n      const btnByClass = rightSidebar.querySelector('.comment-toolbar-btn');\r\n      console.log('üìç Found button by class:', !!btnByClass, btnByClass?.id);\r\n      const dropdownByClass = rightSidebar.querySelector('.mentions-dropdown');\r\n      console.log('üìç Found dropdown by class:', !!dropdownByClass, dropdownByClass?.id);\r\n    }\r\n    return;\r\n  }\r\n\r\n  console.log('‚úÖ [Mentions] Elements found, attaching listeners...');\r\n\r\n  // Clone the button to remove all previous event listeners\r\n  const newMentionBtn = mentionBtn.cloneNode(true);\r\n  mentionBtn.parentNode.replaceChild(newMentionBtn, mentionBtn);\r\n\r\n  // Get reference to the new button\r\n  const freshMentionBtn = document.getElementById('mentionBtn');\r\n  const mentionsDropdownFresh = document.getElementById('mentionsDropdown');\r\n  const mentionsSearchFresh = document.getElementById('mentionsSearch');\r\n\r\n  freshMentionBtn.addEventListener('click', () => {\r\n    console.log('üñ±Ô∏è [Mentions] Mention button clicked');\r\n    const isOpen = mentionsDropdownFresh.classList.contains('show');\r\n    if (isOpen) {\r\n      mentionsDropdownFresh.classList.remove('show');\r\n    } else {\r\n      mentionsDropdownFresh.classList.add('show');\r\n      mentionsSearchFresh.focus();\r\n      loadAvailableUsers();\r\n    }\r\n  });\r\n\r\n  mentionsSearchFresh.addEventListener('input', (e) => {\r\n    filterMentions(e.target.value);\r\n  });\r\n\r\n  document.addEventListener('click', (e) => {\r\n    if (!e.target.closest('.mentions-dropdown') && !e.target.closest('#mentionBtn')) {\r\n      mentionsDropdownFresh.classList.remove('show');\r\n    }\r\n  });\r\n\r\n  console.log('‚úÖ [Mentions] Setup complete');\r\n}\r\n\r\nfunction loadAvailableUsers() {\r\n  const mentionsList = document.getElementById('mentionsList');\r\n\r\n  if (!sidebarState.currentIssue) {\r\n    console.warn('‚ö†Ô∏è [Mentions] No current issue - cannot load users');\r\n    return;\r\n  }\r\n\r\n  const issueKey = sidebarState.currentIssue.key;\r\n  console.log('üîÑ [Mentions] Fetching users for issue:', issueKey);\r\n\r\n  // Fetch from API endpoint\r\n  fetch(`/api/v2/issues/${issueKey}/mentions/users`)\r\n    .then(r => {\r\n      if (!r.ok) throw new Error(`HTTP ${r.status}`);\r\n      return r.json();\r\n    })\r\n    .then(data => {\r\n      console.log('‚úÖ [Mentions] Loaded users:', data.users?.length || 0);\r\n\r\n      if (!data.users || data.users.length === 0) {\r\n        mentionsList.innerHTML = '<div class=\"mention-item\" style=\"color: #999; padding: 8px;\">No users available</div>';\r\n        return;\r\n      }\r\n\r\n      // Map API users to display format\r\n      const users = data.users.map(user => ({\r\n        id: user.accountId || user.username,\r\n        name: user.displayName || user.username || 'Unknown',\r\n        email: user.emailAddress || ''\r\n      }));\r\n\r\n      mentionsList.innerHTML = users.map((user, idx) => `\r\n        <div class=\"mention-item\" data-mention=\"${user.name}\" data-id=\"${user.id}\" data-index=\"${idx}\">\r\n          <strong>${user.name}</strong>\r\n          ${user.email ? `<div style=\"font-size: 10px; opacity: 0.6;\">${user.email}</div>` : ''}\r\n        </div>\r\n      `).join('');\r\n\r\n      // Attach click handlers to each user\r\n      document.querySelectorAll('.mention-item').forEach(item => {\r\n        item.addEventListener('click', () => {\r\n          const userName = item.dataset.mention;\r\n          const commentText = document.getElementById('commentText');\r\n          if (commentText) {\r\n            commentText.value += `@${userName} `;\r\n            commentText.focus();\r\n          }\r\n          const dropdown = document.getElementById('mentionsDropdown');\r\n          if (dropdown) dropdown.classList.remove('show');\r\n        });\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.error('‚ùå [Mentions] Error loading users:', err);\r\n      mentionsList.innerHTML = `<div class=\"mention-item\" style=\"color: #f00; padding: 8px;\">Error loading users</div>`;\r\n    });\r\n}\r\n\r\nfunction filterMentions(query) {\r\n  const mentionItems = document.querySelectorAll('.mention-item');\r\n  mentionItems.forEach(item => {\r\n    const text = item.textContent.toLowerCase();\r\n    item.style.display = text.includes(query.toLowerCase()) ? 'block' : 'none';\r\n  });\r\n}\r\n\r\n// ===== SETUP ATTACHMENTS SYSTEM =====\r\nfunction setupAttachmentsSystem() {\r\n  console.log('üîß [Attachments] Setting up attachments system...');\r\n\r\n  const rightSidebar = document.getElementById('rightSidebar');\r\n  console.log('üìç [Attachments] rightSidebar exists:', !!rightSidebar);\r\n\r\n  const attachBtn = document.getElementById('attachBtn');\r\n  const attachmentsPreview = document.getElementById('attachmentsPreview');\r\n  const attachmentsList = document.getElementById('attachmentsList');\r\n\r\n  console.log('üìç [Attachments] attachBtn found:', !!attachBtn);\r\n  console.log('üìç [Attachments] attachmentsPreview found:', !!attachmentsPreview);\r\n  console.log('üìç [Attachments] attachmentsList found:', !!attachmentsList);\r\n\r\n  // Try searching within sidebar\r\n  if (rightSidebar && !attachBtn) {\r\n    console.log('üîç [Attachments] Searching within sidebar...');\r\n    const btnInSidebar = rightSidebar.querySelector('#attachBtn');\r\n    const previewInSidebar = rightSidebar.querySelector('#attachmentsPreview');\r\n    console.log('üìç [Attachments] attachBtn in sidebar:', !!btnInSidebar);\r\n    console.log('üìç [Attachments] attachmentsPreview in sidebar:', !!previewInSidebar);\r\n  }\r\n\r\n  if (!attachBtn || !attachmentsPreview) {\r\n    console.warn('‚ö†Ô∏è [Attachments] Required elements not found - aborting setup');\r\n    console.log('Full document structure check:');\r\n    console.log('attachBtn in doc:', document.getElementById('attachBtn'));\r\n    console.log('attachmentsPreview in doc:', document.getElementById('attachmentsPreview'));\r\n\r\n    // Debug: try finding by class\r\n    if (rightSidebar) {\r\n      console.log('üîç [Attachments] Attempting querySelectorAll...');\r\n      const buttons = rightSidebar.querySelectorAll('.comment-toolbar-btn');\r\n      console.log('üìç Found buttons by class:', buttons.length);\r\n      buttons.forEach((btn, idx) => {\r\n        console.log(`  Button ${idx}:`, btn.id, btn.textContent);\r\n      });\r\n    }\r\n    return;\r\n  }\r\n\r\n  console.log('‚úÖ [Attachments] Elements found, attaching listeners...');\r\n\r\n  // Clone the button to remove all previous event listeners\r\n  const newAttachBtn = attachBtn.cloneNode(true);\r\n  attachBtn.parentNode.replaceChild(newAttachBtn, attachBtn);\r\n\r\n  // Get reference to the new button\r\n  const freshAttachBtn = document.getElementById('attachBtn');\r\n\r\n  freshAttachBtn.addEventListener('click', () => {\r\n    console.log('üñ±Ô∏è [Attachments] Attach button clicked');\r\n    // Create hidden file input\r\n    const fileInput = document.createElement('input');\r\n    fileInput.type = 'file';\r\n    fileInput.multiple = true;\r\n    fileInput.accept = '*/*';\r\n\r\n    fileInput.addEventListener('change', (e) => {\r\n      const files = Array.from(e.target.files);\r\n      console.log('üìÇ [Attachments] Files selected:', files.length);\r\n      addAttachments(files);\r\n      attachmentsPreview.classList.add('show');\r\n    });\r\n\r\n    fileInput.click();\r\n  });\r\n\r\n  console.log('‚úÖ [Attachments] Setup complete');\r\n}\r\n\r\n// Delegated click: if user clicks attach button but setup failed earlier, retry setup\r\ndocument.addEventListener('click', (e) => {\r\n  const target = e.target.closest('#attachBtn, .comment-toolbar-btn');\r\n  if (!target) return;\r\n  // If attachmentsPreview exists but has no children, try setupAttachmentsSystem\r\n  const preview = document.getElementById('attachmentsPreview');\r\n  const list = document.getElementById('attachmentsList');\r\n  if ((preview && (!preview.classList.contains('show') || (list && list.children.length === 0))) || !document.getElementById('attachBtn')) {\r\n    try {\r\n      setTimeout(() => { if (typeof setupAttachmentsSystem === 'function') setupAttachmentsSystem(); }, 80);\r\n    } catch (err) { /* silent */ }\r\n  }\r\n});\r\n\r\nlet attachedFiles = [];\r\n\r\nfunction addAttachments(files) {\r\n  const attachmentsList = document.getElementById('attachmentsList');\r\n  const attachmentsPreview = document.getElementById('attachmentsPreview');\r\n\r\n  attachedFiles.push(...files);\r\n\r\n  let html = '';\r\n  attachedFiles.forEach((file, idx) => {\r\n    html += `\r\n      <div class=\"attachment-item\">\r\n        <span class=\"attachment-name\" title=\"${file.name}\">üìÑ ${file.name}</span>\r\n        <button class=\"attachment-remove\" data-index=\"${idx}\">‚úï</button>\r\n      </div>\r\n    `;\r\n  });\r\n\r\n  attachmentsList.innerHTML = html;\r\n\r\n  // Setup remove buttons\r\n  document.querySelectorAll('.attachment-remove').forEach(btn => {\r\n    btn.addEventListener('click', () => {\r\n      const idx = parseInt(btn.dataset.index);\r\n      attachedFiles.splice(idx, 1);\r\n      if (attachedFiles.length === 0) {\r\n        attachmentsPreview.classList.remove('show');\r\n      } else {\r\n        addAttachments([]);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// ===== SETUP COMMENT KEYBOARD SHORTCUTS =====\r\nfunction setupCommentShortcuts() {\r\n  if (window.commentsModule && typeof window.commentsModule.setupCommentShortcuts === 'function') {\r\n    return window.commentsModule.setupCommentShortcuts();\r\n  }\r\n}\r\n\r\n// ===== OPEN ISSUE DETAILS (delegator) =====\r\nfunction openIssueDetails(issueKey) {\r\n  if (!issueKey) return;\r\n  // Prefer FlowingFooter balanced view\r\n  if (window.flowingFooter && typeof window.flowingFooter.switchToBalancedView === 'function') {\r\n    try {\r\n      window.flowingFooter.switchToBalancedView(issueKey);\r\n      return;\r\n    } catch (e) {\r\n      console.warn('FlowingFooter.switchToBalancedView failed:', e);\r\n    }\r\n  }\r\n\r\n  // Fallback: open legacy right sidebar and fetch minimal data\r\n  const rightSidebar = document.getElementById('rightSidebar');\r\n  if (rightSidebar) {\r\n    rightSidebar.style.display = 'block';\r\n    document.querySelector('.main-wrapper')?.classList.add('sidebar-open');\r\n    sidebarState.isOpen = true;\r\n  }\r\n  sidebarState.currentIssue = { key: issueKey };\r\n  try { fetchServiceDeskRequestDetails(issueKey); } catch (e) { console.warn('Fallback fetch failed', e); }\r\n}\r\n\r\n// ===== EXPORT FOR USE =====\r\nwindow.rightSidebar = {\r\n  init: initRightSidebar,\r\n  open: openIssueDetails,\r\n  close: closeSidebar,\r\n  setupCardHandlers: setupIssueCardClickHandlers,\r\n  switchPanel: function (name) {\r\n    console.warn('‚ö†Ô∏è switchPanel fallback invoked with', name);\r\n    try { sidebarState.currentPanel = name; } catch (e) { }\r\n  },\r\n  setupMentionSystem,\r\n  setupAttachmentsSystem,\r\n  setupCommentShortcuts\r\n};\r\n\r\n// Export functions globally for direct access\r\nconsole.log('üåç [Global] Exporting right-sidebar functions to window...');\r\nwindow.openIssueDetails = openIssueDetails;\r\nwindow.closeSidebar = closeSidebar;\r\nwindow.initRightSidebar = initRightSidebar;\r\nwindow.setupMentionSystem = setupMentionSystem;\r\nwindow.setupIssueCardClickHandlers = setupIssueCardClickHandlers;\r\nconsole.log('‚úÖ [Global] Functions exported:', {\r\n  openIssueDetails: typeof window.openIssueDetails,\r\n  setupIssueCardClickHandlers: typeof window.setupIssueCardClickHandlers\r\n});\r\nwindow.setupAttachmentsSystem = setupAttachmentsSystem;\r\nwindow.setupCommentShortcuts = setupCommentShortcuts;\r\n\r\n// Alias for FlowingContext bar (do not rename DOM id; provide JS alias)\r\nif (window.FlowingContext) {\r\n  window.FlowingContextBar = window.FlowingContextBar || window.rightSidebar || null;\r\n  console.log('‚ÑπÔ∏è [Right Sidebar] FlowingContext detected ‚Äî aliasing as FlowingContextBar');\r\n}\r\n\r\n// Hook into app.js render functions\r\nconst originalRenderKanban = window.renderKanban;\r\nwindow.renderKanban = function () {\r\n  originalRenderKanban?.call(this);\r\n  setupIssueCardClickHandlers();\r\n};\r\n\r\n// Initialize on DOMContentLoaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  setTimeout(() => {\r\n    console.log('üîß [Right Sidebar] DOMContentLoaded - Initializing...');\r\n    initRightSidebar();\r\n    console.log('‚úÖ [Right Sidebar] initRightSidebar() completed');\r\n\r\n    // Initialize mentions system\r\n    if (window.MentionSystem && !window.mentionSystem) {\r\n      window.mentionSystem = new MentionSystem();\r\n    }\r\n\r\n    // Simple global backup (no stopPropagation)\r\n    document.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.issue-details-btn');\r\n      if (btn && !btn.onclick) { // Only if no onclick set\r\n        const issueKey = btn.getAttribute('data-issue-key');\r\n\r\n        if (issueKey) {\r\n          console.log('üéØ [Global Backup] Click on details button:', issueKey);\r\n\r\n          if (typeof openIssueDetails === 'function') {\r\n            openIssueDetails(issueKey);\r\n          } else {\r\n            console.error('‚ùå [Global Backup] openIssueDetails function not found');\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n  }, 100);\r\n});\r\n\r\n// Also call immediately if DOM is already loaded\r\nif (document.readyState === 'loading') {\r\n  console.log('üìÑ [Right Sidebar] DOM still loading, will init on DOMContentLoaded');\r\n} else {\r\n  console.log('üìÑ [Right Sidebar] DOM already loaded, initializing immediately...');\r\n}\r\n\r\n// ===== FIELD EXPANSION REMOVED =====\r\n// Text fields now display complete content by default without truncation\r\n\r\n// Also call immediately if DOM is already loaded (continued from above)\r\nif (document.readyState !== 'loading') {\r\n  setTimeout(() => {\r\n    initRightSidebar();\r\n    console.log('‚úÖ [Right Sidebar] Immediate init completed');\r\n\r\n    // Initialize tab switching after sidebar is ready\r\n    console.log('üìã Initializing tabs immediately...');\r\n    setTimeout(() => setupTabSwitching(), 100);\r\n  }, 100);\r\n}\r\n\r\n// Initialize tab switching early (for static HTML tabs)\r\nsetTimeout(() => {\r\n  console.log('üìã Early tab initialization...');\r\n  // Provide fallback if setupTabSwitching is not defined\r\n  try {\r\n    if (typeof setupTabSwitching === 'function') setupTabSwitching();\r\n    else console.log('‚ÑπÔ∏è setupTabSwitching not defined - skipping');\r\n  } catch (e) {\r\n    console.warn('Error calling setupTabSwitching fallback:', e);\r\n  }\r\n}, 500);\r\n\r\n// Provide safe no-op functions for missing tab/panel helpers to avoid runtime errors\r\nfunction setupPanelTabs() {\r\n  console.log('‚ÑπÔ∏è setupPanelTabs fallback - no-op');\r\n}\r\n\r\nfunction setupTabSwitching() {\r\n  console.log('‚ÑπÔ∏è setupTabSwitching fallback - no-op');\r\n}\r\n\r\nfunction switchPanel(name) {\r\n  console.log('‚ÑπÔ∏è switchPanel fallback called with', name);\r\n  sidebarState.currentPanel = name || sidebarState.currentPanel;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/sidebar-toggle.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2137
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Sidebar Toggle Controller\r\n * Manejo de expansi√≥n/colapso del sidebar con modo iconos\r\n */\r\n\r\nconst sidebarToggleState = {\r\n  isExpanded: true\r\n};\r\n\r\n// ===== INITIALIZE SIDEBAR TOGGLE =====\r\nfunction initSidebarToggle() {\r\n  const sidebarComponent = document.querySelector('.sidebar-content-component');\r\n  const toggleBtn = document.querySelector('#sidebarToggleBtn');\r\n  \r\n  if (!sidebarComponent || !toggleBtn) return;\r\n\r\n  // Event listener\r\n  toggleBtn.addEventListener('click', toggleSidebar);\r\n}\r\n\r\n// ===== TOGGLE SIDEBAR =====\r\nfunction toggleSidebar() {\r\n  const sidebarHeader = document.querySelector('.sidebar-header-component');\r\n  const sidebarAction = document.getElementById('sidebarActionComponent');\r\n  const sidebarContent = document.querySelector('.sidebar-content-component');\r\n  \r\n  if (!sidebarHeader || !sidebarContent) return;\r\n\r\n  sidebarToggleState.isExpanded = !sidebarToggleState.isExpanded;\r\n  localStorage.setItem('sidebarExpanded', sidebarToggleState.isExpanded);\r\n\r\n  if (sidebarToggleState.isExpanded) {\r\n    // Expand\r\n    sidebarHeader.classList.remove('collapsed');\r\n    if (sidebarAction) sidebarAction.classList.remove('collapsed');\r\n    sidebarContent.classList.remove('collapsed');\r\n  } else {\r\n    // Collapse (show icons only)\r\n    sidebarHeader.classList.add('collapsed');\r\n    if (sidebarAction) sidebarAction.classList.add('collapsed');\r\n    sidebarContent.classList.add('collapsed');\r\n  }\r\n  \r\n  // Trigger layout recalculation\r\n  window.dispatchEvent(new Event('sidebarToggled'));\r\n}\r\n\r\n// ===== RESTORE SIDEBAR STATE =====\r\nfunction restoreSidebarState() {\r\n  const isExpanded = localStorage.getItem('sidebarExpanded') !== 'false';\r\n  \r\n  if (!isExpanded) {\r\n    sidebarToggleState.isExpanded = true;\r\n    toggleSidebar();\r\n  }\r\n}\r\n\r\n// ===== EXPORT FOR USE =====\r\nwindow.sidebarToggle = {\r\n  init: initSidebarToggle,\r\n  toggle: toggleSidebar,\r\n  restore: restoreSidebarState\r\n};\r\n\r\n// Initialize on DOMContentLoaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  setTimeout(() => {\r\n    initSidebarToggle();\r\n    restoreSidebarState();\r\n  }, 100);\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/sidebar-tooltip-manager.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 658
      },
      {
        "start": 3470,
        "end": 3791
      },
      {
        "start": 3824,
        "end": 3834
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Sidebar Tooltip Manager\r\n * Gestiona din√°micamente los tooltips de la sidebar colapsada\r\n */\r\n\r\nclass SidebarTooltipManager {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('üéØ Initializing Sidebar Tooltip Manager...');\r\n    this.setupTooltipEvents();\r\n  }\r\n\r\n  setupTooltipEvents() {\r\n    // Observar cambios en la sidebar para detectar estado colapsado\r\n    const sidebar = document.querySelector('.sidebar');\r\n    if (!sidebar) return;\r\n\r\n    // A√±adir event listeners para tooltips din√°micos\r\n    const menuItems = document.querySelectorAll('.sidebar-menu-item[data-tooltip]');\r\n    \r\n    menuItems.forEach(item => {\r\n      // Crear tooltip din√°mico\r\n      const tooltip = document.createElement('div');\r\n      tooltip.className = 'sidebar-tooltip-dynamic';\r\n      tooltip.textContent = item.getAttribute('data-tooltip');\r\n      tooltip.style.cssText = `\r\n        position: fixed;\r\n        background: rgba(255, 255, 255, 0.98);\r\n        backdrop-filter: blur(20px);\r\n        -webkit-backdrop-filter: blur(20px);\r\n        color: #374151;\r\n        text-shadow: none;\r\n        padding: 8px 12px;\r\n        border-radius: 8px;\r\n        font-size: 12px;\r\n        font-weight: 600;\r\n        white-space: nowrap;\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        display: none;\r\n        transition: all 0.2s ease;\r\n        z-index: 999999;\r\n        border: 1px solid rgba(0, 0, 0, 0.08);\r\n        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\r\n        pointer-events: none;\r\n        min-width: 120px;\r\n        text-align: center;\r\n      `;\r\n      \r\n      document.body.appendChild(tooltip);\r\n\r\n      // Show tooltip on hover\r\n      item.addEventListener('mouseenter', (e) => {\r\n        if (!sidebar.classList.contains('collapsed')) return;\r\n        \r\n        // Apply dark theme styles if needed\r\n        const isDark = document.body.getAttribute('data-theme') === 'dark' || \r\n                      document.body.classList.contains('theme-dark');\r\n        if (isDark) {\r\n          tooltip.style.background = 'rgba(0, 0, 0, 0.95)';\r\n          tooltip.style.color = 'rgba(255, 255, 255, 0.95)';\r\n          tooltip.style.border = '1px solid rgba(255, 255, 255, 0.2)';\r\n          tooltip.style.boxShadow = '0 8px 24px rgba(0, 0, 0, 0.5)';\r\n        } else {\r\n          tooltip.style.background = 'rgba(255, 255, 255, 0.98)';\r\n          tooltip.style.color = '#374151';\r\n          tooltip.style.border = '1px solid rgba(0, 0, 0, 0.08)';\r\n          tooltip.style.boxShadow = '0 4px 16px rgba(0, 0, 0, 0.15)';\r\n        }\r\n        \r\n        const rect = item.getBoundingClientRect();\r\n        const tooltipLeft = rect.right + 15;\r\n        const tooltipTop = rect.top + (rect.height / 2);\r\n        \r\n        tooltip.style.left = tooltipLeft + 'px';\r\n        tooltip.style.top = tooltipTop + 'px';\r\n        tooltip.style.transform = 'translateY(-50%)';\r\n        tooltip.style.display = 'block';\r\n        tooltip.style.opacity = '1';\r\n        tooltip.style.visibility = 'visible';\r\n        tooltip.classList.add('show');\r\n        \r\n        console.log(`üéØ Showing tooltip for: ${item.getAttribute('data-tooltip')} at ${tooltipLeft}, ${tooltipTop}`);\r\n      });\r\n\r\n      // Hide tooltip on leave\r\n      item.addEventListener('mouseleave', () => {\r\n        tooltip.style.display = 'none';\r\n        tooltip.style.opacity = '0';\r\n        tooltip.style.visibility = 'hidden';\r\n        tooltip.classList.remove('show');\r\n      });\r\n    });\r\n\r\n    console.log(`‚úÖ Tooltip Manager initialized for ${menuItems.length} menu items`);\r\n  }\r\n}\r\n\r\n// Initialize when DOM is ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    setTimeout(() => new SidebarTooltipManager(), 100);\r\n  });\r\n} else {\r\n  setTimeout(() => new SidebarTooltipManager(), 100);\r\n}"
  },
  {
    "url": "http://localhost:5005/static/js/sla-monitor.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 4047
      },
      {
        "start": 4421,
        "end": 7249
      },
      {
        "start": 7353,
        "end": 7447
      },
      {
        "start": 8195,
        "end": 8249
      },
      {
        "start": 8440,
        "end": 8506
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - SLA Monitor System\r\n * Real-time SLA tracking with live data from JIRA API\r\n */\r\nclass SLAMonitor {\r\n  constructor() {\r\n    this.slaData = {};\r\n    this.currentIssue = null;\r\n    this.refreshInterval = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize SLA Monitor for an issue\r\n   */\r\n  async init(issueKey) {\r\n    if (!issueKey) return;\r\n    \r\n    this.currentIssue = issueKey;\r\n    \r\n    try {\r\n      console.log(`üîÑ Loading SLA data for ${issueKey}...`);\r\n      const response = await fetch(`/api/issues/${issueKey}/sla`);\r\n      \r\n      if (response.ok) {\r\n        const apiResponse = await response.json();\r\n        console.log(`üì• Raw SLA response for ${issueKey}:`, apiResponse);\r\n        \r\n        // Extract data from wrapped response\r\n        const slaData = apiResponse.success ? apiResponse.data : apiResponse;\r\n        \r\n        if (slaData && !slaData.is_default) {\r\n          this.slaData[issueKey] = slaData;\r\n          console.log(`‚úÖ Real SLA data stored for ${issueKey}:`, this.slaData[issueKey]);\r\n        } else {\r\n          console.log(`‚ùå No real SLA data for ${issueKey}, not showing SLA Monitor`);\r\n          this.slaData[issueKey] = null;\r\n        }\r\n      } else if (response.status === 404) {\r\n        console.log(`‚ÑπÔ∏è No SLA data available for ${issueKey} (404)`);\r\n        this.slaData[issueKey] = null;\r\n      } else {\r\n        console.log(`‚ùå SLA API error: ${response.status}`);\r\n        this.slaData[issueKey] = null;\r\n      }\r\n    } catch (error) {\r\n      console.error(`‚ùå Error loading SLA for ${issueKey}:`, error);\r\n      this.slaData[issueKey] = null;\r\n    }\r\n    \r\n    this.setupRefreshInterval();\r\n    return this.slaData[issueKey];\r\n  }\r\n\r\n  /**\r\n   * Render SLA display panel\r\n   */\r\n  renderSLAPanel(issueKey) {\r\n    const slaData = this.slaData[issueKey];\r\n    \r\n    // If no real SLA data, return a hidden empty container (no white box)\r\n    if (!slaData) {\r\n      console.log(`‚ùå No SLA data for ${issueKey}, not rendering panel`);\r\n      const container = document.createElement('div');\r\n      container.className = 'sla-panel-empty';\r\n      container.setAttribute('aria-hidden', 'true');\r\n      container.style.display = 'none';\r\n      return container;\r\n    }\r\n    \r\n    console.log(`üé® Rendering SLA panel for ${issueKey}:`, slaData);\r\n    \r\n    const container = document.createElement('div');\r\n    // Remove the outer `.sla-panel` wrapper ‚Äî render header, cycle and footer directly\r\n    container.className = 'sla-monitor';\r\n    container.id = `sla-monitor-${issueKey}`;\r\n\r\n    const cycle = slaData.cycles?.[0] || slaData;\r\n    // Pass is_secondary flag from parent data to cycle\r\n    cycle.is_secondary = slaData.is_secondary || false;\r\n    console.log(`üéØ Using cycle data:`, cycle);\r\n    \r\n    container.innerHTML = `\r\n      <div class=\"sla-header\">\r\n        <h3 class=\"sla-title\">${SVGIcons.chart({size:18,className:'inline-icon'})} SLA Monitor</h3>\r\n        <button class=\"sla-refresh-btn\" title=\"Refresh SLA\" aria-label=\"Refresh SLA\">\r\n          ${SVGIcons.sync({size:16,className:'sla-refresh-svg'})}\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"sla-content\">\r\n        ${this.renderSLACycle(cycle)}\r\n      </div>\r\n\r\n      <div class=\"sla-footer\">\r\n        <span class=\"sla-last-updated\">Updated: ${new Date().toLocaleTimeString()}</span>\r\n      </div>\r\n    `;\r\n\r\n    // If the .sla-content contains no meaningful elements (only dividers), remove it to avoid extra empty container\r\n    const contentElCheck = container.querySelector('.sla-content');\r\n    if (contentElCheck) {\r\n      const hasMeaningful = Boolean(contentElCheck.querySelector('.sla-cycle, .detail-row, .cycle-details, .cycle-progress'));\r\n      if (!hasMeaningful) {\r\n        contentElCheck.remove();\r\n      }\r\n    }\r\n\r\n    // Attach refresh handler to trigger live refresh with animated SVG\r\n    setTimeout(() => {\r\n      const btn = container.querySelector('.sla-refresh-btn');\r\n      const svg = container.querySelector('.sla-refresh-svg');\r\n      if (btn && svg) {\r\n        btn.addEventListener('click', async (e) => {\r\n          try {\r\n            btn.disabled = true;\r\n            svg.classList.add('spinning');\r\n            await this.refreshSLAData(issueKey);\r\n          } catch (err) {\r\n            console.error('Failed manual refresh:', err);\r\n          } finally {\r\n            svg.classList.remove('spinning');\r\n            btn.disabled = false;\r\n          }\r\n        });\r\n      }\r\n    }, 0);\r\n\r\n    return container;\r\n  }\r\n\r\n  /**\r\n   * Render SLA cycle\r\n   */\r\n  renderSLACycle(cycle) {\r\n    console.log(`üîç Rendering cycle:`, cycle);\r\n    console.log(`üîç Goal duration: ${cycle.goal_duration}`);\r\n    console.log(`üîç Elapsed time: ${cycle.elapsed_time}`);\r\n    console.log(`üîç Remaining time: ${cycle.remaining_time}`);\r\n    \r\n    // Determine status - check paused first, then breached\r\n    let statusIcon, statusClass, statusLabel;\r\n    \r\n    if (cycle.paused) {\r\n      statusIcon = SVGIcons.pause({size:12,className:'inline-icon'});\r\n      statusClass = 'paused';\r\n      statusLabel = 'Paused';\r\n    } else if (cycle.breached) {\r\n      statusIcon = SVGIcons.xCircle({size:12,className:'inline-icon'});\r\n      statusClass = 'breached';\r\n      statusLabel = 'Breached';\r\n    } else {\r\n      statusIcon = SVGIcons.success({size:12,className:'inline-icon'});\r\n      statusClass = 'healthy';\r\n      statusLabel = 'On Track';\r\n    }\r\n    \r\n    // Check if this is a secondary SLA (Cierre Ticket)\r\n    const isSecondary = cycle.is_secondary || false;\r\n    \r\n    return `\r\n      <div class=\"sla-cycle sla-cycle-${statusClass}\">\r\n        <div class=\"cycle-header\">\r\n          <span class=\"cycle-name\">${cycle.sla_name || 'Service Level Agreement'}</span>\r\n          <span class=\"cycle-status ${statusClass}\">\r\n            ${statusIcon} ${statusLabel}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"cycle-details\">\r\n          <div class=\"detail-row\">\r\n            <span class=\"detail-label\">Goal:</span>\r\n            <span class=\"detail-value\">${cycle.goal_duration || 'N/A'}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"detail-label\">Elapsed:</span>\r\n            <span class=\"detail-value\">${cycle.elapsed_time || 'N/A'}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"detail-label\">Remaining:</span>\r\n            <span class=\"detail-value ${cycle.breached ? 'breached' : ''}\">\r\n              ${cycle.remaining_time || 'N/A'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        ${isSecondary ? `\r\n          <div class=\"secondary-sla-warning\">\r\n            ‚ö†Ô∏è Using \"Cierre Ticket\" SLA (No primary SLA available)\r\n          </div>\r\n        ` : ''}\r\n        \r\n        ${cycle.paused ? `\r\n          <div class=\"pause-notice\">\r\n            ‚è∏Ô∏è SLA is currently paused\r\n          </div>\r\n        ` : cycle.breached ? `\r\n          <div class=\"breach-warning\">\r\n            ‚ö†Ô∏è SLA has been breached\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Setup auto-refresh interval\r\n   */\r\n  setupRefreshInterval() {\r\n    if (this.refreshInterval) {\r\n      clearInterval(this.refreshInterval);\r\n    }\r\n    \r\n    // Refresh every 10 minutes\r\n    this.refreshInterval = setInterval(() => {\r\n      if (this.currentIssue) {\r\n        this.refreshSLAData(this.currentIssue);\r\n      }\r\n    }, 600000); // 10 minutes = 600,000 ms\r\n  }\r\n\r\n  /**\r\n   * Refresh SLA data from API\r\n   */\r\n  async refreshSLAData(issueKey) {\r\n    try {\r\n      const response = await fetch(`/api/issues/${issueKey}/sla`);\r\n      \r\n      if (response.ok) {\r\n        const apiResponse = await response.json();\r\n        const slaData = apiResponse.success ? apiResponse.data : apiResponse;\r\n        \r\n        if (slaData) {\r\n          this.slaData[issueKey] = slaData;\r\n          \r\n          // Update UI if panel exists\r\n          const panel = document.querySelector(`#sla-panel-${issueKey}`);\r\n          if (panel) {\r\n            const newPanel = this.renderSLAPanel(issueKey);\r\n            panel.replaceWith(newPanel);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(`Failed to refresh SLA for ${issueKey}:`, error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cleanup and stop monitoring\r\n   */\r\n  destroy() {\r\n    if (this.refreshInterval) {\r\n      clearInterval(this.refreshInterval);\r\n      this.refreshInterval = null;\r\n    }\r\n    this.slaData = {};\r\n    this.currentIssue = null;\r\n  }\r\n}\r\n\r\n// Global instance\r\nwindow.slaMonitor = new SLAMonitor();\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/smart-analytics.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 645
      },
      {
        "start": 663,
        "end": 1101
      },
      {
        "start": 1214,
        "end": 5825
      },
      {
        "start": 5877,
        "end": 5923
      },
      {
        "start": 5969,
        "end": 6019
      },
      {
        "start": 6207,
        "end": 6494
      }
    ],
    "text": "/**\r\n * Smart Functions Background Analytics\r\n * Pre-caches and monitors metrics for Quick Triage, Smart Filters, and ML Analysis\r\n */\r\n\r\nclass SmartFunctionsAnalytics {\r\n  constructor() {\r\n    this.metrics = {\r\n      triageCount: 0,\r\n      needsResponseCount: 0,\r\n      mlSuggestionsCount: 0,\r\n      lastUpdate: null\r\n    };\r\n    \r\n    this.updateInterval = null;\r\n    this.isInitialized = false;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('üìä Smart Functions Analytics initializing...');\r\n    \r\n    // Wait for app to be ready\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => this.start());\r\n    } else {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    // Initial calculation\r\n    setTimeout(() => {\r\n      this.calculateMetrics();\r\n      this.isInitialized = true;\r\n    }, 2000);\r\n\r\n    // Update every 30 seconds in background\r\n    this.updateInterval = setInterval(() => {\r\n      this.calculateMetrics();\r\n    }, 30000);\r\n\r\n    // Listen for issues loaded/updated events\r\n    document.addEventListener('issuesLoaded', () => {\r\n      console.log('üìä Issues updated, recalculating metrics...');\r\n      this.calculateMetrics();\r\n    });\r\n\r\n    console.log('‚úÖ Smart Functions Analytics started');\r\n  }\r\n\r\n  /**\r\n   * Calculate all metrics from current issues cache\r\n   */\r\n  calculateMetrics() {\r\n    const allIssues = this.getAllIssues();\r\n    \r\n    if (allIssues.length === 0) {\r\n      console.log('üìä No issues to analyze');\r\n      return;\r\n    }\r\n\r\n    // Calculate each metric\r\n    this.metrics.triageCount = this.calculateTriageCount(allIssues);\r\n    this.metrics.needsResponseCount = this.calculateNeedsResponseCount(allIssues);\r\n    this.metrics.mlSuggestionsCount = this.calculateMLSuggestionsCount(allIssues);\r\n    this.metrics.lastUpdate = Date.now();\r\n\r\n    console.log('üìä Metrics updated:', this.metrics);\r\n\r\n    // Update UI badges\r\n    this.updateBadges();\r\n\r\n    // Dispatch event for other components\r\n    document.dispatchEvent(new CustomEvent('metricsUpdated', { \r\n      detail: this.metrics \r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Get all issues from cache\r\n   */\r\n  getAllIssues() {\r\n    if (window.app?.issuesCache) {\r\n      return Array.from(window.app.issuesCache.values());\r\n    }\r\n    return [];\r\n  }\r\n\r\n  /**\r\n   * Calculate Quick Triage count (urgent/unassigned/stale)\r\n   */\r\n  calculateTriageCount(issues) {\r\n    // Get snoozed tickets from Quick Triage\r\n    const snoozedTickets = window.quickTriage?.snoozedTickets || {};\r\n    \r\n    return issues.filter(issue => {\r\n      // Skip snoozed\r\n      if (this.isSnoozed(issue.key, snoozedTickets)) return false;\r\n\r\n      const isUnassigned = !issue.assignee || \r\n                          issue.assignee === 'Unassigned' || \r\n                          issue.assignee === 'No assignee';\r\n      const isHighPriority = issue.severity === 'Critico' || \r\n                            issue.severity === 'Alto' || \r\n                            issue.severity === 'Mayor';\r\n      const isStale = this.isOlderThan(issue.last_real_change || issue.updated, 7);\r\n      \r\n      return isUnassigned || isHighPriority || isStale;\r\n    }).length;\r\n  }\r\n\r\n  /**\r\n   * Calculate Needs Response count (recent comments/activity)\r\n   */\r\n  calculateNeedsResponseCount(issues) {\r\n    let count = 0;\r\n    \r\n    issues.forEach(issue => {\r\n      // Check if updated recently (last 24 hours)\r\n      const lastChange = new Date(issue.last_real_change || issue.updated || issue.created);\r\n      const now = new Date();\r\n      const hoursSinceUpdate = (now - lastChange) / (1000 * 60 * 60);\r\n      \r\n      // If updated in last 24h and not assigned to me, might need response\r\n      const currentUser = window.state?.currentUser || 'You';\r\n      const isAssignedToMe = issue.assignee && \r\n                            issue.assignee.toLowerCase().includes(currentUser.toLowerCase());\r\n      \r\n      if (hoursSinceUpdate <= 24 && isAssignedToMe) {\r\n        count++;\r\n      }\r\n    });\r\n    \r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * Calculate ML Suggestions count (missing/improvable fields)\r\n   */\r\n  calculateMLSuggestionsCount(issues) {\r\n    let count = 0;\r\n    \r\n    issues.forEach(issue => {\r\n      let needsImprovement = false;\r\n      \r\n      // Check for missing severity\r\n      if (!issue.severity || issue.severity === 'Normal' || issue.severity === 'Medio') {\r\n        needsImprovement = true;\r\n      }\r\n      \r\n      // Check for missing/poor description\r\n      if (!issue.description || issue.description.length < 50) {\r\n        needsImprovement = true;\r\n      }\r\n      \r\n      // Check for missing labels\r\n      if (!issue.labels || issue.labels.length === 0) {\r\n        needsImprovement = true;\r\n      }\r\n      \r\n      // Check for missing components\r\n      if (!issue.components || issue.components.length === 0) {\r\n        needsImprovement = true;\r\n      }\r\n      \r\n      if (needsImprovement) {\r\n        count++;\r\n      }\r\n    });\r\n    \r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * Check if ticket is snoozed\r\n   */\r\n  isSnoozed(issueKey, snoozedTickets) {\r\n    const snoozeData = snoozedTickets[issueKey];\r\n    if (!snoozeData) return false;\r\n    \r\n    const now = Date.now();\r\n    return now <= snoozeData.until;\r\n  }\r\n\r\n  /**\r\n   * Check if date is older than specified days\r\n   */\r\n  isOlderThan(dateString, days) {\r\n    if (!dateString) return false;\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffDays = (now - date) / (1000 * 60 * 60 * 24);\r\n    return diffDays > days;\r\n  }\r\n\r\n  /**\r\n   * Update UI badges with current metrics\r\n   */\r\n  updateBadges() {\r\n    // Update will happen when menu opens\r\n    // Store metrics in window for access by quick-action-button.js\r\n    window.smartMetrics = this.metrics;\r\n  }\r\n\r\n  /**\r\n   * Get current metrics\r\n   */\r\n  getMetrics() {\r\n    return { ...this.metrics };\r\n  }\r\n\r\n  /**\r\n   * Force recalculation\r\n   */\r\n  refresh() {\r\n    this.calculateMetrics();\r\n  }\r\n\r\n  /**\r\n   * Stop background updates\r\n   */\r\n  stop() {\r\n    if (this.updateInterval) {\r\n      clearInterval(this.updateInterval);\r\n      this.updateInterval = null;\r\n    }\r\n    console.log('üìä Smart Functions Analytics stopped');\r\n  }\r\n}\r\n\r\n// Initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  window.smartAnalytics = new SmartFunctionsAnalytics();\r\n  console.log('‚úÖ Smart Functions Analytics ready');\r\n});\r\n\r\n// Expose globally\r\nwindow.SmartFunctionsAnalytics = SmartFunctionsAnalytics;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/smart-filters.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 528
      },
      {
        "start": 781,
        "end": 996
      },
      {
        "start": 1282,
        "end": 1472
      },
      {
        "start": 1520,
        "end": 1719
      },
      {
        "start": 1974,
        "end": 2138
      },
      {
        "start": 2330,
        "end": 2503
      },
      {
        "start": 2574,
        "end": 2751
      },
      {
        "start": 2961,
        "end": 3035
      },
      {
        "start": 3105,
        "end": 3152
      },
      {
        "start": 4390,
        "end": 4462
      },
      {
        "start": 4777,
        "end": 4838
      },
      {
        "start": 5565,
        "end": 5616
      },
      {
        "start": 5742,
        "end": 5792
      },
      {
        "start": 7571,
        "end": 7622
      },
      {
        "start": 7817,
        "end": 7998
      }
    ],
    "text": "/**\r\n * Smart Filters Module\r\n * Provides quick access to common filter presets\r\n */\r\n\r\nclass SmartFilters {\r\n  constructor() {\r\n    this.filters = this.defineFilters();\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('üéØ Smart Filters module initialized');\r\n  }\r\n\r\n  /**\r\n   * Define available smart filters\r\n   */\r\n  defineFilters() {\r\n    return [\r\n      {\r\n        id: 'updated-today',\r\n        name: 'Updated Today',\r\n        icon: 'üìÖ',\r\n        description: 'Tickets updated in the last 24 hours',\r\n        filter: (issue) => {\r\n          const updated = new Date(issue.last_real_change || issue.updated || issue.created);\r\n          const now = new Date();\r\n          const diffHours = (now - updated) / (1000 * 60 * 60);\r\n          return diffHours <= 24;\r\n        }\r\n      },\r\n      {\r\n        id: 'high-priority-unassigned',\r\n        name: 'High Priority Unassigned',\r\n        icon: 'üî¥',\r\n        description: 'Critical/High priority tickets without assignee',\r\n        filter: (issue) => {\r\n          const isUnassigned = !issue.assignee || issue.assignee === 'Unassigned' || issue.assignee === 'No assignee';\r\n          const isHighPriority = issue.severity === 'Critico' || issue.severity === 'Alto';\r\n          return isUnassigned && isHighPriority;\r\n        }\r\n      },\r\n      {\r\n        id: 'needs-response',\r\n        name: 'Needs Response',\r\n        icon: 'üí¨',\r\n        description: 'Tickets with recent comments (in progress)',\r\n        filter: (issue) => {\r\n          return false;\r\n        },\r\n        disabled: true\r\n      },\r\n      {\r\n        id: 'stale',\r\n        name: 'Stale (7+ days)',\r\n        icon: '‚è∞',\r\n        description: 'Tickets without updates for 7+ days',\r\n        filter: (issue) => {\r\n          const updated = new Date(issue.last_real_change || issue.updated || issue.created);\r\n          const now = new Date();\r\n          const diffDays = (now - updated) / (1000 * 60 * 60 * 24);\r\n          return diffDays >= 7;\r\n        }\r\n      },\r\n      {\r\n        id: 'my-assigned',\r\n        name: 'My Assigned',\r\n        icon: 'üë§',\r\n        description: 'Tickets assigned to me',\r\n        filter: (issue) => {\r\n          const currentUser = window.state?.currentUser || 'You';\r\n          return issue.assignee && issue.assignee.toLowerCase().includes(currentUser.toLowerCase());\r\n        }\r\n      },\r\n      {\r\n        id: 'critical-all',\r\n        name: 'All Critical',\r\n        icon: 'üö®',\r\n        description: 'All critical priority tickets',\r\n        filter: (issue) => {\r\n          return issue.severity === 'Critico';\r\n        }\r\n      },\r\n      {\r\n        id: 'new-today',\r\n        name: 'Created Today',\r\n        icon: '‚ú®',\r\n        description: 'Tickets created in the last 24 hours',\r\n        filter: (issue) => {\r\n          const created = new Date(issue.created);\r\n          const now = new Date();\r\n          const diffHours = (now - created) / (1000 * 60 * 60);\r\n          return diffHours <= 24;\r\n        }\r\n      }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Get all available filters\r\n   */\r\n  getFilters() {\r\n    return this.filters.filter(f => !f.disabled);\r\n  }\r\n\r\n  /**\r\n   * Apply a smart filter\r\n   */\r\n  applyFilter(filterId) {\r\n    const filter = this.filters.find(f => f.id === filterId);\r\n    if (!filter) {\r\n      console.error(`Filter ${filterId} not found`);\r\n      return;\r\n    }\r\n\r\n    console.log(`üéØ Applying smart filter: ${filter.name}`);\r\n\r\n    // Get all issues from cache\r\n    const allIssues = window.app?.issuesCache \r\n      ? Array.from(window.app.issuesCache.values()) \r\n      : [];\r\n\r\n    if (allIssues.length === 0) {\r\n      alert('No issues loaded. Please select a queue first.');\r\n      return;\r\n    }\r\n\r\n    // Apply filter\r\n    const filteredIssues = allIssues.filter(filter.filter);\r\n\r\n    console.log(`‚úì Filter result: ${filteredIssues.length} / ${allIssues.length} tickets`);\r\n\r\n    // Trigger re-render with filtered issues\r\n    if (typeof renderKanban === 'function') {\r\n      // Store original issues for restoration\r\n      if (!window.app.originalIssues) {\r\n        window.app.originalIssues = allIssues;\r\n      }\r\n      \r\n      // Store filtered issues temporarily\r\n      window.app.filteredIssues = filteredIssues;\r\n      \r\n      // Render filtered view\r\n      renderKanban();\r\n      \r\n      // Show filter badge\r\n      this.showActiveFilterBadge(filter, filteredIssues.length, allIssues.length);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear active filter and restore original view\r\n   */\r\n  clearFilter() {\r\n    if (window.app.originalIssues) {\r\n      console.log('üéØ Clearing smart filter');\r\n      window.app.originalIssues = null;\r\n      window.app.filteredIssues = null;\r\n      if (typeof renderKanban === 'function') {\r\n        renderKanban();\r\n      }\r\n      this.hideActiveFilterBadge();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show active filter badge in header\r\n   */\r\n  showActiveFilterBadge(filter, matchCount, totalCount) {\r\n    // Remove existing badge\r\n    this.hideActiveFilterBadge();\r\n\r\n    const badge = document.createElement('div');\r\n    badge.id = 'smartFilterBadge';\r\n    badge.className = 'smart-filter-badge';\r\n    badge.innerHTML = `\r\n      <span class=\"badge-icon\">${filter.icon}</span>\r\n      <span class=\"badge-text\">${filter.name}: ${matchCount}/${totalCount}</span>\r\n      <button class=\"badge-clear\" onclick=\"window.smartFilters.clearFilter()\">‚úï</button>\r\n    `;\r\n\r\n    // Insert after header actions or in header\r\n    const header = document.querySelector('.kanban-header') || document.querySelector('header');\r\n    if (header) {\r\n      header.appendChild(badge);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hide active filter badge\r\n   */\r\n  hideActiveFilterBadge() {\r\n    const badge = document.getElementById('smartFilterBadge');\r\n    if (badge) badge.remove();\r\n  }\r\n\r\n  /**\r\n   * Open smart filters menu\r\n   */\r\n  openMenu() {\r\n    // Check if modal already exists\r\n    if (document.getElementById('smartFiltersModal')) {\r\n      return;\r\n    }\r\n\r\n    const filters = this.getFilters();\r\n    \r\n    const modal = document.createElement('div');\r\n    modal.id = 'smartFiltersModal';\r\n    modal.className = 'smart-filters-modal';\r\n    modal.innerHTML = `\r\n      <div class=\"smart-filters-overlay\" onclick=\"window.smartFilters.closeMenu()\"></div>\r\n      <div class=\"smart-filters-content\">\r\n        <div class=\"smart-filters-header\">\r\n          <h2>üéØ Smart Filters</h2>\r\n          <p class=\"smart-filters-subtitle\">Quick access to common filter presets</p>\r\n          <button class=\"smart-filters-close\" onclick=\"window.smartFilters.closeMenu()\">‚úï</button>\r\n        </div>\r\n        <div class=\"smart-filters-body\">\r\n          ${filters.map(filter => `\r\n            <div class=\"smart-filter-item\" onclick=\"window.smartFilters.applyFilter('${filter.id}'); window.smartFilters.closeMenu();\">\r\n              <div class=\"filter-icon\">${filter.icon}</div>\r\n              <div class=\"filter-info\">\r\n                <div class=\"filter-name\">${filter.name}</div>\r\n                <div class=\"filter-description\">${filter.description}</div>\r\n              </div>\r\n              <div class=\"filter-arrow\">‚Üí</div>\r\n            </div>\r\n          `).join('')}\r\n        </div>\r\n        ${window.app.originalIssues ? `\r\n          <div class=\"smart-filters-footer\">\r\n            <button class=\"smart-filter-clear-btn\" onclick=\"window.smartFilters.clearFilter(); window.smartFilters.closeMenu();\">\r\n              Clear Active Filter\r\n            </button>\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n    setTimeout(() => modal.classList.add('active'), 10);\r\n  }\r\n\r\n  /**\r\n   * Close smart filters menu\r\n   */\r\n  closeMenu() {\r\n    const modal = document.getElementById('smartFiltersModal');\r\n    if (modal) {\r\n      modal.classList.remove('active');\r\n      setTimeout(() => modal.remove(), 300);\r\n    }\r\n  }\r\n}\r\n\r\n// Initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  window.smartFilters = new SmartFilters();\r\n  console.log('‚úÖ Smart Filters ready');\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/smart-functions-modal.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 538
      },
      {
        "start": 618,
        "end": 949
      },
      {
        "start": 1140,
        "end": 1401
      },
      {
        "start": 1543,
        "end": 2336
      },
      {
        "start": 2427,
        "end": 2433
      },
      {
        "start": 5307,
        "end": 5315
      },
      {
        "start": 5649,
        "end": 5657
      },
      {
        "start": 13765,
        "end": 13773
      },
      {
        "start": 20949,
        "end": 20957
      },
      {
        "start": 27037,
        "end": 27095
      },
      {
        "start": 30313,
        "end": 30402
      },
      {
        "start": 41909,
        "end": 41915
      },
      {
        "start": 42086,
        "end": 42370
      },
      {
        "start": 44048,
        "end": 44142
      },
      {
        "start": 44175,
        "end": 44191
      },
      {
        "start": 44542,
        "end": 44618
      }
    ],
    "text": "/**\r\n * Quick Action Button Controller  \r\n * Manages the quick action modal with tabs for Smart Functions\r\n */\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  let menuOpen = false;\r\n  let currentEmojiIndex = 0;\r\n  const emojis = ['‚ö°', 'üéØ', 'ü§ñ'];\r\n\r\n  function initQuickActionButton() {\r\n    const btn = document.getElementById('quickActionBtn');\r\n    if (!btn) {\r\n      console.error('Quick action button not found');\r\n      return;\r\n    }\r\n\r\n    console.log('‚úÖ Quick action button found, initializing...');\r\n\r\n    btn.addEventListener('click', function(e) {\r\n      e.stopPropagation();\r\n      toggleQuickActionMenu();\r\n    });\r\n\r\n    document.addEventListener('metricsUpdated', function() {\r\n      updateButtonBadge();\r\n    });\r\n\r\n    // Initial update\r\n    setTimeout(updateButtonBadge, 3000);\r\n    \r\n    // Rotate emoji every 5 minutes\r\n    setInterval(rotateEmoji, 5 * 60 * 1000);\r\n    \r\n    console.log('‚úÖ Quick action button initialized');\r\n  }\r\n\r\n  function rotateEmoji() {\r\n    currentEmojiIndex = (currentEmojiIndex + 1) % emojis.length;\r\n    updateButtonIcon();\r\n    console.log(`üîÑ Emoji rotated to: ${emojis[currentEmojiIndex]}`);\r\n  }\r\n\r\n  function updateButtonIcon() {\r\n    const btn = document.getElementById('quickActionBtn');\r\n    if (!btn) return;\r\n\r\n    const icon = btn.querySelector('.toggle-icon');\r\n    if (icon) {\r\n      icon.textContent = emojis[currentEmojiIndex];\r\n    }\r\n  }\r\n\r\n  function toggleQuickActionMenu() {\r\n    if (menuOpen) {\r\n      closeQuickActionMenu();\r\n    } else {\r\n      openQuickActionMenu();\r\n    }\r\n  }\r\n\r\n  function updateButtonBadge() {\r\n    const metrics = window.smartMetrics || { triageCount: 0, needsResponseCount: 0, mlSuggestionsCount: 0 };\r\n    const totalCount = metrics.triageCount + metrics.needsResponseCount + metrics.mlSuggestionsCount;\r\n    \r\n    const btn = document.getElementById('quickActionBtn');\r\n    if (!btn) return;\r\n\r\n    // Update icon\r\n    updateButtonIcon();\r\n\r\n    // Update badge\r\n    const existingBadge = btn.querySelector('.quick-action-btn-badge');\r\n    if (existingBadge) existingBadge.remove();\r\n\r\n    if (totalCount > 0) {\r\n      const badge = document.createElement('span');\r\n      badge.className = 'quick-action-btn-badge';\r\n      badge.textContent = totalCount;\r\n      btn.appendChild(badge);\r\n    }\r\n  }\r\n\r\n  // Helper function to get modal element\r\n  function getSmartModal() {\r\n    return document.getElementById('smartFunctionsModal');\r\n  }\r\n\r\n  function openQuickActionMenu() {\r\n    console.log('üéØ Opening Quick Actions modal...');\r\n    \r\n    if (getSmartModal()) {\r\n      console.log('‚ö†Ô∏è Modal already exists, skipping');\r\n      return;\r\n    }\r\n\r\n    const modal = document.createElement('div');\r\n    modal.id = 'smartFunctionsModal';\r\n    modal.className = 'bg-selector-modal bg-modal-open';\r\n    modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);';\r\n    \r\n    modal.innerHTML = `\r\n      <div class=\"bg-modal-overlay\"></div>\r\n      <div class=\"bg-modal-content\">\r\n        <div class=\"bg-modal-header\">\r\n          <h2 class=\"bg-modal-title\">üß† Smart Functions</h2>\r\n          <button class=\"bg-modal-close\" onclick=\"(() => { const modal = document.getElementById('smartFunctionsModal'); if(modal) modal.remove(); console.log('‚úï Modal closed'); })();\">‚úï</button>\r\n        </div>\r\n        \r\n        <div class=\"bg-modal-tabs\">\r\n          <button class=\"bg-modal-tab active\" data-tab=\"triage\">‚ö° Quick Triage</button>\r\n          <button class=\"bg-modal-tab\" data-tab=\"filters\">üéØ Smart Filters</button>\r\n          <button class=\"bg-modal-tab\" data-tab=\"ml\">ü§ñ ML Analysis</button>\r\n        </div>\r\n        \r\n        <div class=\"bg-modal-body\">\r\n          <div class=\"bg-modal-tab-content active\" data-tab-content=\"triage\">\r\n            <div id=\"triageTabContent\"></div>\r\n          </div>\r\n          \r\n          <div class=\"bg-modal-tab-content\" data-tab-content=\"filters\">\r\n            <div id=\"filtersTabContent\"></div>\r\n          </div>\r\n          \r\n          <div class=\"bg-modal-tab-content\" data-tab-content=\"ml\">\r\n            <div id=\"mlTabContent\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n    \r\n    const tabs = modal.querySelectorAll('.bg-modal-tab');\r\n    const tabContents = modal.querySelectorAll('.bg-modal-tab-content');\r\n    \r\n    tabs.forEach(tab => {\r\n      tab.addEventListener('click', function() {\r\n        const tabName = this.getAttribute('data-tab');\r\n        \r\n        tabs.forEach(t => t.classList.remove('active'));\r\n        tabContents.forEach(c => c.classList.remove('active'));\r\n        \r\n        this.classList.add('active');\r\n        modal.querySelector(`[data-tab-content=\"${tabName}\"]`).classList.add('active');\r\n        \r\n        loadTabContent(tabName);\r\n      });\r\n    });\r\n    \r\n    modal.querySelector('.bg-modal-overlay').addEventListener('click', function() {\r\n      console.log('üìç Overlay clicked, closing modal');\r\n      modal.remove();\r\n      menuOpen = false;\r\n    });\r\n    \r\n    console.log('üìä Loading triage content...');\r\n    loadTabContent('triage');\r\n    \r\n    menuOpen = true;\r\n    console.log('‚úÖ Smart Functions modal opened successfully');\r\n  }\r\n  \r\n  function loadTabContent(tabName) {\r\n    const modal = getSmartModal();\r\n    if (!modal) return;\r\n    \r\n    switch(tabName) {\r\n      case 'triage':\r\n        loadTriageContent();\r\n        break;\r\n      case 'filters':\r\n        loadFiltersContent();\r\n        break;\r\n      case 'ml':\r\n        loadMLContent();\r\n        break;\r\n    }\r\n  }\r\n  \r\n  function loadTriageContent() {\r\n    const container = document.getElementById('triageTabContent');\r\n    if (!container) return;\r\n    \r\n    const allIssues = Array.from(window.app.issuesCache.values());\r\n    const triageIssues = window.quickTriage ? window.quickTriage.filterTriageIssues(allIssues) : [];\r\n    \r\n    if (triageIssues.length === 0) {\r\n      container.innerHTML = `\r\n        <div style=\"text-align: center; padding: 40px 20px; color: #94a3b8;\">\r\n          <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\r\n          <div style=\"font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #cbd5e1;\">All Clear!</div>\r\n          <div style=\"font-size: 13px;\">No urgent tickets requiring immediate attention</div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    container.innerHTML = `\r\n      <div style=\"margin-bottom: 16px; padding: 12px; background: rgba(59,130,246,0.1); border-radius: 8px; border-left: 3px solid #3b82f6;\">\r\n        <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 4px;\">\r\n          <span style=\"font-size: 18px;\">‚ö°</span>\r\n          <span style=\"color: #cbd5e1; font-weight: 600;\">Quick Triage Analysis</span>\r\n        </div>\r\n        <div style=\"color: #94a3b8; font-size: 13px;\">\r\n          Found ${triageIssues.length} ticket${triageIssues.length !== 1 ? 's' : ''} requiring immediate attention\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"triage-tickets-list\">\r\n        ${triageIssues.map(issue => {\r\n          const isUnassigned = !issue.assignee || issue.assignee === 'Unassigned';\r\n          const severity = issue.customfield_10125?.value || issue.severity || 'Medium';\r\n          const severityClass = severity.toLowerCase().replace(/\\s+/g, '-');\r\n          const isHighPriority = severity === 'Critico' || severity === 'Alto' || severity === 'Mayor';\r\n          const updatedDays = Math.floor((new Date() - new Date(issue.updated || issue.created)) / (1000 * 60 * 60 * 24));\r\n          \r\n          return `\r\n            <div class=\"triage-ticket-card\" data-key=\"${issue.key}\" style=\"cursor: pointer; border-left: 3px solid ${isHighPriority ? '#ef4444' : isUnassigned ? '#f59e0b' : '#6b7280'};\">\r\n              <div class=\"triage-ticket-header\">\r\n                <span class=\"triage-ticket-key\">${issue.key}</span>\r\n                <div style=\"display: flex; gap: 4px; align-items: center;\">\r\n                  <span class=\"severity-badge severity-${severityClass}\">${severity}</span>\r\n                  ${updatedDays > 7 ? `<span style=\"background: rgba(239,68,68,0.2); color: #fca5a5; padding: 2px 6px; border-radius: 4px; font-size: 11px;\">üìÖ ${updatedDays}d</span>` : ''}\r\n                </div>\r\n              </div>\r\n              <div class=\"triage-ticket-summary\" style=\"margin: 8px 0;\">${issue.summary || 'No summary'}</div>\r\n              <div class=\"triage-ticket-footer\">\r\n                <span class=\"triage-ticket-assignee\">${isUnassigned ? 'üë§ <span style=\"color: #f59e0b;\">Unassigned</span>' : 'üë§ ' + issue.assignee}</span>\r\n                <div style=\"display: flex; gap: 4px; margin-top: 8px;\">\r\n                  ${isUnassigned ? '<button class=\"triage-action-btn\" data-action=\"assign\" style=\"background: #059669;\">‚úã Assign to me</button>' : ''}\r\n                  <button class=\"triage-action-btn\" data-action=\"snooze\" style=\"background: #6366f1;\">üí§ Snooze 1h</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }).join('')}\r\n      </div>\r\n      \r\n      ${triageIssues.length > 0 ? `\r\n        <div style=\"margin-top: 16px; padding: 12px; background: rgba(34,197,94,0.1); border-radius: 8px; text-align: center;\">\r\n          <button class=\"bg-modal-primary-btn\" onclick=\"window.quickTriage?.open(); document.getElementById('smartFunctionsModal')?.remove();\" style=\"width: 100%;\">\r\n            ‚ö° Open Full Quick Triage\r\n          </button>\r\n        </div>\r\n      ` : ''}\r\n    `;\r\n    \r\n    // Add click handlers after rendering\r\n    const ticketCards = container.querySelectorAll('.triage-ticket-card');\r\n    ticketCards.forEach(card => {\r\n      const issueKey = card.getAttribute('data-key');\r\n      \r\n      card.addEventListener('click', function(e) {\r\n        // Don't open if clicking on action button\r\n        if (e.target.classList.contains('triage-action-btn')) {\r\n          return;\r\n        }\r\n        \r\n        console.log('üéØ Opening ticket:', issueKey);\r\n        \r\n        // Close the modal\r\n        const modal = getSmartModal();\r\n        if (modal) {\r\n          modal.remove();\r\n        }\r\n        \r\n        // Open the right sidebar with ticket details\r\n        if (window.app && window.app.loadIssueDetails) {\r\n          window.app.loadIssueDetails(issueKey);\r\n        } else {\r\n          console.error('‚ùå app.loadIssueDetails not available');\r\n        }\r\n      });\r\n      \r\n      // Handle action buttons (assign and snooze)\r\n      const actionBtns = card.querySelectorAll('.triage-action-btn');\r\n      actionBtns.forEach(btn => {\r\n        btn.addEventListener('click', function(e) {\r\n          e.stopPropagation();\r\n          const action = this.getAttribute('data-action');\r\n          const originalText = this.innerHTML;\r\n          const originalBg = this.style.background;\r\n          \r\n          if (action === 'assign') {\r\n            console.log('üë§ Assigning ticket to me:', issueKey);\r\n            \r\n            if (window.quickTriage && window.quickTriage.assignToMe) {\r\n              this.innerHTML = '‚è≥ Assigning...';\r\n              this.style.background = '#6b7280';\r\n              \r\n              window.quickTriage.assignToMe(issueKey);\r\n              \r\n              // Show success feedback\r\n              setTimeout(() => {\r\n                const successIcon = typeof SVGIcons !== 'undefined' \r\n                  ? SVGIcons.success({ size: 16, className: 'inline-icon' })\r\n                  : '‚úÖ';\r\n                this.innerHTML = `${successIcon} Assigned`;\r\n                this.style.background = '#059669';\r\n                \r\n                // Reload content after short delay\r\n                setTimeout(() => {\r\n                  loadTriageContent();\r\n                }, 1000);\r\n              }, 300);\r\n            } else {\r\n              console.error('‚ùå quickTriage.assignToMe not available');\r\n              const errorIcon = typeof SVGIcons !== 'undefined' \r\n                ? SVGIcons.error({ size: 16, className: 'inline-icon' })\r\n                : '‚ùå';\r\n              this.innerHTML = `${errorIcon} Error`;\r\n              this.style.background = '#dc2626';\r\n              setTimeout(() => {\r\n                this.innerHTML = originalText;\r\n                this.style.background = originalBg;\r\n              }, 2000);\r\n            }\r\n          } else if (action === 'snooze') {\r\n            console.log('üí§ Snoozing ticket 1 hour:', issueKey);\r\n            \r\n            if (window.quickTriage && window.quickTriage.snoozeTicket) {\r\n              this.innerHTML = '‚è≥ Snoozing...';\r\n              this.style.background = '#6b7280';\r\n              \r\n              window.quickTriage.snoozeTicket(issueKey, 60); // 1 hour\r\n              \r\n              // Show success feedback\r\n              setTimeout(() => {\r\n                this.innerHTML = 'üí§ Snoozed';\r\n                this.style.background = '#059669';\r\n                \r\n                // Reload content after short delay\r\n                setTimeout(() => {\r\n                  loadTriageContent();\r\n                }, 1000);\r\n              }, 300);\r\n            } else {\r\n              console.error('‚ùå quickTriage.snoozeTicket not available');\r\n              const errorIcon = typeof SVGIcons !== 'undefined' \r\n                ? SVGIcons.error({ size: 16, className: 'inline-icon' })\r\n                : '‚ùå';\r\n              this.innerHTML = `${errorIcon} Error`;\r\n              this.style.background = '#dc2626';\r\n              setTimeout(() => {\r\n                this.innerHTML = originalText;\r\n                this.style.background = originalBg;\r\n              }, 2000);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n  \r\n  function loadFiltersContent() {\r\n    const container = document.getElementById('filtersTabContent');\r\n    if (!container) return;\r\n    \r\n    const allIssues = Array.from(window.app?.issuesCache?.values() || []);\r\n    \r\n    // Calculate counts for each filter\r\n    const calculateFilterCounts = () => {\r\n      const now = new Date();\r\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n      const currentUser = window.state?.currentUser || '';\r\n      \r\n      return {\r\n        'updated-today': allIssues.filter(issue => {\r\n          const updated = new Date(issue.last_real_change || issue.updated || issue.created);\r\n          return updated >= today;\r\n        }).length,\r\n        'high-priority-unassigned': allIssues.filter(issue => {\r\n          const isUnassigned = !issue.assignee || issue.assignee === 'Unassigned';\r\n          const isHighPriority = issue.severity === 'Critico' || issue.severity === 'Alto' || issue.severity === 'Mayor';\r\n          return isUnassigned && isHighPriority;\r\n        }).length,\r\n        'stale': allIssues.filter(issue => {\r\n          const updated = new Date(issue.updated || issue.created);\r\n          const diffDays = (now - updated) / (1000 * 60 * 60 * 24);\r\n          return diffDays > 7;\r\n        }).length,\r\n        'my-assigned': allIssues.filter(issue => {\r\n          return issue.assignee && issue.assignee.toLowerCase().includes(currentUser.toLowerCase());\r\n        }).length,\r\n        'all-critical': allIssues.filter(issue => issue.severity === 'Critico').length,\r\n        'created-today': allIssues.filter(issue => {\r\n          const created = new Date(issue.created);\r\n          return created >= today;\r\n        }).length,\r\n        'needs-response': allIssues.filter(issue => {\r\n          const updated = new Date(issue.last_real_change || issue.updated || issue.created);\r\n          const hoursSinceUpdate = (now - updated) / (1000 * 60 * 60);\r\n          const isAssignedToMe = issue.assignee && issue.assignee.toLowerCase().includes(currentUser.toLowerCase());\r\n          return hoursSinceUpdate <= 24 && isAssignedToMe;\r\n        }).length\r\n      };\r\n    };\r\n    \r\n    const counts = calculateFilterCounts();\r\n    \r\n    const filters = [\r\n      { id: 'updated-today', icon: 'üìÖ', name: 'Updated Today', description: 'Modified in last 24 hours', count: counts['updated-today'] },\r\n      { id: 'high-priority-unassigned', icon: 'üî¥', name: 'High Priority Unassigned', description: 'Critical & high without assignee', count: counts['high-priority-unassigned'] },\r\n      { id: 'stale', icon: '‚è∞', name: 'Stale Tickets', description: 'No updates for 7+ days', count: counts['stale'] },\r\n      { id: 'my-assigned', icon: 'üë§', name: 'My Assigned', description: 'Tickets assigned to me', count: counts['my-assigned'] },\r\n      { id: 'all-critical', icon: 'üö®', name: 'All Critical', description: 'All critical severity tickets', count: counts['all-critical'] },\r\n      { id: 'created-today', icon: 'üÜï', name: 'Created Today', description: 'New from last 24 hours', count: counts['created-today'] }\r\n    ];\r\n    \r\n    container.innerHTML = `\r\n      <div style=\"margin-bottom: 16px; padding: 12px; background: rgba(34,197,94,0.1); border-radius: 8px; border-left: 3px solid #22c55e;\">\r\n        <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 4px;\">\r\n          <span style=\"font-size: 18px;\">üéØ</span>\r\n          <span style=\"color: #cbd5e1; font-weight: 600;\">Smart Filters</span>\r\n        </div>\r\n        <div style=\"color: #94a3b8; font-size: 13px;\">\r\n          Quick access to common filter presets with live counts\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"filters-grid\" style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px;\">\r\n        ${filters.map(filter => {\r\n          const hasResults = filter.count > 0;\r\n          return `\r\n            <div class=\"filter-preset-card\" \r\n                 style=\"padding: 12px; background: ${hasResults ? 'rgba(59,130,246,0.1)' : 'rgba(75,85,99,0.2)'}; \r\n                        border: 1px solid ${hasResults ? '#3b82f6' : '#4b5563'}; border-radius: 8px; cursor: pointer; \r\n                        transition: all 0.2s ease;\"\r\n                 onclick=\"applySmartFilter('${filter.id}');\">\r\n              <div style=\"display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;\">\r\n                <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n                  <span style=\"font-size: 16px;\">${filter.icon}</span>\r\n                  <span style=\"color: #cbd5e1; font-weight: 600; font-size: 14px;\">${filter.name}</span>\r\n                </div>\r\n                <span style=\"background: ${hasResults ? '#3b82f6' : '#6b7280'}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: bold;\">\r\n                  ${filter.count}\r\n                </span>\r\n              </div>\r\n              <div style=\"color: #94a3b8; font-size: 12px; line-height: 1.4;\">\r\n                ${filter.description}\r\n              </div>\r\n              ${hasResults ? `<div style=\"margin-top: 8px; color: #22c55e; font-size: 11px; font-weight: 600;\">‚úÖ Ready to apply</div>` : `<div style=\"margin-top: 8px; color: #6b7280; font-size: 11px;\">No matches found</div>`}\r\n            </div>\r\n          `;\r\n        }).join('')}\r\n      </div>\r\n      \r\n      ${window.smartFilters?.activeFilter ? `\r\n        <div style=\"margin-top: 16px; padding: 12px; background: rgba(99,102,241,0.1); border-radius: 8px; border-left: 3px solid #6366f1;\">\r\n          <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n            <span style=\"color: #cbd5e1; font-size: 13px;\">üéØ Active Filter: ${window.smartFilters.activeFilter}</span>\r\n            <button class=\"triage-action-btn\" onclick=\"clearSmartFilter();\" style=\"background: #dc2626;\">Clear Filter</button>\r\n          </div>\r\n        </div>\r\n      ` : ''}\r\n    `;\r\n    \r\n    // Add the functions needed for the onclick handlers\r\n    window.applySmartFilter = function(filterId) {\r\n      console.log('üéØ Applying smart filter:', filterId);\r\n      \r\n      if (window.smartFilters && window.smartFilters.applyFilter) {\r\n        window.smartFilters.applyFilter(filterId);\r\n        \r\n        // Close modal\r\n        const modal = document.getElementById('smartFunctionsModal');\r\n        if (modal) {\r\n          modal.remove();\r\n        }\r\n        \r\n        console.log('‚úÖ Smart filter applied:', filterId);\r\n      } else {\r\n        console.error('‚ùå smartFilters not available');\r\n        alert('Smart Filters not available');\r\n      }\r\n    };\r\n    \r\n    window.clearSmartFilter = function() {\r\n      console.log('üéØ Clearing smart filter');\r\n      \r\n      if (window.smartFilters && window.smartFilters.clearFilter) {\r\n        window.smartFilters.clearFilter();\r\n        \r\n        // Close modal\r\n        const modal = document.getElementById('smartFunctionsModal');\r\n        if (modal) {\r\n          modal.remove();\r\n        }\r\n        \r\n        console.log('‚úÖ Filter cleared');\r\n      } else {\r\n        console.error('‚ùå smartFilters not available');\r\n      }\r\n    };\r\n  }\r\n  \r\n  function loadMLContent() {\r\n    const container = document.getElementById('mlTabContent');\r\n    if (!container) return;\r\n    \r\n    // Automatically run ML analysis when tab opens\r\n    runMLAnalysis(container);\r\n    \r\n    allIssues.forEach(issue => {\r\n      const missing = [];\r\n      \r\n      // üî¥ Critical Fields\r\n      if (!issue.customfield_10125 && !issue.severity) {\r\n        missing.push('üî¥ Severity');\r\n        fieldStats['Severity'] = (fieldStats['Severity'] || 0) + 1;\r\n      }\r\n      if (!issue.priority || !issue.priority.name) {\r\n        missing.push('üî¥ Priority');\r\n        fieldStats['Priority'] = (fieldStats['Priority'] || 0) + 1;\r\n      }\r\n      if (!issue.description || issue.description.trim().length < 20) {\r\n        missing.push('üî¥ Description');\r\n        fieldStats['Description'] = (fieldStats['Description'] || 0) + 1;\r\n      }\r\n      \r\n      // üë§ Assignment Fields\r\n      if (!issue.assignee || !issue.assignee.displayName) {\r\n        missing.push('üë§ Assignee');\r\n        fieldStats['Assignee'] = (fieldStats['Assignee'] || 0) + 1;\r\n      }\r\n      if (!issue.reporter || !issue.reporter.displayName) {\r\n        missing.push('üë§ Reporter');\r\n        fieldStats['Reporter'] = (fieldStats['Reporter'] || 0) + 1;\r\n      }\r\n      \r\n      // üè∑Ô∏è Classification\r\n      if (!issue.labels || issue.labels.length === 0) {\r\n        missing.push('üè∑Ô∏è Labels');\r\n        fieldStats['Labels'] = (fieldStats['Labels'] || 0) + 1;\r\n      }\r\n      if (!issue.components || issue.components.length === 0) {\r\n        missing.push('üè∑Ô∏è Components');\r\n        fieldStats['Components'] = (fieldStats['Components'] || 0) + 1;\r\n      }\r\n      \r\n      // ‚è±Ô∏è Time Tracking\r\n      if (!issue.duedate) {\r\n        missing.push('‚è±Ô∏è Due Date');\r\n        fieldStats['Due Date'] = (fieldStats['Due Date'] || 0) + 1;\r\n      }\r\n      if (!issue.timeoriginalestimate && !issue.originalEstimate) {\r\n        missing.push('‚è±Ô∏è Estimate');\r\n        fieldStats['Estimate'] = (fieldStats['Estimate'] || 0) + 1;\r\n      }\r\n      \r\n      // üì¶ Versions\r\n      if (!issue.fixVersions || issue.fixVersions.length === 0) {\r\n        missing.push('üì¶ Fix Version');\r\n        fieldStats['Fix Version'] = (fieldStats['Fix Version'] || 0) + 1;\r\n      }\r\n      if (!issue.versions || issue.versions.length === 0) {\r\n        missing.push('üì¶ Affected Ver.');\r\n        fieldStats['Affected Version'] = (fieldStats['Affected Version'] || 0) + 1;\r\n      }\r\n      \r\n      // üåç Context\r\n      if (!issue.environment || issue.environment.trim().length < 5) {\r\n        missing.push('üåç Environment');\r\n        fieldStats['Environment'] = (fieldStats['Environment'] || 0) + 1;\r\n      }\r\n      \r\n      if (missing.length > 0) {\r\n        missingFields.push({ issue, missing });\r\n      }\r\n    });\r\n    \r\n    // Calculate top missing fields\r\n    const topMissingFields = Object.entries(fieldStats)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 5);\r\n    \r\n    const completionRate = ((allIssues.length - missingFields.length) / allIssues.length * 100).toFixed(1);\r\n    \r\n    container.innerHTML = `\r\n      <div style=\"margin-bottom: 16px; padding: 16px; background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(139,92,246,0.1)); border-radius: 12px; border-left: 4px solid #a855f7;\">\r\n        <div style=\"display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;\">\r\n          <div style=\"display: flex; align-items: center; gap: 8px;\">\r\n            <span style=\"font-size: 20px;\">ü§ñ</span>\r\n            <span style=\"color: #cbd5e1; font-weight: 700; font-size: 15px;\">ML Field Analysis</span>\r\n          </div>\r\n          <div style=\"background: ${completionRate >= 80 ? 'rgba(16,185,129,0.2)' : completionRate >= 50 ? 'rgba(245,158,11,0.2)' : 'rgba(239,68,68,0.2)'}; padding: 4px 12px; border-radius: 12px; font-size: 13px; font-weight: 700; color: ${completionRate >= 80 ? '#10b981' : completionRate >= 50 ? '#f59e0b' : '#ef4444'};\">\r\n            ${completionRate}% Complete\r\n          </div>\r\n        </div>\r\n        \r\n        <div style=\"color: #94a3b8; font-size: 13px; margin-bottom: 12px;\">\r\n          Found ${missingFields.length} ticket${missingFields.length !== 1 ? 's' : ''} with incomplete fields for AI enhancement\r\n        </div>\r\n        \r\n        <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px;\">\r\n          <div style=\"background: rgba(16,185,129,0.1); padding: 8px; border-radius: 8px; text-align: center;\">\r\n            <div style=\"font-size: 18px; font-weight: 700; color: #10b981;\">${allIssues.length}</div>\r\n            <div style=\"font-size: 11px; color: #64748b;\">Total Tickets</div>\r\n          </div>\r\n          <div style=\"background: rgba(245,158,11,0.1); padding: 8px; border-radius: 8px; text-align: center;\">\r\n            <div style=\"font-size: 18px; font-weight: 700; color: #f59e0b;\">${missingFields.length}</div>\r\n            <div style=\"font-size: 11px; color: #64748b;\">Need Improvement</div>\r\n          </div>\r\n          <div style=\"background: rgba(99,102,241,0.1); padding: 8px; border-radius: 8px; text-align: center;\">\r\n            <div style=\"font-size: 18px; font-weight: 700; color: #6366f1;\">${allIssues.length - missingFields.length}</div>\r\n            <div style=\"font-size: 11px; color: #64748b;\">Complete</div>\r\n          </div>\r\n        </div>\r\n        \r\n        ${topMissingFields.length > 0 ? `\r\n          <div style=\"background: rgba(0,0,0,0.1); padding: 10px; border-radius: 8px;\">\r\n            <div style=\"font-size: 12px; font-weight: 600; color: #94a3b8; margin-bottom: 6px;\">üéØ Top Missing Fields:</div>\r\n            <div style=\"display: flex; flex-wrap: wrap; gap: 6px;\">\r\n              ${topMissingFields.map(([field, count]) => `\r\n                <span style=\"background: rgba(168,85,247,0.2); color: #e9d5ff; padding: 4px 8px; border-radius: 6px; font-size: 11px; font-weight: 600;\">\r\n                  ${field}: ${count}\r\n                </span>\r\n              `).join('')}\r\n            </div>\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n      \r\n    `;\r\n  }\r\n  \r\n  /**\r\n   * Run ML analysis automatically\r\n   */\r\n  async function runMLAnalysis(container) {\r\n    console.log('ü§ñ Running ML field suggestions analysis...');\r\n    \r\n    // Validate state\r\n    if (!window.state || !window.state.currentDesk || !window.state.currentQueue) {\r\n      container.innerHTML = `\r\n        <div style=\"text-align: center; padding: 60px 20px; color: #94a3b8;\">\r\n          <div style=\"font-size: 48px; margin-bottom: 16px;\">‚ö†Ô∏è</div>\r\n          <div style=\"font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #cbd5e1;\">\r\n            No Queue Selected\r\n          </div>\r\n          <div style=\"font-size: 13px;\">\r\n            Please select a Service Desk and Queue first\r\n          </div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    if (!window.state.issues || window.state.issues.length === 0) {\r\n      container.innerHTML = `\r\n        <div style=\"text-align: center; padding: 60px 20px; color: #94a3b8;\">\r\n          <div style=\"font-size: 48px; margin-bottom: 16px;\">üì≠</div>\r\n          <div style=\"font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #cbd5e1;\">\r\n            No Tickets\r\n          </div>\r\n          <div style=\"font-size: 13px;\">\r\n            The current queue has no tickets to analyze\r\n          </div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    // Show loading\r\n    container.innerHTML = `\r\n      <div class=\"loading-state\" style=\"text-align: center; padding: 60px 20px;\">\r\n        <div class=\"spinner\" style=\"width: 48px; height: 48px; margin: 0 auto 16px;\"></div>\r\n        <div style=\"font-size: 16px; font-weight: 600; color: #cbd5e1; margin-bottom: 8px;\">\r\n          ü§ñ Analyzing tickets with ML...\r\n        </div>\r\n        <div style=\"font-size: 13px; color: #64748b;\">\r\n          Using global patterns from ${window.state.issues.length} tickets\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    try {\r\n      // Call ML analysis API\r\n      const response = await fetch('/api/ai/analyze-queue', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          desk_id: window.state.currentDesk,\r\n          queue_id: window.state.currentQueue\r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`API returned ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('‚úÖ ML analysis complete:', data);\r\n      \r\n      // Render results directly in the tab\r\n      renderMLSuggestionsResults(container, data);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error running ML analysis:', error);\r\n      container.innerHTML = `\r\n        <div class=\"error-state\" style=\"text-align: center; padding: 60px 20px;\">\r\n          <div style=\"font-size: 48px; margin-bottom: 16px;\">‚ùå</div>\r\n          <div style=\"font-size: 16px; font-weight: 600; color: #cbd5e1; margin-bottom: 8px;\">\r\n            Error al analizar\r\n          </div>\r\n          <div style=\"font-size: 13px; color: #64748b;\">\r\n            ${error.message || 'Error desconocido'}\r\n          </div>\r\n          <button class=\"bg-modal-primary-btn\" onclick=\"location.reload()\" style=\"margin-top: 16px;\">\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render ML suggestions results with checkboxes for bulk updates\r\n   */\r\n  function renderMLSuggestionsResults(container, data) {\r\n    const { analyzed_count, issues_with_suggestions, suggestions, cache_size } = data;\r\n    \r\n    if (!suggestions || suggestions.length === 0) {\r\n      container.innerHTML = `\r\n        <div style=\"text-align: center; padding: 60px 20px; color: #94a3b8;\">\r\n          <div style=\"font-size: 48px; margin-bottom: 16px;\">‚úÖ</div>\r\n          <div style=\"font-size: 16px; font-weight: 600; margin-bottom: 12px; color: #cbd5e1;\">\r\n            No improvements detected\r\n          </div>\r\n          <div style=\"font-size: 13px; margin-bottom: 16px;\">\r\n            Analyzed <strong style=\"color: #10b981;\">${analyzed_count}</strong> tickets from this queue\r\n          </div>\r\n          <div style=\"background: rgba(30,41,59,0.5); padding: 16px; border-radius: 12px; max-width: 450px; margin: 0 auto; text-align: left;\">\r\n            <div style=\"font-size: 12px; font-weight: 600; color: #94a3b8; margin-bottom: 10px;\">üìä Analysis Details:</div>\r\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 12px;\">\r\n              <div>\r\n                <span style=\"color: #64748b;\">Fields Analyzed:</span>\r\n                <div style=\"color: #cbd5e1; font-weight: 600; margin-top: 2px;\">Criticidad, Tipo, √Årea, Plataforma, Pa√≠s, Priority</div>\r\n              </div>\r\n              <div>\r\n                <span style=\"color: #64748b;\">Learning Context:</span>\r\n                <div style=\"color: #cbd5e1; font-weight: 600; margin-top: 2px;\">${cache_size || 'N/A'} historical tickets</div>\r\n              </div>\r\n            </div>\r\n            <div style=\"margin-top: 12px; padding: 10px; background: rgba(16,185,129,0.1); border-radius: 8px; font-size: 11px; color: #6ee7b7;\">\r\n              üí° <strong>Why no suggestions?</strong><br/>\r\n              All fields have values and match expected patterns. ML only suggests changes when fields are empty or clearly incorrect (confidence ‚â•75%).\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    // Group suggestions by field type for stats\r\n    const fieldCounts = {};\r\n    suggestions.forEach(issue => {\r\n      issue.suggestions.forEach(sug => {\r\n        const label = sug.field_label || sug.field_name || sug.field;\r\n        fieldCounts[label] = (fieldCounts[label] || 0) + 1;\r\n      });\r\n    });\r\n    \r\n    const topFields = Object.entries(fieldCounts)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 5);\r\n    \r\n    container.innerHTML = `\r\n      <div style=\"margin-bottom: 16px; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(5,150,105,0.1)); border-radius: 12px; border-left: 4px solid #10b981;\">\r\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;\">\r\n          <div style=\"color: #cbd5e1; font-weight: 700; font-size: 15px;\">\r\n            ü§ñ ML Field Suggestions\r\n          </div>\r\n          <div style=\"background: rgba(16,185,129,0.2); padding: 4px 12px; border-radius: 12px; font-size: 13px; font-weight: 700; color: #10b981;\">\r\n            ${issues_with_suggestions} tickets\r\n          </div>\r\n        </div>\r\n        \r\n        <div style=\"color: #94a3b8; font-size: 13px; margin-bottom: 12px;\">\r\n          ${issues_with_suggestions} of ${analyzed_count} tickets have suggested improvements\r\n        </div>\r\n        \r\n        ${topFields.length > 0 ? `\r\n          <div style=\"background: rgba(0,0,0,0.1); padding: 10px; border-radius: 8px;\">\r\n            <div style=\"font-size: 12px; font-weight: 600; color: #94a3b8; margin-bottom: 6px;\">\r\n              üéØ Most Suggested Fields:\r\n            </div>\r\n            <div style=\"display: flex; flex-wrap: wrap; gap: 6px;\">\r\n              ${topFields.map(([field, count]) => `\r\n                <span style=\"background: rgba(16,185,129,0.2); color: #6ee7b7; padding: 4px 8px; border-radius: 6px; font-size: 11px; font-weight: 600;\">\r\n                  ${field}: ${count}\r\n                </span>\r\n              `).join('')}\r\n            </div>\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n      \r\n      <div class=\"ml-suggestions-scrollable\" style=\"max-height: 450px; overflow-y: auto; padding-right: 8px;\">\r\n        ${suggestions.map(issue => `\r\n          <div class=\"ml-issue-suggestion-card\" style=\"background: rgba(30,41,59,0.5); border: 1px solid rgba(71,85,105,0.5); border-radius: 12px; padding: 16px; margin-bottom: 12px;\">\r\n            <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;\">\r\n              <div>\r\n                <span style=\"background: rgba(99,102,241,0.2); color: #a5b4fc; padding: 4px 8px; border-radius: 6px; font-size: 12px; font-weight: 700;\">\r\n                  ${issue.issue_key}\r\n                </span>\r\n                <div style=\"color: #cbd5e1; font-size: 13px; margin-top: 4px;\">\r\n                  ${issue.issue_summary || 'No summary'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"suggestions-list\">\r\n              ${issue.suggestions.map((sug, idx) => {\r\n                const confidenceColor = sug.confidence >= 0.8 ? '#10b981' : sug.confidence >= 0.6 ? '#f59e0b' : '#ef4444';\r\n                const confidenceText = (sug.confidence * 100).toFixed(0) + '%';\r\n                \r\n                return `\r\n                  <div style=\"background: rgba(0,0,0,0.2); padding: 12px; border-radius: 8px; margin-bottom: 8px;\">\r\n                    <div style=\"display: flex; align-items: center; gap: 10px; margin-bottom: 8px;\">\r\n                      <input \r\n                        type=\"checkbox\" \r\n                        id=\"sug_${issue.issue_key}_${idx}\"\r\n                        data-issue-key=\"${issue.issue_key}\"\r\n                        data-field=\"${sug.field}\"\r\n                        data-value='${JSON.stringify(sug.suggested_value)}'\r\n                        style=\"width: 18px; height: 18px; cursor: pointer;\"\r\n                        checked\r\n                      />\r\n                      <label for=\"sug_${issue.issue_key}_${idx}\" style=\"flex: 1; cursor: pointer;\">\r\n                        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n                          <span style=\"color: #cbd5e1; font-weight: 600; font-size: 13px;\">\r\n                            ${sug.field_label || sug.field_name || sug.field}\r\n                          </span>\r\n                          <span style=\"background: ${confidenceColor}33; color: ${confidenceColor}; padding: 2px 8px; border-radius: 6px; font-size: 11px; font-weight: 700;\">\r\n                            ${confidenceText}\r\n                          </span>\r\n                        </div>\r\n                        <div style=\"color: #64748b; font-size: 12px; margin-top: 4px;\">\r\n                          ${sug.current_value ? `<span style=\"text-decoration: line-through;\">${sug.current_value}</span> ‚Üí ` : ''}\r\n                          <span style=\"color: #10b981; font-weight: 600;\">\r\n                            ${typeof sug.suggested_value === 'object' ? (sug.suggested_value.value || sug.suggested_value.name || JSON.stringify(sug.suggested_value)) : sug.suggested_value}\r\n                          </span>\r\n                        </div>\r\n                        ${sug.reason ? `\r\n                          <div style=\"color: #94a3b8; font-size: 11px; margin-top: 4px; font-style: italic;\">\r\n                            üí° ${sug.reason}\r\n                          </div>\r\n                        ` : ''}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                `;\r\n              }).join('')}\r\n            </div>\r\n          </div>\r\n        `).join('')}\r\n      </div>\r\n      \r\n      <div style=\"margin-top: 16px; display: flex; gap: 8px;\">\r\n        <button class=\"bg-modal-secondary-btn\" onclick=\"document.querySelectorAll('.ml-issue-suggestion-card input[type=checkbox]').forEach(cb => cb.checked = true)\">\r\n          ‚úÖ Select All\r\n        </button>\r\n        <button class=\"bg-modal-secondary-btn\" onclick=\"document.querySelectorAll('.ml-issue-suggestion-card input[type=checkbox]').forEach(cb => cb.checked = false)\">\r\n          ‚ùå Deselect All\r\n        </button>\r\n        <button class=\"bg-modal-primary-btn\" id=\"applyMLSuggestionsBtn\" style=\"flex: 1;\">\r\n          üöÄ Apply Selected Changes\r\n        </button>\r\n      </div>\r\n    `;\r\n    \r\n    // Handle apply button\r\n    const applyBtn = container.querySelector('#applyMLSuggestionsBtn');\r\n    if (applyBtn) {\r\n      applyBtn.addEventListener('click', async function() {\r\n        const selectedSuggestions = [];\r\n        const checkboxes = container.querySelectorAll('input[type=checkbox]:checked');\r\n        \r\n        checkboxes.forEach(cb => {\r\n          const issueKey = cb.dataset.issueKey;\r\n          const field = cb.dataset.field;\r\n          const value = JSON.parse(cb.dataset.value);\r\n          \r\n          // Group by issue\r\n          let issueGroup = selectedSuggestions.find(s => s.issue_key === issueKey);\r\n          if (!issueGroup) {\r\n            issueGroup = { issue_key: issueKey, updates: {} };\r\n            selectedSuggestions.push(issueGroup);\r\n          }\r\n          \r\n          issueGroup.updates[field] = value;\r\n        });\r\n        \r\n        if (selectedSuggestions.length === 0) {\r\n          alert('Please select at least one suggestion to apply');\r\n          return;\r\n        }\r\n        \r\n        console.log('üöÄ Applying ML suggestions:', selectedSuggestions);\r\n        \r\n        // Show progress\r\n        applyBtn.disabled = true;\r\n        applyBtn.textContent = '‚è≥ Applying changes...';\r\n        \r\n        try {\r\n          let successCount = 0;\r\n          let errorCount = 0;\r\n          \r\n          for (const suggestion of selectedSuggestions) {\r\n            try {\r\n              const response = await fetch(`/api/issues/${suggestion.issue_key}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ fields: suggestion.updates })\r\n              });\r\n              \r\n              if (response.ok) {\r\n                successCount++;\r\n                console.log(`‚úÖ Updated ${suggestion.issue_key}`);\r\n              } else {\r\n                errorCount++;\r\n                console.error(`‚ùå Failed to update ${suggestion.issue_key}:`, await response.text());\r\n              }\r\n            } catch (error) {\r\n              errorCount++;\r\n              console.error(`‚ùå Error updating ${suggestion.issue_key}:`, error);\r\n            }\r\n          }\r\n          \r\n          // Show result\r\n          const resultMsg = `‚úÖ Successfully updated ${successCount} ticket${successCount !== 1 ? 's' : ''}` +\r\n                           (errorCount > 0 ? `\\n‚ö†Ô∏è ${errorCount} failed` : '');\r\n          alert(resultMsg);\r\n          \r\n          // Reload issues\r\n          if (window.app && window.app.loadCurrentQueue) {\r\n            await window.app.loadCurrentQueue();\r\n          }\r\n          \r\n          // Close modal\r\n          const modal = getSmartModal();\r\n          if (modal) {\r\n            modal.remove();\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.error('‚ùå Error applying suggestions:', error);\r\n          alert('Error applying changes. Please try again.');\r\n          applyBtn.disabled = false;\r\n          applyBtn.textContent = 'üöÄ Apply Selected Changes';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function closeQuickActionMenu() {\r\n    const modal = getSmartModal();\r\n    if (modal) {\r\n      modal.remove();\r\n    }\r\n    menuOpen = false;\r\n    updateButtonBadge();\r\n  }\r\n\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initQuickActionButton);\r\n  } else {\r\n    initQuickActionButton();\r\n  }\r\n\r\n  // Listen for ML analysis updates (when fields are modified)\r\n  document.addEventListener('mlAnalysisUpdate', async function(e) {\r\n    console.log('üîÑ ML analysis update triggered:', e.detail);\r\n    \r\n    // Si el modal est√° abierto en la pesta√±a ML, recalcular\r\n    const modal = getSmartModal();\r\n    if (modal && menuOpen) {\r\n      const container = modal.querySelector('#modalContent');\r\n      const activeTab = modal.querySelector('.bg-modal-tab.active');\r\n      \r\n      if (activeTab && activeTab.dataset.tab === 'ml') {\r\n        console.log('üìä Recalculating ML analysis tab...');\r\n        \r\n        // Mostrar loading\r\n        container.innerHTML = '<div class=\"loading-state\"><div class=\"spinner\"></div><p>Updating analysis...</p></div>';\r\n        \r\n        // Forzar recarga de issues desde el API\r\n        try {\r\n          if (window.state && window.state.currentDesk && window.state.currentQueue) {\r\n            console.log('üîÑ Reloading issues from API...');\r\n            \r\n            const response = await fetch(`/api/servicedesk/${window.state.currentDesk}/queue/${window.state.currentQueue}/issues`);\r\n            if (response.ok) {\r\n              const data = await response.json();\r\n              const issues = data.data || data.issues || data;\r\n              \r\n              // Actualizar window.state.issues\r\n              if (window.state) {\r\n                window.state.issues = issues;\r\n                console.log(`‚úÖ Reloaded ${issues.length} issues`);\r\n              }\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('‚ùå Error reloading issues:', error);\r\n        }\r\n        \r\n        // Recalcular despu√©s de recargar\r\n        setTimeout(() => {\r\n          renderMLAnalysisTab(container);\r\n        }, 300);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Exponer objeto global para verificar estado\r\n  window.smartFunctionsModal = {\r\n    get isOpen() { return menuOpen; },\r\n    refresh: function() {\r\n      if (menuOpen) {\r\n        const modal = getSmartModal();\r\n        if (modal) {\r\n          const container = modal.querySelector('#modalContent');\r\n          const activeTab = modal.querySelector('.bg-modal-tab.active');\r\n          if (activeTab) {\r\n            renderMLAnalysisTab(container);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log('‚úÖ Quick action button controller loaded');\r\n})();\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/theme-blocker.js",
    "ranges": [
      {
        "start": 0,
        "end": 3038
      },
      {
        "start": 3342,
        "end": 3356
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Theme Blocker\r\n * Prevents flash (parpadeo) when page loads by applying theme BEFORE render\r\n * This script MUST be inline in the <head> to run before body is rendered\r\n * \r\n * The script does 3 things:\r\n * 1. Reads theme from localStorage immediately\r\n * 2. Applies correct body class before any CSS renders\r\n * 3. PREVENTS OTHER SCRIPTS from causing unnecessary re-renders\r\n */\r\n\r\n(function() {\r\n  // Get saved theme - defaults to 'light' if none found\r\n  const savedTheme = localStorage.getItem('currentTheme') || localStorage.getItem('theme') || 'light';\r\n  \r\n  // Validate theme value\r\n  const theme = ['dark', 'light', 'auto'].includes(savedTheme) ? savedTheme : 'light';\r\n  \r\n  // Handle 'auto' mode - check system preference\r\n  let finalTheme = theme;\r\n  if (theme === 'auto') {\r\n    finalTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n  }\r\n  \r\n  // ‚ö° CRITICAL: Apply theme to BOTH <html> and <body> IMMEDIATELY\r\n  // This runs BEFORE any CSS is rendered\r\n  document.documentElement.classList.remove('theme-light', 'theme-dark');\r\n  document.documentElement.classList.add(`theme-${finalTheme}`);\r\n  document.documentElement.setAttribute('data-theme', finalTheme);\r\n  \r\n  // Apply to body too if it exists (happens when script is in <head>)\r\n  if (document.body) {\r\n    document.body.classList.remove('theme-light', 'theme-dark');\r\n    document.body.classList.add(`theme-${finalTheme}`);\r\n    document.body.setAttribute('data-theme', finalTheme);\r\n  }\r\n  \r\n  // Store the computed theme for other scripts\r\n  window.__initialTheme = finalTheme;\r\n  window.__themeAppliedAtLoad = true;\r\n  \r\n  // üõë PREVENT FLASH: Block theme changes during initial load only\r\n  // After page is loaded, ThemeManager takes over\r\n  window.__themeBlockerActive = true;\r\n  \r\n  // Disable blocker after page loads\r\n  window.addEventListener('load', () => {\r\n    setTimeout(() => {\r\n      window.__themeBlockerActive = false;\r\n      console.log('‚úì Theme blocker disabled - ThemeManager now controls theme');\r\n    }, 100);\r\n  });\r\n})();\r\n\r\n/**\r\n * LISTEN FOR BODY READY - Ensure theme is applied\r\n * (in case this script runs before body exists)\r\n */\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const theme = window.__initialTheme || localStorage.getItem('currentTheme') || 'light';\r\n  \r\n  // Apply theme classes and data-theme attribute\r\n  document.documentElement.classList.remove('theme-light', 'theme-dark');\r\n  document.documentElement.classList.add(`theme-${theme}`);\r\n  document.documentElement.setAttribute('data-theme', theme);\r\n  \r\n  // ‚ö° SAFETY CHECK: Only apply to body if it exists\r\n  if (document.body) {\r\n    document.body.classList.remove('theme-light', 'theme-dark');\r\n    document.body.classList.add(`theme-${theme}`);\r\n    document.body.setAttribute('data-theme', theme);\r\n    console.log(`‚úì Theme blocker applied: ${theme}`);\r\n  } else {\r\n    // Body doesn't exist yet - wait for it\r\n    console.warn('‚ö†Ô∏è Body not ready, waiting...');\r\n    requestAnimationFrame(() => {\r\n      if (document.body) {\r\n        document.body.classList.remove('theme-light', 'theme-dark');\r\n        document.body.classList.add(`theme-${theme}`);\r\n        document.body.setAttribute('data-theme', theme);\r\n        console.log(`‚úì Theme blocker applied (delayed): ${theme}`);\r\n      }\r\n    });\r\n  }\r\n});\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/theme-manager.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 4726
      },
      {
        "start": 4994,
        "end": 5048
      },
      {
        "start": 5107,
        "end": 5166
      },
      {
        "start": 5223,
        "end": 5283
      },
      {
        "start": 5342,
        "end": 5510
      },
      {
        "start": 5943,
        "end": 6086
      },
      {
        "start": 6336,
        "end": 6579
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - Centralized Theme Manager\r\n * Single source of truth for all theme operations\r\n * Prevents conflicts between multiple theme-related scripts\r\n * \r\n * This replaces ad-hoc theme handling in:\r\n * - theme-blocker.js\r\n * - header-menu-controller.js\r\n * - theme-detector.js\r\n * - app.js\r\n */\r\n\r\nconst ThemeManager = {\r\n  // Current theme state\r\n  currentTheme: null,\r\n  isInitialized: false,\r\n  \r\n  /**\r\n   * Initialize theme manager on page load\r\n   * MUST be called BEFORE other theme scripts\r\n   */\r\n  init() {\r\n    if (this.isInitialized) {\r\n      console.log('‚ö†Ô∏è ThemeManager already initialized, skipping');\r\n      return;\r\n    }\r\n    \r\n    console.log('üé® ThemeManager initializing...');\r\n    \r\n    // Get saved theme with proper fallback chain\r\n    this.currentTheme = this.getSavedTheme();\r\n    console.log(`üé® Loaded theme: ${this.currentTheme}`);\r\n    \r\n    // Apply immediately\r\n    this.applyTheme(this.currentTheme);\r\n    \r\n    // Update button UI if it exists\r\n    this.updateThemeButton();\r\n    \r\n    // Listen for theme changes in storage (other tabs) - DISABLED\r\n    // Event listeners disabled - visual only mode\r\n    \r\n    this.isInitialized = true;\r\n    console.log('‚úÖ ThemeManager initialized');\r\n  },\r\n  \r\n  /**\r\n   * Get saved theme with proper priority\r\n   * 1. currentTheme (new key)\r\n   * 2. theme (legacy key)\r\n   * 3. System preference if 'auto'\r\n   * 4. Default 'light'\r\n   */\r\n  getSavedTheme() {\r\n    // Check for explicitly saved theme\r\n    let saved = localStorage.getItem('currentTheme') || localStorage.getItem('theme');\r\n    \r\n    if (!saved) {\r\n      return 'light'; // Default\r\n    }\r\n    \r\n    // Normalize value\r\n    saved = saved.toLowerCase().trim();\r\n    \r\n    if (saved === 'auto') {\r\n      // Check system preference\r\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      return prefersDark ? 'dark' : 'light';\r\n    }\r\n    \r\n    if (['dark', 'light'].includes(saved)) {\r\n      return saved;\r\n    }\r\n    \r\n    return 'light'; // Invalid value - use default\r\n  },\r\n  \r\n  /**\r\n   * Apply theme to document\r\n   * Uses direct className assignment to prevent flashing\r\n   */\r\n  applyTheme(theme) {\r\n    if (!['dark', 'light'].includes(theme)) {\r\n      console.warn(`‚ö†Ô∏è Invalid theme: ${theme}, using light`);\r\n      theme = 'light';\r\n    }\r\n    \r\n    // Skip if already applied\r\n    if (this.currentTheme === theme && document.body.classList.contains(`theme-${theme}`)) {\r\n      return;\r\n    }\r\n    \r\n    console.log(`üé® Applying theme: ${theme}`);\r\n    \r\n    // Remove all theme classes and add new one\r\n    document.documentElement.classList.remove('theme-light', 'theme-dark');\r\n    document.body.classList.remove('theme-light', 'theme-dark');\r\n    \r\n    document.documentElement.classList.add(`theme-${theme}`);\r\n    document.body.classList.add(`theme-${theme}`);\r\n    \r\n    // Set data-theme attribute for CSS selectors\r\n    document.documentElement.setAttribute('data-theme', theme);\r\n    document.body.setAttribute('data-theme', theme);\r\n    \r\n    // Save to localStorage (both keys for compatibility)\r\n    localStorage.setItem('currentTheme', theme);\r\n    localStorage.setItem('theme', theme);\r\n    \r\n    this.currentTheme = theme;\r\n    \r\n    // Dispatch event for other components (background manager, etc)\r\n    document.dispatchEvent(new CustomEvent('themeChange', {\r\n      detail: { theme, timestamp: Date.now(), source: 'ThemeManager' }\r\n    }));\r\n    \r\n    // Dispatch legacy themeChanged event for compatibility\r\n    document.dispatchEvent(new CustomEvent('themeChanged', {\r\n      detail: { theme, timestamp: Date.now() }\r\n    }));\r\n    \r\n    // Notify all registered components\r\n    this.notifyComponents(theme);\r\n    \r\n    console.log(`‚úÖ Theme applied: ${theme}`);\r\n  },\r\n  \r\n  /**\r\n   * Set theme explicitly (from UI button click)\r\n   */\r\n  setTheme(theme) {\r\n    console.log(`üé® User selected theme: ${theme}`);\r\n    \r\n    if (theme === 'auto') {\r\n      // Save 'auto' but resolve actual theme\r\n      localStorage.setItem('currentTheme', 'auto');\r\n      localStorage.setItem('theme', 'auto');\r\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      this.applyTheme(prefersDark ? 'dark' : 'light');\r\n    } else {\r\n      this.applyTheme(theme);\r\n    }\r\n    \r\n    this.updateThemeButton();\r\n  },\r\n  \r\n  /**\r\n   * Update theme button state\r\n   */\r\n  updateThemeButton() {\r\n    const btn = document.getElementById('themeToggleBtn');\r\n    if (!btn) return;\r\n    \r\n    const theme = this.currentTheme;\r\n    btn.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';\r\n    \r\n    // Update theme bubble options\r\n    const options = document.querySelectorAll('.theme-option');\r\n    options.forEach(opt => {\r\n      const optTheme = opt.dataset.theme;\r\n      if (optTheme === 'auto') {\r\n        opt.classList.toggle('active', localStorage.getItem('currentTheme') === 'auto');\r\n      } else {\r\n        opt.classList.toggle('active', optTheme === theme);\r\n      }\r\n    });\r\n  },\r\n  \r\n  /**\r\n   * Get current theme\r\n   */\r\n  getTheme() {\r\n    return this.currentTheme || 'light';\r\n  },\r\n  \r\n  /**\r\n   * Check if dark theme is active\r\n   */\r\n  isDark() {\r\n    return this.currentTheme === 'dark';\r\n  },\r\n  \r\n  /**\r\n   * Check if light theme is active\r\n   */\r\n  isLight() {\r\n    return this.currentTheme === 'light';\r\n  },\r\n  \r\n  /**\r\n   * Register a component for automatic theme updates\r\n   * Components should have an applyTheme(theme) method\r\n   */\r\n  registeredComponents: [],\r\n  \r\n  registerComponent(component, name = 'Unknown') {\r\n    if (!component || typeof component.applyTheme !== 'function') {\r\n      console.warn(`‚ö†Ô∏è Cannot register ${name}: missing applyTheme() method`);\r\n      return;\r\n    }\r\n    \r\n    this.registeredComponents.push({ component, name });\r\n    console.log(`‚úÖ Registered component: ${name}`);\r\n    \r\n    // Apply current theme immediately\r\n    component.applyTheme(this.currentTheme);\r\n  },\r\n  \r\n  /**\r\n   * Notify all registered components of theme change\r\n   */\r\n  notifyComponents(theme) {\r\n    this.registeredComponents.forEach(({ component, name }) => {\r\n      try {\r\n        component.applyTheme(theme);\r\n        console.log(`üé® Theme applied to ${name}: ${theme}`);\r\n      } catch (error) {\r\n        console.error(`‚ùå Error applying theme to ${name}:`, error);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n// Export globally\r\nwindow.ThemeManager = ThemeManager;\r\n\r\n// Initialize immediately - synchronous to ensure it's ready for other components\r\nThemeManager.init();\r\n\r\nconsole.log('‚úÖ ThemeManager script loaded and initialized');\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/user-setup-modal.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 946
      },
      {
        "start": 7597,
        "end": 7653
      },
      {
        "start": 8211,
        "end": 8280
      },
      {
        "start": 12075,
        "end": 12128
      },
      {
        "start": 12311,
        "end": 12366
      },
      {
        "start": 12598,
        "end": 12643
      },
      {
        "start": 12744,
        "end": 13048
      },
      {
        "start": 13083,
        "end": 13164
      }
    ],
    "text": "/**\r\n * SpeedyFlow Login Modal\r\n * First-time login and configuration screen\r\n */\r\n\r\nclass UserSetupModal {\r\n    constructor() {\r\n        this.modal = null;\r\n        this.initialized = false;\r\n    }\r\n\r\n    /**\r\n     * Check if login is needed and show modal\r\n     */\r\n    async checkAndShow() {\r\n        try {\r\n            const response = await fetch('/api/user/login-status');\r\n            const data = await response.json();\r\n            \r\n            if (data.data && data.data.needs_login) {\r\n                console.log('üîê Login required');\r\n                await this.show();\r\n            } else {\r\n                console.log('‚úÖ User already logged in:', data.data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error checking login status:', error);\r\n            // If endpoint doesn't exist, show login anyway\r\n            await this.show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show login modal\r\n     */\r\n    async show() {\r\n        if (this.modal) {\r\n            this.modal.style.display = 'flex';\r\n            return;\r\n        }\r\n\r\n        // Create modal HTML\r\n        const modalHTML = `\r\n            <div id=\"userSetupModal\" class=\"setup-modal\">\r\n                <div class=\"setup-modal-content\">\r\n                    <div class=\"setup-modal-header\">\r\n                        <img src=\"/static/img/speedyflow-logo.svg\" alt=\"SpeedyFlow\" class=\"setup-logo\">\r\n                        <h2>Bienvenido a SpeedyFlow</h2>\r\n                        <p>Inicia sesi√≥n con tus credenciales de JIRA</p>\r\n                    </div>\r\n                    \r\n                    <div class=\"setup-modal-body\">\r\n                        <form id=\"loginForm\">\r\n                            <div class=\"setup-form-group\">\r\n                                <label for=\"jiraSite\">\r\n                                    <strong>JIRA Site URL</strong>\r\n                                    <span class=\"setup-hint\">Tu dominio de Atlassian</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"url\" \r\n                                    id=\"jiraSite\" \r\n                                    placeholder=\"https://tu-empresa.atlassian.net\"\r\n                                    required\r\n                                />\r\n                                <small class=\"setup-help\">\r\n                                    üìç Copia la URL desde tu navegador cuando est√©s en JIRA<br>\r\n                                    Ejemplo: <code>https://speedymovil.atlassian.net</code>\r\n                                </small>\r\n                            </div>\r\n\r\n                            <div class=\"setup-form-group\">\r\n                                <label for=\"jiraEmail\">\r\n                                    <strong>Email</strong>\r\n                                    <span class=\"setup-hint\">Tu correo de JIRA</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"email\" \r\n                                    id=\"jiraEmail\" \r\n                                    placeholder=\"tu-email@empresa.com\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div class=\"setup-form-group\">\r\n                                <label for=\"jiraToken\">\r\n                                    <strong>API Token</strong>\r\n                                    <span class=\"setup-hint\">Token de acceso personal</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"password\" \r\n                                    id=\"jiraToken\" \r\n                                    placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                                    required\r\n                                />\r\n                                \r\n                                <!-- Expandable guide -->\r\n                                <details class=\"token-guide\">\r\n                                    <summary>¬øNo sabes c√≥mo obtener tu token de JIRA? Click para ver la gu√≠a</summary>\r\n                                    <div class=\"token-guide-content\">\r\n                                        <h4>üìñ C√≥mo generar tu API Token</h4>\r\n                                        <ol>\r\n                                            <li>Ve a <a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" target=\"_blank\">Atlassian API Tokens</a></li>\r\n                                            <li>Haz click en <strong>\"Create API token\"</strong></li>\r\n                                            <li>Dale un nombre al token (ej: \"SpeedyFlow\")</li>\r\n                                            <li>Copia el token generado</li>\r\n                                            <li>P√©galo en el campo de arriba ‚òùÔ∏è</li>\r\n                                        </ol>\r\n                                        <div class=\"token-guide-warning\">\r\n                                            ‚ö†Ô∏è <strong>Importante:</strong> Guarda el token en un lugar seguro. \r\n                                            No podr√°s verlo de nuevo despu√©s de cerrarlo.\r\n                                        </div>\r\n                                    </div>\r\n                                </details>\r\n                            </div>\r\n\r\n                            <div class=\"setup-form-group\">\r\n                                <label for=\"projectKey\">\r\n                                    <strong>Project Key</strong>\r\n                                    <span class=\"setup-hint setup-required\">* Obligatorio</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id=\"projectKey\" \r\n                                    placeholder=\"MSM, AP, IT, etc.\"\r\n                                    maxlength=\"10\"\r\n                                    style=\"text-transform: uppercase;\"\r\n                                    required\r\n                                />\r\n                                <small class=\"setup-help\">\r\n                                    üìç B√∫scalo en tus tickets de JIRA (ejemplo: <code>MSM</code>-123)<br>\r\n                                    Estructura: Las primeras letras antes del gui√≥n\r\n                                </small>\r\n                                <div class=\"setup-warning-note\">\r\n                                    <strong>‚ö†Ô∏è IMPORTANTE:</strong> El Project Key debe ser exacto. \r\n                                    Un nombre incorrecto puede generar inconsistencias en la detecci√≥n de colas.\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div id=\"setupError\" class=\"setup-error\" style=\"display: none;\"></div>\r\n\r\n                            <div class=\"setup-modal-footer\">\r\n                                <button type=\"submit\" id=\"setupSaveBtn\" class=\"setup-btn-primary\">\r\n                                    üîê Guardar mis Credenciales\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        // Add to DOM\r\n        document.body.insertAdjacentHTML('beforeend', modalHTML);\r\n        this.modal = document.getElementById('userSetupModal');\r\n\r\n        // Setup event listeners\r\n        this.setupEventListeners();\r\n\r\n        this.initialized = true;\r\n    }\r\n\r\n    /**\r\n     * Setup event listeners\r\n     */\r\n    setupEventListeners() {\r\n        const form = document.getElementById('loginForm');\r\n        const projectKeyInput = document.getElementById('projectKey');\r\n\r\n        // Convert project key to uppercase\r\n        if (projectKeyInput) {\r\n            projectKeyInput.addEventListener('input', (e) => {\r\n                e.target.value = e.target.value.toUpperCase();\r\n            });\r\n        }\r\n\r\n        // Form submit\r\n        form.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            this.saveConfiguration();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Save credentials and configuration\r\n     */\r\n    async saveConfiguration() {\r\n        const jiraSite = document.getElementById('jiraSite').value.trim();\r\n        const jiraEmail = document.getElementById('jiraEmail').value.trim();\r\n        const jiraToken = document.getElementById('jiraToken').value.trim();\r\n        const projectKey = document.getElementById('projectKey').value.trim();\r\n        \r\n        const errorDiv = document.getElementById('setupError');\r\n        const saveBtn = document.getElementById('setupSaveBtn');\r\n\r\n        // Validate required fields\r\n        if (!jiraSite) {\r\n            this.showError('Por favor ingresa tu JIRA Site URL');\r\n            return;\r\n        }\r\n\r\n        if (!jiraEmail) {\r\n            this.showError('Por favor ingresa tu email');\r\n            return;\r\n        }\r\n\r\n        if (!jiraToken) {\r\n            this.showError('Por favor ingresa tu API Token');\r\n            return;\r\n        }\r\n\r\n        if (!projectKey) {\r\n            this.showError('Por favor ingresa tu Project Key (obligatorio)');\r\n            return;\r\n        }\r\n\r\n        if (projectKey.length < 2) {\r\n            this.showError('El Project Key debe tener al menos 2 caracteres');\r\n            return;\r\n        }\r\n\r\n        // Validate URL format\r\n        try {\r\n            new URL(jiraSite);\r\n        } catch {\r\n            this.showError('URL inv√°lida. Debe comenzar con https://');\r\n            return;\r\n        }\r\n\r\n        // Validate email format\r\n        if (!jiraEmail.includes('@')) {\r\n            this.showError('Email inv√°lido');\r\n            return;\r\n        }\r\n\r\n        // Disable button\r\n        saveBtn.disabled = true;\r\n        saveBtn.innerHTML = '‚è≥ Guardando credenciales...';\r\n        errorDiv.style.display = 'none';\r\n\r\n        try {\r\n            const response = await fetch('/api/user/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    jira_site: jiraSite,\r\n                    jira_email: jiraEmail,\r\n                    jira_token: jiraToken,\r\n                    project_key: projectKey || null\r\n                })\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (result.data && result.data.success) {\r\n                // Success!\r\n                const successIcon = typeof SVGIcons !== 'undefined' \r\n                  ? SVGIcons.success({ size: 16, className: 'inline-icon' })\r\n                  : '‚úÖ';\r\n                saveBtn.innerHTML = `${successIcon} Credenciales Guardadas`;\r\n                saveBtn.classList.add('success');\r\n                \r\n                // Show success message\r\n                this.showSuccess(`${successIcon} Configuraci√≥n guardada. Inicializando SpeedyFlow...`);\r\n                \r\n                // Reload and trigger initial filters\r\n                setTimeout(() => {\r\n                    // Store flag to trigger initial filters after reload\r\n                    sessionStorage.setItem('speedyflow_just_logged_in', 'true');\r\n                    if (projectKey) {\r\n                        sessionStorage.setItem('speedyflow_initial_project', projectKey);\r\n                    }\r\n                    window.location.reload();\r\n                }, 2000);\r\n            } else {\r\n                this.showError(result.data?.error || 'Error al guardar credenciales');\r\n                saveBtn.disabled = false;\r\n                saveBtn.innerHTML = 'üîê Guardar mis Credenciales';\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving configuration:', error);\r\n            this.showError('Error al guardar credenciales');\r\n            saveBtn.disabled = false;\r\n            saveBtn.innerHTML = 'üîê Guardar mis Credenciales';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show error message\r\n     */\r\n    showError(message) {\r\n        const errorDiv = document.getElementById('setupError');\r\n        errorDiv.textContent = '‚ùå ' + message;\r\n        errorDiv.style.display = 'block';\r\n    }\r\n\r\n    /**\r\n     * Show success message\r\n     */\r\n    showSuccess(message) {\r\n        const errorDiv = document.getElementById('setupError');\r\n        errorDiv.textContent = '‚úÖ ' + message;\r\n        errorDiv.className = 'setup-success';\r\n        errorDiv.style.display = 'block';\r\n    }\r\n\r\n    /**\r\n     * Hide modal\r\n     */\r\n    hide() {\r\n        if (this.modal) {\r\n            this.modal.style.display = 'none';\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize on page load\r\nconst userSetupModal = new UserSetupModal();\r\n\r\n// Check on DOM ready\r\nif (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        setTimeout(() => userSetupModal.checkAndShow(), 500);\r\n    });\r\n} else {\r\n    setTimeout(() => userSetupModal.checkAndShow(), 500);\r\n}\r\n\r\n// Export for manual use\r\nwindow.userSetupModal = userSetupModal;\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/utils/emoji-replacer.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 3116
      }
    ],
    "text": "/* Emoji -> SVG replacer\r\n   Runs on DOMContentLoaded, replaces common emoji characters inside text nodes\r\n   with SVGIcons.render(...) markup. Adds class 'svg-assemble' for entry animation.\r\n*/\r\n(function(){\r\n  const mapping = {\r\n    'üìé': 'paperclip',\r\n    'üìÑ': 'file',\r\n    'üìù': 'file',\r\n    '‚¨áÔ∏è': 'download',\r\n    '‚¨á': 'download',\r\n    '‚úï': 'close',\r\n    '‚ùå': 'error',\r\n    '‚ö°': 'zap',\r\n    'üéØ': 'target',\r\n    'üé®': 'star',\r\n    'üîç': 'search',\r\n    '‚úÖ': 'success',\r\n    '‚ö†Ô∏è': 'alert',\r\n    '‚ö†': 'alert',\r\n    'üìä': 'grid',\r\n    'üì¶': 'file',\r\n    'üìå': 'target',\r\n    '‚ú®': 'star',\r\n    'üîß': 'settings',\r\n    'üîî': 'bell'\r\n  };\r\n\r\n  function shouldSkip(node) {\r\n    if (!node.parentElement) return true;\r\n    const tag = node.parentElement.tagName;\r\n    return ['SCRIPT','STYLE','NOSCRIPT','CODE','PRE','TEXTAREA'].includes(tag);\r\n  }\r\n\r\n  function replaceInElement(el) {\r\n    // Only process elements with text nodes\r\n    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);\r\n    const nodes = [];\r\n    while (walker.nextNode()) nodes.push(walker.currentNode);\r\n    nodes.forEach(textNode => {\r\n      if (shouldSkip(textNode)) return;\r\n      let txt = textNode.nodeValue;\r\n      if (!txt) return;\r\n      let changed = false;\r\n      let parts = [];\r\n      let lastIndex = 0;\r\n      // Iterate over mapping keys and replace occurrences\r\n      const emojis = Object.keys(mapping).filter(e => txt.indexOf(e) !== -1);\r\n      if (emojis.length === 0) return;\r\n      // We will build an HTML string replacing emojis\r\n      let html = txt;\r\n      emojis.forEach(emoji => {\r\n        const iconName = mapping[emoji];\r\n        const svg = (typeof window.SVGIcons !== 'undefined') ? window.SVGIcons.render(iconName, { size: 14, className: 'svg-assemble' }) : '';\r\n        // Replace all occurrences\r\n        html = html.split(emoji).join(svg);\r\n        changed = true;\r\n      });\r\n      if (changed) {\r\n        const span = document.createElement('span');\r\n        span.innerHTML = html;\r\n        textNode.parentElement.replaceChild(span, textNode);\r\n      }\r\n    });\r\n  }\r\n\r\n  function runReplacer() {\r\n    try {\r\n      // Target many common UI containers to limit scope\r\n      const selectors = ['.stat-badge', '.toolbar-icon', '.toggle-icon', '.brand-icon', '.filter-icon', '.theme-btn-icon', '.attachment-name', '.attachment-filename', '.context-icon', '.suggestion', '.ml-suggestion-checkbox', '.ticket-description-section', 'button', 'a', 'span', 'label'];\r\n      const processed = new Set();\r\n      selectors.forEach(sel => {\r\n        document.querySelectorAll(sel).forEach(el => {\r\n          if (!processed.has(el)) { replaceInElement(el); processed.add(el); }\r\n        });\r\n      });\r\n      // Also run on body as fallback (but skip heavy nodes)\r\n      replaceInElement(document.body);\r\n      console.log('‚úÖ Emoji->SVG replacement completed');\r\n    } catch (e) {\r\n      console.warn('Emoji replacer failed:', e);\r\n    }\r\n  }\r\n\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', runReplacer);\r\n  } else {\r\n    runReplacer();\r\n  }\r\n})();\r\n"
  },
  {
    "url": "http://localhost:5005/static/js/utils/svg-icons.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2240
      },
      {
        "start": 2478,
        "end": 2799
      },
      {
        "start": 2925,
        "end": 3256
      },
      {
        "start": 3502,
        "end": 3539
      },
      {
        "start": 3763,
        "end": 3925
      },
      {
        "start": 4111,
        "end": 4149
      },
      {
        "start": 4333,
        "end": 4369
      },
      {
        "start": 4551,
        "end": 4589
      },
      {
        "start": 4774,
        "end": 4815
      },
      {
        "start": 4949,
        "end": 5160
      },
      {
        "start": 5292,
        "end": 5330
      },
      {
        "start": 5529,
        "end": 5569
      },
      {
        "start": 5703,
        "end": 5749
      },
      {
        "start": 6017,
        "end": 6181
      },
      {
        "start": 6409,
        "end": 6802
      },
      {
        "start": 7026,
        "end": 7654
      },
      {
        "start": 7809,
        "end": 8363
      },
      {
        "start": 8590,
        "end": 8640
      },
      {
        "start": 8861,
        "end": 8913
      },
      {
        "start": 9136,
        "end": 9415
      },
      {
        "start": 9747,
        "end": 10470
      },
      {
        "start": 10698,
        "end": 10739
      },
      {
        "start": 11038,
        "end": 11088
      },
      {
        "start": 11251,
        "end": 11827
      },
      {
        "start": 11971,
        "end": 12020
      },
      {
        "start": 12173,
        "end": 13654
      },
      {
        "start": 13854,
        "end": 13892
      },
      {
        "start": 14142,
        "end": 15630
      },
      {
        "start": 15830,
        "end": 15893
      },
      {
        "start": 16119,
        "end": 17789
      },
      {
        "start": 18039,
        "end": 18565
      },
      {
        "start": 18763,
        "end": 18813
      },
      {
        "start": 19009,
        "end": 19061
      },
      {
        "start": 19257,
        "end": 19309
      },
      {
        "start": 19503,
        "end": 19559
      },
      {
        "start": 19754,
        "end": 19799
      },
      {
        "start": 20026,
        "end": 20074
      },
      {
        "start": 20459,
        "end": 20518
      },
      {
        "start": 20808,
        "end": 21829
      }
    ],
    "text": "/**\r\n * SPEEDYFLOW - SVG Icons Module\r\n * Centralized icon library for consistent UI across the application\r\n * \r\n * Usage:\r\n *   import { SVGIcons } from './utils/svg-icons.js';\r\n *   element.innerHTML = SVGIcons.refresh();\r\n *   element.innerHTML = SVGIcons.close({ size: 20, color: '#ff0000' });\r\n */\r\n\r\nconst SVGIcons = {\r\n  /**\r\n   * Default configuration for all SVGs\r\n   */\r\n  defaults: {\r\n    size: 16,\r\n    strokeWidth: 2,\r\n    color: 'currentColor',\r\n    className: ''\r\n  },\r\n\r\n  /**\r\n   * Merge user options with defaults\r\n   */\r\n  _getOptions(options = {}) {\r\n    return { ...this.defaults, ...options };\r\n  },\r\n\r\n  /**\r\n   * Create SVG wrapper with common attributes\r\n   */\r\n  _createSVG(content, options = {}) {\r\n    const opts = this._getOptions(options);\r\n    return `<svg \r\n      width=\"${opts.size}\" \r\n      height=\"${opts.size}\" \r\n      viewBox=\"0 0 24 24\" \r\n      fill=\"none\" \r\n      stroke=\"${opts.color}\" \r\n      stroke-width=\"${opts.strokeWidth}\" \r\n      stroke-linecap=\"round\" \r\n      stroke-linejoin=\"round\"\r\n      class=\"svg-icon ${opts.className}\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >${content}</svg>`;\r\n  },\r\n\r\n  // ==========================================\r\n  // ACTION ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Refresh / Sync icon (circular arrows)\r\n   */\r\n  refresh(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Close / X icon\r\n   */\r\n  close(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Clock icon (for auto-refresh)\r\n   */\r\n  clock(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <polyline points=\"12 6 12 12 16 14\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Plus icon (add new item)\r\n   */\r\n  plus(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n      <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Edit / Pencil icon\r\n   */\r\n  edit(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Trash / Delete icon\r\n   */\r\n  trash(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n      <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Save / Check icon\r\n   */\r\n  save(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"20 6 9 17 4 12\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Download icon\r\n   */\r\n  download(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\r\n      <polyline points=\"7 10 12 15 17 10\"></polyline>\r\n      <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Upload icon\r\n   */\r\n  upload(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\r\n      <polyline points=\"17 8 12 3 7 8\"></polyline>\r\n      <line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Copy icon\r\n   */\r\n  copy(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\r\n      <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // NAVIGATION ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Arrow Right\r\n   */\r\n  arrowRight(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n      <polyline points=\"12 5 19 12 12 19\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Arrow Left\r\n   */\r\n  arrowLeft(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line>\r\n      <polyline points=\"12 19 5 12 12 5\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Arrow Up\r\n   */\r\n  arrowUp(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"5\"></line>\r\n      <polyline points=\"5 12 12 5 19 12\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Arrow Down\r\n   */\r\n  arrowDown(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n      <polyline points=\"19 12 12 19 5 12\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Chevron Right\r\n   */\r\n  chevronRight(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Chevron Down\r\n   */\r\n  chevronDown(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Chevron Up\r\n   */\r\n  chevronUp(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"6 15 12 9 18 15\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Pause icon\r\n   */\r\n  pause(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"6\" y=\"5\" width=\"3\" height=\"14\" rx=\"1\"></rect>\r\n      <rect x=\"15\" y=\"5\" width=\"3\" height=\"14\" rx=\"1\"></rect>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Chevron Left\r\n   */\r\n  chevronLeft(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"15 18 9 12 15 6\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * External Link icon\r\n   */\r\n  externalLink(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\r\n      <polyline points=\"15 3 21 3 21 9\"></polyline>\r\n      <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // STATUS & ALERT ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Info icon\r\n   */\r\n  info(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\r\n      <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Alert / Warning icon\r\n   */\r\n  alert(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\r\n      <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\r\n      <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Error / X Circle icon\r\n   */\r\n  error(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\r\n      <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Success / Check Circle icon\r\n   */\r\n  success(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\r\n      <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // UI ELEMENTS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Search icon\r\n   */\r\n  search(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\n      <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Filter icon\r\n   */\r\n  filter(options = {}) {\r\n    return this._createSVG(`\r\n      <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"></polygon>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Settings / Gear icon (classic gear with 6 teeth)\r\n   */\r\n  settings(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n      <path d=\"M13.5 2h-3l-.5 2.5a8 8 0 0 0-2 .8L5.5 3.5l-2 2.5 1.8 2.5a8 8 0 0 0-.8 2L2 11v3l2.5.5a8 8 0 0 0 .8 2L3.5 19l2 2.5 2.5-1.8a8 8 0 0 0 2 .8L11 23h3l.5-2.5a8 8 0 0 0 2-.8l2.5 1.8 2-2.5-1.8-2.5a8 8 0 0 0 .8-2L22 14v-3l-2.5-.5a8 8 0 0 0-.8-2L20.5 6l-2-2.5-2.5 1.8a8 8 0 0 0-2-.8L13.5 2z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Menu / Hamburger icon\r\n   */\r\n  menu(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\r\n      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\r\n      <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * More (3 dots vertical)\r\n   */\r\n  moreVertical(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\r\n      <circle cx=\"12\" cy=\"5\" r=\"1\"></circle>\r\n      <circle cx=\"12\" cy=\"19\" r=\"1\"></circle>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * More (3 dots horizontal)\r\n   */\r\n  moreHorizontal(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\r\n      <circle cx=\"19\" cy=\"12\" r=\"1\"></circle>\r\n      <circle cx=\"5\" cy=\"12\" r=\"1\"></circle>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Eye / View icon\r\n   */\r\n  eye(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\r\n      <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Eye Off / Hide icon\r\n   */\r\n  eyeOff(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"></path>\r\n      <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // BUSINESS / TICKET ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * User icon\r\n   */\r\n  user(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\r\n      <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Users / Team icon\r\n   */\r\n  users(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"></path>\r\n      <circle cx=\"9\" cy=\"7\" r=\"4\"></circle>\r\n      <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"></path>\r\n      <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Tag icon\r\n   */\r\n  tag(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\"></path>\r\n      <line x1=\"7\" y1=\"7\" x2=\"7.01\" y2=\"7\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Calendar icon\r\n   */\r\n  calendar(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n      <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line>\r\n      <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line>\r\n      <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Message / Comment icon\r\n   */\r\n  message(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Bell / Notification icon\r\n   */\r\n  bell(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n      <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Chart / Analytics icon\r\n   */\r\n  chart(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"></line>\r\n      <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"></line>\r\n      <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Shield / Security icon\r\n   */\r\n  shield(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Lightning / Fast icon\r\n   */\r\n  lightning(options = {}) {\r\n    return this._createSVG(`\r\n      <polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"></polygon>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Star icon\r\n   */\r\n  star(options = {}) {\r\n    return this._createSVG(`\r\n      <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"></polygon>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // ADDITIONAL ICONS (High Priority)\r\n  // ==========================================\r\n\r\n  /**\r\n   * Folder icon\r\n   */\r\n  folder(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Clipboard icon\r\n   */\r\n  clipboard(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path>\r\n      <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Help / Question icon\r\n   */\r\n  help(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"></path>\r\n      <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Trend Up icon (Analytics up)\r\n   */\r\n  trendUp(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\"></polyline>\r\n      <polyline points=\"17 6 23 6 23 12\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Trend Down icon (Analytics down)\r\n   */\r\n  trendDown(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"23 18 13.5 8.5 8.5 13.5 1 6\"></polyline>\r\n      <polyline points=\"17 18 23 18 23 12\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Image icon\r\n   */\r\n  image(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n      <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\r\n      <polyline points=\"21 15 16 10 5 21\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // PLACEHOLDER REPLACEMENTS (High Priority)\r\n  // ==========================================\r\n\r\n  /**\r\n   * Building / Organization icon (replaces user placeholder for Service Desk)\r\n   */\r\n  building(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"1\" ry=\"1\"></rect>\r\n      <line x1=\"9\" y1=\"22\" x2=\"9\" y2=\"18\"></line>\r\n      <line x1=\"15\" y1=\"22\" x2=\"15\" y2=\"18\"></line>\r\n      <line x1=\"9\" y1=\"6\" x2=\"9\" y2=\"6\"></line>\r\n      <line x1=\"15\" y1=\"6\" x2=\"15\" y2=\"6\"></line>\r\n      <line x1=\"9\" y1=\"10\" x2=\"9\" y2=\"10\"></line>\r\n      <line x1=\"15\" y1=\"10\" x2=\"15\" y2=\"10\"></line>\r\n      <line x1=\"9\" y1=\"14\" x2=\"9\" y2=\"14\"></line>\r\n      <line x1=\"15\" y1=\"14\" x2=\"15\" y2=\"14\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * List / Menu Lines icon (replaces clipboard placeholder for List View)\r\n   */\r\n  list(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\r\n      <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\r\n      <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\r\n      <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\"></line>\r\n      <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\"></line>\r\n      <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\"></line>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // MEDIUM PRIORITY ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Check Circle icon (better success states)\r\n   */\r\n  checkCircle(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\r\n      <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * X Circle icon (better error states)\r\n   */\r\n  xCircle(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\r\n      <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Sync / Refresh Alt icon (dedicated sync icon)\r\n   */\r\n  sync(options = {}) {\r\n    return this._createSVG(`\r\n      <polyline points=\"23 4 23 10 17 10\"></polyline>\r\n      <polyline points=\"1 20 1 14 7 14\"></polyline>\r\n      <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Zap / Bolt icon (speed/fast actions)\r\n   */\r\n  zap(options = {}) {\r\n    return this._createSVG(`\r\n      <polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"></polygon>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Target / Bullseye icon (goal/objective)\r\n   */\r\n  target(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <circle cx=\"12\" cy=\"12\" r=\"6\"></circle>\r\n      <circle cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * File / Document icon\r\n   */\r\n  file(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"></path>\r\n      <polyline points=\"13 2 13 9 20 9\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Paperclip / Attachment icon\r\n   */\r\n  paperclip(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Send / Submit icon\r\n   */\r\n  send(options = {}) {\r\n    return this._createSVG(`\r\n      <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\r\n      <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Folder Open icon (folder open state)\r\n   */\r\n  folderOpen(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\"></path>\r\n      <polyline points=\"2 11 4 11 22 11 20 19 4 19 2 11\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // LOW PRIORITY ICONS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Grid icon (grid view)\r\n   */\r\n  grid(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect>\r\n      <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect>\r\n      <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect>\r\n      <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Columns icon (layout switching)\r\n   */\r\n  columns(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n      <line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\"></line>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Maximize icon (expand)\r\n   */\r\n  maximize(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Minimize icon (collapse)\r\n   */\r\n  minimize(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Lock icon (locked state)\r\n   */\r\n  lock(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\r\n      <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Unlock icon (unlocked state)\r\n   */\r\n  unlock(options = {}) {\r\n    return this._createSVG(`\r\n      <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\r\n      <path d=\"M7 11V7a5 5 0 0 1 9.9-1\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Mail / Email icon\r\n   */\r\n  mail(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\r\n      <polyline points=\"22,6 12,13 2,6\"></polyline>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Phone icon (contact)\r\n   */\r\n  phone(options = {}) {\r\n    return this._createSVG(`\r\n      <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  /**\r\n   * Globe / Web icon (external/web)\r\n   */\r\n  globe(options = {}) {\r\n    return this._createSVG(`\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n      <line x1=\"2\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\r\n      <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"></path>\r\n    `, options);\r\n  },\r\n\r\n  // ==========================================\r\n  // HELPER METHODS\r\n  // ==========================================\r\n\r\n  /**\r\n   * Get all available icon names\r\n   */\r\n  getAvailableIcons() {\r\n    return Object.keys(this)\r\n      .filter(key => typeof this[key] === 'function' && !key.startsWith('_') && key !== 'getAvailableIcons');\r\n  },\r\n\r\n  /**\r\n   * Render icon by name\r\n   */\r\n  render(iconName, options = {}) {\r\n    if (typeof this[iconName] === 'function' && !iconName.startsWith('_')) {\r\n      return this[iconName](options);\r\n    }\r\n    console.warn(`SVGIcons: Icon \"${iconName}\" not found`);\r\n    return this.info(options); // Fallback to info icon\r\n  }\r\n};\r\n\r\n// Export for use in modules\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = { SVGIcons };\r\n}\r\n\r\n// Export globally for non-module scripts\r\nif (typeof window !== 'undefined') {\r\n  window.SVGIcons = SVGIcons;\r\n}\r\n\r\nconsole.log('‚úÖ SVG Icons module loaded -', SVGIcons.getAvailableIcons().length, 'icons available');\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/board/drag-transition-vertical.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2090
      },
      {
        "start": 2173,
        "end": 4038
      },
      {
        "start": 4142,
        "end": 10381
      },
      {
        "start": 10417,
        "end": 10461
      },
      {
        "start": 10490,
        "end": 10535
      },
      {
        "start": 10571,
        "end": 10611
      },
      {
        "start": 10642,
        "end": 10722
      },
      {
        "start": 10912,
        "end": 10975
      },
      {
        "start": 11127,
        "end": 11191
      },
      {
        "start": 11328,
        "end": 11387
      },
      {
        "start": 12476,
        "end": 12557
      },
      {
        "start": 15113,
        "end": 15199
      },
      {
        "start": 15896,
        "end": 15964
      },
      {
        "start": 18406,
        "end": 18496
      },
      {
        "start": 19870,
        "end": 19927
      },
      {
        "start": 21016,
        "end": 21071
      },
      {
        "start": 24204,
        "end": 24266
      },
      {
        "start": 24815,
        "end": 24880
      },
      {
        "start": 26692,
        "end": 28564
      },
      {
        "start": 28623,
        "end": 31351
      },
      {
        "start": 32024,
        "end": 32078
      },
      {
        "start": 33015,
        "end": 34371
      }
    ],
    "text": "/**\r\n * DRAG TRANSITION VERTICAL HANDLER\r\n * Maneja el drag & drop de tickets con barra de transiciones vertical\r\n * \r\n * Features:\r\n * - Fetch din√°mico de transiciones desde JIRA API\r\n * - Animaci√≥n de columnas que se separan\r\n * - Barra vertical centrada con glassmorphism\r\n * - Transiciones ejecutadas via API\r\n */\r\n\r\nclass DragTransitionVertical {\r\n  constructor() {\r\n    this.transitionBar = null;\r\n    this.currentTicket = null;\r\n    this.currentIssueKey = null;  // Backup storage for issue key\r\n    this.availableTransitions = [];\r\n    this.isDragging = false;\r\n    this.isExecutingTransition = false;\r\n    this.dragStartTime = null;\r\n    \r\n    console.log('üéØ DragTransitionVertical: Constructor initialized');\r\n  }\r\n  \r\n  init() {\r\n    console.log('üöÄ DragTransitionVertical: Initializing...');\r\n    this.setupDragListeners();\r\n    this.createTransitionBar();\r\n    console.log('‚úÖ DragTransitionVertical: Ready');\r\n  }\r\n  \r\n  /**\r\n   * Setup global drag event listeners\r\n   */\r\n  setupDragListeners() {\r\n    // Dragstart: Initialize drag operation\r\n    document.addEventListener('dragstart', (e) => {\r\n      const card = e.target.closest('.kanban-card');\r\n      if (card) {\r\n        console.log('üöÄ Drag started on card:', card.dataset.issueKey);\r\n        this.onDragStart(e, card);\r\n      }\r\n    });\r\n    \r\n    \r\n    // Dragend: Cleanup unless executing transition or drag just started\r\n    document.addEventListener('dragend', (e) => {\r\n      const card = e.target.closest('.kanban-card');\r\n      if (card && this.isDragging && !this.isExecutingTransition) {\r\n        const dragDuration = Date.now() - this.dragStartTime;\r\n        \r\n        // Only cleanup if drag lasted more than 200ms (real drag, not accidental)\r\n        if (dragDuration > 200) {\r\n          console.log('üèÅ Drag ended after', dragDuration, 'ms - cleaning up');\r\n          this.onDragEnd();\r\n        } else {\r\n          console.log('‚è±Ô∏è Drag too short (', dragDuration, 'ms) - ignoring dragend');\r\n        }\r\n      }\r\n    });\r\n    \r\n    \r\n    // Dragover: Allow drop\r\n    document.addEventListener('dragover', (e) => {\r\n      if (this.isDragging) {\r\n        e.preventDefault();\r\n      }\r\n    });\r\n    \r\n    // Prevent click events during drag\r\n    document.addEventListener('click', (e) => {\r\n      const card = e.target.closest('.kanban-card');\r\n      if (card && this.isDragging) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n      }\r\n    }, true);\r\n    \r\n    // ESC key cancels drag\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.isDragging) {\r\n        console.log('‚ö†Ô∏è Drag cancelled by ESC key');\r\n        this.cancelDrag();\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Create the transition bar DOM element\r\n   */\r\n  createTransitionBar() {\r\n    if (this.transitionBar) return;\r\n    \r\n    this.transitionBar = document.createElement('div');\r\n    this.transitionBar.className = 'transition-bar-vertical';\r\n    \r\n    // IMPORTANTE: Asegurar que est√© oculto por defecto\r\n    this.transitionBar.style.display = 'none';\r\n    \r\n    this.transitionBar.innerHTML = `\r\n      <div class=\"transition-bar-header\">\r\n        <span class=\"icon\">${SVGIcons.target({size:16,className:'inline-icon'})}</span>\r\n        <span class=\"text\">Drop aqu√≠ para transicionar:</span>\r\n        <span class=\"issue-key\" id=\"transitionIssueKey\">‚Äî</span>\r\n        <button class=\"close-button\" title=\"Presiona ESC o suelta fuera para cancelar\">${SVGIcons.close({size:14,className:'inline-icon'})}</button>\r\n      </div>\r\n      <div class=\"transition-zones-vertical\" id=\"transitionZonesVertical\">\r\n        <div class=\"transition-loading\">\r\n          <div class=\"spinner\"></div>\r\n          <div class=\"loading-text\">Cargando transiciones...</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    document.body.appendChild(this.transitionBar);\r\n    \r\n    // Close button handler\r\n    const closeBtn = this.transitionBar.querySelector('.close-button');\r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.cancelDrag();\r\n      });\r\n    }\r\n    \r\n    console.log('‚úÖ Transition bar created');\r\n  }\r\n  \r\n  /**\r\n   * Handle drag start event\r\n   */\r\n  async onDragStart(e, card) {\r\n    // IMPORTANTE: NO llamar e.preventDefault() aqu√≠ o el drag no funcionar√°\r\n    // Solo stopPropagation para evitar que abra los detalles del ticket\r\n    e.stopPropagation();\r\n    \r\n    // Set drag data (required for drag to work)\r\n    if (e.dataTransfer) {\r\n      e.dataTransfer.effectAllowed = 'move';\r\n      e.dataTransfer.setData('text/plain', card.dataset.issueKey || '');\r\n    }\r\n    \r\n    // Extract issue key from card\r\n    const issueKey = this.extractIssueKey(card);\r\n    \r\n    if (!issueKey) {\r\n      console.warn('‚ö†Ô∏è No issue key found on card');\r\n      return;\r\n    }\r\n    \r\n    console.log('üöÄ Drag started:', issueKey);\r\n    \r\n    // Set state with backup storage\r\n    this.isDragging = true;\r\n    this.dragStartTime = Date.now();\r\n    this.currentTicket = { card, issueKey };\r\n    this.currentIssueKey = issueKey;  // Store separately as backup\r\n    \r\n    // Add visual feedback\r\n    card.classList.add('dragging');\r\n    card.style.opacity = '0.5';\r\n    \r\n    // Activate board (columns separate)\r\n    this.activateBoard();\r\n    \r\n    // Show transition bar with loading\r\n    this.showTransitionBar(true);\r\n    \r\n    // Load and render transitions\r\n    await this.loadTransitions(issueKey);\r\n    this.renderTransitions();\r\n  }\r\n  \r\n  /**\r\n   * Extract issue key from card element\r\n   */\r\n  extractIssueKey(card) {\r\n    // Try multiple strategies to find issue key\r\n    \r\n    // Strategy 1: data-issue-key attribute\r\n    if (card.dataset.issueKey) {\r\n      return card.dataset.issueKey;\r\n    }\r\n    \r\n    // Strategy 2: .issue-key element\r\n    const keyElement = card.querySelector('.issue-key');\r\n    if (keyElement) {\r\n      return keyElement.textContent.trim();\r\n    }\r\n    \r\n    // Strategy 3: data-key attribute\r\n    if (card.dataset.key) {\r\n      return card.dataset.key;\r\n    }\r\n    \r\n    // Strategy 4: First text content that matches JIRA key pattern (ABC-123)\r\n    const text = card.textContent;\r\n    const match = text.match(/[A-Z]+-\\d+/);\r\n    if (match) {\r\n      return match[0];\r\n    }\r\n    \r\n    return null;\r\n  }\r\n  \r\n  /**\r\n   * Fetch available transitions from API\r\n   */\r\n  async loadTransitions(issueKey) {\r\n    try {\r\n      console.log('üì° Fetching transitions for', issueKey);\r\n      \r\n      const response = await fetch(`/api/issues/${issueKey}/transitions`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('üì¶ Raw response:', data);\r\n      \r\n      // Unwrap if decorated with @json_response\r\n      let transitions = [];\r\n      \r\n      if (data.transitions) {\r\n        transitions = data.transitions;\r\n      } else if (data.data && data.data.transitions) {\r\n        transitions = data.data.transitions;\r\n      } else if (Array.isArray(data)) {\r\n        transitions = data;\r\n      }\r\n      \r\n      // Map to standardized format including fields\r\n      this.availableTransitions = transitions.map(t => ({\r\n        id: t.id,\r\n        name: t.name,\r\n        targetStatus: t.to?.name || t.targetStatus || 'Unknown',\r\n        icon: this.getIconForTransition(t.name),\r\n        fields: t.fields || {},\r\n        hasFields: t.fields && Object.keys(t.fields).length > 0\r\n      }));\r\n      \r\n      console.log('‚úÖ Loaded transitions:', this.availableTransitions.length);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error loading transitions:', error);\r\n      this.availableTransitions = [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Show transition bar with optional loading state\r\n   */\r\n  showTransitionBar(loading = false) {\r\n    if (!this.transitionBar) return;\r\n    \r\n    console.log('üìä Showing transition bar');\r\n    \r\n    // Update issue key in header\r\n    const issueKeyEl = document.getElementById('transitionIssueKey');\r\n    if (issueKeyEl && this.currentTicket) {\r\n      issueKeyEl.textContent = this.currentTicket.issueKey;\r\n    }\r\n    \r\n    // Remove display:none and show bar with animation\r\n    this.transitionBar.style.display = 'flex';\r\n    \r\n    setTimeout(() => {\r\n      this.transitionBar.classList.add('show');\r\n    }, 100);\r\n  }\r\n  \r\n  /**\r\n   * Render transitions in the bar\r\n   */\r\n  renderTransitions() {\r\n    const zonesContainer = document.getElementById('transitionZonesVertical');\r\n    if (!zonesContainer) return;\r\n    \r\n    // Empty state\r\n    if (this.availableTransitions.length === 0) {\r\n      zonesContainer.innerHTML = `\r\n        <div class=\"transition-empty-state\">\r\n          <div class=\"empty-icon\">‚ö†Ô∏è</div>\r\n          <div class=\"empty-text\">No hay transiciones disponibles</div>\r\n          <div class=\"empty-hint\">Este ticket no puede cambiar de estado</div>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    // Render transition zones\r\n    zonesContainer.innerHTML = this.availableTransitions.map(t => {\r\n      const pausesSLA = this.transitionPausesSLA(t.name);\r\n      const slaBadge = pausesSLA ? '<span class=\"sla-pause-badge\">‚è∏Ô∏è Pausa SLA</span>' : '';\r\n      \r\n      return `\r\n        <div class=\"transition-zone-vertical ${pausesSLA ? 'pauses-sla' : ''}\" \r\n             data-transition-id=\"${t.id}\"\r\n             data-target-status=\"${this.escapeHtml(t.targetStatus)}\"\r\n             data-pauses-sla=\"${pausesSLA}\"\r\n             draggable=\"false\">\r\n          <span class=\"transition-icon\">${t.icon}</span>\r\n          <div class=\"transition-info\">\r\n            <span class=\"transition-name\">${this.escapeHtml(t.name)}</span>\r\n            <span class=\"transition-target\">${this.escapeHtml(t.targetStatus)}</span>\r\n            ${slaBadge}\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join('');\r\n    \r\n    // Attach event listeners to zones\r\n    this.attachZoneListeners();\r\n  }\r\n  \r\n  /**\r\n   * Attach drag event listeners to transition zones\r\n   */\r\n  attachZoneListeners() {\r\n    const zones = document.querySelectorAll('.transition-zone-vertical');\r\n    console.log(`üéØ Attaching listeners to ${zones.length} transition zones`);\r\n    \r\n    zones.forEach(zone => {\r\n      zone.setAttribute('data-droppable', 'true');\r\n      zone.addEventListener('dragenter', (e) => this.onZoneDragEnter(e, zone));\r\n      zone.addEventListener('dragover', (e) => this.onZoneDragOver(e));\r\n      zone.addEventListener('dragleave', (e) => this.onZoneDragLeave(e, zone));\r\n      zone.addEventListener('drop', (e) => this.onZoneDrop(e, zone));\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Handle dragenter on transition zone\r\n   */\r\n  onZoneDragEnter(e, zone) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    console.log('üéØ Dragenter on zone:', zone.dataset.targetStatus);\r\n    zone.classList.add('drag-over');\r\n  }\r\n  \r\n  /**\r\n   * Handle dragover on transition zone\r\n   */\r\n  onZoneDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.dataTransfer) {\r\n      e.dataTransfer.dropEffect = 'move';\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Handle dragleave on transition zone\r\n   */\r\n  onZoneDragLeave(e, zone) {\r\n    e.stopPropagation();\r\n    if (e.target === zone) {\r\n      zone.classList.remove('drag-over');\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Handle drop on transition zone\r\n   */\r\n  async onZoneDrop(e, zone) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    const transitionId = zone.dataset.transitionId;\r\n    const targetStatus = zone.dataset.targetStatus;\r\n    \r\n    console.log('üéØ DROP EVENT FIRED:', { transitionId, targetStatus });\r\n    \r\n    this.removeDragOverClasses();\r\n    \r\n    // Store issue key before any async operations\r\n    const issueKey = this.currentTicket?.issueKey;\r\n    \r\n    if (!issueKey) {\r\n      console.error('‚ùå No issue key available for drop');\r\n      this.onDragEnd();\r\n      return;\r\n    }\r\n    \r\n    // Find transition to check if it has required fields\r\n    const transition = this.availableTransitions.find(t => t.id === transitionId);\r\n    \r\n    if (transition?.hasFields) {\r\n      console.log('üìã Transition requires fields - showing modal');\r\n      await this.showFieldsModal(transition);\r\n    } else {\r\n      // Execute transition directly with issueKey\r\n      try {\r\n        await this.executeTransition(transitionId, targetStatus, null, issueKey);\r\n      } finally {\r\n        this.onDragEnd();\r\n      }\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Show modal to collect required fields for transition\r\n   */\r\n  async showFieldsModal(transition) {\r\n    // Store issue key BEFORE showing modal to prevent loss\r\n    const issueKey = this.currentTicket?.issueKey;\r\n    \r\n    if (!issueKey) {\r\n      console.error('‚ùå No issue key available for modal');\r\n      this.onDragEnd();\r\n      return null;\r\n    }\r\n    \r\n    return new Promise((resolve) => {\r\n      // Create modal\r\n      const modal = document.createElement('div');\r\n      modal.className = 'transition-fields-modal';\r\n      modal.innerHTML = `\r\n        <div class=\"transition-fields-overlay\"></div>\r\n        <div class=\"transition-fields-content\">\r\n          <div class=\"transition-fields-header\">\r\n            <h3>${transition.icon} ${this.escapeHtml(transition.name)}</h3>\r\n            <p>Complete los campos requeridos para esta transici√≥n</p>\r\n          </div>\r\n          <form class=\"transition-fields-form\" id=\"transitionFieldsForm\">\r\n            ${this.renderTransitionFields(transition.fields, transition.name)}\r\n          </form>\r\n          <div class=\"transition-fields-actions\">\r\n            <button type=\"button\" class=\"btn-cancel\" id=\"cancelFieldsBtn\">Cancelar</button>\r\n            <button type=\"button\" class=\"btn-submit\" id=\"submitFieldsBtn\">Ejecutar Transici√≥n</button>\r\n          </div>\r\n        </div>\r\n      `;\r\n      \r\n      document.body.appendChild(modal);\r\n      \r\n      // Add animation\r\n      setTimeout(() => modal.classList.add('show'), 10);\r\n      \r\n      // Cancel handler\r\n      const cancelBtn = modal.querySelector('#cancelFieldsBtn');\r\n      const overlay = modal.querySelector('.transition-fields-overlay');\r\n      const cancelHandler = () => {\r\n        modal.classList.remove('show');\r\n        setTimeout(() => {\r\n          modal.remove();\r\n          this.onDragEnd();\r\n        }, 300);\r\n        resolve(null);\r\n      };\r\n      \r\n      cancelBtn.addEventListener('click', cancelHandler);\r\n      overlay.addEventListener('click', cancelHandler);\r\n      \r\n      // Submit handler\r\n      const submitBtn = modal.querySelector('#submitFieldsBtn');\r\n      submitBtn.addEventListener('click', async () => {\r\n        const formData = this.collectFormData(modal);\r\n        \r\n        modal.classList.remove('show');\r\n        setTimeout(() => modal.remove(), 300);\r\n        \r\n        try {\r\n          // Pass issueKey explicitly to avoid loss after modal closes\r\n          await this.executeTransition(transition.id, transition.targetStatus, formData, issueKey);\r\n        } finally {\r\n          this.onDragEnd();\r\n        }\r\n        \r\n        resolve(formData);\r\n      });\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Render form fields based on transition field requirements\r\n   */\r\n  renderTransitionFields(fields, transitionName = '') {\r\n    const fieldKeys = Object.keys(fields);\r\n    \r\n    return fieldKeys.map(fieldKey => {\r\n      const field = fields[fieldKey];\r\n      const isRequired = field.required;\r\n      const fieldName = field.name || fieldKey;\r\n      const fieldType = field.schema?.type || 'string';\r\n      \r\n      return `\r\n        <div class=\"transition-field\">\r\n          <label for=\"field_${fieldKey}\">\r\n            ${this.escapeHtml(fieldName)}\r\n            ${isRequired ? '<span class=\"required\">*</span>' : ''}\r\n          </label>\r\n          ${this.renderFieldInput(fieldKey, field, fieldType, transitionName)}\r\n        </div>\r\n      `;\r\n    }).join('');\r\n  }\r\n  \r\n  /**\r\n   * Render appropriate input for field type\r\n   */\r\n  renderFieldInput(fieldKey, field, fieldType, transitionName = '') {\r\n    const placeholder = field.required ? 'Campo requerido' : 'Opcional';\r\n    const fieldName = field.name || fieldKey;\r\n    \r\n    // Get solution template based on transition name\r\n    const template = this.getSolutionTemplate(transitionName, fieldName);\r\n    \r\n    // Check if this is a textarea field (not a select with allowedValues)\r\n    const isTextArea = !field.allowedValues || field.allowedValues.length === 0;\r\n    \r\n    // Text area for ALL non-select fields (hacer todos los campos grandes)\r\n    if (isTextArea && fieldType !== 'number' && fieldType !== 'boolean') {\r\n      const hasTemplate = template !== '';\r\n      const rows = hasTemplate ? 12 : 8;  // More rows for template\r\n      \r\n      return `\r\n        <div class=\"field-input-container\">\r\n          <textarea \r\n            id=\"field_${fieldKey}\" \r\n            name=\"${fieldKey}\"\r\n            placeholder=\"${placeholder}\"\r\n            rows=\"${rows}\"\r\n            ${field.required ? 'required' : ''}>${template}</textarea>\r\n          ${hasTemplate ? `\r\n            <div class=\"field-hint\">\r\n              üí° Plantilla precargada - edita seg√∫n necesites\r\n            </div>\r\n            <div class=\"field-checkbox\">\r\n              <label>\r\n                <input \r\n                  type=\"checkbox\" \r\n                  id=\"comment_${fieldKey}\" \r\n                  name=\"comment_${fieldKey}\"\r\n                  checked\r\n                />\r\n                <span>üìù Agregar tambi√©n como comentario p√∫blico</span>\r\n              </label>\r\n            </div>\r\n          ` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n    \r\n    // Select for allowed values\r\n    if (field.allowedValues && field.allowedValues.length > 0) {\r\n      return `\r\n        <select id=\"field_${fieldKey}\" name=\"${fieldKey}\" ${field.required ? 'required' : ''}>\r\n          <option value=\"\">Seleccione una opci√≥n</option>\r\n          ${field.allowedValues.map(val => `\r\n            <option value=\"${val.id || val.value}\">${this.escapeHtml(val.name || val.value)}</option>\r\n          `).join('')}\r\n        </select>\r\n      `;\r\n    }\r\n    \r\n    // Default: text input (larger)\r\n    return `\r\n      <input \r\n        type=\"text\" \r\n        id=\"field_${fieldKey}\" \r\n        name=\"${fieldKey}\"\r\n        placeholder=\"${placeholder}\"\r\n        style=\"min-height: 45px; padding: 12px;\"\r\n        ${field.required ? 'required' : ''}\r\n      />\r\n    `;\r\n  }\r\n  \r\n  /**\r\n   * Get solution template based on transition name and field name\r\n   */\r\n  getSolutionTemplate(transitionName = '', fieldName = '') {\r\n    const transitionLower = transitionName.toLowerCase();\r\n    const fieldLower = fieldName.toLowerCase();\r\n    \r\n    // Plantilla SOLO para campo \"Adjunto\" en transiciones de resolver/validaci√≥n\r\n    if ((transitionLower.includes('resolver') || \r\n         transitionLower.includes('validaci') || \r\n         transitionLower.includes('soluci') ||\r\n         transitionLower.includes('solution')) &&\r\n        fieldLower.includes('adjunt')) {\r\n      return `üìã DETALLES DE LA SOLUCI√ìN\r\n\r\nüîç Problema Identificado:\r\n[Describe brevemente el problema que se encontr√≥]\r\n\r\n‚úÖ Soluci√≥n Aplicada:\r\n[Explica qu√© se hizo para resolver el problema]\r\n\r\nüõ†Ô∏è Acciones Realizadas:\r\n1. [Primera acci√≥n]\r\n2. [Segunda acci√≥n]\r\n3. [Tercera acci√≥n]\r\n\r\n‚úì Resultado:\r\n[Confirma que el problema est√° resuelto]\r\n\r\nüìù Notas Adicionales:\r\n[Cualquier informaci√≥n relevante para el cliente o equipo]`;\r\n    }\r\n    \r\n    // Plantilla sencilla para \"Acciones de Seguimiento\"\r\n    if ((transitionLower.includes('resolver') || \r\n         transitionLower.includes('validaci') || \r\n         transitionLower.includes('soluci')) &&\r\n        (fieldLower.includes('seguimiento') || fieldLower.includes('acciones'))) {\r\n      return `‚úÖ Soluci√≥n aplicada\r\nüîß Acciones: [describe brevemente]\r\nüìå Estado: [resuelto/validado]`;\r\n    }\r\n    \r\n    return '';\r\n  }\r\n  \r\n  /**\r\n   * Collect form data from modal\r\n   */\r\n  collectFormData(modal) {\r\n    const form = modal.querySelector('#transitionFieldsForm');\r\n    const fields = {};\r\n    const comments = {}; // Track which fields should also be comments\r\n    \r\n    console.log('üìã Collecting form data...');\r\n    \r\n    // Get all textarea values\r\n    form.querySelectorAll('textarea, input[type=\"text\"], select').forEach(input => {\r\n      const fieldKey = input.name;\r\n      if (fieldKey && input.value) {\r\n        fields[fieldKey] = input.value;\r\n        console.log(`  ‚úì Field: ${fieldKey} = ${input.value.substring(0, 50)}...`);\r\n      }\r\n    });\r\n    \r\n    // Get all comment checkboxes\r\n    form.querySelectorAll('input[type=\"checkbox\"][id^=\"comment_\"]').forEach(checkbox => {\r\n      if (checkbox.checked) {\r\n        const fieldKey = checkbox.name.replace('comment_', '');\r\n        comments[fieldKey] = true;\r\n        console.log(`  üí¨ Will post comment for: ${fieldKey}`);\r\n      }\r\n    });\r\n    \r\n    console.log('üì¶ Form data collected:', { fields: Object.keys(fields), comments: Object.keys(comments) });\r\n    \r\n    return { fields, comments };\r\n  }\r\n  \r\n  /**\r\n   * Execute transition via API\r\n   */\r\n  async executeTransition(transitionId, targetStatus, formData = null, explicitIssueKey = null) {\r\n    this.isExecutingTransition = true;\r\n    \r\n    // Try multiple sources for issue key (in order of preference)\r\n    const issueKey = explicitIssueKey || this.currentTicket?.issueKey || this.currentIssueKey;\r\n    \r\n    if (!issueKey) {\r\n      console.error('‚ùå No issue key available for transition');\r\n      this.isExecutingTransition = false;\r\n      return;\r\n    }\r\n    \r\n    // Extract fields and comments from formData\r\n    let fields = {};\r\n    let comments = {};\r\n    \r\n    if (formData && typeof formData === 'object') {\r\n      // If formData has .fields property, use it (new format with comments)\r\n      if (formData.fields) {\r\n        fields = formData.fields;\r\n        comments = formData.comments || {};\r\n      } else {\r\n        // Fallback: formData is the fields object directly (old format)\r\n        fields = formData;\r\n      }\r\n    }\r\n    \r\n    console.log('üöÄ Executing transition:', { \r\n      issueKey,\r\n      transitionId, \r\n      targetStatus,\r\n      fields,\r\n      comments\r\n    });\r\n    \r\n    try {\r\n      // Show loading state on bar\r\n      this.updateTransitionBarIcon('‚è≥');\r\n      \r\n      const body = {\r\n        transition: { id: transitionId }\r\n      };\r\n      \r\n      // Add fields if provided\r\n      if (Object.keys(fields).length > 0) {\r\n        body.fields = fields;\r\n      }\r\n      \r\n      const response = await fetch(`/api/issues/${issueKey}/transitions`, {\r\n        method: 'POST',\r\n        headers: { \r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Transition failed: ${response.status} - ${errorText}`);\r\n      }\r\n      \r\n      console.log('‚úÖ Transition successful');\r\n      \r\n      // Post comments for fields that have the checkbox checked\r\n      if (comments && Object.keys(comments).length > 0) {\r\n        for (const [fieldKey, shouldComment] of Object.entries(comments)) {\r\n          if (shouldComment && fields[fieldKey]) {\r\n            try {\r\n              await this.postFieldAsComment(issueKey, fields[fieldKey]);\r\n              console.log(`‚úÖ Comment posted for field: ${fieldKey}`);\r\n            } catch (commentError) {\r\n              console.error(`‚ö†Ô∏è Failed to post comment for ${fieldKey}:`, commentError);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Show success notification\r\n      this.showNotification(`‚úÖ ${issueKey} ‚Üí ${targetStatus}`, 'success');\r\n      \r\n      // Animate card to new column\r\n      await this.animateCardTransition(targetStatus);\r\n      \r\n      // Reload kanban board\r\n      if (window.loadIssues && window.state?.currentQueue) {\r\n        console.log('üîÑ Reloading issues...');\r\n        await window.loadIssues(window.state.currentQueue);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Transition error:', error);\r\n      this.showNotification(`‚ùå Error: ${error.message}`, 'error');\r\n    } finally {\r\n      this.isExecutingTransition = false;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Find target column by status name\r\n   */\r\n  findColumnByStatus(targetStatus) {\r\n    const columns = document.querySelectorAll('.kanban-column');\r\n    const targetStatusLower = targetStatus.toLowerCase();\r\n    \r\n    for (const col of columns) {\r\n      const colTitle = col.querySelector('.column-title, .kanban-column-title, h2, h3');\r\n      if (colTitle) {\r\n        const titleText = colTitle.textContent.toLowerCase();\r\n        if (titleText.includes(targetStatusLower) || targetStatusLower.includes(titleText)) {\r\n          return col;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  }\r\n  \r\n  /**\r\n   * Animate card flying to target column\r\n   */\r\n  async animateCardTransition(targetStatus) {\r\n    if (!this.currentTicket?.card) return;\r\n    \r\n    const targetColumn = this.findColumnByStatus(targetStatus);\r\n    \r\n    if (!targetColumn) {\r\n      console.warn('‚ö†Ô∏è Target column not found for status:', targetStatus);\r\n      return;\r\n    }\r\n    \r\n    console.log('üé¨ Animating card to column:', targetColumn);\r\n    \r\n    const card = this.currentTicket.card;\r\n    \r\n    // Clone card for animation\r\n    const clone = card.cloneNode(true);\r\n    clone.style.position = 'fixed';\r\n    clone.style.zIndex = '10000';\r\n    clone.style.pointerEvents = 'none';\r\n    clone.style.opacity = '1';\r\n    \r\n    const startRect = card.getBoundingClientRect();\r\n    clone.style.top = `${startRect.top}px`;\r\n    clone.style.left = `${startRect.left}px`;\r\n    clone.style.width = `${startRect.width}px`;\r\n    \r\n    document.body.appendChild(clone);\r\n    \r\n    // Get target position\r\n    const targetRect = targetColumn.getBoundingClientRect();\r\n    const targetTop = targetRect.top + 80; // Below column header\r\n    const targetLeft = targetRect.left + 20;\r\n    \r\n    // Animate\r\n    const animation = clone.animate([\r\n      {\r\n        top: `${startRect.top}px`,\r\n        left: `${startRect.left}px`,\r\n        opacity: 1,\r\n        transform: 'scale(1) rotate(0deg)'\r\n      },\r\n      {\r\n        top: `${targetTop}px`,\r\n        left: `${targetLeft}px`,\r\n        opacity: 0.3,\r\n        transform: 'scale(0.8) rotate(5deg)'\r\n      }\r\n    ], {\r\n      duration: 800,\r\n      easing: 'cubic-bezier(0.34, 1.56, 0.64, 1)'\r\n    });\r\n    \r\n    animation.onfinish = () => {\r\n      clone.remove();\r\n    };\r\n    \r\n    // Fade out original card\r\n    card.style.transition = 'opacity 0.3s ease';\r\n    card.style.opacity = '0';\r\n    \r\n    await new Promise(resolve => setTimeout(resolve, 400));\r\n  }\r\n  \r\n  /**\r\n   * Cancel drag operation\r\n   */\r\n  cancelDrag() {\r\n    console.log('‚ùå Drag cancelled');\r\n    this.onDragEnd();\r\n  }\r\n  \r\n  /**\r\n   * Handle drag end event - cleanup all drag states\r\n   */\r\n  onDragEnd() {\r\n    console.log('üèÅ Drag ended');\r\n    \r\n    this.cleanupCardState();\r\n    this.hideTransitionBar();\r\n    this.deactivateBoard();\r\n    this.removeDragOverClasses();\r\n    this.resetTransitionBarIcon();\r\n    this.clearCurrentTicket();\r\n  }\r\n  \r\n  /**\r\n   * Activate board for drag operation\r\n   */\r\n  activateBoard() {\r\n    const kanbanBoard = document.querySelector('.kanban-board');\r\n    if (kanbanBoard) {\r\n      kanbanBoard.classList.add('drag-active');\r\n      const columns = kanbanBoard.querySelectorAll('.kanban-column');\r\n      console.log(`‚úÖ Board activated - ${columns.length} columns separated`);\r\n    } else {\r\n      console.warn('‚ö†Ô∏è Kanban board not found!');\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Cleanup card visual state\r\n   */\r\n  cleanupCardState() {\r\n    if (this.currentTicket?.card) {\r\n      this.currentTicket.card.classList.remove('dragging');\r\n      this.currentTicket.card.style.opacity = '';\r\n    }\r\n    this.isDragging = false;\r\n    this.dragStartTime = null;\r\n  }\r\n  \r\n  /**\r\n   * Hide transition bar with animation\r\n   */\r\n  hideTransitionBar() {\r\n    if (!this.transitionBar) return;\r\n    \r\n    this.transitionBar.classList.remove('show');\r\n    setTimeout(() => {\r\n      this.transitionBar.style.display = 'none';\r\n    }, 300);\r\n  }\r\n  \r\n  /**\r\n   * Deactivate board drag state\r\n   */\r\n  deactivateBoard() {\r\n    const kanbanBoard = document.querySelector('.kanban-board');\r\n    if (kanbanBoard) {\r\n      kanbanBoard.classList.remove('drag-active');\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Remove drag-over classes from all zones\r\n   */\r\n  removeDragOverClasses() {\r\n    document.querySelectorAll('.transition-zone-vertical.drag-over').forEach(zone => {\r\n      zone.classList.remove('drag-over');\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Update transition bar header icon\r\n   */\r\n  updateTransitionBarIcon(icon) {\r\n    const header = this.transitionBar?.querySelector('.transition-bar-header .icon');\r\n    if (header) {\r\n      header.textContent = icon;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Reset transition bar header icon to default\r\n   */\r\n  resetTransitionBarIcon() {\r\n    this.updateTransitionBarIcon('üéØ');\r\n  }\r\n  \r\n  /**\r\n   * Clear current ticket data\r\n   */\r\n  clearCurrentTicket() {\r\n    setTimeout(() => {\r\n      this.currentTicket = null;\r\n      this.currentIssueKey = null;  // Clear backup too\r\n      this.availableTransitions = [];\r\n    }, 500);\r\n  }\r\n  \r\n  /**\r\n   * Check if transition pauses SLA\r\n   */\r\n  transitionPausesSLA(transitionName) {\r\n    const pausingTransitions = [\r\n      'en espera de cliente',\r\n      'espera de cliente',\r\n      'waiting for customer',\r\n      'customer waiting',\r\n      'validacion de solucion',\r\n      'validaci√≥n de soluci√≥n',\r\n      'solution validation',\r\n      'pendiente de cliente',\r\n      'pending customer',\r\n      'awaiting customer',\r\n      'customer action required'\r\n    ];\r\n    \r\n    const nameLower = transitionName.toLowerCase();\r\n    return pausingTransitions.some(pause => nameLower.includes(pause));\r\n  }\r\n  \r\n  /**\r\n   * Get icon for transition based on name\r\n   */\r\n  getIconForTransition(transitionName) {\r\n    const iconMap = {\r\n      'start': '‚ñ∂Ô∏è',\r\n      'progress': '‚ñ∂Ô∏è',\r\n      'comenzar': '‚ñ∂Ô∏è',\r\n      'iniciar': '‚ñ∂Ô∏è',\r\n      'pause': '‚è∏',\r\n      'pausar': '‚è∏',\r\n      'stop': '‚èπ',\r\n      'detener': '‚èπ',\r\n      'done': '‚úÖ',\r\n      'complete': '‚úÖ',\r\n      'completar': '‚úÖ',\r\n      'finalizar': '‚úÖ',\r\n      'close': 'üîí',\r\n      'cerrar': 'üîí',\r\n      'reopen': 'üîì',\r\n      'reabrir': 'üîì',\r\n      'waiting': '‚è≥',\r\n      'wait': '‚è≥',\r\n      'espera': '‚è≥',\r\n      'client': 'üë§',\r\n      'cliente': 'üë§',\r\n      'customer': 'üë§',\r\n      'external': 'üîó',\r\n      'externo': 'üîó',\r\n      'dependency': 'üîó',\r\n      'dependencia': 'üîó',\r\n      'review': 'üëÄ',\r\n      'revisar': 'üëÄ',\r\n      'revisi√≥n': 'üëÄ',\r\n      'validation': '‚úîÔ∏è',\r\n      'validacion': '‚úîÔ∏è',\r\n      'validaci√≥n': '‚úîÔ∏è',\r\n      'test': 'üß™',\r\n      'probar': 'üß™',\r\n      'deploy': 'üöÄ',\r\n      'desplegar': 'üöÄ',\r\n      'cancel': '‚ùå',\r\n      'cancelar': '‚ùå',\r\n      'reject': '‚ùå',\r\n      'rechazar': '‚ùå',\r\n      'approve': '‚úÖ',\r\n      'aprobar': '‚úÖ',\r\n      'block': 'üö´',\r\n      'bloquear': 'üö´'\r\n    };\r\n    \r\n    const name = transitionName.toLowerCase();\r\n    \r\n    for (const [key, icon] of Object.entries(iconMap)) {\r\n      if (name.includes(key)) {\r\n        return icon;\r\n      }\r\n    }\r\n    \r\n    return 'üîÑ'; // Default icon\r\n  }\r\n  \r\n  /**\r\n   * Post field content as a public comment\r\n   */\r\n  async postFieldAsComment(issueKey, commentBody) {\r\n    try {\r\n      const response = await fetch(`/api/issues/${issueKey}/comments`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          body: commentBody,\r\n          public: true\r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to post comment: ${response.status}`);\r\n      }\r\n      \r\n      console.log('üí¨ Comment posted successfully');\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('‚ùå Error posting comment:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Show notification to user\r\n   */\r\n  showNotification(message, type = 'info') {\r\n    const notification = document.createElement('div');\r\n    notification.className = `notification notification-${type}`;\r\n    notification.textContent = message;\r\n    \r\n    notification.style.cssText = `\r\n      position: fixed;\r\n      top: 24px;\r\n      right: 24px;\r\n      padding: 16px 24px;\r\n      background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};\r\n      color: white;\r\n      font-weight: 600;\r\n      border-radius: 12px;\r\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n      z-index: 10001;\r\n      animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n    `;\r\n    \r\n    document.body.appendChild(notification);\r\n    \r\n    // Auto remove after 3 seconds\r\n    setTimeout(() => {\r\n      notification.style.animation = 'slideOutRight 0.3s cubic-bezier(0.4, 0, 0.2, 1)';\r\n      setTimeout(() => notification.remove(), 300);\r\n    }, 3000);\r\n  }\r\n  \r\n  /**\r\n   * Escape HTML to prevent XSS\r\n   */\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n}\r\n\r\n// ============================================\r\n// INITIALIZATION\r\n// ============================================\r\n\r\nif (typeof window !== 'undefined') {\r\n  // Wait for DOM to be ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initDragTransition);\r\n  } else {\r\n    initDragTransition();\r\n  }\r\n}\r\n\r\nfunction initDragTransition() {\r\n  // Small delay to ensure other modules are loaded\r\n  setTimeout(() => {\r\n    window.dragTransitionVertical = new DragTransitionVertical();\r\n    window.dragTransitionVertical.init();\r\n    console.log('‚úÖ Drag Transition Vertical Handler initialized');\r\n  }, 500);\r\n}\r\n\r\n// Add keyframe animations to document\r\nconst style = document.createElement('style');\r\nstyle.textContent = `\r\n  @keyframes slideInRight {\r\n    from {\r\n      transform: translateX(400px);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateX(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  \r\n  @keyframes slideOutRight {\r\n    from {\r\n      transform: translateX(0);\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      transform: translateX(400px);\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\ndocument.head.appendChild(style);\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/board/kanban.css",
    "ranges": [
      {
        "start": 311,
        "end": 588
      },
      {
        "start": 1044,
        "end": 1346
      },
      {
        "start": 1409,
        "end": 1476
      },
      {
        "start": 1480,
        "end": 1551
      },
      {
        "start": 1613,
        "end": 1859
      },
      {
        "start": 1922,
        "end": 1987
      },
      {
        "start": 1991,
        "end": 2060
      },
      {
        "start": 2563,
        "end": 3335
      },
      {
        "start": 3369,
        "end": 3588
      },
      {
        "start": 3764,
        "end": 3867
      },
      {
        "start": 3871,
        "end": 3972
      },
      {
        "start": 3976,
        "end": 4043
      },
      {
        "start": 4047,
        "end": 4124
      },
      {
        "start": 4157,
        "end": 4281
      },
      {
        "start": 4285,
        "end": 4388
      },
      {
        "start": 4392,
        "end": 4480
      },
      {
        "start": 4484,
        "end": 4563
      },
      {
        "start": 4589,
        "end": 4709
      },
      {
        "start": 4713,
        "end": 4814
      },
      {
        "start": 4818,
        "end": 4903
      },
      {
        "start": 4907,
        "end": 4984
      },
      {
        "start": 5011,
        "end": 5132
      },
      {
        "start": 5136,
        "end": 5238
      },
      {
        "start": 5242,
        "end": 5328
      },
      {
        "start": 7986,
        "end": 8180
      },
      {
        "start": 8247,
        "end": 8528
      },
      {
        "start": 8564,
        "end": 8705
      },
      {
        "start": 8749,
        "end": 9127
      },
      {
        "start": 9196,
        "end": 9391
      },
      {
        "start": 9898,
        "end": 10423
      },
      {
        "start": 10427,
        "end": 10712
      },
      {
        "start": 10867,
        "end": 11016
      },
      {
        "start": 11084,
        "end": 11186
      },
      {
        "start": 11190,
        "end": 11294
      },
      {
        "start": 11298,
        "end": 11400
      },
      {
        "start": 12499,
        "end": 12518
      },
      {
        "start": 12523,
        "end": 12694
      },
      {
        "start": 12702,
        "end": 12822
      },
      {
        "start": 12830,
        "end": 12907
      },
      {
        "start": 12915,
        "end": 12986
      },
      {
        "start": 12994,
        "end": 13101
      },
      {
        "start": 13109,
        "end": 13189
      },
      {
        "start": 13197,
        "end": 13256
      },
      {
        "start": 13332,
        "end": 13351
      },
      {
        "start": 13356,
        "end": 13490
      },
      {
        "start": 13498,
        "end": 13585
      }
    ],
    "text": "/**\r\n * Kanban Board Styles - Glasmorphism Design System\r\n * Reference: GLASMORPHISM_DESIGN_COMPLETE.md\r\n * \r\n * Design System Colors:\r\n * - Column 1 (Blue): #3b82f6 / #1e40af\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN KANBAN ==================== */\r\n/* ALL kanban card text must be fully opaque */\r\n.kanban-board p, .kanban-board span,\r\n.kanban-column p, .kanban-column span,\r\n.kanban-card p, .kanban-card span,\r\n.kanban-card-title, .kanban-card-text,\r\n.issue-card h3, .issue-card h4, .issue-card p,\r\n.issue-key, .issue-title, .issue-description {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/*\r\n * Kanban Board Design System:\r\n * - Column 2 (Purple): #d946ef / #c026d3\r\n * - Column 3 (Cyan): #06b6d4 / #0891b2\r\n * - Background: Transparent for AI backgrounds\r\n * \r\n * Glassmorphism Effects:\r\n * - Cards: Semi-transparent with high opacity for readability\r\n * - Columns: Fully transparent to show AI backgrounds\r\n * - Blur: Disabled to preserve background clarity\r\n */\r\n\r\n/* ==================== KANBAN BOARD CONTAINER ==================== */\r\n#kanbanView .kanban-board,\r\n.kanban-board {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\r\n  gap: 8px;\r\n  padding: 0;\r\n  background: transparent;\r\n  min-height: 100%;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow-x: auto;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Ensure kanban view doesn't leak styles to list view */\r\n#kanbanView {\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#kanbanView[style*=\"display: block\"] {\r\n  display: block !important;\r\n}\r\n\r\n/* List View Container - Match kanban-board structure */\r\n#listView .list-view,\r\n.list-view {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  background: transparent;\r\n  min-height: 100%;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Ensure list view doesn't leak styles to kanban view */\r\n#listView {\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#listView[style*=\"display: block\"] {\r\n  display: block !important;\r\n}\r\n\r\n/* Auto-responsive: Add columns as space allows */\r\n/* Examples:\r\n   - 420px viewport: 1 column (420px - 60px padding)\r\n   - 900px viewport: 2 columns (each ~450px)\r\n   - 1350px viewport: 3 columns (each ~450px)\r\n   - 1800px viewport: 4 columns (each ~450px)\r\n   - 2250px viewport: 5 columns (each ~450px)\r\n   - Scales infinitely based on minmax(420px, 1fr)\r\n*/\r\n\r\n/* ==================== KANBAN COLUMNS ==================== */\r\n/* Base column styling - transparent for AI background visibility */\r\n.kanban-column {\r\n  /* Background and blur controlled by glassmorphism-opacity-controller.js */\r\n  /* DO NOT set background or backdrop-filter here - managed by JavaScript */\r\n  \r\n  /* Structure & layout */\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: var(--spacing-md);\r\n  margin: 0;\r\n  min-height: 100%;\r\n  max-height: 100%;\r\n  position: relative;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  min-width: 0;\r\n  flex: 1;\r\n  \r\n  /* Border & shadow (base blue) */\r\n  border: 1px solid rgba(255, 255, 255, 0.12);\r\n  box-shadow: var(--shadow-sm);\r\n  \r\n  /* Animation */\r\n  transition: all var(--transition-slow) var(--transition-cubic);\r\n  \r\n  /* Improved scrollbar styling */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(59, 130, 246, 0.4) transparent;\r\n}\r\n\r\n/* Colored top border bar */\r\n.kanban-column::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 4px;\r\n  background: linear-gradient(90deg, #3b82f6 0%, #1e40af 100%);\r\n  border-radius: 0;\r\n  z-index: 2;\r\n}\r\n\r\n/* ==================== COLUMN COLOR VARIANTS ==================== */\r\n\r\n/* Base color styling - using class-based system for unlimited columns */\r\n\r\n/* Column 1: Blue */\r\n.kanban-column.col-blue {\r\n  border-color: rgba(59, 130, 246, 0.1);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.kanban-column.col-blue::before {\r\n  background: linear-gradient(90deg, #3b82f6 0%, #1e40af 100%);\r\n}\r\n\r\n.kanban-column.col-blue:hover {\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.kanban-column.col-blue .issue-card:hover {\r\n  border-left-color: #3b82f6;\r\n}\r\n\r\n/* Column 2: Purple/Pink */\r\n.kanban-column.col-purple {\r\n  border-color: rgba(217, 70, 239, 0.1);\r\n  box-shadow: 0 4px 12px rgba(217, 70, 239, 0.08);\r\n}\r\n\r\n.kanban-column.col-purple::before {\r\n  background: linear-gradient(90deg, #d946ef 0%, #c026d3 100%);\r\n}\r\n\r\n.kanban-column.col-purple:hover {\r\n  box-shadow: 0 8px 20px rgba(217, 70, 239, 0.15);\r\n}\r\n\r\n.kanban-column.col-purple .issue-card:hover {\r\n  border-left-color: #d946ef;\r\n}\r\n\r\n/* Column 3: Cyan */\r\n.kanban-column.col-cyan {\r\n  border-color: rgba(6, 182, 212, 0.1);\r\n  box-shadow: 0 4px 12px rgba(6, 182, 212, 0.08);\r\n}\r\n\r\n.kanban-column.col-cyan::before {\r\n  background: linear-gradient(90deg, #06b6d4 0%, #0891b2 100%);\r\n}\r\n\r\n.kanban-column.col-cyan:hover {\r\n  box-shadow: 0 8px 20px rgba(6, 182, 212, 0.15);\r\n}\r\n\r\n.kanban-column.col-cyan .issue-card:hover {\r\n  border-left-color: #06b6d4;\r\n}\r\n\r\n/* Column 4: Green */\r\n.kanban-column.col-green {\r\n  border-color: rgba(34, 197, 94, 0.1);\r\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.08);\r\n}\r\n\r\n.kanban-column.col-green::before {\r\n  background: linear-gradient(90deg, #22c55e 0%, #15803d 100%);\r\n}\r\n\r\n.kanban-column.col-green:hover {\r\n  box-shadow: 0 8px 20px rgba(34, 197, 94, 0.15);\r\n}\r\n\r\n.kanban-column.col-green .issue-card:hover {\r\n  border-left-color: #22c55e;\r\n}\r\n\r\n/* Column 5: Red */\r\n.kanban-column.col-red {\r\n  border-color: rgba(239, 68, 68, 0.1);\r\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.08);\r\n}\r\n\r\n.kanban-column.col-red::before {\r\n  background: linear-gradient(90deg, #ef4444 0%, #b91c1c 100%);\r\n}\r\n\r\n.kanban-column.col-red:hover {\r\n  box-shadow: 0 8px 20px rgba(239, 68, 68, 0.15);\r\n}\r\n\r\n.kanban-column.col-red .issue-card:hover {\r\n  border-left-color: #ef4444;\r\n}\r\n\r\n/* Column 6: Yellow */\r\n.kanban-column.col-yellow {\r\n  border-color: rgba(234, 179, 8, 0.1);\r\n  box-shadow: 0 4px 12px rgba(234, 179, 8, 0.08);\r\n}\r\n\r\n.kanban-column.col-yellow::before {\r\n  background: linear-gradient(90deg, #eab308 0%, #ca8a04 100%);\r\n}\r\n\r\n.kanban-column.col-yellow:hover {\r\n  box-shadow: 0 8px 20px rgba(234, 179, 8, 0.15);\r\n}\r\n\r\n.kanban-column.col-yellow .issue-card:hover {\r\n  border-left-color: #eab308;\r\n}\r\n\r\n/* Column 7: Pink */\r\n.kanban-column.col-pink {\r\n  border-color: rgba(244, 114, 182, 0.1);\r\n  box-shadow: 0 4px 12px rgba(244, 114, 182, 0.08);\r\n}\r\n\r\n.kanban-column.col-pink::before {\r\n  background: linear-gradient(90deg, #f472b6 0%, #ec4899 100%);\r\n}\r\n\r\n.kanban-column.col-pink:hover {\r\n  box-shadow: 0 8px 20px rgba(244, 114, 182, 0.15);\r\n}\r\n\r\n.kanban-column.col-pink .issue-card:hover {\r\n  border-left-color: #f472b6;\r\n}\r\n\r\n/* Column 8: Indigo */\r\n.kanban-column.col-indigo {\r\n  border-color: rgba(99, 102, 241, 0.1);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.kanban-column.col-indigo::before {\r\n  background: linear-gradient(90deg, #6366f1 0%, #4338ca 100%);\r\n}\r\n\r\n.kanban-column.col-indigo:hover {\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.kanban-column.col-indigo .issue-card:hover {\r\n  border-left-color: #6366f1;\r\n}\r\n\r\n/* Column 9: Teal */\r\n.kanban-column.col-teal {\r\n  border-color: rgba(20, 184, 166, 0.1);\r\n  box-shadow: 0 4px 12px rgba(20, 184, 166, 0.08);\r\n}\r\n\r\n.kanban-column.col-teal::before {\r\n  background: linear-gradient(90deg, #14b8a6 0%, #0d9488 100%);\r\n}\r\n\r\n.kanban-column.col-teal:hover {\r\n  box-shadow: 0 8px 20px rgba(20, 184, 166, 0.15);\r\n}\r\n\r\n.kanban-column.col-teal .issue-card:hover {\r\n  border-left-color: #14b8a6;\r\n}\r\n\r\n/* Column 10: Orange */\r\n.kanban-column.col-orange {\r\n  border-color: rgba(249, 115, 22, 0.1);\r\n  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.08);\r\n}\r\n\r\n.kanban-column.col-orange::before {\r\n  background: linear-gradient(90deg, #f97316 0%, #c2410c 100%);\r\n}\r\n\r\n.kanban-column.col-orange:hover {\r\n  box-shadow: 0 8px 20px rgba(249, 115, 22, 0.15);\r\n}\r\n\r\n.kanban-column.col-orange .issue-card:hover {\r\n  border-left-color: #f97316;\r\n}\r\n\r\n/* Generic hover state for all columns */\r\n.kanban-column:hover {\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(30px); */\r\n  /* -webkit-backdrop-filter: blur(30px); */\r\n  transform: translateY(-2px);\r\n}\r\n\r\n/* ==================== COLUMN HEADER ==================== */\r\n.kanban-column-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-md);\r\n  margin-top: 12px; /* Space below color bar */\r\n  padding-bottom: var(--spacing-md);\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.15);\r\n}\r\n\r\n/* Title with gradient text */\r\n.kanban-column-title {\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.8px;\r\n  color: #334155;\r\n}\r\n\r\n/* Count badge - glasmorphism style */\r\n.kanban-column-count {\r\n  background: transparent !important;\r\n  padding: 6px 12px;\r\n  border-radius: var(--border-radius-full);\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  color: #3b82f6;\r\n  border: 1px solid rgba(59, 130, 246, 0.2);\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(8px); */\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n/* ==================== CARDS CONTAINER ==================== */\r\n.kanban-cards {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding-right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-sm);\r\n  scroll-behavior: smooth;\r\n}\r\n\r\n/* Custom scrollbar styling */\r\n.kanban-cards::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-track {\r\n  background: transparent !important;\r\n  border-radius: var(--border-radius-full);\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-thumb {\r\n  background: transparent !important;\r\n  border-radius: var(--border-radius-full);\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-thumb:hover {\r\n  background: transparent !important;\r\n}\r\n\r\n/* ==================== ISSUE CARDS ==================== */\r\n.issue-card {\r\n  /* Background is controlled by theme files for proper opacity */\r\n  /* backdrop-filter: blur(15px); */\r\n  /* -webkit-backdrop-filter: blur(15px); */\r\n  padding: var(--spacing-md);\r\n  border: 1px solid rgba(59, 130, 246, 0.1);\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  \r\n  /* Left border matches other borders by default - color changes on hover */\r\n  border-left: 3px solid rgba(59, 130, 246, 0.1);\r\n  \r\n  animation: slideInCard 0.3s ease-out;\r\n}\r\n\r\n.issue-card:hover {\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(20px); */\r\n  /* -webkit-backdrop-filter: blur(20px); */\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\r\n  transform: translateY(-2px);\r\n  border-color: rgba(59, 130, 246, 0.2);\r\n}\r\n\r\n/* Card styling is now handled by color-based column classes above */\r\n\r\n/* FORCE consistent border-left in kanban context with higher specificity */\r\n.kanban-column .issue-card,\r\n.kanban-board .issue-card,\r\n.kanban-cards .issue-card {\r\n  border-left: 3px solid rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\n/* Ensure column color hover rules have maximum specificity */\r\n.kanban-board .kanban-column.col-blue .issue-card:hover {\r\n  border-left-color: #3b82f6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-purple .issue-card:hover {\r\n  border-left-color: #d946ef !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-cyan .issue-card:hover {\r\n  border-left-color: #06b6d4 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-green .issue-card:hover {\r\n  border-left-color: #22c55e !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-red .issue-card:hover {\r\n  border-left-color: #ef4444 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-yellow .issue-card:hover {\r\n  border-left-color: #eab308 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-pink .issue-card:hover {\r\n  border-left-color: #f472b6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-indigo .issue-card:hover {\r\n  border-left-color: #6366f1 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-teal .issue-card:hover {\r\n  border-left-color: #14b8a6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-orange .issue-card:hover {\r\n  border-left-color: #f97316 !important;\r\n}\r\n\r\n/* ==================== ANIMATIONS ==================== */\r\n@keyframes slideInCard {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n\r\n\r\n/* ==================== RESPONSIVE ==================== */\r\n\r\n/* Tablets and below: optimize padding and spacing */\r\n@media (max-width: 768px) {\r\n  .kanban-board {\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    gap: var(--spacing-sm);\r\n    padding: var(--spacing-md);\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  .kanban-column {\r\n    min-height: 400px;\r\n    max-height: 70vh;\r\n    min-width: 0;\r\n    padding: var(--spacing-sm);\r\n  }\r\n  \r\n  .kanban-column-title {\r\n    font-size: 11px;\r\n    letter-spacing: 0.5px;\r\n  }\r\n  \r\n  .kanban-column-count {\r\n    font-size: 9px;\r\n    padding: 3px 8px;\r\n  }\r\n  \r\n  .kanban-column-header {\r\n    margin-bottom: var(--spacing-sm);\r\n    padding-bottom: var(--spacing-sm);\r\n  }\r\n  \r\n  .issue-card {\r\n    padding: var(--spacing-sm);\r\n    border-left-width: 2px;\r\n  }\r\n  \r\n  .kanban-cards {\r\n    padding-right: var(--spacing-xs);\r\n  }\r\n}\r\n\r\n/* Medium and larger: plenty of space, columns auto-scale */\r\n@media (min-width: 769px) {\r\n  .kanban-board {\r\n    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n  }\r\n  \r\n  .kanban-column {\r\n    min-height: 600px;\r\n    max-height: 80vh;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\n/* ==================== EMPTY STATE ==================== */\r\n.empty-state {\r\n  padding: var(--spacing-lg);\r\n  text-align: center;\r\n  color: #94a3b8;\r\n  font-size: 14px;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/board/kanban.css?v=1765920148",
    "ranges": [
      {
        "start": 311,
        "end": 588
      },
      {
        "start": 1044,
        "end": 1346
      },
      {
        "start": 1409,
        "end": 1476
      },
      {
        "start": 1480,
        "end": 1551
      },
      {
        "start": 1613,
        "end": 1859
      },
      {
        "start": 1922,
        "end": 1987
      },
      {
        "start": 1991,
        "end": 2060
      },
      {
        "start": 2563,
        "end": 3335
      },
      {
        "start": 3369,
        "end": 3588
      },
      {
        "start": 3764,
        "end": 3867
      },
      {
        "start": 3871,
        "end": 3972
      },
      {
        "start": 3976,
        "end": 4043
      },
      {
        "start": 4047,
        "end": 4124
      },
      {
        "start": 4157,
        "end": 4281
      },
      {
        "start": 4285,
        "end": 4388
      },
      {
        "start": 4392,
        "end": 4480
      },
      {
        "start": 4484,
        "end": 4563
      },
      {
        "start": 4589,
        "end": 4709
      },
      {
        "start": 4713,
        "end": 4814
      },
      {
        "start": 4818,
        "end": 4903
      },
      {
        "start": 4907,
        "end": 4984
      },
      {
        "start": 5011,
        "end": 5132
      },
      {
        "start": 5136,
        "end": 5238
      },
      {
        "start": 5242,
        "end": 5328
      },
      {
        "start": 7986,
        "end": 8180
      },
      {
        "start": 8247,
        "end": 8528
      },
      {
        "start": 8564,
        "end": 8705
      },
      {
        "start": 8749,
        "end": 9127
      },
      {
        "start": 9196,
        "end": 9391
      },
      {
        "start": 9898,
        "end": 10423
      },
      {
        "start": 10427,
        "end": 10712
      },
      {
        "start": 10867,
        "end": 11016
      },
      {
        "start": 11084,
        "end": 11186
      },
      {
        "start": 11190,
        "end": 11294
      },
      {
        "start": 11298,
        "end": 11400
      },
      {
        "start": 12499,
        "end": 12518
      },
      {
        "start": 12523,
        "end": 12694
      },
      {
        "start": 12702,
        "end": 12822
      },
      {
        "start": 12830,
        "end": 12907
      },
      {
        "start": 12915,
        "end": 12986
      },
      {
        "start": 12994,
        "end": 13101
      },
      {
        "start": 13109,
        "end": 13189
      },
      {
        "start": 13197,
        "end": 13256
      },
      {
        "start": 13332,
        "end": 13351
      },
      {
        "start": 13356,
        "end": 13490
      },
      {
        "start": 13498,
        "end": 13585
      }
    ],
    "text": "/**\r\n * Kanban Board Styles - Glasmorphism Design System\r\n * Reference: GLASMORPHISM_DESIGN_COMPLETE.md\r\n * \r\n * Design System Colors:\r\n * - Column 1 (Blue): #3b82f6 / #1e40af\r\n */\r\n\r\n/* ==================== ENFORCE SOLID TEXT IN KANBAN ==================== */\r\n/* ALL kanban card text must be fully opaque */\r\n.kanban-board p, .kanban-board span,\r\n.kanban-column p, .kanban-column span,\r\n.kanban-card p, .kanban-card span,\r\n.kanban-card-title, .kanban-card-text,\r\n.issue-card h3, .issue-card h4, .issue-card p,\r\n.issue-key, .issue-title, .issue-description {\r\n  opacity: 1 !important;\r\n}\r\n\r\n/*\r\n * Kanban Board Design System:\r\n * - Column 2 (Purple): #d946ef / #c026d3\r\n * - Column 3 (Cyan): #06b6d4 / #0891b2\r\n * - Background: Transparent for AI backgrounds\r\n * \r\n * Glassmorphism Effects:\r\n * - Cards: Semi-transparent with high opacity for readability\r\n * - Columns: Fully transparent to show AI backgrounds\r\n * - Blur: Disabled to preserve background clarity\r\n */\r\n\r\n/* ==================== KANBAN BOARD CONTAINER ==================== */\r\n#kanbanView .kanban-board,\r\n.kanban-board {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\r\n  gap: 8px;\r\n  padding: 0;\r\n  background: transparent;\r\n  min-height: 100%;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow-x: auto;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Ensure kanban view doesn't leak styles to list view */\r\n#kanbanView {\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#kanbanView[style*=\"display: block\"] {\r\n  display: block !important;\r\n}\r\n\r\n/* List View Container - Match kanban-board structure */\r\n#listView .list-view,\r\n.list-view {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  background: transparent;\r\n  min-height: 100%;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* Ensure list view doesn't leak styles to kanban view */\r\n#listView {\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#listView[style*=\"display: block\"] {\r\n  display: block !important;\r\n}\r\n\r\n/* Auto-responsive: Add columns as space allows */\r\n/* Examples:\r\n   - 420px viewport: 1 column (420px - 60px padding)\r\n   - 900px viewport: 2 columns (each ~450px)\r\n   - 1350px viewport: 3 columns (each ~450px)\r\n   - 1800px viewport: 4 columns (each ~450px)\r\n   - 2250px viewport: 5 columns (each ~450px)\r\n   - Scales infinitely based on minmax(420px, 1fr)\r\n*/\r\n\r\n/* ==================== KANBAN COLUMNS ==================== */\r\n/* Base column styling - transparent for AI background visibility */\r\n.kanban-column {\r\n  /* Background and blur controlled by glassmorphism-opacity-controller.js */\r\n  /* DO NOT set background or backdrop-filter here - managed by JavaScript */\r\n  \r\n  /* Structure & layout */\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: var(--spacing-md);\r\n  margin: 0;\r\n  min-height: 100%;\r\n  max-height: 100%;\r\n  position: relative;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  min-width: 0;\r\n  flex: 1;\r\n  \r\n  /* Border & shadow (base blue) */\r\n  border: 1px solid rgba(255, 255, 255, 0.12);\r\n  box-shadow: var(--shadow-sm);\r\n  \r\n  /* Animation */\r\n  transition: all var(--transition-slow) var(--transition-cubic);\r\n  \r\n  /* Improved scrollbar styling */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(59, 130, 246, 0.4) transparent;\r\n}\r\n\r\n/* Colored top border bar */\r\n.kanban-column::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 4px;\r\n  background: linear-gradient(90deg, #3b82f6 0%, #1e40af 100%);\r\n  border-radius: 0;\r\n  z-index: 2;\r\n}\r\n\r\n/* ==================== COLUMN COLOR VARIANTS ==================== */\r\n\r\n/* Base color styling - using class-based system for unlimited columns */\r\n\r\n/* Column 1: Blue */\r\n.kanban-column.col-blue {\r\n  border-color: rgba(59, 130, 246, 0.1);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.kanban-column.col-blue::before {\r\n  background: linear-gradient(90deg, #3b82f6 0%, #1e40af 100%);\r\n}\r\n\r\n.kanban-column.col-blue:hover {\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.kanban-column.col-blue .issue-card:hover {\r\n  border-left-color: #3b82f6;\r\n}\r\n\r\n/* Column 2: Purple/Pink */\r\n.kanban-column.col-purple {\r\n  border-color: rgba(217, 70, 239, 0.1);\r\n  box-shadow: 0 4px 12px rgba(217, 70, 239, 0.08);\r\n}\r\n\r\n.kanban-column.col-purple::before {\r\n  background: linear-gradient(90deg, #d946ef 0%, #c026d3 100%);\r\n}\r\n\r\n.kanban-column.col-purple:hover {\r\n  box-shadow: 0 8px 20px rgba(217, 70, 239, 0.15);\r\n}\r\n\r\n.kanban-column.col-purple .issue-card:hover {\r\n  border-left-color: #d946ef;\r\n}\r\n\r\n/* Column 3: Cyan */\r\n.kanban-column.col-cyan {\r\n  border-color: rgba(6, 182, 212, 0.1);\r\n  box-shadow: 0 4px 12px rgba(6, 182, 212, 0.08);\r\n}\r\n\r\n.kanban-column.col-cyan::before {\r\n  background: linear-gradient(90deg, #06b6d4 0%, #0891b2 100%);\r\n}\r\n\r\n.kanban-column.col-cyan:hover {\r\n  box-shadow: 0 8px 20px rgba(6, 182, 212, 0.15);\r\n}\r\n\r\n.kanban-column.col-cyan .issue-card:hover {\r\n  border-left-color: #06b6d4;\r\n}\r\n\r\n/* Column 4: Green */\r\n.kanban-column.col-green {\r\n  border-color: rgba(34, 197, 94, 0.1);\r\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.08);\r\n}\r\n\r\n.kanban-column.col-green::before {\r\n  background: linear-gradient(90deg, #22c55e 0%, #15803d 100%);\r\n}\r\n\r\n.kanban-column.col-green:hover {\r\n  box-shadow: 0 8px 20px rgba(34, 197, 94, 0.15);\r\n}\r\n\r\n.kanban-column.col-green .issue-card:hover {\r\n  border-left-color: #22c55e;\r\n}\r\n\r\n/* Column 5: Red */\r\n.kanban-column.col-red {\r\n  border-color: rgba(239, 68, 68, 0.1);\r\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.08);\r\n}\r\n\r\n.kanban-column.col-red::before {\r\n  background: linear-gradient(90deg, #ef4444 0%, #b91c1c 100%);\r\n}\r\n\r\n.kanban-column.col-red:hover {\r\n  box-shadow: 0 8px 20px rgba(239, 68, 68, 0.15);\r\n}\r\n\r\n.kanban-column.col-red .issue-card:hover {\r\n  border-left-color: #ef4444;\r\n}\r\n\r\n/* Column 6: Yellow */\r\n.kanban-column.col-yellow {\r\n  border-color: rgba(234, 179, 8, 0.1);\r\n  box-shadow: 0 4px 12px rgba(234, 179, 8, 0.08);\r\n}\r\n\r\n.kanban-column.col-yellow::before {\r\n  background: linear-gradient(90deg, #eab308 0%, #ca8a04 100%);\r\n}\r\n\r\n.kanban-column.col-yellow:hover {\r\n  box-shadow: 0 8px 20px rgba(234, 179, 8, 0.15);\r\n}\r\n\r\n.kanban-column.col-yellow .issue-card:hover {\r\n  border-left-color: #eab308;\r\n}\r\n\r\n/* Column 7: Pink */\r\n.kanban-column.col-pink {\r\n  border-color: rgba(244, 114, 182, 0.1);\r\n  box-shadow: 0 4px 12px rgba(244, 114, 182, 0.08);\r\n}\r\n\r\n.kanban-column.col-pink::before {\r\n  background: linear-gradient(90deg, #f472b6 0%, #ec4899 100%);\r\n}\r\n\r\n.kanban-column.col-pink:hover {\r\n  box-shadow: 0 8px 20px rgba(244, 114, 182, 0.15);\r\n}\r\n\r\n.kanban-column.col-pink .issue-card:hover {\r\n  border-left-color: #f472b6;\r\n}\r\n\r\n/* Column 8: Indigo */\r\n.kanban-column.col-indigo {\r\n  border-color: rgba(99, 102, 241, 0.1);\r\n  box-shadow: var(--shadow-sm);\r\n}\r\n\r\n.kanban-column.col-indigo::before {\r\n  background: linear-gradient(90deg, #6366f1 0%, #4338ca 100%);\r\n}\r\n\r\n.kanban-column.col-indigo:hover {\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.kanban-column.col-indigo .issue-card:hover {\r\n  border-left-color: #6366f1;\r\n}\r\n\r\n/* Column 9: Teal */\r\n.kanban-column.col-teal {\r\n  border-color: rgba(20, 184, 166, 0.1);\r\n  box-shadow: 0 4px 12px rgba(20, 184, 166, 0.08);\r\n}\r\n\r\n.kanban-column.col-teal::before {\r\n  background: linear-gradient(90deg, #14b8a6 0%, #0d9488 100%);\r\n}\r\n\r\n.kanban-column.col-teal:hover {\r\n  box-shadow: 0 8px 20px rgba(20, 184, 166, 0.15);\r\n}\r\n\r\n.kanban-column.col-teal .issue-card:hover {\r\n  border-left-color: #14b8a6;\r\n}\r\n\r\n/* Column 10: Orange */\r\n.kanban-column.col-orange {\r\n  border-color: rgba(249, 115, 22, 0.1);\r\n  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.08);\r\n}\r\n\r\n.kanban-column.col-orange::before {\r\n  background: linear-gradient(90deg, #f97316 0%, #c2410c 100%);\r\n}\r\n\r\n.kanban-column.col-orange:hover {\r\n  box-shadow: 0 8px 20px rgba(249, 115, 22, 0.15);\r\n}\r\n\r\n.kanban-column.col-orange .issue-card:hover {\r\n  border-left-color: #f97316;\r\n}\r\n\r\n/* Generic hover state for all columns */\r\n.kanban-column:hover {\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(30px); */\r\n  /* -webkit-backdrop-filter: blur(30px); */\r\n  transform: translateY(-2px);\r\n}\r\n\r\n/* ==================== COLUMN HEADER ==================== */\r\n.kanban-column-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-md);\r\n  margin-top: 12px; /* Space below color bar */\r\n  padding-bottom: var(--spacing-md);\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.15);\r\n}\r\n\r\n/* Title with gradient text */\r\n.kanban-column-title {\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.8px;\r\n  color: #334155;\r\n}\r\n\r\n/* Count badge - glasmorphism style */\r\n.kanban-column-count {\r\n  background: transparent !important;\r\n  padding: 6px 12px;\r\n  border-radius: var(--border-radius-full);\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  color: #3b82f6;\r\n  border: 1px solid rgba(59, 130, 246, 0.2);\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(8px); */\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);\r\n}\r\n\r\n/* ==================== CARDS CONTAINER ==================== */\r\n.kanban-cards {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding-right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-sm);\r\n  scroll-behavior: smooth;\r\n}\r\n\r\n/* Custom scrollbar styling */\r\n.kanban-cards::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-track {\r\n  background: transparent !important;\r\n  border-radius: var(--border-radius-full);\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-thumb {\r\n  background: transparent !important;\r\n  border-radius: var(--border-radius-full);\r\n}\r\n\r\n.kanban-cards::-webkit-scrollbar-thumb:hover {\r\n  background: transparent !important;\r\n}\r\n\r\n/* ==================== ISSUE CARDS ==================== */\r\n.issue-card {\r\n  /* Background is controlled by theme files for proper opacity */\r\n  /* backdrop-filter: blur(15px); */\r\n  /* -webkit-backdrop-filter: blur(15px); */\r\n  padding: var(--spacing-md);\r\n  border: 1px solid rgba(59, 130, 246, 0.1);\r\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  \r\n  /* Left border matches other borders by default - color changes on hover */\r\n  border-left: 3px solid rgba(59, 130, 246, 0.1);\r\n  \r\n  animation: slideInCard 0.3s ease-out;\r\n}\r\n\r\n.issue-card:hover {\r\n  /* Blur controlled by transparency-manager.css */\r\n  /* backdrop-filter: blur(20px); */\r\n  /* -webkit-backdrop-filter: blur(20px); */\r\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\r\n  transform: translateY(-2px);\r\n  border-color: rgba(59, 130, 246, 0.2);\r\n}\r\n\r\n/* Card styling is now handled by color-based column classes above */\r\n\r\n/* FORCE consistent border-left in kanban context with higher specificity */\r\n.kanban-column .issue-card,\r\n.kanban-board .issue-card,\r\n.kanban-cards .issue-card {\r\n  border-left: 3px solid rgba(59, 130, 246, 0.1) !important;\r\n}\r\n\r\n/* Ensure column color hover rules have maximum specificity */\r\n.kanban-board .kanban-column.col-blue .issue-card:hover {\r\n  border-left-color: #3b82f6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-purple .issue-card:hover {\r\n  border-left-color: #d946ef !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-cyan .issue-card:hover {\r\n  border-left-color: #06b6d4 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-green .issue-card:hover {\r\n  border-left-color: #22c55e !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-red .issue-card:hover {\r\n  border-left-color: #ef4444 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-yellow .issue-card:hover {\r\n  border-left-color: #eab308 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-pink .issue-card:hover {\r\n  border-left-color: #f472b6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-indigo .issue-card:hover {\r\n  border-left-color: #6366f1 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-teal .issue-card:hover {\r\n  border-left-color: #14b8a6 !important;\r\n}\r\n\r\n.kanban-board .kanban-column.col-orange .issue-card:hover {\r\n  border-left-color: #f97316 !important;\r\n}\r\n\r\n/* ==================== ANIMATIONS ==================== */\r\n@keyframes slideInCard {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n\r\n\r\n/* ==================== RESPONSIVE ==================== */\r\n\r\n/* Tablets and below: optimize padding and spacing */\r\n@media (max-width: 768px) {\r\n  .kanban-board {\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    gap: var(--spacing-sm);\r\n    padding: var(--spacing-md);\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  .kanban-column {\r\n    min-height: 400px;\r\n    max-height: 70vh;\r\n    min-width: 0;\r\n    padding: var(--spacing-sm);\r\n  }\r\n  \r\n  .kanban-column-title {\r\n    font-size: 11px;\r\n    letter-spacing: 0.5px;\r\n  }\r\n  \r\n  .kanban-column-count {\r\n    font-size: 9px;\r\n    padding: 3px 8px;\r\n  }\r\n  \r\n  .kanban-column-header {\r\n    margin-bottom: var(--spacing-sm);\r\n    padding-bottom: var(--spacing-sm);\r\n  }\r\n  \r\n  .issue-card {\r\n    padding: var(--spacing-sm);\r\n    border-left-width: 2px;\r\n  }\r\n  \r\n  .kanban-cards {\r\n    padding-right: var(--spacing-xs);\r\n  }\r\n}\r\n\r\n/* Medium and larger: plenty of space, columns auto-scale */\r\n@media (min-width: 769px) {\r\n  .kanban-board {\r\n    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n  }\r\n  \r\n  .kanban-column {\r\n    min-height: 600px;\r\n    max-height: 80vh;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\n/* ==================== EMPTY STATE ==================== */\r\n.empty-state {\r\n  padding: var(--spacing-lg);\r\n  text-align: center;\r\n  color: #94a3b8;\r\n  font-size: 14px;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/board/transition-bar-vertical.css",
    "ranges": [
      {
        "start": 287,
        "end": 358
      },
      {
        "start": 403,
        "end": 654
      },
      {
        "start": 778,
        "end": 921
      },
      {
        "start": 968,
        "end": 1074
      },
      {
        "start": 1119,
        "end": 1223
      },
      {
        "start": 1371,
        "end": 2208
      },
      {
        "start": 2230,
        "end": 2349
      },
      {
        "start": 2487,
        "end": 2863
      },
      {
        "start": 2887,
        "end": 3314
      },
      {
        "start": 3560,
        "end": 3761
      },
      {
        "start": 3886,
        "end": 4076
      },
      {
        "start": 4080,
        "end": 4388
      },
      {
        "start": 4540,
        "end": 4830
      },
      {
        "start": 5542,
        "end": 6076
      },
      {
        "start": 6111,
        "end": 6388
      },
      {
        "start": 7722,
        "end": 7867
      },
      {
        "start": 7871,
        "end": 7979
      },
      {
        "start": 7983,
        "end": 8195
      },
      {
        "start": 8399,
        "end": 8642
      },
      {
        "start": 8646,
        "end": 8735
      },
      {
        "start": 10815,
        "end": 10885
      },
      {
        "start": 10889,
        "end": 11119
      },
      {
        "start": 11184,
        "end": 11282
      },
      {
        "start": 11420,
        "end": 11439
      },
      {
        "start": 11444,
        "end": 11539
      },
      {
        "start": 12492,
        "end": 12614
      },
      {
        "start": 12618,
        "end": 12815
      },
      {
        "start": 12819,
        "end": 12871
      },
      {
        "start": 12875,
        "end": 12929
      }
    ],
    "text": "/**\r\n * TRANSITION BAR VERTICAL - Drag & Drop Transitions\r\n * Barra vertical que emerge entre columnas mostrando transiciones disponibles\r\n */\r\n\r\n/* ============================================\r\n   KANBAN BOARD - Estado Drag Active\r\n   ============================================ */\r\n\r\n.kanban-board {\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n}\r\n\r\n/* Backdrop cuando est√° en drag mode */\r\n.kanban-board.drag-active::before {\r\n  content: '';\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(15, 23, 42, 0.4);\r\n  backdrop-filter: blur(8px);\r\n  z-index: 9998;\r\n  animation: fadeInBackdrop 0.3s ease;\r\n}\r\n\r\n@keyframes fadeInBackdrop {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n/* Columnas se separan durante drag */\r\n.kanban-board.drag-active .kanban-column {\r\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;\r\n  will-change: transform;\r\n}\r\n\r\n/* Primera mitad: mueve a la izquierda */\r\n.kanban-board.drag-active .kanban-column:nth-child(-n+2) {\r\n  transform: translateX(-140px) !important;\r\n}\r\n\r\n/* Segunda mitad: mueve a la derecha */\r\n.kanban-board.drag-active .kanban-column:nth-child(n+3) {\r\n  transform: translateX(140px) !important;\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION BAR - Container Principal\r\n   ============================================ */\r\n\r\n.transition-bar-vertical {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(0.85);\r\n  z-index: 9999;\r\n  \r\n  /* Glassmorphism Effect */\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(40px) saturate(200%);\r\n  \r\n  /* Borders & Shadows */\r\n  border: 3px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 24px;\r\n  box-shadow: \r\n    0 30px 80px rgba(0, 0, 0, 0.35),\r\n    0 0 0 1px rgba(255, 255, 255, 0.6) inset,\r\n    0 0 60px rgba(99, 102, 241, 0.2);\r\n  \r\n  /* Dimensions */\r\n  width: 280px;\r\n  max-height: 75vh;\r\n  min-height: 200px;\r\n  \r\n  /* Overflow */\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  /* Initial state: hidden */\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  \r\n  /* Transition */\r\n  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n}\r\n\r\n/* Show state */\r\n.transition-bar-vertical.show {\r\n  opacity: 1;\r\n  transform: translate(-50%, -50%) scale(1);\r\n  pointer-events: all;\r\n}\r\n\r\n/* ============================================\r\n   HEADER - T√≠tulo y contexto\r\n   ============================================ */\r\n\r\n.transition-bar-header {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  \r\n  /* Gradient background */\r\n  background: linear-gradient(135deg, \r\n    #667eea 0%, \r\n    #764ba2 50%,\r\n    #f093fb 100%);\r\n  \r\n  padding: 20px 24px;\r\n  text-align: center;\r\n  border-radius: 21px 21px 0 0;\r\n  color: white;\r\n  \r\n  /* Shadow */\r\n  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n/* Close button */\r\n.transition-bar-header .close-button {\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  color: white;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.transition-bar-header .close-button:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.1);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.transition-bar-header .close-button:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.transition-bar-header .icon {\r\n  font-size: 36px;\r\n  display: block;\r\n  margin-bottom: 10px;\r\n  animation: pulseIcon 2.5s ease-in-out infinite;\r\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\r\n}\r\n\r\n@keyframes pulseIcon {\r\n  0%, 100% { \r\n    transform: scale(1); \r\n  }\r\n  50% { \r\n    transform: scale(1.15); \r\n  }\r\n}\r\n\r\n.transition-bar-header .text {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1.5px;\r\n  opacity: 0.95;\r\n  display: block;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.transition-bar-header .issue-key {\r\n  font-size: 18px;\r\n  font-weight: 800;\r\n  display: block;\r\n  margin-top: 8px;\r\n  letter-spacing: 0.5px;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  padding: 8px 16px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 8px;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION ZONES - Lista de transiciones\r\n   ============================================ */\r\n\r\n.transition-zones-vertical {\r\n  padding: 16px 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  flex: 1;\r\n  \r\n  /* Custom scrollbar */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(99, 102, 241, 0.5) rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* Webkit scrollbar */\r\n.transition-zones-vertical::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border-radius: 10px;\r\n  margin: 8px 0;\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-thumb {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 10px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-thumb:hover {\r\n  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION ZONE - Cada opci√≥n individual\r\n   ============================================ */\r\n\r\n.transition-zone-vertical {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 14px;\r\n  padding: 18px 20px;\r\n  \r\n  /* Background gradient sutil */\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.08) 0%, \r\n    rgba(118, 75, 162, 0.08) 100%);\r\n  \r\n  /* Border */\r\n  border: 2px solid rgba(99, 102, 241, 0.15);\r\n  border-radius: 14px;\r\n  \r\n  /* Cursor */\r\n  cursor: grab;\r\n  user-select: none;\r\n  \r\n  /* Transitions */\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Shimmer effect al pasar */\r\n.transition-zone-vertical::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(90deg, \r\n    transparent, \r\n    rgba(255, 255, 255, 0.4), \r\n    transparent);\r\n  transition: left 0.6s ease;\r\n}\r\n\r\n.transition-zone-vertical:hover::before {\r\n  left: 100%;\r\n}\r\n\r\n/* Hover state */\r\n.transition-zone-vertical:hover {\r\n  transform: translateX(10px) scale(1.03);\r\n  border-color: rgba(99, 102, 241, 0.6);\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.15) 0%, \r\n    rgba(118, 75, 162, 0.15) 100%);\r\n  box-shadow: \r\n    0 8px 28px rgba(99, 102, 241, 0.25),\r\n    0 0 0 1px rgba(99, 102, 241, 0.3) inset;\r\n  cursor: pointer;\r\n}\r\n\r\n/* Active state (drag over) */\r\n.transition-zone-vertical.drag-over {\r\n  transform: translateX(15px) scale(1.08);\r\n  border-color: #667eea;\r\n  border-width: 3px;\r\n  \r\n  /* Gradient completo */\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  \r\n  /* Shadow intenso */\r\n  box-shadow: \r\n    0 16px 40px rgba(102, 126, 234, 0.6),\r\n    0 0 0 4px rgba(255, 255, 255, 0.4) inset,\r\n    0 0 30px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-icon {\r\n  animation: bounceIcon 0.6s ease infinite;\r\n  transform: scale(1.2);\r\n}\r\n\r\n@keyframes bounceIcon {\r\n  0%, 100% { \r\n    transform: translateY(0) scale(1.2); \r\n  }\r\n  50% { \r\n    transform: translateY(-6px) scale(1.2); \r\n  }\r\n}\r\n\r\n/* ============================================\r\n   ICON & INFO - Contenido de cada zona\r\n   ============================================ */\r\n\r\n.transition-icon {\r\n  font-size: 32px;\r\n  flex-shrink: 0;\r\n  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.15));\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.transition-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  min-width: 0;\r\n}\r\n\r\n.transition-name {\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n  color: #1e293b;\r\n  letter-spacing: 0.3px;\r\n  transition: color 0.2s ease;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.transition-zone-vertical:hover .transition-name {\r\n  color: #667eea;\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-name {\r\n  color: white;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.transition-target {\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  transition: color 0.2s ease;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.transition-target::before {\r\n  content: '‚Üí';\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n}\r\n\r\n.transition-zone-vertical:hover .transition-target {\r\n  color: #475569;\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-target {\r\n  color: rgba(255, 255, 255, 0.95);\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* ============================================\r\n   SLA PAUSE BADGE\r\n   ============================================ */\r\n\r\n.sla-pause-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 2px 8px;\r\n  margin-top: 4px;\r\n  border-radius: 6px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  background: rgba(245, 158, 11, 0.15);\r\n  color: #f59e0b;\r\n  border: 1px solid rgba(245, 158, 11, 0.3);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla {\r\n  border-color: rgba(245, 158, 11, 0.3);\r\n  background: linear-gradient(135deg, \r\n    rgba(245, 158, 11, 0.08) 0%, \r\n    rgba(251, 191, 36, 0.08) 100%);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla:hover {\r\n  border-color: rgba(245, 158, 11, 0.5);\r\n  background: linear-gradient(135deg, \r\n    rgba(245, 158, 11, 0.15) 0%, \r\n    rgba(251, 191, 36, 0.15) 100%);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla.drag-over {\r\n  background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);\r\n  border-color: #f59e0b;\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla.drag-over .sla-pause-badge {\r\n  background: rgba(255, 255, 255, 0.25);\r\n  color: white;\r\n  border-color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n/* ============================================\r\n   EMPTY STATE - Sin transiciones\r\n   ============================================ */\r\n\r\n.transition-empty-state {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #64748b;\r\n}\r\n\r\n.transition-empty-state .empty-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.5;\r\n}\r\n\r\n.transition-empty-state .empty-text {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.transition-empty-state .empty-hint {\r\n  font-size: 12px;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* ============================================\r\n   LOADING STATE\r\n   ============================================ */\r\n\r\n.transition-loading {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.transition-loading .spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 0 auto 16px;\r\n  border: 4px solid rgba(99, 102, 241, 0.2);\r\n  border-top-color: #667eea;\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.transition-loading .loading-text {\r\n  font-size: 14px;\r\n  color: #64748b;\r\n  font-weight: 500;\r\n}\r\n\r\n/* ============================================\r\n   RESPONSIVE - Mobile\r\n   ============================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .transition-bar-vertical {\r\n    width: 90vw;\r\n    max-width: 320px;\r\n    max-height: 70vh;\r\n  }\r\n  \r\n  .kanban-board.drag-active .kanban-column {\r\n    transform: none !important;\r\n  }\r\n  \r\n  .kanban-board.drag-active::before {\r\n    backdrop-filter: blur(4px);\r\n  }\r\n  \r\n  .transition-zone-vertical {\r\n    padding: 14px 16px;\r\n  }\r\n  \r\n  .transition-icon {\r\n    font-size: 28px;\r\n  }\r\n  \r\n  .transition-name {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   ACCESSIBILITY\r\n   ============================================ */\r\n\r\n.transition-zone-vertical:focus {\r\n  outline: 3px solid #667eea;\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Reduce motion for accessibility */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .transition-bar-vertical,\r\n  .transition-zone-vertical,\r\n  .kanban-board.drag-active .kanban-column {\r\n    transition: none !important;\r\n    animation: none !important;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   DARK THEME SUPPORT\r\n   ============================================ */\r\n\r\n.theme-dark .transition-bar-vertical {\r\n  background: rgba(30, 41, 59, 0.98);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n.theme-dark .transition-zone-vertical {\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.12) 0%, \r\n    rgba(118, 75, 162, 0.12) 100%);\r\n  border-color: rgba(99, 102, 241, 0.25);\r\n}\r\n\r\n.theme-dark .transition-name {\r\n  color: #e2e8f0;\r\n}\r\n\r\n.theme-dark .transition-target {\r\n  color: #94a3b8;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/board/transition-bar-vertical.css?v=1765920148",
    "ranges": [
      {
        "start": 287,
        "end": 358
      },
      {
        "start": 403,
        "end": 654
      },
      {
        "start": 778,
        "end": 921
      },
      {
        "start": 968,
        "end": 1074
      },
      {
        "start": 1119,
        "end": 1223
      },
      {
        "start": 1371,
        "end": 2208
      },
      {
        "start": 2230,
        "end": 2349
      },
      {
        "start": 2487,
        "end": 2863
      },
      {
        "start": 2887,
        "end": 3314
      },
      {
        "start": 3560,
        "end": 3761
      },
      {
        "start": 3886,
        "end": 4076
      },
      {
        "start": 4080,
        "end": 4388
      },
      {
        "start": 4540,
        "end": 4830
      },
      {
        "start": 5542,
        "end": 6076
      },
      {
        "start": 6111,
        "end": 6388
      },
      {
        "start": 7722,
        "end": 7867
      },
      {
        "start": 7871,
        "end": 7979
      },
      {
        "start": 7983,
        "end": 8195
      },
      {
        "start": 8399,
        "end": 8642
      },
      {
        "start": 8646,
        "end": 8735
      },
      {
        "start": 10815,
        "end": 10885
      },
      {
        "start": 10889,
        "end": 11119
      },
      {
        "start": 11184,
        "end": 11282
      },
      {
        "start": 11420,
        "end": 11439
      },
      {
        "start": 11444,
        "end": 11539
      },
      {
        "start": 12492,
        "end": 12614
      },
      {
        "start": 12618,
        "end": 12815
      },
      {
        "start": 12819,
        "end": 12871
      },
      {
        "start": 12875,
        "end": 12929
      }
    ],
    "text": "/**\r\n * TRANSITION BAR VERTICAL - Drag & Drop Transitions\r\n * Barra vertical que emerge entre columnas mostrando transiciones disponibles\r\n */\r\n\r\n/* ============================================\r\n   KANBAN BOARD - Estado Drag Active\r\n   ============================================ */\r\n\r\n.kanban-board {\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n}\r\n\r\n/* Backdrop cuando est√° en drag mode */\r\n.kanban-board.drag-active::before {\r\n  content: '';\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(15, 23, 42, 0.4);\r\n  backdrop-filter: blur(8px);\r\n  z-index: 9998;\r\n  animation: fadeInBackdrop 0.3s ease;\r\n}\r\n\r\n@keyframes fadeInBackdrop {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n/* Columnas se separan durante drag */\r\n.kanban-board.drag-active .kanban-column {\r\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;\r\n  will-change: transform;\r\n}\r\n\r\n/* Primera mitad: mueve a la izquierda */\r\n.kanban-board.drag-active .kanban-column:nth-child(-n+2) {\r\n  transform: translateX(-140px) !important;\r\n}\r\n\r\n/* Segunda mitad: mueve a la derecha */\r\n.kanban-board.drag-active .kanban-column:nth-child(n+3) {\r\n  transform: translateX(140px) !important;\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION BAR - Container Principal\r\n   ============================================ */\r\n\r\n.transition-bar-vertical {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(0.85);\r\n  z-index: 9999;\r\n  \r\n  /* Glassmorphism Effect */\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(40px) saturate(200%);\r\n  \r\n  /* Borders & Shadows */\r\n  border: 3px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 24px;\r\n  box-shadow: \r\n    0 30px 80px rgba(0, 0, 0, 0.35),\r\n    0 0 0 1px rgba(255, 255, 255, 0.6) inset,\r\n    0 0 60px rgba(99, 102, 241, 0.2);\r\n  \r\n  /* Dimensions */\r\n  width: 280px;\r\n  max-height: 75vh;\r\n  min-height: 200px;\r\n  \r\n  /* Overflow */\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  /* Initial state: hidden */\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  \r\n  /* Transition */\r\n  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n}\r\n\r\n/* Show state */\r\n.transition-bar-vertical.show {\r\n  opacity: 1;\r\n  transform: translate(-50%, -50%) scale(1);\r\n  pointer-events: all;\r\n}\r\n\r\n/* ============================================\r\n   HEADER - T√≠tulo y contexto\r\n   ============================================ */\r\n\r\n.transition-bar-header {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  \r\n  /* Gradient background */\r\n  background: linear-gradient(135deg, \r\n    #667eea 0%, \r\n    #764ba2 50%,\r\n    #f093fb 100%);\r\n  \r\n  padding: 20px 24px;\r\n  text-align: center;\r\n  border-radius: 21px 21px 0 0;\r\n  color: white;\r\n  \r\n  /* Shadow */\r\n  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n/* Close button */\r\n.transition-bar-header .close-button {\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  color: white;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.transition-bar-header .close-button:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.1);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.transition-bar-header .close-button:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.transition-bar-header .icon {\r\n  font-size: 36px;\r\n  display: block;\r\n  margin-bottom: 10px;\r\n  animation: pulseIcon 2.5s ease-in-out infinite;\r\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\r\n}\r\n\r\n@keyframes pulseIcon {\r\n  0%, 100% { \r\n    transform: scale(1); \r\n  }\r\n  50% { \r\n    transform: scale(1.15); \r\n  }\r\n}\r\n\r\n.transition-bar-header .text {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1.5px;\r\n  opacity: 0.95;\r\n  display: block;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.transition-bar-header .issue-key {\r\n  font-size: 18px;\r\n  font-weight: 800;\r\n  display: block;\r\n  margin-top: 8px;\r\n  letter-spacing: 0.5px;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  padding: 8px 16px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 8px;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION ZONES - Lista de transiciones\r\n   ============================================ */\r\n\r\n.transition-zones-vertical {\r\n  padding: 16px 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  flex: 1;\r\n  \r\n  /* Custom scrollbar */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(99, 102, 241, 0.5) rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/* Webkit scrollbar */\r\n.transition-zones-vertical::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border-radius: 10px;\r\n  margin: 8px 0;\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-thumb {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 10px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.transition-zones-vertical::-webkit-scrollbar-thumb:hover {\r\n  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION ZONE - Cada opci√≥n individual\r\n   ============================================ */\r\n\r\n.transition-zone-vertical {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 14px;\r\n  padding: 18px 20px;\r\n  \r\n  /* Background gradient sutil */\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.08) 0%, \r\n    rgba(118, 75, 162, 0.08) 100%);\r\n  \r\n  /* Border */\r\n  border: 2px solid rgba(99, 102, 241, 0.15);\r\n  border-radius: 14px;\r\n  \r\n  /* Cursor */\r\n  cursor: grab;\r\n  user-select: none;\r\n  \r\n  /* Transitions */\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Shimmer effect al pasar */\r\n.transition-zone-vertical::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: -100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(90deg, \r\n    transparent, \r\n    rgba(255, 255, 255, 0.4), \r\n    transparent);\r\n  transition: left 0.6s ease;\r\n}\r\n\r\n.transition-zone-vertical:hover::before {\r\n  left: 100%;\r\n}\r\n\r\n/* Hover state */\r\n.transition-zone-vertical:hover {\r\n  transform: translateX(10px) scale(1.03);\r\n  border-color: rgba(99, 102, 241, 0.6);\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.15) 0%, \r\n    rgba(118, 75, 162, 0.15) 100%);\r\n  box-shadow: \r\n    0 8px 28px rgba(99, 102, 241, 0.25),\r\n    0 0 0 1px rgba(99, 102, 241, 0.3) inset;\r\n  cursor: pointer;\r\n}\r\n\r\n/* Active state (drag over) */\r\n.transition-zone-vertical.drag-over {\r\n  transform: translateX(15px) scale(1.08);\r\n  border-color: #667eea;\r\n  border-width: 3px;\r\n  \r\n  /* Gradient completo */\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  \r\n  /* Shadow intenso */\r\n  box-shadow: \r\n    0 16px 40px rgba(102, 126, 234, 0.6),\r\n    0 0 0 4px rgba(255, 255, 255, 0.4) inset,\r\n    0 0 30px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-icon {\r\n  animation: bounceIcon 0.6s ease infinite;\r\n  transform: scale(1.2);\r\n}\r\n\r\n@keyframes bounceIcon {\r\n  0%, 100% { \r\n    transform: translateY(0) scale(1.2); \r\n  }\r\n  50% { \r\n    transform: translateY(-6px) scale(1.2); \r\n  }\r\n}\r\n\r\n/* ============================================\r\n   ICON & INFO - Contenido de cada zona\r\n   ============================================ */\r\n\r\n.transition-icon {\r\n  font-size: 32px;\r\n  flex-shrink: 0;\r\n  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.15));\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.transition-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  min-width: 0;\r\n}\r\n\r\n.transition-name {\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n  color: #1e293b;\r\n  letter-spacing: 0.3px;\r\n  transition: color 0.2s ease;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.transition-zone-vertical:hover .transition-name {\r\n  color: #667eea;\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-name {\r\n  color: white;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.transition-target {\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  transition: color 0.2s ease;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.transition-target::before {\r\n  content: '‚Üí';\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n}\r\n\r\n.transition-zone-vertical:hover .transition-target {\r\n  color: #475569;\r\n}\r\n\r\n.transition-zone-vertical.drag-over .transition-target {\r\n  color: rgba(255, 255, 255, 0.95);\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* ============================================\r\n   SLA PAUSE BADGE\r\n   ============================================ */\r\n\r\n.sla-pause-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 2px 8px;\r\n  margin-top: 4px;\r\n  border-radius: 6px;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  background: rgba(245, 158, 11, 0.15);\r\n  color: #f59e0b;\r\n  border: 1px solid rgba(245, 158, 11, 0.3);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla {\r\n  border-color: rgba(245, 158, 11, 0.3);\r\n  background: linear-gradient(135deg, \r\n    rgba(245, 158, 11, 0.08) 0%, \r\n    rgba(251, 191, 36, 0.08) 100%);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla:hover {\r\n  border-color: rgba(245, 158, 11, 0.5);\r\n  background: linear-gradient(135deg, \r\n    rgba(245, 158, 11, 0.15) 0%, \r\n    rgba(251, 191, 36, 0.15) 100%);\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla.drag-over {\r\n  background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);\r\n  border-color: #f59e0b;\r\n}\r\n\r\n.transition-zone-vertical.pauses-sla.drag-over .sla-pause-badge {\r\n  background: rgba(255, 255, 255, 0.25);\r\n  color: white;\r\n  border-color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n/* ============================================\r\n   EMPTY STATE - Sin transiciones\r\n   ============================================ */\r\n\r\n.transition-empty-state {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #64748b;\r\n}\r\n\r\n.transition-empty-state .empty-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.5;\r\n}\r\n\r\n.transition-empty-state .empty-text {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.transition-empty-state .empty-hint {\r\n  font-size: 12px;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* ============================================\r\n   LOADING STATE\r\n   ============================================ */\r\n\r\n.transition-loading {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.transition-loading .spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 0 auto 16px;\r\n  border: 4px solid rgba(99, 102, 241, 0.2);\r\n  border-top-color: #667eea;\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.transition-loading .loading-text {\r\n  font-size: 14px;\r\n  color: #64748b;\r\n  font-weight: 500;\r\n}\r\n\r\n/* ============================================\r\n   RESPONSIVE - Mobile\r\n   ============================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .transition-bar-vertical {\r\n    width: 90vw;\r\n    max-width: 320px;\r\n    max-height: 70vh;\r\n  }\r\n  \r\n  .kanban-board.drag-active .kanban-column {\r\n    transform: none !important;\r\n  }\r\n  \r\n  .kanban-board.drag-active::before {\r\n    backdrop-filter: blur(4px);\r\n  }\r\n  \r\n  .transition-zone-vertical {\r\n    padding: 14px 16px;\r\n  }\r\n  \r\n  .transition-icon {\r\n    font-size: 28px;\r\n  }\r\n  \r\n  .transition-name {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   ACCESSIBILITY\r\n   ============================================ */\r\n\r\n.transition-zone-vertical:focus {\r\n  outline: 3px solid #667eea;\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Reduce motion for accessibility */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .transition-bar-vertical,\r\n  .transition-zone-vertical,\r\n  .kanban-board.drag-active .kanban-column {\r\n    transition: none !important;\r\n    animation: none !important;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   DARK THEME SUPPORT\r\n   ============================================ */\r\n\r\n.theme-dark .transition-bar-vertical {\r\n  background: rgba(30, 41, 59, 0.98);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n.theme-dark .transition-zone-vertical {\r\n  background: linear-gradient(135deg, \r\n    rgba(99, 102, 241, 0.12) 0%, \r\n    rgba(118, 75, 162, 0.12) 100%);\r\n  border-color: rgba(99, 102, 241, 0.25);\r\n}\r\n\r\n.theme-dark .transition-name {\r\n  color: #e2e8f0;\r\n}\r\n\r\n.theme-dark .transition-target {\r\n  color: #94a3b8;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/list/list-view-transitions.js?v=1765920148",
    "ranges": [
      {
        "start": 0,
        "end": 2844
      },
      {
        "start": 3485,
        "end": 3554
      },
      {
        "start": 5443,
        "end": 5515
      },
      {
        "start": 6360,
        "end": 6419
      },
      {
        "start": 7519,
        "end": 7569
      },
      {
        "start": 7982,
        "end": 8031
      },
      {
        "start": 9068,
        "end": 9076
      },
      {
        "start": 11850,
        "end": 11910
      },
      {
        "start": 12544,
        "end": 12601
      },
      {
        "start": 13676,
        "end": 13757
      },
      {
        "start": 15634,
        "end": 15681
      },
      {
        "start": 16372,
        "end": 16419
      },
      {
        "start": 18333,
        "end": 18383
      },
      {
        "start": 19191,
        "end": 19237
      },
      {
        "start": 19892,
        "end": 19932
      },
      {
        "start": 20059,
        "end": 20877
      }
    ],
    "text": "/**\r\n * LIST VIEW TRANSITION HANDLER\r\n * Maneja las transiciones horizontales en la vista de lista\r\n * \r\n * Features:\r\n * - Barra horizontal que aparece debajo del ticket\r\n * - M√°ximo 2 l√≠neas de botones de transici√≥n\r\n * - Reutiliza la API de transiciones del sistema vertical\r\n * - Animaci√≥n smooth al expandir/colapsar\r\n */\r\n\r\nclass ListViewTransitions {\r\n  constructor() {\r\n    this.activeBar = null; // Reference to currently open transition bar\r\n    this.currentIssueKey = null;\r\n    this.availableTransitions = [];\r\n    this.isExecutingTransition = false;\r\n    \r\n    console.log('üéØ ListViewTransitions: Constructor initialized');\r\n  }\r\n  \r\n  init() {\r\n    console.log('üöÄ ListViewTransitions: Initializing...');\r\n    this.setupEventListeners();\r\n    console.log('‚úÖ ListViewTransitions: Ready');\r\n  }\r\n  \r\n  /**\r\n   * Setup event listeners for list view\r\n   */\r\n  setupEventListeners() {\r\n    // Delegate click events for transition buttons in list view\r\n    document.addEventListener('click', (e) => {\r\n      // Handle transition button click (toggle bar)\r\n      const transitionBtn = e.target.closest('.list-transition-trigger');\r\n      if (transitionBtn) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const issueKey = transitionBtn.dataset.issueKey;\r\n        const row = transitionBtn.closest('tr');\r\n        if (issueKey && row) {\r\n          this.toggleTransitionBar(issueKey, row);\r\n        }\r\n        return;\r\n      }\r\n      \r\n      // Handle close button\r\n      const closeBtn = e.target.closest('.transition-bar-horizontal-close');\r\n      if (closeBtn) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.closeActiveBar();\r\n        return;\r\n      }\r\n      \r\n      // Handle transition execution button\r\n      const transitionExecBtn = e.target.closest('.transition-btn-horizontal');\r\n      if (transitionExecBtn && !transitionExecBtn.classList.contains('loading')) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const transitionId = transitionExecBtn.dataset.transitionId;\r\n        const transitionName = transitionExecBtn.dataset.transitionName;\r\n        if (transitionId) {\r\n          this.executeTransition(transitionId, transitionName, transitionExecBtn);\r\n        }\r\n        return;\r\n      }\r\n    });\r\n    \r\n    // Close bar when clicking outside\r\n    document.addEventListener('click', (e) => {\r\n      if (this.activeBar && !e.target.closest('.transition-bar-horizontal') && \r\n          !e.target.closest('.list-transition-trigger')) {\r\n        this.closeActiveBar();\r\n      }\r\n    });\r\n    \r\n    // ESC key closes active bar\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.activeBar) {\r\n        this.closeActiveBar();\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Toggle transition bar for a specific issue\r\n   */\r\n  async toggleTransitionBar(issueKey, row) {\r\n    console.log('üîÑ Toggling transition bar for:', issueKey);\r\n    \r\n    // If clicking the same row, just close\r\n    if (this.currentIssueKey === issueKey && this.activeBar) {\r\n      this.closeActiveBar();\r\n      return;\r\n    }\r\n    \r\n    // Close any existing bar first\r\n    if (this.activeBar) {\r\n      this.closeActiveBar();\r\n    }\r\n    \r\n    // Store current issue\r\n    this.currentIssueKey = issueKey;\r\n    \r\n    // Create and show bar with loading state\r\n    this.createTransitionBar(issueKey, row);\r\n    \r\n    // Fetch transitions\r\n    await this.fetchAndDisplayTransitions(issueKey);\r\n  }\r\n  \r\n  /**\r\n   * Create the horizontal transition bar DOM\r\n   */\r\n  createTransitionBar(issueKey, row) {\r\n    // Get the number of columns in the table\r\n    const colCount = row.cells.length;\r\n    \r\n    // Create a new row for the transition bar\r\n    const transitionRow = document.createElement('tr');\r\n    transitionRow.className = 'transition-row';\r\n    transitionRow.dataset.issueKey = issueKey;\r\n    \r\n    // Create a single cell that spans all columns\r\n    const transitionCell = document.createElement('td');\r\n    transitionCell.colSpan = colCount;\r\n    transitionCell.style.padding = '0';\r\n    transitionCell.style.background = 'transparent';\r\n    \r\n    // Create the transition bar\r\n    const bar = document.createElement('div');\r\n    bar.className = 'transition-bar-horizontal show';\r\n    bar.innerHTML = `\r\n      <div class=\"transition-bar-horizontal-header\">\r\n        <div class=\"transition-bar-horizontal-title\">\r\n          ${SVGIcons.zap({size:16,className:'inline-icon'})} Transitions\r\n          <span class=\"transition-bar-horizontal-ticket\">${issueKey}</span>\r\n        </div>\r\n        <button class=\"transition-bar-horizontal-close\" title=\"Close\">${SVGIcons.close({size:14,className:'inline-icon'})}</button>\r\n      </div>\r\n      <div class=\"transition-bar-horizontal-content\">\r\n        <div class=\"transition-bar-horizontal-loading\">\r\n          <div class=\"transition-skeleton\"></div>\r\n          <div class=\"transition-skeleton\"></div>\r\n          <div class=\"transition-skeleton\"></div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    // Assemble the structure\r\n    transitionCell.appendChild(bar);\r\n    transitionRow.appendChild(transitionCell);\r\n    \r\n    // Insert the transition row right after the current row\r\n    row.parentNode.insertBefore(transitionRow, row.nextSibling);\r\n    \r\n    // Store reference\r\n    this.activeBar = { row, transitionRow };\r\n    \r\n    console.log('‚úÖ Transition bar created below row for:', issueKey);\r\n  }\r\n  \r\n  /**\r\n   * Fetch transitions from API and display them\r\n   */\r\n  async fetchAndDisplayTransitions(issueKey) {\r\n    try {\r\n      console.log('üì° Fetching transitions for:', issueKey);\r\n      \r\n      const response = await fetch(`/api/issues/${issueKey}/transitions`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!data.success || !data.data || !data.data.transitions) {\r\n        throw new Error('Invalid response format');\r\n      }\r\n      \r\n      this.availableTransitions = data.data.transitions;\r\n      console.log(`‚úÖ Loaded ${this.availableTransitions.length} transitions`);\r\n      \r\n      this.displayTransitions();\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching transitions:', error);\r\n      this.displayError(error.message);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Display transitions in the bar\r\n   */\r\n  displayTransitions() {\r\n    if (!this.activeBar || !this.activeBar.transitionRow) return;\r\n    \r\n    const content = this.activeBar.transitionRow.querySelector('.transition-bar-horizontal-content');\r\n    if (!content) return;\r\n    \r\n    if (this.availableTransitions.length === 0) {\r\n      content.innerHTML = `\r\n        <div class=\"transition-bar-horizontal-empty\">\r\n          No transitions available for this ticket\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n    \r\n    // Generate transition buttons\r\n    const buttonsHtml = this.availableTransitions.map(transition => `\r\n      <button \r\n        class=\"transition-btn-horizontal\"\r\n        data-transition-id=\"${transition.id}\"\r\n        data-transition-name=\"${transition.name}\"\r\n        title=\"${transition.name}\"\r\n      >\r\n        <span class=\"transition-btn-horizontal-content\">\r\n          ${this.getTransitionIcon(transition.name)} ${transition.name}\r\n        </span>\r\n      </button>\r\n    `).join('');\r\n    \r\n    content.innerHTML = buttonsHtml;\r\n    \r\n    console.log(`‚úÖ Displayed ${this.availableTransitions.length} transitions`);\r\n  }\r\n  \r\n  /**\r\n   * Display error message\r\n   */\r\n  displayError(message) {\r\n    if (!this.activeBar || !this.activeBar.transitionRow) return;\r\n    \r\n    const content = this.activeBar.transitionRow.querySelector('.transition-bar-horizontal-content');\r\n    if (!content) return;\r\n    \r\n    content.innerHTML = `\r\n      <div class=\"transition-bar-horizontal-empty\" style=\"color: #ef4444;\">\r\n        ‚ö†Ô∏è Error loading transitions: ${message}\r\n      </div>\r\n    `;\r\n  }\r\n  \r\n  /**\r\n   * Execute a transition\r\n   */\r\n  async executeTransition(transitionId, transitionName, button) {\r\n    console.log('üéØ executeTransition called:', { transitionId, transitionName, issueKey: this.currentIssueKey });\r\n    \r\n    if (this.isExecutingTransition) {\r\n      console.warn('‚ö†Ô∏è Transition already in progress');\r\n      return;\r\n    }\r\n    \r\n    // Find transition to check if it has required fields\r\n    const transition = this.availableTransitions.find(t => t.id === transitionId);\r\n    console.log('üîç Transition found:', transition);\r\n    \r\n    if (transition?.hasFields) {\r\n      console.log('üìã Transition requires fields - showing modal');\r\n      const formData = await this.showFieldsModal(transition);\r\n      if (!formData) {\r\n        console.log('‚ùå Transition cancelled by user');\r\n        return;\r\n      }\r\n      // Continue with formData\r\n      this.performTransition(transitionId, transitionName, button, formData);\r\n    } else {\r\n      // Execute transition directly\r\n      this.performTransition(transitionId, transitionName, button, null);\r\n    }\r\n  }\r\n  \r\n  async performTransition(transitionId, transitionName, button, formData = null) {\r\n    if (this.isExecutingTransition) {\r\n      console.warn('‚ö†Ô∏è Transition already in progress');\r\n      return;\r\n    }\r\n    \r\n    this.isExecutingTransition = true;\r\n    button.classList.add('loading');\r\n    \r\n    console.log(`üöÄ Executing transition: ${transitionName} (${transitionId}) for ${this.currentIssueKey}`);\r\n    \r\n    try {\r\n      const requestBody = { transitionId: transitionId };\r\n      if (formData) {\r\n        // formData has structure { fields: {...}, comments: {...} }\r\n        if (formData.fields && Object.keys(formData.fields).length > 0) {\r\n          requestBody.fields = formData.fields;\r\n        }\r\n        // Store comments for later use (if needed)\r\n        if (formData.comments) {\r\n          requestBody.comments = formData.comments;\r\n        }\r\n      }\r\n      \r\n      console.log('üì§ Request body:', requestBody);\r\n      \r\n      const response = await fetch(`/api/issues/${this.currentIssueKey}/transitions`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(requestBody)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `HTTP ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!data.success) {\r\n        throw new Error(data.error || 'Transition failed');\r\n      }\r\n      \r\n      console.log('‚úÖ Transition executed successfully');\r\n      \r\n      // Show success state\r\n      button.classList.remove('loading');\r\n      button.classList.add('success');\r\n      button.textContent = `‚úì ${transitionName}`;\r\n      \r\n      // Wait a bit then reload\r\n      setTimeout(() => {\r\n        console.log('üîÑ Reloading issues after transition...');\r\n        this.closeActiveBar();\r\n        \r\n        // Trigger reload of list view\r\n        if (window.renderView) {\r\n          window.renderView();\r\n        } else if (window.renderList) {\r\n          window.renderList();\r\n        }\r\n      }, 1000);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Transition error:', error);\r\n      \r\n      button.classList.remove('loading');\r\n      button.classList.add('error');\r\n      \r\n      // Show error notification\r\n      if (window.showToast) {\r\n        window.showToast(`‚ùå Transition failed: ${error.message}`, 'error');\r\n      }\r\n      \r\n      // Reset button after 2 seconds\r\n      setTimeout(() => {\r\n        button.classList.remove('error');\r\n        button.textContent = `${this.getTransitionIcon(transitionName)} ${transitionName}`;\r\n      }, 2000);\r\n      \r\n    } finally {\r\n      this.isExecutingTransition = false;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Close the active transition bar\r\n   */\r\n  closeActiveBar() {\r\n    if (!this.activeBar) return;\r\n    \r\n    console.log('üö™ Closing transition bar');\r\n    \r\n    const bar = this.activeBar.transitionRow?.querySelector('.transition-bar-horizontal');\r\n    if (bar) {\r\n      bar.classList.remove('show');\r\n      bar.style.animation = 'slideUp 0.2s ease';\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      if (this.activeBar && this.activeBar.transitionRow) {\r\n        // Remove the transition row completely\r\n        this.activeBar.transitionRow.remove();\r\n      }\r\n      this.activeBar = null;\r\n      this.currentIssueKey = null;\r\n      this.availableTransitions = [];\r\n    }, 200);\r\n  }\r\n  \r\n  /**\r\n   * Get icon for transition name\r\n   */\r\n  getTransitionIcon(transitionName) {\r\n    const name = transitionName.toLowerCase();\r\n    \r\n    if (name.includes('asig') || name.includes('assign')) return 'üë§';\r\n    if (name.includes('progres') || name.includes('progress')) return 'üîÑ';\r\n    if (name.includes('resu') || name.includes('resolve')) return '‚úÖ';\r\n    if (name.includes('cerr') || name.includes('close') || name.includes('done')) return '‚úîÔ∏è';\r\n    if (name.includes('reabr') || name.includes('reopen')) return 'üîì';\r\n    if (name.includes('escal') || name.includes('escalate')) return '‚¨ÜÔ∏è';\r\n    if (name.includes('cancel')) return 'üö´';\r\n    if (name.includes('recha') || name.includes('reject')) return '‚ùå';\r\n    if (name.includes('apro') || name.includes('approve')) return '‚úì';\r\n    if (name.includes('revi') || name.includes('review')) return 'üëÄ';\r\n    if (name.includes('pend') || name.includes('wait')) return '‚è≥';\r\n    if (name.includes('bloq') || name.includes('block')) return 'üîí';\r\n    if (name.includes('pausa') || name.includes('pause')) return '‚è∏Ô∏è';\r\n    \r\n    return '‚û°Ô∏è'; // Default arrow\r\n  }\r\n  \r\n  /**\r\n   * Show modal to collect required fields for transition\r\n   */\r\n  async showFieldsModal(transition) {\r\n    return new Promise((resolve) => {\r\n      const modal = document.createElement('div');\r\n      modal.className = 'transition-fields-modal';\r\n      modal.innerHTML = `\r\n        <div class=\"transition-fields-overlay\"></div>\r\n        <div class=\"transition-fields-content\">\r\n          <div class=\"transition-fields-header\">\r\n            <h3>${this.getTransitionIcon(transition.name)} ${this.escapeHtml(transition.name)}</h3>\r\n            <p>Complete los campos requeridos para esta transici√≥n</p>\r\n          </div>\r\n          <form class=\"transition-fields-form\" id=\"transitionFieldsForm\">\r\n            ${this.renderTransitionFields(transition.fields, transition.name)}\r\n          </form>\r\n          <div class=\"transition-fields-actions\">\r\n            <button type=\"button\" class=\"btn-cancel\" id=\"cancelFieldsBtn\">Cancelar</button>\r\n            <button type=\"button\" class=\"btn-submit\" id=\"submitFieldsBtn\">Ejecutar Transici√≥n</button>\r\n          </div>\r\n        </div>\r\n      `;\r\n      \r\n      document.body.appendChild(modal);\r\n      setTimeout(() => modal.classList.add('show'), 10);\r\n      \r\n      const cancelBtn = modal.querySelector('#cancelFieldsBtn');\r\n      const overlay = modal.querySelector('.transition-fields-overlay');\r\n      const cancelHandler = () => {\r\n        modal.classList.remove('show');\r\n        setTimeout(() => modal.remove(), 300);\r\n        resolve(null);\r\n      };\r\n      \r\n      cancelBtn.addEventListener('click', cancelHandler);\r\n      overlay.addEventListener('click', cancelHandler);\r\n      \r\n      const submitBtn = modal.querySelector('#submitFieldsBtn');\r\n      submitBtn.addEventListener('click', () => {\r\n        const formData = this.collectFormData(modal);\r\n        modal.classList.remove('show');\r\n        setTimeout(() => modal.remove(), 300);\r\n        resolve(formData);\r\n      });\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Render form fields\r\n   */\r\n  renderTransitionFields(fields, transitionName = '') {\r\n    const fieldKeys = Object.keys(fields);\r\n    return fieldKeys.map(fieldKey => {\r\n      const field = fields[fieldKey];\r\n      const isRequired = field.required;\r\n      const fieldName = field.name || fieldKey;\r\n      const fieldType = field.schema?.type || 'string';\r\n      \r\n      return `\r\n        <div class=\"transition-field\">\r\n          <label for=\"field_${fieldKey}\">\r\n            ${this.escapeHtml(fieldName)}\r\n            ${isRequired ? '<span class=\"required\">*</span>' : ''}\r\n          </label>\r\n          ${this.renderFieldInput(fieldKey, field, fieldType, transitionName)}\r\n        </div>\r\n      `;\r\n    }).join('');\r\n  }\r\n  \r\n  /**\r\n   * Render field input\r\n   */\r\n  renderFieldInput(fieldKey, field, fieldType, transitionName = '') {\r\n    const placeholder = field.required ? 'Campo requerido' : 'Opcional';\r\n    const template = this.getSolutionTemplate(transitionName, field.name || fieldKey);\r\n    const isTextArea = !field.allowedValues || field.allowedValues.length === 0;\r\n    \r\n    if (isTextArea && fieldType !== 'number' && fieldType !== 'boolean') {\r\n      const hasTemplate = template !== '';\r\n      const rows = hasTemplate ? 12 : 8;\r\n      \r\n      return `\r\n        <div class=\"field-input-container\">\r\n          <textarea \r\n            id=\"field_${fieldKey}\" \r\n            name=\"${fieldKey}\"\r\n            placeholder=\"${placeholder}\"\r\n            rows=\"${rows}\"\r\n            ${field.required ? 'required' : ''}>${template}</textarea>\r\n          ${hasTemplate ? `\r\n            <div class=\"field-hint\">üí° Plantilla precargada - edita seg√∫n necesites</div>\r\n            <div class=\"field-checkbox\">\r\n              <label>\r\n                <input type=\"checkbox\" id=\"comment_${fieldKey}\" name=\"comment_${fieldKey}\" checked />\r\n                <span>üìù Agregar tambi√©n como comentario p√∫blico</span>\r\n              </label>\r\n            </div>\r\n          ` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n    \r\n    if (field.allowedValues && field.allowedValues.length > 0) {\r\n      return `\r\n        <select id=\"field_${fieldKey}\" name=\"${fieldKey}\" ${field.required ? 'required' : ''}>\r\n          <option value=\"\">Seleccione una opci√≥n</option>\r\n          ${field.allowedValues.map(val => `\r\n            <option value=\"${val.id || val.value}\">${this.escapeHtml(val.name || val.value)}</option>\r\n          `).join('')}\r\n        </select>\r\n      `;\r\n    }\r\n    \r\n    return `\r\n      <input \r\n        type=\"text\" \r\n        id=\"field_${fieldKey}\" \r\n        name=\"${fieldKey}\"\r\n        placeholder=\"${placeholder}\"\r\n        ${field.required ? 'required' : ''}\r\n      />\r\n    `;\r\n  }\r\n  \r\n  /**\r\n   * Get solution template\r\n   */\r\n  getSolutionTemplate(transitionName = '', fieldName = '') {\r\n    const transitionLower = transitionName.toLowerCase();\r\n    const fieldLower = fieldName.toLowerCase();\r\n    \r\n    if ((transitionLower.includes('resolver') || transitionLower.includes('validaci') || transitionLower.includes('soluci')) &&\r\n        fieldLower.includes('adjunt')) {\r\n      return `üìã DETALLES DE LA SOLUCI√ìN\r\n\r\nüîç Problema Identificado:\r\n[Describe brevemente el problema que se encontr√≥]\r\n\r\n‚úÖ Soluci√≥n Aplicada:\r\n[Explica qu√© se hizo para resolver el problema]\r\n\r\nüõ†Ô∏è Acciones Realizadas:\r\n1. [Primera acci√≥n]\r\n2. [Segunda acci√≥n]\r\n3. [Tercera acci√≥n]\r\n\r\n‚úì Resultado:\r\n[Confirma que el problema est√° resuelto]\r\n\r\nüìù Notas Adicionales:\r\n[Cualquier informaci√≥n relevante para el cliente o equipo]`;\r\n    }\r\n    \r\n    return '';\r\n  }\r\n  \r\n  /**\r\n   * Collect form data\r\n   */\r\n  collectFormData(modal) {\r\n    const form = modal.querySelector('#transitionFieldsForm');\r\n    const fields = {};\r\n    const comments = {};\r\n    \r\n    form.querySelectorAll('textarea, input[type=\"text\"], select').forEach(input => {\r\n      const fieldKey = input.name;\r\n      if (fieldKey && input.value) {\r\n        fields[fieldKey] = input.value;\r\n      }\r\n    });\r\n    \r\n    form.querySelectorAll('input[type=\"checkbox\"][id^=\"comment_\"]').forEach(checkbox => {\r\n      if (checkbox.checked) {\r\n        const fieldKey = checkbox.name.replace('comment_', '');\r\n        comments[fieldKey] = true;\r\n      }\r\n    });\r\n    \r\n    return { fields, comments };\r\n  }\r\n  \r\n  /**\r\n   * Escape HTML\r\n   */\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n}\r\n\r\n// Animation for closing\r\nconst listHorizontalTransitionStyle = document.createElement('style');\r\nlistHorizontalTransitionStyle.textContent = `\r\n  @keyframes slideUp {\r\n    from {\r\n      opacity: 1;\r\n      transform: translateY(0) scaleY(1);\r\n    }\r\n    to {\r\n      opacity: 0;\r\n      transform: translateY(-10px) scaleY(0.9);\r\n    }\r\n  }\r\n`;\r\ndocument.head.appendChild(listHorizontalTransitionStyle);\r\n\r\n// Initialize when DOM is ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    window.listViewTransitions = new ListViewTransitions();\r\n    window.listViewTransitions.init();\r\n  });\r\n} else {\r\n  window.listViewTransitions = new ListViewTransitions();\r\n  window.listViewTransitions.init();\r\n}\r\n\r\nconsole.log('üì¶ ListViewTransitions module loaded');\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/list/list-view.css",
    "ranges": [
      {
        "start": 77,
        "end": 259
      },
      {
        "start": 302,
        "end": 639
      },
      {
        "start": 643,
        "end": 735
      },
      {
        "start": 739,
        "end": 948
      },
      {
        "start": 952,
        "end": 1027
      },
      {
        "start": 1031,
        "end": 1296
      },
      {
        "start": 1421,
        "end": 1683
      },
      {
        "start": 1687,
        "end": 1734
      },
      {
        "start": 1771,
        "end": 2045
      },
      {
        "start": 2069,
        "end": 2179
      },
      {
        "start": 2183,
        "end": 2255
      },
      {
        "start": 2259,
        "end": 2352
      },
      {
        "start": 2356,
        "end": 2592
      },
      {
        "start": 2596,
        "end": 2705
      },
      {
        "start": 2709,
        "end": 2819
      },
      {
        "start": 2823,
        "end": 3059
      },
      {
        "start": 3063,
        "end": 3231
      },
      {
        "start": 3235,
        "end": 3387
      },
      {
        "start": 3780,
        "end": 4001
      },
      {
        "start": 4005,
        "end": 4155
      },
      {
        "start": 4159,
        "end": 4253
      },
      {
        "start": 4257,
        "end": 4366
      },
      {
        "start": 4370,
        "end": 4480
      },
      {
        "start": 4514,
        "end": 4565
      },
      {
        "start": 4569,
        "end": 4628
      },
      {
        "start": 4632,
        "end": 4695
      },
      {
        "start": 4699,
        "end": 4814
      },
      {
        "start": 4818,
        "end": 4869
      },
      {
        "start": 4873,
        "end": 4908
      },
      {
        "start": 4912,
        "end": 4985
      },
      {
        "start": 4989,
        "end": 5067
      },
      {
        "start": 5095,
        "end": 5233
      },
      {
        "start": 5237,
        "end": 5321
      },
      {
        "start": 5325,
        "end": 5430
      },
      {
        "start": 5456,
        "end": 5634
      },
      {
        "start": 5739,
        "end": 5798
      },
      {
        "start": 5833,
        "end": 6111
      },
      {
        "start": 6221,
        "end": 6336
      },
      {
        "start": 6626,
        "end": 6850
      },
      {
        "start": 6854,
        "end": 6935
      },
      {
        "start": 6939,
        "end": 7017
      },
      {
        "start": 7021,
        "end": 7099
      },
      {
        "start": 7203,
        "end": 7262
      },
      {
        "start": 7288,
        "end": 7445
      },
      {
        "start": 7449,
        "end": 7636
      },
      {
        "start": 9887,
        "end": 9999
      },
      {
        "start": 10509,
        "end": 10629
      },
      {
        "start": 10660,
        "end": 10968
      },
      {
        "start": 10972,
        "end": 11141
      },
      {
        "start": 11298,
        "end": 11613
      },
      {
        "start": 11617,
        "end": 11794
      },
      {
        "start": 11798,
        "end": 11863
      },
      {
        "start": 11983,
        "end": 12290
      },
      {
        "start": 12294,
        "end": 12543
      },
      {
        "start": 12675,
        "end": 12769
      },
      {
        "start": 12773,
        "end": 12854
      },
      {
        "start": 12892,
        "end": 13175
      },
      {
        "start": 13179,
        "end": 13487
      },
      {
        "start": 13880,
        "end": 14001
      },
      {
        "start": 14005,
        "end": 14106
      },
      {
        "start": 14631,
        "end": 14705
      },
      {
        "start": 14709,
        "end": 14816
      },
      {
        "start": 14820,
        "end": 14981
      },
      {
        "start": 14985,
        "end": 15053
      },
      {
        "start": 15057,
        "end": 15138
      },
      {
        "start": 15142,
        "end": 15239
      },
      {
        "start": 15243,
        "end": 15333
      },
      {
        "start": 15337,
        "end": 15428
      },
      {
        "start": 15432,
        "end": 15554
      },
      {
        "start": 15558,
        "end": 15610
      },
      {
        "start": 17954,
        "end": 18279
      },
      {
        "start": 18401,
        "end": 18503
      },
      {
        "start": 18625,
        "end": 18666
      },
      {
        "start": 18670,
        "end": 18792
      },
      {
        "start": 18864,
        "end": 19086
      }
    ],
    "text": "/**\r\n * LIST VIEW STYLES\r\n * Optimized table view for large datasets\r\n */\r\n\r\n.list-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 20px;\r\n  background: transparent;\r\n  border-radius: 12px;\r\n}\r\n\r\n/* Header with search and controls */\r\n.list-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.list-stats {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.stat-badge {\r\n  padding: 6px 12px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.list-controls {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n}\r\n\r\n.list-search {\r\n  padding: 10px 16px;\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  min-width: 250px;\r\n  transition: all 0.2s ease;\r\n  background: radial-gradient(circle at top left, rgba(99, 102, 241, 0.05), white);\r\n}\r\n\r\n.list-search:focus {\r\n  outline: none;\r\n  border-color: #6366f1;\r\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.list-sort {\r\n  padding: 10px 16px;\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  background: radial-gradient(circle at top left, rgba(99, 102, 241, 0.05), white);\r\n}\r\n\r\n.list-sort:hover {\r\n  border-color: #6366f1;\r\n}\r\n\r\n/* Table wrapper with scroll */\r\n.list-table-wrapper {\r\n  flex: 1;\r\n  overflow-x: auto;\r\n  overflow-y: auto;\r\n  max-height: calc(100vh - 350px);\r\n  background: rgba(248, 250, 252, 0.4);\r\n  backdrop-filter: blur(5px);\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(226, 232, 240, 0.6);\r\n  padding: 8px;\r\n}\r\n\r\n/* Issues table */\r\n.issues-table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0 8px;\r\n  font-size: 12px;\r\n}\r\n\r\n.issues-table thead {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.issues-table thead tr {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.issues-table thead th {\r\n  padding: 10px 12px;\r\n  text-align: left;\r\n  font-weight: 700;\r\n  color: white;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border: none;\r\n}\r\n\r\n.issues-table thead tr th:first-child {\r\n  border-top-left-radius: 8px;\r\n  border-bottom-left-radius: 8px;\r\n}\r\n\r\n.issues-table thead tr th:last-child {\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n.issues-table tbody tr {\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n  box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.15), \r\n              0 1px 3px rgba(100, 116, 139, 0.1),\r\n              inset 0 1px 0 rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.issues-table tbody tr td {\r\n  background: radial-gradient(ellipse at top left, rgba(219, 234, 254, 0.4), rgba(255, 255, 255, 0.95));\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.issues-table tbody tr:nth-child(even) td {\r\n  background: radial-gradient(ellipse at top left, rgba(191, 219, 254, 0.3), rgba(248, 250, 252, 0.95));\r\n}\r\n\r\n/* Transition row - full width below ticket */\r\n.issues-table tbody tr.transition-row {\r\n  cursor: default;\r\n  background: transparent !important;\r\n}\r\n\r\n.issues-table tbody tr.transition-row:hover {\r\n  background: transparent !important;\r\n  transform: none !important;\r\n}\r\n\r\n.issues-table tbody tr.transition-row td {\r\n  padding: 0 !important;\r\n  background: transparent !important;\r\n}\r\n\r\n.issues-table tbody tr:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.25), \r\n              0 4px 12px rgba(99, 102, 241, 0.15),\r\n              0 2px 4px rgba(100, 116, 139, 0.1);\r\n}\r\n\r\n.issues-table tbody tr:hover td {\r\n  background: radial-gradient(ellipse at top left, rgba(191, 219, 254, 0.6), rgba(239, 246, 255, 1)) !important;\r\n}\r\n\r\n.issues-table tbody td {\r\n  padding: 10px 12px;\r\n  vertical-align: middle;\r\n  border: none;\r\n}\r\n\r\n.issues-table tbody tr td:first-child {\r\n  border-top-left-radius: 8px;\r\n  border-bottom-left-radius: 8px;\r\n}\r\n\r\n.issues-table tbody tr td:last-child {\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n/* Column specific styles */\r\n.col-key {\r\n  width: 120px;\r\n  font-weight: 600;\r\n}\r\n\r\n.col-summary {\r\n  min-width: 300px;\r\n  max-width: 500px;\r\n}\r\n\r\n.col-status-severity {\r\n  width: 220px;\r\n  min-width: 200px;\r\n}\r\n\r\n.status-severity-compact {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.col-sla {\r\n  width: 200px;\r\n  min-width: 180px;\r\n}\r\n\r\n.col-assignee {\r\n  width: 180px;\r\n}\r\n\r\n.col-created {\r\n  width: 160px;\r\n  font-size: 13px;\r\n  color: #64748b;\r\n}\r\n\r\n.col-actions {\r\n  width: 140px;\r\n  min-width: 140px;\r\n  text-align: center;\r\n}\r\n\r\n/* Sortable headers */\r\n.issues-table thead th.sortable {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: background 0.2s ease;\r\n  position: relative;\r\n}\r\n\r\n.issues-table thead th.sortable:hover {\r\n  background: rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n.issues-table thead th.sortable.sorted {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  font-weight: 800;\r\n}\r\n\r\n/* Issue key link */\r\n.issue-key-link {\r\n  color: #6366f1;\r\n  font-weight: 700;\r\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\r\n  text-decoration: none;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.issue-key-link:hover {\r\n  color: #4f46e5;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Issue summary */\r\n.issue-summary {\r\n  color: #1e293b;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* Status badge - compacto */\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: 5px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.3px;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.status-badge.status-open,\r\n.status-badge.status-to-do {\r\n  background: #dbeafe;\r\n  color: #1e40af;\r\n}\r\n\r\n.status-badge.status-in-progress,\r\n.status-badge.status-en-progreso {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.status-badge.status-done,\r\n.status-badge.status-cerrado,\r\n.status-badge.status-resolved {\r\n  background: #d1fae5;\r\n  color: #065f46;\r\n}\r\n\r\n.status-badge.status-waiting,\r\n.status-badge.status-en-espera {\r\n  background: #fed7aa;\r\n  color: #9a3412;\r\n}\r\n\r\n/* Severity badge - compacto */\r\n.severity-badge {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: 5px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.severity-badge.severity-critical {\r\n  background: #fecaca;\r\n  color: #991b1b;\r\n}\r\n\r\n.severity-badge.severity-major {\r\n  background: #fed7aa;\r\n  color: #9a3412;\r\n}\r\n\r\n.severity-badge.severity-minor {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.severity-badge.severity-default {\r\n  background: #e2e8f0;\r\n  color: #475569;\r\n}\r\n\r\n/* Assignee */\r\n.assignee-name {\r\n  color: #334155;\r\n  font-weight: 500;\r\n}\r\n\r\n/* SLA Indicators */\r\n.sla-indicator-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  gap: 4px;\r\n  padding: 4px 0;\r\n}\r\n\r\n.sla-indicator-list span {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* SLA Badge Container */\r\n.sla-badge-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  width: 100%;\r\n}\r\n\r\n.sla-badge {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 10px;\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n  transition: all 0.2s ease;\r\n  border: 2px solid transparent;\r\n}\r\n\r\n.sla-badge:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.sla-icon {\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n\r\n.sla-name {\r\n  font-weight: 700;\r\n  font-size: 11px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.sla-time {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n}\r\n\r\n/* Badge color variants */\r\n.sla-badge-healthy {\r\n  color: #065f46;\r\n  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);\r\n  border-color: #6ee7b7;\r\n}\r\n\r\n.sla-badge-healthy.sla-time {\r\n  background: rgba(209, 250, 229, 0.5);\r\n  color: #047857;\r\n}\r\n\r\n.sla-badge-warning {\r\n  color: #92400e;\r\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\r\n  border-color: #fcd34d;\r\n  animation: pulse-warning 2s infinite;\r\n}\r\n\r\n.sla-badge-warning.sla-time {\r\n  background: rgba(254, 243, 199, 0.5);\r\n  color: #b45309;\r\n}\r\n\r\n@keyframes pulse-warning {\r\n  0%, 100% { \r\n    box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);\r\n  }\r\n  50% { \r\n    box-shadow: 0 0 0 6px rgba(251, 191, 36, 0);\r\n  }\r\n}\r\n\r\n.sla-badge-paused {\r\n  color: #1e40af;\r\n  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\r\n  border-color: #93c5fd;\r\n}\r\n\r\n.sla-badge-paused.sla-time {\r\n  background: rgba(219, 234, 254, 0.5);\r\n  color: #1e3a8a;\r\n}\r\n\r\n.sla-badge-breached {\r\n  color: #991b1b;\r\n  background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);\r\n  border-color: #f87171;\r\n  animation: blink-breached 2s infinite;\r\n}\r\n\r\n.sla-badge-breached.sla-time {\r\n  background: rgba(254, 202, 202, 0.5);\r\n  color: #7f1d1d;\r\n}\r\n\r\n@keyframes blink-breached {\r\n  0%, 100% { \r\n    opacity: 1;\r\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);\r\n  }\r\n  50% { \r\n    opacity: 0.8;\r\n    box-shadow: 0 0 0 6px rgba(239, 68, 68, 0);\r\n  }\r\n}\r\n\r\n/* Legacy styles for backwards compatibility */\r\n.sla-loading {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.1);\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n}\r\n\r\n.sla-healthy {\r\n  color: #065f46;\r\n  background: #d1fae5;\r\n}\r\n\r\n.sla-warning {\r\n  color: #92400e;\r\n  background: #fef3c7;\r\n}\r\n\r\n.sla-paused {\r\n  color: #1e40af;\r\n  background: #dbeafe;\r\n}\r\n\r\n.sla-breached {\r\n  color: #991b1b;\r\n  background: #fecaca;\r\n}\r\n\r\n.sla-none {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n.sla-error {\r\n  color: #9a3412;\r\n  background: #fed7aa;\r\n}\r\n\r\n/* Action buttons container */\r\n.col-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* View details button */\r\n.btn-view-details {\r\n  padding: 5px 6px;\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n  flex: 1 1 100%;\r\n  min-width: 0;\r\n}\r\n\r\n.btn-view-details:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 3px 10px rgba(99, 102, 241, 0.3);\r\n  background: linear-gradient(135deg, #7c3aed, #a855f7);\r\n}\r\n\r\n.btn-view-details:active {\r\n  transform: translateY(0);\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n}\r\n\r\n/* Transition trigger button */\r\n.list-transition-trigger {\r\n  padding: 5px 6px;\r\n  background: linear-gradient(135deg, #667eea, #764ba2);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n  flex: 1 1 100%;\r\n  min-width: 0;\r\n}\r\n\r\n.list-transition-trigger:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);\r\n  background: linear-gradient(135deg, #764ba2, #667eea);\r\n}\r\n\r\n.list-transition-trigger:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.list-transition-trigger.active {\r\n  background: linear-gradient(135deg, #10b981, #059669);\r\n}\r\n\r\n/* Pagination */\r\n.list-pagination {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n}\r\n\r\n.pagination-btn {\r\n  padding: 10px 20px;\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.pagination-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n.pagination-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  background: #94a3b8;\r\n}\r\n\r\n.pagination-info {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #334155;\r\n}\r\n\r\n/* Load More button container */\r\n.load-more-container {\r\n  text-align: center;\r\n  padding: 24px 20px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n  margin-top: 16px;\r\n}\r\n\r\n.load-more-btn {\r\n  padding: 12px 24px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.load-more-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\r\n  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\r\n}\r\n\r\n.load-more-btn:active:not(:disabled) {\r\n  transform: translateY(0);\r\n}\r\n\r\n.load-more-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n/* Dark theme Load More */\r\nbody.theme-dark .load-more-container {\r\n  background: rgba(30, 41, 59, 0.95);\r\n  border-color: rgba(71, 85, 105, 0.5);\r\n}\r\n\r\nbody.theme-dark .load-more-btn {\r\n  background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);\r\n}\r\n\r\nbody.theme-dark .load-more-btn:hover:not(:disabled) {\r\n  background: linear-gradient(135deg, #a855f7 0%, #8b5cf6 100%);\r\n}\r\n\r\n/* Placeholder for empty state */\r\n.list-placeholder {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 80px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 64px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.3;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 18px;\r\n  color: #64748b;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark theme */\r\nbody.theme-dark .list-container {\r\n  background: rgba(15, 23, 42, 0.6);\r\n}\r\n\r\nbody.theme-dark .list-header,\r\nbody.theme-dark .list-pagination {\r\n  background: rgba(30, 41, 59, 0.95);\r\n}\r\n\r\nbody.theme-dark .list-search,\r\nbody.theme-dark .list-sort {\r\n  background: rgba(15, 23, 42, 0.8);\r\n  border-color: rgba(139, 92, 246, 0.3);\r\n  color: #f1f5f9;\r\n}\r\n\r\nbody.theme-dark .list-table-wrapper {\r\n  background: transparent;\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr {\r\n  background: rgba(30, 41, 59, 0.4);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr:nth-child(even) {\r\n  background: rgba(15, 23, 42, 0.6);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr:hover {\r\n  background: rgba(139, 92, 246, 0.15);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody td {\r\n  border-bottom-color: rgba(71, 85, 105, 0.5);\r\n}\r\n\r\nbody.theme-dark .issue-summary,\r\nbody.theme-dark .assignee-name,\r\nbody.theme-dark .pagination-info {\r\n  color: #e2e8f0;\r\n}\r\n\r\nbody.theme-dark .col-created {\r\n  color: #94a3b8;\r\n}\r\n\r\n/* Dark theme SLA badges */\r\nbody.theme-dark .sla-badge-healthy {\r\n  color: #34d399;\r\n  background: linear-gradient(135deg, rgba(52, 211, 153, 0.25) 0%, rgba(16, 185, 129, 0.25) 100%);\r\n  border-color: rgba(52, 211, 153, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-healthy.sla-time {\r\n  background: rgba(52, 211, 153, 0.15);\r\n  color: #6ee7b7;\r\n}\r\n\r\nbody.theme-dark .sla-badge-warning {\r\n  color: #fbbf24;\r\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.25) 0%, rgba(245, 158, 11, 0.25) 100%);\r\n  border-color: rgba(251, 191, 36, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-warning.sla-time {\r\n  background: rgba(251, 191, 36, 0.15);\r\n  color: #fcd34d;\r\n}\r\n\r\nbody.theme-dark .sla-badge-paused {\r\n  color: #60a5fa;\r\n  background: linear-gradient(135deg, rgba(96, 165, 250, 0.25) 0%, rgba(59, 130, 246, 0.25) 100%);\r\n  border-color: rgba(96, 165, 250, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-paused.sla-time {\r\n  background: rgba(96, 165, 250, 0.15);\r\n  color: #93c5fd;\r\n}\r\n\r\nbody.theme-dark .sla-badge-breached {\r\n  color: #f87171;\r\n  background: linear-gradient(135deg, rgba(248, 113, 113, 0.25) 0%, rgba(239, 68, 68, 0.25) 100%);\r\n  border-color: rgba(248, 113, 113, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-breached.sla-time {\r\n  background: rgba(248, 113, 113, 0.15);\r\n  color: #fca5a5;\r\n}\r\n\r\n/* Legacy dark theme styles */\r\nbody.theme-dark .sla-healthy {\r\n  color: #34d399;\r\n  background: rgba(52, 211, 153, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-warning {\r\n  color: #fbbf24;\r\n  background: rgba(251, 191, 36, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-paused {\r\n  color: #60a5fa;\r\n  background: rgba(96, 165, 250, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-breached {\r\n  color: #f87171;\r\n  background: rgba(248, 113, 113, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-none {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.15);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 1200px) {\r\n  .list-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .list-controls {\r\n    width: 100%;\r\n  }\r\n  \r\n  .list-search {\r\n    flex: 1;\r\n    min-width: auto;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .col-created,\r\n  .col-severity {\r\n    display: none;\r\n  }\r\n  \r\n  .list-search {\r\n    min-width: auto;\r\n    width: 100%;\r\n  }\r\n  \r\n  .list-controls {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .list-sort {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n/* Assignee Edit Toggle */\r\n.assignee-edit-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 12px;\r\n  background: rgba(139, 92, 246, 0.1);\r\n  border: 2px solid rgba(139, 92, 246, 0.3);\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  user-select: none;\r\n}\r\n\r\n.assignee-edit-toggle:hover {\r\n  background: rgba(139, 92, 246, 0.2);\r\n  border-color: rgba(139, 92, 246, 0.5);\r\n}\r\n\r\n.assignee-edit-toggle input[type=\"checkbox\"] {\r\n  cursor: pointer;\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.assignee-edit-toggle input[type=\"checkbox\"]:checked {\r\n  accent-color: #8b5cf6;\r\n}\r\n\r\n/* Assignee Editing Styles */\r\n.col-assignee {\r\n  position: relative;\r\n}\r\n\r\n.assignee-display {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.col-assignee.edit-mode .assignee-display {\r\n  display: none;\r\n}\r\n\r\n.assignee-edit-input {\r\n  display: none;\r\n  width: 100%;\r\n  padding: 6px 10px;\r\n  border: 2px solid rgba(139, 92, 246, 0.4);\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  background: white;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.assignee-edit-input:focus {\r\n  outline: none;\r\n  border-color: #8b5cf6;\r\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);\r\n}\r\n\r\n.col-assignee.edit-mode .assignee-edit-input {\r\n  display: block !important;\r\n}\r\n\r\n/* Assignee Autocomplete */\r\n.assignee-autocomplete {\r\n  position: fixed;\r\n  max-height: 200px;\r\n  min-width: 250px;\r\n  overflow-y: auto;\r\n  background: white;\r\n  border: 2px solid rgba(139, 92, 246, 0.4);\r\n  border-radius: 6px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);\r\n  z-index: 99999;\r\n}\r\n\r\n.assignee-autocomplete-item {\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  transition: background 0.15s ease;\r\n  font-size: 13px;\r\n}\r\n\r\n.assignee-autocomplete-item:hover {\r\n  background: rgba(139, 92, 246, 0.1);\r\n}\r\n\r\n.assignee-autocomplete-item.selected {\r\n  background: rgba(139, 92, 246, 0.2);\r\n}\r\n\r\n.assignee-autocomplete-item strong {\r\n  color: #8b5cf6;\r\n}\r\n\r\n.assignee-loading {\r\n  padding: 8px 12px;\r\n  text-align: center;\r\n  color: #8b5cf6;\r\n  font-size: 13px;\r\n}\r\n\r\n/* Notification Toast */\r\n.notification {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  z-index: 10000;\r\n  opacity: 0;\r\n  transform: translateX(400px);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.notification.show {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.notification-success {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  color: white;\r\n}\r\n\r\n.notification-error {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  color: white;\r\n}\r\n\r\n.notification-info {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n  color: white;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/list/list-view.css?v=1765920148",
    "ranges": [
      {
        "start": 77,
        "end": 259
      },
      {
        "start": 302,
        "end": 639
      },
      {
        "start": 643,
        "end": 735
      },
      {
        "start": 739,
        "end": 948
      },
      {
        "start": 952,
        "end": 1027
      },
      {
        "start": 1031,
        "end": 1296
      },
      {
        "start": 1421,
        "end": 1683
      },
      {
        "start": 1687,
        "end": 1734
      },
      {
        "start": 1771,
        "end": 2045
      },
      {
        "start": 2069,
        "end": 2179
      },
      {
        "start": 2183,
        "end": 2255
      },
      {
        "start": 2259,
        "end": 2352
      },
      {
        "start": 2356,
        "end": 2592
      },
      {
        "start": 2596,
        "end": 2705
      },
      {
        "start": 2709,
        "end": 2819
      },
      {
        "start": 2823,
        "end": 3059
      },
      {
        "start": 3063,
        "end": 3231
      },
      {
        "start": 3235,
        "end": 3387
      },
      {
        "start": 3780,
        "end": 4001
      },
      {
        "start": 4005,
        "end": 4155
      },
      {
        "start": 4159,
        "end": 4253
      },
      {
        "start": 4257,
        "end": 4366
      },
      {
        "start": 4370,
        "end": 4480
      },
      {
        "start": 4514,
        "end": 4565
      },
      {
        "start": 4569,
        "end": 4628
      },
      {
        "start": 4632,
        "end": 4695
      },
      {
        "start": 4699,
        "end": 4814
      },
      {
        "start": 4818,
        "end": 4869
      },
      {
        "start": 4873,
        "end": 4908
      },
      {
        "start": 4912,
        "end": 4985
      },
      {
        "start": 4989,
        "end": 5067
      },
      {
        "start": 5095,
        "end": 5233
      },
      {
        "start": 5237,
        "end": 5321
      },
      {
        "start": 5325,
        "end": 5430
      },
      {
        "start": 5456,
        "end": 5634
      },
      {
        "start": 5739,
        "end": 5798
      },
      {
        "start": 5833,
        "end": 6111
      },
      {
        "start": 6221,
        "end": 6336
      },
      {
        "start": 6626,
        "end": 6850
      },
      {
        "start": 6854,
        "end": 6935
      },
      {
        "start": 6939,
        "end": 7017
      },
      {
        "start": 7021,
        "end": 7099
      },
      {
        "start": 7203,
        "end": 7262
      },
      {
        "start": 7288,
        "end": 7445
      },
      {
        "start": 7449,
        "end": 7636
      },
      {
        "start": 9887,
        "end": 9999
      },
      {
        "start": 10509,
        "end": 10629
      },
      {
        "start": 10660,
        "end": 10968
      },
      {
        "start": 10972,
        "end": 11141
      },
      {
        "start": 11298,
        "end": 11613
      },
      {
        "start": 11617,
        "end": 11794
      },
      {
        "start": 11798,
        "end": 11863
      },
      {
        "start": 11983,
        "end": 12290
      },
      {
        "start": 12294,
        "end": 12543
      },
      {
        "start": 12675,
        "end": 12769
      },
      {
        "start": 12773,
        "end": 12854
      },
      {
        "start": 12892,
        "end": 13175
      },
      {
        "start": 13179,
        "end": 13487
      },
      {
        "start": 13880,
        "end": 14001
      },
      {
        "start": 14005,
        "end": 14106
      },
      {
        "start": 14631,
        "end": 14705
      },
      {
        "start": 14709,
        "end": 14816
      },
      {
        "start": 14820,
        "end": 14981
      },
      {
        "start": 14985,
        "end": 15053
      },
      {
        "start": 15057,
        "end": 15138
      },
      {
        "start": 15142,
        "end": 15239
      },
      {
        "start": 15243,
        "end": 15333
      },
      {
        "start": 15337,
        "end": 15428
      },
      {
        "start": 15432,
        "end": 15554
      },
      {
        "start": 15558,
        "end": 15610
      },
      {
        "start": 17954,
        "end": 18279
      },
      {
        "start": 18401,
        "end": 18503
      },
      {
        "start": 18625,
        "end": 18666
      },
      {
        "start": 18670,
        "end": 18792
      },
      {
        "start": 18864,
        "end": 19086
      }
    ],
    "text": "/**\r\n * LIST VIEW STYLES\r\n * Optimized table view for large datasets\r\n */\r\n\r\n.list-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 20px;\r\n  background: transparent;\r\n  border-radius: 12px;\r\n}\r\n\r\n/* Header with search and controls */\r\n.list-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.list-stats {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.stat-badge {\r\n  padding: 6px 12px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.list-controls {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n}\r\n\r\n.list-search {\r\n  padding: 10px 16px;\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  min-width: 250px;\r\n  transition: all 0.2s ease;\r\n  background: radial-gradient(circle at top left, rgba(99, 102, 241, 0.05), white);\r\n}\r\n\r\n.list-search:focus {\r\n  outline: none;\r\n  border-color: #6366f1;\r\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.list-sort {\r\n  padding: 10px 16px;\r\n  border: 2px solid rgba(99, 102, 241, 0.3);\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  background: radial-gradient(circle at top left, rgba(99, 102, 241, 0.05), white);\r\n}\r\n\r\n.list-sort:hover {\r\n  border-color: #6366f1;\r\n}\r\n\r\n/* Table wrapper with scroll */\r\n.list-table-wrapper {\r\n  flex: 1;\r\n  overflow-x: auto;\r\n  overflow-y: auto;\r\n  max-height: calc(100vh - 350px);\r\n  background: rgba(248, 250, 252, 0.4);\r\n  backdrop-filter: blur(5px);\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(226, 232, 240, 0.6);\r\n  padding: 8px;\r\n}\r\n\r\n/* Issues table */\r\n.issues-table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0 8px;\r\n  font-size: 12px;\r\n}\r\n\r\n.issues-table thead {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.issues-table thead tr {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.issues-table thead th {\r\n  padding: 10px 12px;\r\n  text-align: left;\r\n  font-weight: 700;\r\n  color: white;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border: none;\r\n}\r\n\r\n.issues-table thead tr th:first-child {\r\n  border-top-left-radius: 8px;\r\n  border-bottom-left-radius: 8px;\r\n}\r\n\r\n.issues-table thead tr th:last-child {\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n.issues-table tbody tr {\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n  box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.15), \r\n              0 1px 3px rgba(100, 116, 139, 0.1),\r\n              inset 0 1px 0 rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.issues-table tbody tr td {\r\n  background: radial-gradient(ellipse at top left, rgba(219, 234, 254, 0.4), rgba(255, 255, 255, 0.95));\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.issues-table tbody tr:nth-child(even) td {\r\n  background: radial-gradient(ellipse at top left, rgba(191, 219, 254, 0.3), rgba(248, 250, 252, 0.95));\r\n}\r\n\r\n/* Transition row - full width below ticket */\r\n.issues-table tbody tr.transition-row {\r\n  cursor: default;\r\n  background: transparent !important;\r\n}\r\n\r\n.issues-table tbody tr.transition-row:hover {\r\n  background: transparent !important;\r\n  transform: none !important;\r\n}\r\n\r\n.issues-table tbody tr.transition-row td {\r\n  padding: 0 !important;\r\n  background: transparent !important;\r\n}\r\n\r\n.issues-table tbody tr:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.25), \r\n              0 4px 12px rgba(99, 102, 241, 0.15),\r\n              0 2px 4px rgba(100, 116, 139, 0.1);\r\n}\r\n\r\n.issues-table tbody tr:hover td {\r\n  background: radial-gradient(ellipse at top left, rgba(191, 219, 254, 0.6), rgba(239, 246, 255, 1)) !important;\r\n}\r\n\r\n.issues-table tbody td {\r\n  padding: 10px 12px;\r\n  vertical-align: middle;\r\n  border: none;\r\n}\r\n\r\n.issues-table tbody tr td:first-child {\r\n  border-top-left-radius: 8px;\r\n  border-bottom-left-radius: 8px;\r\n}\r\n\r\n.issues-table tbody tr td:last-child {\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n/* Column specific styles */\r\n.col-key {\r\n  width: 120px;\r\n  font-weight: 600;\r\n}\r\n\r\n.col-summary {\r\n  min-width: 300px;\r\n  max-width: 500px;\r\n}\r\n\r\n.col-status-severity {\r\n  width: 220px;\r\n  min-width: 200px;\r\n}\r\n\r\n.status-severity-compact {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.col-sla {\r\n  width: 200px;\r\n  min-width: 180px;\r\n}\r\n\r\n.col-assignee {\r\n  width: 180px;\r\n}\r\n\r\n.col-created {\r\n  width: 160px;\r\n  font-size: 13px;\r\n  color: #64748b;\r\n}\r\n\r\n.col-actions {\r\n  width: 140px;\r\n  min-width: 140px;\r\n  text-align: center;\r\n}\r\n\r\n/* Sortable headers */\r\n.issues-table thead th.sortable {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: background 0.2s ease;\r\n  position: relative;\r\n}\r\n\r\n.issues-table thead th.sortable:hover {\r\n  background: rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n.issues-table thead th.sortable.sorted {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  font-weight: 800;\r\n}\r\n\r\n/* Issue key link */\r\n.issue-key-link {\r\n  color: #6366f1;\r\n  font-weight: 700;\r\n  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\r\n  text-decoration: none;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.issue-key-link:hover {\r\n  color: #4f46e5;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Issue summary */\r\n.issue-summary {\r\n  color: #1e293b;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* Status badge - compacto */\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: 5px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.3px;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.status-badge.status-open,\r\n.status-badge.status-to-do {\r\n  background: #dbeafe;\r\n  color: #1e40af;\r\n}\r\n\r\n.status-badge.status-in-progress,\r\n.status-badge.status-en-progreso {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.status-badge.status-done,\r\n.status-badge.status-cerrado,\r\n.status-badge.status-resolved {\r\n  background: #d1fae5;\r\n  color: #065f46;\r\n}\r\n\r\n.status-badge.status-waiting,\r\n.status-badge.status-en-espera {\r\n  background: #fed7aa;\r\n  color: #9a3412;\r\n}\r\n\r\n/* Severity badge - compacto */\r\n.severity-badge {\r\n  display: inline-block;\r\n  padding: 3px 8px;\r\n  border-radius: 5px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.severity-badge.severity-critical {\r\n  background: #fecaca;\r\n  color: #991b1b;\r\n}\r\n\r\n.severity-badge.severity-major {\r\n  background: #fed7aa;\r\n  color: #9a3412;\r\n}\r\n\r\n.severity-badge.severity-minor {\r\n  background: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.severity-badge.severity-default {\r\n  background: #e2e8f0;\r\n  color: #475569;\r\n}\r\n\r\n/* Assignee */\r\n.assignee-name {\r\n  color: #334155;\r\n  font-weight: 500;\r\n}\r\n\r\n/* SLA Indicators */\r\n.sla-indicator-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  gap: 4px;\r\n  padding: 4px 0;\r\n}\r\n\r\n.sla-indicator-list span {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* SLA Badge Container */\r\n.sla-badge-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  width: 100%;\r\n}\r\n\r\n.sla-badge {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 10px;\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n  transition: all 0.2s ease;\r\n  border: 2px solid transparent;\r\n}\r\n\r\n.sla-badge:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.sla-icon {\r\n  font-size: 14px;\r\n  line-height: 1;\r\n}\r\n\r\n.sla-name {\r\n  font-weight: 700;\r\n  font-size: 11px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.sla-time {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  padding: 3px 8px;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n}\r\n\r\n/* Badge color variants */\r\n.sla-badge-healthy {\r\n  color: #065f46;\r\n  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);\r\n  border-color: #6ee7b7;\r\n}\r\n\r\n.sla-badge-healthy.sla-time {\r\n  background: rgba(209, 250, 229, 0.5);\r\n  color: #047857;\r\n}\r\n\r\n.sla-badge-warning {\r\n  color: #92400e;\r\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\r\n  border-color: #fcd34d;\r\n  animation: pulse-warning 2s infinite;\r\n}\r\n\r\n.sla-badge-warning.sla-time {\r\n  background: rgba(254, 243, 199, 0.5);\r\n  color: #b45309;\r\n}\r\n\r\n@keyframes pulse-warning {\r\n  0%, 100% { \r\n    box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);\r\n  }\r\n  50% { \r\n    box-shadow: 0 0 0 6px rgba(251, 191, 36, 0);\r\n  }\r\n}\r\n\r\n.sla-badge-paused {\r\n  color: #1e40af;\r\n  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\r\n  border-color: #93c5fd;\r\n}\r\n\r\n.sla-badge-paused.sla-time {\r\n  background: rgba(219, 234, 254, 0.5);\r\n  color: #1e3a8a;\r\n}\r\n\r\n.sla-badge-breached {\r\n  color: #991b1b;\r\n  background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);\r\n  border-color: #f87171;\r\n  animation: blink-breached 2s infinite;\r\n}\r\n\r\n.sla-badge-breached.sla-time {\r\n  background: rgba(254, 202, 202, 0.5);\r\n  color: #7f1d1d;\r\n}\r\n\r\n@keyframes blink-breached {\r\n  0%, 100% { \r\n    opacity: 1;\r\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);\r\n  }\r\n  50% { \r\n    opacity: 0.8;\r\n    box-shadow: 0 0 0 6px rgba(239, 68, 68, 0);\r\n  }\r\n}\r\n\r\n/* Legacy styles for backwards compatibility */\r\n.sla-loading {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.1);\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n}\r\n\r\n.sla-healthy {\r\n  color: #065f46;\r\n  background: #d1fae5;\r\n}\r\n\r\n.sla-warning {\r\n  color: #92400e;\r\n  background: #fef3c7;\r\n}\r\n\r\n.sla-paused {\r\n  color: #1e40af;\r\n  background: #dbeafe;\r\n}\r\n\r\n.sla-breached {\r\n  color: #991b1b;\r\n  background: #fecaca;\r\n}\r\n\r\n.sla-none {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n.sla-error {\r\n  color: #9a3412;\r\n  background: #fed7aa;\r\n}\r\n\r\n/* Action buttons container */\r\n.col-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* View details button */\r\n.btn-view-details {\r\n  padding: 5px 6px;\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n  flex: 1 1 100%;\r\n  min-width: 0;\r\n}\r\n\r\n.btn-view-details:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 3px 10px rgba(99, 102, 241, 0.3);\r\n  background: linear-gradient(135deg, #7c3aed, #a855f7);\r\n}\r\n\r\n.btn-view-details:active {\r\n  transform: translateY(0);\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n}\r\n\r\n/* Transition trigger button */\r\n.list-transition-trigger {\r\n  padding: 5px 6px;\r\n  background: linear-gradient(135deg, #667eea, #764ba2);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 9px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n  flex: 1 1 100%;\r\n  min-width: 0;\r\n}\r\n\r\n.list-transition-trigger:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);\r\n  background: linear-gradient(135deg, #764ba2, #667eea);\r\n}\r\n\r\n.list-transition-trigger:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.list-transition-trigger.active {\r\n  background: linear-gradient(135deg, #10b981, #059669);\r\n}\r\n\r\n/* Pagination */\r\n.list-pagination {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n}\r\n\r\n.pagination-btn {\r\n  padding: 10px 20px;\r\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.pagination-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);\r\n}\r\n\r\n.pagination-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  background: #94a3b8;\r\n}\r\n\r\n.pagination-info {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #334155;\r\n}\r\n\r\n/* Load More button container */\r\n.load-more-container {\r\n  text-align: center;\r\n  padding: 24px 20px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid rgba(226, 232, 240, 0.8);\r\n  margin-top: 16px;\r\n}\r\n\r\n.load-more-btn {\r\n  padding: 12px 24px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.load-more-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\r\n  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\r\n}\r\n\r\n.load-more-btn:active:not(:disabled) {\r\n  transform: translateY(0);\r\n}\r\n\r\n.load-more-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n/* Dark theme Load More */\r\nbody.theme-dark .load-more-container {\r\n  background: rgba(30, 41, 59, 0.95);\r\n  border-color: rgba(71, 85, 105, 0.5);\r\n}\r\n\r\nbody.theme-dark .load-more-btn {\r\n  background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);\r\n}\r\n\r\nbody.theme-dark .load-more-btn:hover:not(:disabled) {\r\n  background: linear-gradient(135deg, #a855f7 0%, #8b5cf6 100%);\r\n}\r\n\r\n/* Placeholder for empty state */\r\n.list-placeholder {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 80px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 64px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.3;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 18px;\r\n  color: #64748b;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark theme */\r\nbody.theme-dark .list-container {\r\n  background: rgba(15, 23, 42, 0.6);\r\n}\r\n\r\nbody.theme-dark .list-header,\r\nbody.theme-dark .list-pagination {\r\n  background: rgba(30, 41, 59, 0.95);\r\n}\r\n\r\nbody.theme-dark .list-search,\r\nbody.theme-dark .list-sort {\r\n  background: rgba(15, 23, 42, 0.8);\r\n  border-color: rgba(139, 92, 246, 0.3);\r\n  color: #f1f5f9;\r\n}\r\n\r\nbody.theme-dark .list-table-wrapper {\r\n  background: transparent;\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr {\r\n  background: rgba(30, 41, 59, 0.4);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr:nth-child(even) {\r\n  background: rgba(15, 23, 42, 0.6);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody tr:hover {\r\n  background: rgba(139, 92, 246, 0.15);\r\n}\r\n\r\nbody.theme-dark .issues-table tbody td {\r\n  border-bottom-color: rgba(71, 85, 105, 0.5);\r\n}\r\n\r\nbody.theme-dark .issue-summary,\r\nbody.theme-dark .assignee-name,\r\nbody.theme-dark .pagination-info {\r\n  color: #e2e8f0;\r\n}\r\n\r\nbody.theme-dark .col-created {\r\n  color: #94a3b8;\r\n}\r\n\r\n/* Dark theme SLA badges */\r\nbody.theme-dark .sla-badge-healthy {\r\n  color: #34d399;\r\n  background: linear-gradient(135deg, rgba(52, 211, 153, 0.25) 0%, rgba(16, 185, 129, 0.25) 100%);\r\n  border-color: rgba(52, 211, 153, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-healthy.sla-time {\r\n  background: rgba(52, 211, 153, 0.15);\r\n  color: #6ee7b7;\r\n}\r\n\r\nbody.theme-dark .sla-badge-warning {\r\n  color: #fbbf24;\r\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.25) 0%, rgba(245, 158, 11, 0.25) 100%);\r\n  border-color: rgba(251, 191, 36, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-warning.sla-time {\r\n  background: rgba(251, 191, 36, 0.15);\r\n  color: #fcd34d;\r\n}\r\n\r\nbody.theme-dark .sla-badge-paused {\r\n  color: #60a5fa;\r\n  background: linear-gradient(135deg, rgba(96, 165, 250, 0.25) 0%, rgba(59, 130, 246, 0.25) 100%);\r\n  border-color: rgba(96, 165, 250, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-paused.sla-time {\r\n  background: rgba(96, 165, 250, 0.15);\r\n  color: #93c5fd;\r\n}\r\n\r\nbody.theme-dark .sla-badge-breached {\r\n  color: #f87171;\r\n  background: linear-gradient(135deg, rgba(248, 113, 113, 0.25) 0%, rgba(239, 68, 68, 0.25) 100%);\r\n  border-color: rgba(248, 113, 113, 0.4);\r\n}\r\n\r\nbody.theme-dark .sla-badge-breached.sla-time {\r\n  background: rgba(248, 113, 113, 0.15);\r\n  color: #fca5a5;\r\n}\r\n\r\n/* Legacy dark theme styles */\r\nbody.theme-dark .sla-healthy {\r\n  color: #34d399;\r\n  background: rgba(52, 211, 153, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-warning {\r\n  color: #fbbf24;\r\n  background: rgba(251, 191, 36, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-paused {\r\n  color: #60a5fa;\r\n  background: rgba(96, 165, 250, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-breached {\r\n  color: #f87171;\r\n  background: rgba(248, 113, 113, 0.2);\r\n}\r\n\r\nbody.theme-dark .sla-none {\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.15);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 1200px) {\r\n  .list-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .list-controls {\r\n    width: 100%;\r\n  }\r\n  \r\n  .list-search {\r\n    flex: 1;\r\n    min-width: auto;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .col-created,\r\n  .col-severity {\r\n    display: none;\r\n  }\r\n  \r\n  .list-search {\r\n    min-width: auto;\r\n    width: 100%;\r\n  }\r\n  \r\n  .list-controls {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .list-sort {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n/* Assignee Edit Toggle */\r\n.assignee-edit-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 12px;\r\n  background: rgba(139, 92, 246, 0.1);\r\n  border: 2px solid rgba(139, 92, 246, 0.3);\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  user-select: none;\r\n}\r\n\r\n.assignee-edit-toggle:hover {\r\n  background: rgba(139, 92, 246, 0.2);\r\n  border-color: rgba(139, 92, 246, 0.5);\r\n}\r\n\r\n.assignee-edit-toggle input[type=\"checkbox\"] {\r\n  cursor: pointer;\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.assignee-edit-toggle input[type=\"checkbox\"]:checked {\r\n  accent-color: #8b5cf6;\r\n}\r\n\r\n/* Assignee Editing Styles */\r\n.col-assignee {\r\n  position: relative;\r\n}\r\n\r\n.assignee-display {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.col-assignee.edit-mode .assignee-display {\r\n  display: none;\r\n}\r\n\r\n.assignee-edit-input {\r\n  display: none;\r\n  width: 100%;\r\n  padding: 6px 10px;\r\n  border: 2px solid rgba(139, 92, 246, 0.4);\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  background: white;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.assignee-edit-input:focus {\r\n  outline: none;\r\n  border-color: #8b5cf6;\r\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);\r\n}\r\n\r\n.col-assignee.edit-mode .assignee-edit-input {\r\n  display: block !important;\r\n}\r\n\r\n/* Assignee Autocomplete */\r\n.assignee-autocomplete {\r\n  position: fixed;\r\n  max-height: 200px;\r\n  min-width: 250px;\r\n  overflow-y: auto;\r\n  background: white;\r\n  border: 2px solid rgba(139, 92, 246, 0.4);\r\n  border-radius: 6px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);\r\n  z-index: 99999;\r\n}\r\n\r\n.assignee-autocomplete-item {\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  transition: background 0.15s ease;\r\n  font-size: 13px;\r\n}\r\n\r\n.assignee-autocomplete-item:hover {\r\n  background: rgba(139, 92, 246, 0.1);\r\n}\r\n\r\n.assignee-autocomplete-item.selected {\r\n  background: rgba(139, 92, 246, 0.2);\r\n}\r\n\r\n.assignee-autocomplete-item strong {\r\n  color: #8b5cf6;\r\n}\r\n\r\n.assignee-loading {\r\n  padding: 8px 12px;\r\n  text-align: center;\r\n  color: #8b5cf6;\r\n  font-size: 13px;\r\n}\r\n\r\n/* Notification Toast */\r\n.notification {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  z-index: 10000;\r\n  opacity: 0;\r\n  transform: translateX(400px);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.notification.show {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.notification-success {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  color: white;\r\n}\r\n\r\n.notification-error {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  color: white;\r\n}\r\n\r\n.notification-info {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\r\n  color: white;\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/list/transition-bar-horizontal.css",
    "ranges": [],
    "text": "/**\r\n * TRANSITION BAR HORIZONTAL - List View Transitions\r\n * Barra horizontal que aparece debajo de cada ticket en la vista de lista\r\n * mostrando todas las transiciones disponibles en m√°ximo dos l√≠neas\r\n */\r\n\r\n/* ============================================\r\n   TRANSITION BAR - Container Horizontal\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal {\r\n  /* Layout */\r\n  display: none; /* Hidden by default, shown when clicking transitions button */\r\n  width: 100%;\r\n  margin: 4px 0;\r\n  padding: 10px 12px;\r\n  box-sizing: border-box;\r\n  \r\n  /* Glassmorphism Effect */\r\n  background: rgba(248, 250, 252, 0.98);\r\n  backdrop-filter: blur(20px) saturate(180%);\r\n  \r\n  /* Borders & Shadows */\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n  \r\n  /* Animation */\r\n  animation: slideDown 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  transform-origin: top;\r\n}\r\n\r\n/* Dark theme */\r\nbody.theme-dark .transition-bar-horizontal {\r\n  background: rgba(20, 20, 30, 0.95);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n/* Show state */\r\n.transition-bar-horizontal.show {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px) scaleY(0.9);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scaleY(1);\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   HEADER - T√≠tulo compacto\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 0 6px 0;\r\n  border-bottom: 1px solid rgba(99, 102, 241, 0.15);\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.transition-bar-horizontal-title {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #667eea;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-title {\r\n  color: #8b9cff;\r\n}\r\n\r\n.transition-bar-horizontal-ticket {\r\n  font-size: 9px;\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  background: rgba(99, 102, 241, 0.1);\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-ticket {\r\n  color: #94a3b8;\r\n  background: rgba(99, 102, 241, 0.2);\r\n}\r\n\r\n.transition-bar-horizontal-close {\r\n  background: rgba(239, 68, 68, 0.1);\r\n  border: none;\r\n  color: #ef4444;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.transition-bar-horizontal-close:hover {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.transition-bar-horizontal-close:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-close {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #fca5a5;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-close:hover {\r\n  background: rgba(239, 68, 68, 0.25);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITIONS GRID - M√°ximo 2 l√≠neas\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-content {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n  gap: 8px;\r\n  width: 100%;\r\n  padding: 1px;\r\n}\r\n\r\n/* Custom scrollbar for overflow */\r\n.transition-bar-horizontal-content::-webkit-scrollbar {\r\n  height: 4px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border-radius: 2px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-thumb {\r\n  background: rgba(99, 102, 241, 0.3);\r\n  border-radius: 2px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(99, 102, 241, 0.5);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION BUTTON - Compacto horizontal\r\n   ============================================ */\r\n\r\n.transition-btn-horizontal {\r\n  /* Layout */\r\n  padding: 8px 12px;\r\n  min-height: 36px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  \r\n  /* Typography */\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  \r\n  /* Appearance */\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  /* Effects */\r\n  box-shadow: \r\n    0 1px 6px rgba(102, 126, 234, 0.25);\r\n  transition: all 0.3s ease;\r\n  \r\n  /* Prevent selection */\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n}\r\n\r\n/* Water ripple effect - First wave */\r\n.transition-btn-horizontal::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  border: 3px solid rgba(139, 92, 246, 0.8);\r\n  background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);\r\n  box-shadow: \r\n    0 0 10px rgba(139, 92, 246, 0.6),\r\n    inset 0 0 10px rgba(139, 92, 246, 0.4);\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n}\r\n\r\n/* Second wave */\r\n.transition-btn-horizontal::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  border: 3px solid rgba(168, 85, 247, 0.7);\r\n  background: radial-gradient(circle, rgba(168, 85, 247, 0.25) 0%, transparent 70%);\r\n  box-shadow: \r\n    0 0 8px rgba(168, 85, 247, 0.5),\r\n    inset 0 0 8px rgba(168, 85, 247, 0.3);\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n}\r\n\r\n.transition-btn-horizontal:hover::before {\r\n  animation: waterRipple 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n}\r\n\r\n.transition-btn-horizontal:hover::after {\r\n  animation: waterRipple 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s;\r\n}\r\n\r\n.transition-btn-horizontal:hover {\r\n  box-shadow: \r\n    0 4px 16px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.transition-btn-horizontal:active {\r\n  transform: scale(0.98);\r\n  box-shadow: \r\n    0 2px 8px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n/* Button content wrapper */\r\n.transition-btn-horizontal-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n/* Loading state */\r\n.transition-btn-horizontal.loading {\r\n  background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);\r\n  cursor: wait;\r\n  pointer-events: none;\r\n}\r\n\r\n/* Disable ripple on loading/success/error states */\r\n.transition-btn-horizontal.loading::before,\r\n.transition-btn-horizontal.loading::after,\r\n.transition-btn-horizontal.success::before,\r\n.transition-btn-horizontal.success::after,\r\n.transition-btn-horizontal.error::before,\r\n.transition-btn-horizontal.error::after {\r\n  display: none;\r\n}\r\n\r\n.transition-btn-horizontal.loading .transition-btn-horizontal-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.transition-btn-horizontal.loading .transition-btn-horizontal-content::after {\r\n  content: '';\r\n  width: 12px;\r\n  height: 12px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-top-color: white;\r\n  border-radius: 50%;\r\n  animation: spin 0.6s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* Success state */\r\n.transition-btn-horizontal.success {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  pointer-events: none;\r\n}\r\n\r\n.transition-btn-horizontal.success::before {\r\n  content: '‚úì';\r\n  margin-right: 4px;\r\n}\r\n\r\n/* Error state */\r\n.transition-btn-horizontal.error {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  animation: shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97);\r\n}\r\n\r\n@keyframes shake {\r\n  0%, 100% { transform: translateX(0); }\r\n  25% { transform: translateX(-4px); }\r\n  75% { transform: translateX(4px); }\r\n}\r\n\r\n/* ============================================\r\n   LOADING STATE - Skeleton\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-loading {\r\n  display: flex;\r\n  gap: 8px;\r\n  padding: 4px;\r\n  animation: pulse 1.5s ease-in-out infinite;\r\n}\r\n\r\n.transition-skeleton {\r\n  height: 36px;\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(99, 102, 241, 0.1) 0%,\r\n    rgba(99, 102, 241, 0.2) 50%,\r\n    rgba(99, 102, 241, 0.1) 100%\r\n  );\r\n  background-size: 200% 100%;\r\n  animation: shimmer 1.5s ease-in-out infinite;\r\n  border-radius: 8px;\r\n  flex: 1;\r\n  min-width: 100px;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { background-position: -200% 0; }\r\n  100% { background-position: 200% 0; }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.7; }\r\n}\r\n\r\n/* ============================================\r\n   EMPTY STATE - No transitions available\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-empty {\r\n  text-align: center;\r\n  padding: 16px;\r\n  color: #64748b;\r\n  font-size: 13px;\r\n  font-style: italic;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-empty {\r\n  color: #94a3b8;\r\n}\r\n\r\n/* ============================================\r\n   RESPONSIVE - Mobile optimizations\r\n   ============================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .transition-bar-horizontal {\r\n    padding: 10px 12px;\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-content {\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 6px;\r\n  }\r\n  \r\n  .transition-btn-horizontal {\r\n    padding: 6px 10px;\r\n    height: 32px;\r\n    font-size: 11px;\r\n    gap: 4px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-header {\r\n    padding-bottom: 6px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-title {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-ticket {\r\n    font-size: 10px;\r\n    padding: 2px 6px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .transition-bar-horizontal-content {\r\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n    max-height: calc(2 * 32px + 6px);\r\n  }\r\n  \r\n  .transition-btn-horizontal {\r\n    padding: 6px 8px;\r\n    height: 32px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   WATER RIPPLE ANIMATION\r\n   ============================================ */\r\n\r\n@keyframes waterRipple {\r\n  0% {\r\n    width: 10px;\r\n    height: 10px;\r\n    opacity: 1;\r\n    border-width: 4px;\r\n  }\r\n  40% {\r\n    opacity: 0.6;\r\n    border-width: 3px;\r\n  }\r\n  70% {\r\n    opacity: 0.3;\r\n    border-width: 2px;\r\n  }\r\n  100% {\r\n    width: 250px;\r\n    height: 250px;\r\n    opacity: 0;\r\n    border-width: 1px;\r\n  }\r\n}\r\n"
  },
  {
    "url": "http://localhost:5005/static/views/list/transition-bar-horizontal.css?v=1765920148",
    "ranges": [],
    "text": "/**\r\n * TRANSITION BAR HORIZONTAL - List View Transitions\r\n * Barra horizontal que aparece debajo de cada ticket en la vista de lista\r\n * mostrando todas las transiciones disponibles en m√°ximo dos l√≠neas\r\n */\r\n\r\n/* ============================================\r\n   TRANSITION BAR - Container Horizontal\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal {\r\n  /* Layout */\r\n  display: none; /* Hidden by default, shown when clicking transitions button */\r\n  width: 100%;\r\n  margin: 4px 0;\r\n  padding: 10px 12px;\r\n  box-sizing: border-box;\r\n  \r\n  /* Glassmorphism Effect */\r\n  background: rgba(248, 250, 252, 0.98);\r\n  backdrop-filter: blur(20px) saturate(180%);\r\n  \r\n  /* Borders & Shadows */\r\n  border: 1px solid rgba(99, 102, 241, 0.2);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n  \r\n  /* Animation */\r\n  animation: slideDown 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  transform-origin: top;\r\n}\r\n\r\n/* Dark theme */\r\nbody.theme-dark .transition-bar-horizontal {\r\n  background: rgba(20, 20, 30, 0.95);\r\n  border-color: rgba(99, 102, 241, 0.4);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n/* Show state */\r\n.transition-bar-horizontal.show {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px) scaleY(0.9);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scaleY(1);\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   HEADER - T√≠tulo compacto\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 0 6px 0;\r\n  border-bottom: 1px solid rgba(99, 102, 241, 0.15);\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.transition-bar-horizontal-title {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #667eea;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-title {\r\n  color: #8b9cff;\r\n}\r\n\r\n.transition-bar-horizontal-ticket {\r\n  font-size: 9px;\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  background: rgba(99, 102, 241, 0.1);\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-ticket {\r\n  color: #94a3b8;\r\n  background: rgba(99, 102, 241, 0.2);\r\n}\r\n\r\n.transition-bar-horizontal-close {\r\n  background: rgba(239, 68, 68, 0.1);\r\n  border: none;\r\n  color: #ef4444;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.transition-bar-horizontal-close:hover {\r\n  background: rgba(239, 68, 68, 0.2);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.transition-bar-horizontal-close:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-close {\r\n  background: rgba(239, 68, 68, 0.15);\r\n  color: #fca5a5;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-close:hover {\r\n  background: rgba(239, 68, 68, 0.25);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITIONS GRID - M√°ximo 2 l√≠neas\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-content {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n  gap: 8px;\r\n  width: 100%;\r\n  padding: 1px;\r\n}\r\n\r\n/* Custom scrollbar for overflow */\r\n.transition-bar-horizontal-content::-webkit-scrollbar {\r\n  height: 4px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.05);\r\n  border-radius: 2px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-thumb {\r\n  background: rgba(99, 102, 241, 0.3);\r\n  border-radius: 2px;\r\n}\r\n\r\n.transition-bar-horizontal-content::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(99, 102, 241, 0.5);\r\n}\r\n\r\n/* ============================================\r\n   TRANSITION BUTTON - Compacto horizontal\r\n   ============================================ */\r\n\r\n.transition-btn-horizontal {\r\n  /* Layout */\r\n  padding: 8px 12px;\r\n  min-height: 36px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  \r\n  /* Typography */\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  \r\n  /* Appearance */\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  /* Effects */\r\n  box-shadow: \r\n    0 1px 6px rgba(102, 126, 234, 0.25);\r\n  transition: all 0.3s ease;\r\n  \r\n  /* Prevent selection */\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n}\r\n\r\n/* Water ripple effect - First wave */\r\n.transition-btn-horizontal::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  border: 3px solid rgba(139, 92, 246, 0.8);\r\n  background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);\r\n  box-shadow: \r\n    0 0 10px rgba(139, 92, 246, 0.6),\r\n    inset 0 0 10px rgba(139, 92, 246, 0.4);\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n}\r\n\r\n/* Second wave */\r\n.transition-btn-horizontal::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  border: 3px solid rgba(168, 85, 247, 0.7);\r\n  background: radial-gradient(circle, rgba(168, 85, 247, 0.25) 0%, transparent 70%);\r\n  box-shadow: \r\n    0 0 8px rgba(168, 85, 247, 0.5),\r\n    inset 0 0 8px rgba(168, 85, 247, 0.3);\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n}\r\n\r\n.transition-btn-horizontal:hover::before {\r\n  animation: waterRipple 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n}\r\n\r\n.transition-btn-horizontal:hover::after {\r\n  animation: waterRipple 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s;\r\n}\r\n\r\n.transition-btn-horizontal:hover {\r\n  box-shadow: \r\n    0 4px 16px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.transition-btn-horizontal:active {\r\n  transform: scale(0.98);\r\n  box-shadow: \r\n    0 2px 8px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n/* Button content wrapper */\r\n.transition-btn-horizontal-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n/* Loading state */\r\n.transition-btn-horizontal.loading {\r\n  background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);\r\n  cursor: wait;\r\n  pointer-events: none;\r\n}\r\n\r\n/* Disable ripple on loading/success/error states */\r\n.transition-btn-horizontal.loading::before,\r\n.transition-btn-horizontal.loading::after,\r\n.transition-btn-horizontal.success::before,\r\n.transition-btn-horizontal.success::after,\r\n.transition-btn-horizontal.error::before,\r\n.transition-btn-horizontal.error::after {\r\n  display: none;\r\n}\r\n\r\n.transition-btn-horizontal.loading .transition-btn-horizontal-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.transition-btn-horizontal.loading .transition-btn-horizontal-content::after {\r\n  content: '';\r\n  width: 12px;\r\n  height: 12px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-top-color: white;\r\n  border-radius: 50%;\r\n  animation: spin 0.6s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* Success state */\r\n.transition-btn-horizontal.success {\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  pointer-events: none;\r\n}\r\n\r\n.transition-btn-horizontal.success::before {\r\n  content: '‚úì';\r\n  margin-right: 4px;\r\n}\r\n\r\n/* Error state */\r\n.transition-btn-horizontal.error {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  animation: shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97);\r\n}\r\n\r\n@keyframes shake {\r\n  0%, 100% { transform: translateX(0); }\r\n  25% { transform: translateX(-4px); }\r\n  75% { transform: translateX(4px); }\r\n}\r\n\r\n/* ============================================\r\n   LOADING STATE - Skeleton\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-loading {\r\n  display: flex;\r\n  gap: 8px;\r\n  padding: 4px;\r\n  animation: pulse 1.5s ease-in-out infinite;\r\n}\r\n\r\n.transition-skeleton {\r\n  height: 36px;\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(99, 102, 241, 0.1) 0%,\r\n    rgba(99, 102, 241, 0.2) 50%,\r\n    rgba(99, 102, 241, 0.1) 100%\r\n  );\r\n  background-size: 200% 100%;\r\n  animation: shimmer 1.5s ease-in-out infinite;\r\n  border-radius: 8px;\r\n  flex: 1;\r\n  min-width: 100px;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { background-position: -200% 0; }\r\n  100% { background-position: 200% 0; }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.7; }\r\n}\r\n\r\n/* ============================================\r\n   EMPTY STATE - No transitions available\r\n   ============================================ */\r\n\r\n.transition-bar-horizontal-empty {\r\n  text-align: center;\r\n  padding: 16px;\r\n  color: #64748b;\r\n  font-size: 13px;\r\n  font-style: italic;\r\n}\r\n\r\nbody.theme-dark .transition-bar-horizontal-empty {\r\n  color: #94a3b8;\r\n}\r\n\r\n/* ============================================\r\n   RESPONSIVE - Mobile optimizations\r\n   ============================================ */\r\n\r\n@media (max-width: 768px) {\r\n  .transition-bar-horizontal {\r\n    padding: 10px 12px;\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-content {\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 6px;\r\n  }\r\n  \r\n  .transition-btn-horizontal {\r\n    padding: 6px 10px;\r\n    height: 32px;\r\n    font-size: 11px;\r\n    gap: 4px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-header {\r\n    padding-bottom: 6px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-title {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .transition-bar-horizontal-ticket {\r\n    font-size: 10px;\r\n    padding: 2px 6px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .transition-bar-horizontal-content {\r\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n    max-height: calc(2 * 32px + 6px);\r\n  }\r\n  \r\n  .transition-btn-horizontal {\r\n    padding: 6px 8px;\r\n    height: 32px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n/* ============================================\r\n   WATER RIPPLE ANIMATION\r\n   ============================================ */\r\n\r\n@keyframes waterRipple {\r\n  0% {\r\n    width: 10px;\r\n    height: 10px;\r\n    opacity: 1;\r\n    border-width: 4px;\r\n  }\r\n  40% {\r\n    opacity: 0.6;\r\n    border-width: 3px;\r\n  }\r\n  70% {\r\n    opacity: 0.3;\r\n    border-width: 2px;\r\n  }\r\n  100% {\r\n    width: 250px;\r\n    height: 250px;\r\n    opacity: 0;\r\n    border-width: 1px;\r\n  }\r\n}\r\n"
  },
  {
    "url": "https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js",
    "ranges": [
      {
        "start": 0,
        "end": 838
      },
      {
        "start": 852,
        "end": 880
      },
      {
        "start": 887,
        "end": 892
      },
      {
        "start": 921,
        "end": 1161
      },
      {
        "start": 1307,
        "end": 1315
      },
      {
        "start": 1380,
        "end": 1383
      },
      {
        "start": 1448,
        "end": 1727
      },
      {
        "start": 1908,
        "end": 2454
      },
      {
        "start": 2622,
        "end": 2634
      },
      {
        "start": 2638,
        "end": 2641
      },
      {
        "start": 2647,
        "end": 2650
      },
      {
        "start": 2656,
        "end": 2658
      },
      {
        "start": 2935,
        "end": 3001
      },
      {
        "start": 3014,
        "end": 3017
      },
      {
        "start": 3040,
        "end": 3043
      },
      {
        "start": 3127,
        "end": 3128
      },
      {
        "start": 3209,
        "end": 3317
      },
      {
        "start": 4696,
        "end": 4705
      },
      {
        "start": 4792,
        "end": 4796
      },
      {
        "start": 4828,
        "end": 4829
      },
      {
        "start": 4951,
        "end": 5002
      },
      {
        "start": 5622,
        "end": 5658
      },
      {
        "start": 5681,
        "end": 5711
      },
      {
        "start": 5932,
        "end": 5941
      },
      {
        "start": 5989,
        "end": 5993
      },
      {
        "start": 6035,
        "end": 6039
      },
      {
        "start": 6097,
        "end": 6098
      },
      {
        "start": 6684,
        "end": 6786
      },
      {
        "start": 8286,
        "end": 8435
      },
      {
        "start": 8464,
        "end": 8473
      },
      {
        "start": 8507,
        "end": 8508
      },
      {
        "start": 8680,
        "end": 8821
      },
      {
        "start": 8832,
        "end": 8836
      },
      {
        "start": 8862,
        "end": 8866
      },
      {
        "start": 8887,
        "end": 8888
      },
      {
        "start": 9029,
        "end": 9149
      },
      {
        "start": 10222,
        "end": 12762
      },
      {
        "start": 13117,
        "end": 13238
      },
      {
        "start": 13289,
        "end": 13293
      },
      {
        "start": 13342,
        "end": 13343
      },
      {
        "start": 13997,
        "end": 14006
      },
      {
        "start": 15990,
        "end": 15991
      },
      {
        "start": 16244,
        "end": 16358
      },
      {
        "start": 16521,
        "end": 16538
      },
      {
        "start": 16552,
        "end": 16553
      },
      {
        "start": 17098,
        "end": 17099
      },
      {
        "start": 17275,
        "end": 17744
      },
      {
        "start": 17785,
        "end": 18035
      },
      {
        "start": 18063,
        "end": 18086
      },
      {
        "start": 18110,
        "end": 18127
      },
      {
        "start": 18145,
        "end": 18708
      },
      {
        "start": 18778,
        "end": 18779
      },
      {
        "start": 18796,
        "end": 18861
      },
      {
        "start": 18883,
        "end": 18895
      },
      {
        "start": 18910,
        "end": 19188
      },
      {
        "start": 19235,
        "end": 19641
      },
      {
        "start": 19647,
        "end": 19929
      },
      {
        "start": 19947,
        "end": 19958
      },
      {
        "start": 19972,
        "end": 20623
      },
      {
        "start": 20703,
        "end": 20715
      },
      {
        "start": 20768,
        "end": 20850
      },
      {
        "start": 20890,
        "end": 20902
      },
      {
        "start": 20926,
        "end": 20932
      },
      {
        "start": 21226,
        "end": 21235
      },
      {
        "start": 21290,
        "end": 21291
      },
      {
        "start": 21341,
        "end": 21382
      },
      {
        "start": 21549,
        "end": 21558
      },
      {
        "start": 21598,
        "end": 21599
      },
      {
        "start": 22191,
        "end": 22200
      },
      {
        "start": 22222,
        "end": 22223
      },
      {
        "start": 23541,
        "end": 23717
      },
      {
        "start": 30848,
        "end": 30857
      },
      {
        "start": 30874,
        "end": 30878
      },
      {
        "start": 30964,
        "end": 30965
      },
      {
        "start": 31109,
        "end": 31118
      },
      {
        "start": 31166,
        "end": 31167
      },
      {
        "start": 32201,
        "end": 32235
      },
      {
        "start": 32270,
        "end": 32274
      },
      {
        "start": 32292,
        "end": 32293
      },
      {
        "start": 33945,
        "end": 33954
      },
      {
        "start": 33969,
        "end": 33973
      },
      {
        "start": 34024,
        "end": 34028
      },
      {
        "start": 34076,
        "end": 34088
      },
      {
        "start": 34092,
        "end": 34104
      },
      {
        "start": 34110,
        "end": 34123
      },
      {
        "start": 34134,
        "end": 34149
      },
      {
        "start": 34186,
        "end": 34199
      },
      {
        "start": 34207,
        "end": 34221
      },
      {
        "start": 34236,
        "end": 34252
      },
      {
        "start": 34291,
        "end": 34304
      },
      {
        "start": 34314,
        "end": 34328
      },
      {
        "start": 34348,
        "end": 34364
      },
      {
        "start": 34408,
        "end": 34421
      },
      {
        "start": 34433,
        "end": 34447
      },
      {
        "start": 34466,
        "end": 34482
      },
      {
        "start": 34529,
        "end": 34541
      },
      {
        "start": 34559,
        "end": 34572
      },
      {
        "start": 34588,
        "end": 34603
      },
      {
        "start": 34627,
        "end": 34639
      },
      {
        "start": 34670,
        "end": 34683
      },
      {
        "start": 34713,
        "end": 34728
      },
      {
        "start": 34800,
        "end": 34812
      },
      {
        "start": 34843,
        "end": 34856
      },
      {
        "start": 34880,
        "end": 34895
      },
      {
        "start": 34961,
        "end": 34976
      },
      {
        "start": 35000,
        "end": 35016
      },
      {
        "start": 35040,
        "end": 35041
      },
      {
        "start": 35134,
        "end": 35135
      },
      {
        "start": 35188,
        "end": 35189
      },
      {
        "start": 35249,
        "end": 35250
      },
      {
        "start": 35362,
        "end": 35376
      },
      {
        "start": 35402,
        "end": 35403
      },
      {
        "start": 35541,
        "end": 35558
      },
      {
        "start": 35619,
        "end": 35621
      },
      {
        "start": 35945,
        "end": 36068
      },
      {
        "start": 36211,
        "end": 36220
      },
      {
        "start": 36228,
        "end": 36229
      },
      {
        "start": 40733,
        "end": 41121
      },
      {
        "start": 41221,
        "end": 42034
      },
      {
        "start": 42073,
        "end": 42799
      },
      {
        "start": 44600,
        "end": 44643
      },
      {
        "start": 44927,
        "end": 44928
      },
      {
        "start": 45205,
        "end": 45212
      },
      {
        "start": 45274,
        "end": 45275
      },
      {
        "start": 45381,
        "end": 45384
      },
      {
        "start": 45426,
        "end": 45429
      },
      {
        "start": 45471,
        "end": 45515
      },
      {
        "start": 47981,
        "end": 47989
      },
      {
        "start": 48181,
        "end": 48182
      },
      {
        "start": 48263,
        "end": 48264
      },
      {
        "start": 48343,
        "end": 48344
      },
      {
        "start": 49970,
        "end": 49981
      },
      {
        "start": 50272,
        "end": 50293
      },
      {
        "start": 50399,
        "end": 50632
      },
      {
        "start": 50651,
        "end": 50680
      },
      {
        "start": 51215,
        "end": 51241
      },
      {
        "start": 52102,
        "end": 52122
      },
      {
        "start": 53345,
        "end": 53346
      },
      {
        "start": 53446,
        "end": 53587
      },
      {
        "start": 53604,
        "end": 53605
      },
      {
        "start": 53700,
        "end": 53708
      },
      {
        "start": 53726,
        "end": 53737
      },
      {
        "start": 54997,
        "end": 55007
      },
      {
        "start": 56415,
        "end": 56416
      },
      {
        "start": 57951,
        "end": 57960
      },
      {
        "start": 57986,
        "end": 57990
      },
      {
        "start": 58020,
        "end": 58108
      },
      {
        "start": 68059,
        "end": 68116
      },
      {
        "start": 68149,
        "end": 68150
      },
      {
        "start": 68407,
        "end": 68408
      },
      {
        "start": 69615,
        "end": 69624
      },
      {
        "start": 69668,
        "end": 69672
      },
      {
        "start": 69695,
        "end": 69696
      },
      {
        "start": 70371,
        "end": 70391
      },
      {
        "start": 88441,
        "end": 89269
      },
      {
        "start": 89431,
        "end": 89705
      },
      {
        "start": 90453,
        "end": 90885
      },
      {
        "start": 90991,
        "end": 91015
      },
      {
        "start": 92423,
        "end": 92424
      },
      {
        "start": 94412,
        "end": 94440
      },
      {
        "start": 94515,
        "end": 94524
      },
      {
        "start": 94570,
        "end": 94580
      },
      {
        "start": 96681,
        "end": 96682
      },
      {
        "start": 96884,
        "end": 96893
      },
      {
        "start": 96962,
        "end": 97016
      },
      {
        "start": 97483,
        "end": 97498
      },
      {
        "start": 97573,
        "end": 97574
      },
      {
        "start": 97755,
        "end": 97931
      },
      {
        "start": 111469,
        "end": 111507
      },
      {
        "start": 111533,
        "end": 111536
      },
      {
        "start": 111649,
        "end": 111665
      },
      {
        "start": 111714,
        "end": 111715
      },
      {
        "start": 111899,
        "end": 111918
      },
      {
        "start": 113734,
        "end": 114153
      },
      {
        "start": 114169,
        "end": 114181
      },
      {
        "start": 114260,
        "end": 114319
      },
      {
        "start": 114694,
        "end": 114696
      },
      {
        "start": 114766,
        "end": 114770
      },
      {
        "start": 118753,
        "end": 119075
      },
      {
        "start": 119450,
        "end": 119452
      },
      {
        "start": 119522,
        "end": 119655
      },
      {
        "start": 121442,
        "end": 121841
      },
      {
        "start": 126419,
        "end": 126683
      },
      {
        "start": 128463,
        "end": 128706
      },
      {
        "start": 130435,
        "end": 130820
      },
      {
        "start": 131681,
        "end": 131913
      },
      {
        "start": 134083,
        "end": 134087
      },
      {
        "start": 137606,
        "end": 137641
      },
      {
        "start": 137978,
        "end": 138348
      },
      {
        "start": 138379,
        "end": 138381
      },
      {
        "start": 140054,
        "end": 140055
      },
      {
        "start": 141785,
        "end": 142156
      },
      {
        "start": 142175,
        "end": 142177
      },
      {
        "start": 142258,
        "end": 142259
      },
      {
        "start": 143808,
        "end": 144045
      },
      {
        "start": 144882,
        "end": 144947
      },
      {
        "start": 144963,
        "end": 145164
      },
      {
        "start": 145954,
        "end": 145958
      },
      {
        "start": 146368,
        "end": 146388
      },
      {
        "start": 149073,
        "end": 149170
      },
      {
        "start": 149715,
        "end": 149725
      },
      {
        "start": 149744,
        "end": 149748
      },
      {
        "start": 149775,
        "end": 149776
      },
      {
        "start": 150519,
        "end": 150643
      },
      {
        "start": 152122,
        "end": 152123
      },
      {
        "start": 154793,
        "end": 155146
      },
      {
        "start": 155150,
        "end": 155341
      },
      {
        "start": 159777,
        "end": 160140
      },
      {
        "start": 161066,
        "end": 161288
      },
      {
        "start": 166277,
        "end": 166278
      },
      {
        "start": 166570,
        "end": 166697
      },
      {
        "start": 168107,
        "end": 168262
      },
      {
        "start": 169447,
        "end": 169668
      },
      {
        "start": 170177,
        "end": 170236
      },
      {
        "start": 170458,
        "end": 170460
      },
      {
        "start": 170681,
        "end": 170768
      },
      {
        "start": 172666,
        "end": 172667
      },
      {
        "start": 172684,
        "end": 172686
      },
      {
        "start": 174422,
        "end": 174431
      },
      {
        "start": 174711,
        "end": 174712
      },
      {
        "start": 178047,
        "end": 178067
      },
      {
        "start": 178451,
        "end": 178452
      },
      {
        "start": 178673,
        "end": 178674
      },
      {
        "start": 178869,
        "end": 178870
      },
      {
        "start": 178983,
        "end": 179047
      },
      {
        "start": 179216,
        "end": 179237
      },
      {
        "start": 186109,
        "end": 186110
      },
      {
        "start": 186161,
        "end": 186193
      },
      {
        "start": 186296,
        "end": 186297
      },
      {
        "start": 186346,
        "end": 186347
      },
      {
        "start": 186416,
        "end": 186417
      },
      {
        "start": 186484,
        "end": 186485
      },
      {
        "start": 186541,
        "end": 186627
      },
      {
        "start": 186745,
        "end": 186786
      },
      {
        "start": 186810,
        "end": 186834
      },
      {
        "start": 187481,
        "end": 187496
      },
      {
        "start": 187520,
        "end": 187585
      },
      {
        "start": 187607,
        "end": 187628
      },
      {
        "start": 187678,
        "end": 187702
      },
      {
        "start": 188949,
        "end": 188981
      },
      {
        "start": 189111,
        "end": 189112
      },
      {
        "start": 189179,
        "end": 189180
      },
      {
        "start": 189253,
        "end": 189486
      },
      {
        "start": 189592,
        "end": 189593
      },
      {
        "start": 189640,
        "end": 189641
      },
      {
        "start": 189711,
        "end": 189913
      },
      {
        "start": 190102,
        "end": 190103
      },
      {
        "start": 190366,
        "end": 190368
      },
      {
        "start": 193041,
        "end": 193065
      },
      {
        "start": 193298,
        "end": 193339
      },
      {
        "start": 193542,
        "end": 193543
      },
      {
        "start": 193806,
        "end": 193807
      },
      {
        "start": 193854,
        "end": 193855
      },
      {
        "start": 194006,
        "end": 194071
      },
      {
        "start": 194151,
        "end": 194193
      },
      {
        "start": 203236,
        "end": 203285
      },
      {
        "start": 203345,
        "end": 203346
      },
      {
        "start": 203401,
        "end": 203402
      },
      {
        "start": 203450,
        "end": 203451
      },
      {
        "start": 203651,
        "end": 203652
      },
      {
        "start": 203763,
        "end": 204170
      },
      {
        "start": 204192,
        "end": 204202
      },
      {
        "start": 204224,
        "end": 204608
      },
      {
        "start": 204655,
        "end": 205222
      }
    ],
    "text": "/**\n * Skipped minification because the original files appears to be already minified.\n * Original file: /npm/chart.js@4.4.0/dist/chart.umd.js\n *\n * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files\n */\n/*!\n * Chart.js v4.4.0\n * https://www.chartjs.org\n * (c) 2023 Chart.js Contributors\n * Released under the MIT License\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){\"use strict\";var t=Object.freeze({__proto__:null,get Colors(){return Go},get Decimation(){return Qo},get Filler(){return ma},get Legend(){return ya},get SubTitle(){return ka},get Title(){return Ma},get Tooltip(){return Ba}});function e(){}const i=(()=>{let t=0;return()=>t++})();function s(t){return null==t}function n(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return\"[object\"===e.slice(0,7)&&\"Array]\"===e.slice(-6)}function o(t){return null!==t&&\"[object Object]\"===Object.prototype.toString.call(t)}function a(t){return(\"number\"==typeof t||t instanceof Number)&&isFinite(+t)}function r(t,e){return a(t)?t:e}function l(t,e){return void 0===t?e:t}const h=(t,e)=>\"string\"==typeof t&&t.endsWith(\"%\")?parseFloat(t)/100:+t/e,c=(t,e)=>\"string\"==typeof t&&t.endsWith(\"%\")?parseFloat(t)/100*e:+t;function d(t,e,i){if(t&&\"function\"==typeof t.call)return t.apply(i,e)}function u(t,e,i,s){let a,r,l;if(n(t))if(r=t.length,s)for(a=r-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(o(t))for(l=Object.keys(t),r=l.length,a=0;a<r;a++)e.call(i,t[l[a]],l[a])}function f(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function g(t){if(n(t))return t.map(g);if(o(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=g(t[i[n]]);return e}return t}function p(t){return-1===[\"__proto__\",\"prototype\",\"constructor\"].indexOf(t)}function m(t,e,i,s){if(!p(t))return;const n=e[t],a=i[t];o(n)&&o(a)?b(n,a,s):e[t]=g(a)}function b(t,e,i){const s=n(e)?e:[e],a=s.length;if(!o(t))return t;const r=(i=i||{}).merger||m;let l;for(let e=0;e<a;++e){if(l=s[e],!o(l))continue;const n=Object.keys(l);for(let e=0,s=n.length;e<s;++e)r(n[e],t,l,i)}return t}function x(t,e){return b(t,e,{merger:_})}function _(t,e,i){if(!p(t))return;const s=e[t],n=i[t];o(s)&&o(n)?x(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=g(n))}const y={\"\":t=>t,x:t=>t.x,y:t=>t.y};function v(t){const e=t.split(\".\"),i=[];let s=\"\";for(const t of e)s+=t,s.endsWith(\"\\\\\")?s=s.slice(0,-1)+\".\":(i.push(s),s=\"\");return i}function M(t,e){const i=y[e]||(y[e]=function(t){const e=v(t);return t=>{for(const i of e){if(\"\"===i)break;t=t&&t[i]}return t}}(e));return i(t)}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}const k=t=>void 0!==t,S=t=>\"function\"==typeof t,P=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function D(t){return\"mouseup\"===t.type||\"click\"===t.type||\"contextmenu\"===t.type}const C=Math.PI,O=2*C,A=O+C,T=Number.POSITIVE_INFINITY,L=C/180,E=C/2,R=C/4,I=2*C/3,z=Math.log10,F=Math.sign;function V(t,e,i){return Math.abs(t-e)<i}function B(t){const e=Math.round(t);t=V(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(z(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function W(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function N(t){return!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function j(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function $(t){return t*(C/180)}function Y(t){return t*(180/C)}function U(t){if(!a(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function X(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*C&&(o+=O),{angle:o,distance:n}}function q(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K(t,e){return(t-e+A)%O-C}function G(t){return(t%O+O)%O}function Z(t,e,i,s){const n=G(t),o=G(e),a=G(i),r=G(o-n),l=G(a-n),h=G(n-o),c=G(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function J(t,e,i){return Math.max(e,Math.min(i,t))}function Q(t){return J(t,-32768,32767)}function tt(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function et(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const it=(t,e,i,s)=>et(t,i,s?s=>{const n=t[s][e];return n<i||n===i&&t[s+1][e]===i}:s=>t[s][e]<i),st=(t,e,i)=>et(t,i,(s=>t[s][e]>=i));function nt(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const ot=[\"push\",\"pop\",\"shift\",\"splice\",\"unshift\"];function at(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,\"_chartjs\",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ot.forEach((e=>{const i=\"_onData\"+w(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t._chartjs.listeners.forEach((t=>{\"function\"==typeof t[i]&&t[i](...e)})),n}})})))}function rt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(ot.forEach((e=>{delete t[e]})),delete t._chartjs)}function lt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ht=\"undefined\"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ct(t,e){let i=[],s=!1;return function(...n){i=n,s||(s=!0,ht.call(window,(()=>{s=!1,t.apply(e,i)})))}}function dt(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const ut=t=>\"start\"===t?\"left\":\"end\"===t?\"right\":\"center\",ft=(t,e,i)=>\"start\"===t?e:\"end\"===t?i:(e+i)/2,gt=(t,e,i,s)=>t===(s?\"left\":\"right\")?i:\"center\"===t?(e+i)/2:e;function pt(t,e,i){const s=e.length;let n=0,o=s;if(t._sorted){const{iScale:a,_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=J(Math.min(it(r,l,h).lo,i?s:it(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?J(Math.max(it(r,a.axis,c,!0).hi+1,i?0:it(e,l,a.getPixelForValue(c),!0).hi+1),n,s)-n:s-n}return{start:n,count:o}}function mt(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}class bt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=ht.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this._notify(s,i,t,\"progress\")),n.length||(i.running=!1,this._notify(s,i,t,\"complete\"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),\"complete\")}remove(t){return this._charts.delete(t)}}var xt=new bt;\n/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */function _t(t){return t+.5|0}const yt=(t,e,i)=>Math.max(Math.min(t,i),e);function vt(t){return yt(_t(2.55*t),0,255)}function Mt(t){return yt(_t(255*t),0,255)}function wt(t){return yt(_t(t/2.55)/100,0,1)}function kt(t){return yt(_t(100*t),0,100)}const St={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pt=[...\"0123456789ABCDEF\"],Dt=t=>Pt[15&t],Ct=t=>Pt[(240&t)>>4]+Pt[15&t],Ot=t=>(240&t)>>4==(15&t);function At(t){var e=(t=>Ot(t.r)&&Ot(t.g)&&Ot(t.b)&&Ot(t.a))(t)?Dt:Ct;return t?\"#\"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):\"\")(t.a,e):void 0}const Tt=/^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;function Lt(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function Et(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function Rt(t,e,i){const s=Lt(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function It(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=function(t,e,i,s,n){return t===n?(e-i)/s+(e<i?6:0):e===n?(i-t)/s+2:(t-e)/s+4}(e,i,s,h,n),r=60*r+.5),[0|r,l||0,a]}function zt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(Mt)}function Ft(t,e,i){return zt(Lt,t,e,i)}function Vt(t){return(t%360+360)%360}function Bt(t){const e=Tt.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?vt(+e[5]):Mt(+e[5]));const n=Vt(+e[2]),o=+e[3]/100,a=+e[4]/100;return i=\"hwb\"===e[1]?function(t,e,i){return zt(Rt,t,e,i)}(n,o,a):\"hsv\"===e[1]?function(t,e,i){return zt(Et,t,e,i)}(n,o,a):Ft(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const Wt={x:\"dark\",Z:\"light\",Y:\"re\",X:\"blu\",W:\"gr\",V:\"medium\",U:\"slate\",A:\"ee\",T:\"ol\",S:\"or\",B:\"ra\",C:\"lateg\",D:\"ights\",R:\"in\",Q:\"turquois\",E:\"hi\",P:\"ro\",O:\"al\",N:\"le\",M:\"de\",L:\"yello\",F:\"en\",K:\"ch\",G:\"arks\",H:\"ea\",I:\"ightg\",J:\"wh\"},Nt={OiceXe:\"f0f8ff\",antiquewEte:\"faebd7\",aqua:\"ffff\",aquamarRe:\"7fffd4\",azuY:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"0\",blanKedOmond:\"ffebcd\",Xe:\"ff\",XeviTet:\"8a2be2\",bPwn:\"a52a2a\",burlywood:\"deb887\",caMtXe:\"5f9ea0\",KartYuse:\"7fff00\",KocTate:\"d2691e\",cSO:\"ff7f50\",cSnflowerXe:\"6495ed\",cSnsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"ffff\",xXe:\"8b\",xcyan:\"8b8b\",xgTMnPd:\"b8860b\",xWay:\"a9a9a9\",xgYF:\"6400\",xgYy:\"a9a9a9\",xkhaki:\"bdb76b\",xmagFta:\"8b008b\",xTivegYF:\"556b2f\",xSange:\"ff8c00\",xScEd:\"9932cc\",xYd:\"8b0000\",xsOmon:\"e9967a\",xsHgYF:\"8fbc8f\",xUXe:\"483d8b\",xUWay:\"2f4f4f\",xUgYy:\"2f4f4f\",xQe:\"ced1\",xviTet:\"9400d3\",dAppRk:\"ff1493\",dApskyXe:\"bfff\",dimWay:\"696969\",dimgYy:\"696969\",dodgerXe:\"1e90ff\",fiYbrick:\"b22222\",flSOwEte:\"fffaf0\",foYstWAn:\"228b22\",fuKsia:\"ff00ff\",gaRsbSo:\"dcdcdc\",ghostwEte:\"f8f8ff\",gTd:\"ffd700\",gTMnPd:\"daa520\",Way:\"808080\",gYF:\"8000\",gYFLw:\"adff2f\",gYy:\"808080\",honeyMw:\"f0fff0\",hotpRk:\"ff69b4\",RdianYd:\"cd5c5c\",Rdigo:\"4b0082\",ivSy:\"fffff0\",khaki:\"f0e68c\",lavFMr:\"e6e6fa\",lavFMrXsh:\"fff0f5\",lawngYF:\"7cfc00\",NmoncEffon:\"fffacd\",ZXe:\"add8e6\",ZcSO:\"f08080\",Zcyan:\"e0ffff\",ZgTMnPdLw:\"fafad2\",ZWay:\"d3d3d3\",ZgYF:\"90ee90\",ZgYy:\"d3d3d3\",ZpRk:\"ffb6c1\",ZsOmon:\"ffa07a\",ZsHgYF:\"20b2aa\",ZskyXe:\"87cefa\",ZUWay:\"778899\",ZUgYy:\"778899\",ZstAlXe:\"b0c4de\",ZLw:\"ffffe0\",lime:\"ff00\",limegYF:\"32cd32\",lRF:\"faf0e6\",magFta:\"ff00ff\",maPon:\"800000\",VaquamarRe:\"66cdaa\",VXe:\"cd\",VScEd:\"ba55d3\",VpurpN:\"9370db\",VsHgYF:\"3cb371\",VUXe:\"7b68ee\",VsprRggYF:\"fa9a\",VQe:\"48d1cc\",VviTetYd:\"c71585\",midnightXe:\"191970\",mRtcYam:\"f5fffa\",mistyPse:\"ffe4e1\",moccasR:\"ffe4b5\",navajowEte:\"ffdead\",navy:\"80\",Tdlace:\"fdf5e6\",Tive:\"808000\",TivedBb:\"6b8e23\",Sange:\"ffa500\",SangeYd:\"ff4500\",ScEd:\"da70d6\",pOegTMnPd:\"eee8aa\",pOegYF:\"98fb98\",pOeQe:\"afeeee\",pOeviTetYd:\"db7093\",papayawEp:\"ffefd5\",pHKpuff:\"ffdab9\",peru:\"cd853f\",pRk:\"ffc0cb\",plum:\"dda0dd\",powMrXe:\"b0e0e6\",purpN:\"800080\",YbeccapurpN:\"663399\",Yd:\"ff0000\",Psybrown:\"bc8f8f\",PyOXe:\"4169e1\",saddNbPwn:\"8b4513\",sOmon:\"fa8072\",sandybPwn:\"f4a460\",sHgYF:\"2e8b57\",sHshell:\"fff5ee\",siFna:\"a0522d\",silver:\"c0c0c0\",skyXe:\"87ceeb\",UXe:\"6a5acd\",UWay:\"708090\",UgYy:\"708090\",snow:\"fffafa\",sprRggYF:\"ff7f\",stAlXe:\"4682b4\",tan:\"d2b48c\",teO:\"8080\",tEstN:\"d8bfd8\",tomato:\"ff6347\",Qe:\"40e0d0\",viTet:\"ee82ee\",JHt:\"f5deb3\",wEte:\"ffffff\",wEtesmoke:\"f5f5f5\",Lw:\"ffff00\",LwgYF:\"9acd32\"};let Ht;function jt(t){Ht||(Ht=function(){const t={},e=Object.keys(Nt),i=Object.keys(Wt);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,Wt[o]);o=parseInt(Nt[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),Ht.transparent=[0,0,0,0]);const e=Ht[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const $t=/^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;const Yt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ut=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Xt(t,e,i){if(t){let s=It(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=Ft(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function qt(t,e){return t?Object.assign(e||{},t):t}function Kt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mt(t[3]))):(e=qt(t,{r:0,g:0,b:0,a:1})).a=Mt(e.a),e}function Gt(t){return\"r\"===t.charAt(0)?function(t){const e=$t.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=e[8]?vt(t):yt(255*t,0,255)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?vt(i):yt(i,0,255)),s=255&(e[4]?vt(s):yt(s,0,255)),n=255&(e[6]?vt(n):yt(n,0,255)),{r:i,g:s,b:n,a:o}}}(t):Bt(t)}class Zt{constructor(t){if(t instanceof Zt)return t;const e=typeof t;let i;var s,n,o;\"object\"===e?i=Kt(t):\"string\"===e&&(o=(s=t).length,\"#\"===s[0]&&(4===o||5===o?n={r:255&17*St[s[1]],g:255&17*St[s[2]],b:255&17*St[s[3]],a:5===o?17*St[s[4]]:255}:7!==o&&9!==o||(n={r:St[s[1]]<<4|St[s[2]],g:St[s[3]]<<4|St[s[4]],b:St[s[5]]<<4|St[s[6]],a:9===o?St[s[7]]<<4|St[s[8]]:255})),i=n||jt(t)||Gt(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qt(this._rgb);return t&&(t.a=wt(t.a)),t}set rgb(t){this._rgb=Kt(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?At(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=It(t),i=e[0],s=kt(e[1]),n=kt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${wt(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let n;const o=e===n?.5:e,a=2*o-1,r=i.a-s.a,l=((a*r==-1?a:(a+r)/(1+a*r))+1)/2;n=1-l,i.r=255&l*i.r+n*s.r+.5,i.g=255&l*i.g+n*s.g+.5,i.b=255&l*i.b+n*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const s=Ut(wt(t.r)),n=Ut(wt(t.g)),o=Ut(wt(t.b));return{r:Mt(Yt(s+i*(Ut(wt(e.r))-s))),g:Mt(Yt(n+i*(Ut(wt(e.g))-n))),b:Mt(Yt(o+i*(Ut(wt(e.b))-o))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Zt(this.rgb)}alpha(t){return this._rgb.a=Mt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=_t(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xt(this._rgb,2,t),this}darken(t){return Xt(this._rgb,2,-t),this}saturate(t){return Xt(this._rgb,1,t),this}desaturate(t){return Xt(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=It(t);i[0]=Vt(i[0]+e),i=Ft(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function Jt(t){if(t&&\"object\"==typeof t){const e=t.toString();return\"[object CanvasPattern]\"===e||\"[object CanvasGradient]\"===e}return!1}function Qt(t){return Jt(t)?t:new Zt(t)}function te(t){return Jt(t)?t:new Zt(t).saturate(.5).darken(.1).hexString()}const ee=[\"x\",\"y\",\"borderWidth\",\"radius\",\"tension\"],ie=[\"color\",\"borderColor\",\"backgroundColor\"];const se=new Map;function ne(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=se.get(i);return s||(s=new Intl.NumberFormat(t,e),se.set(i,s)),s}(e,i).format(t)}const oe={values:t=>n(t)?t:\"\"+t,numeric(t,e,i){if(0===t)return\"0\";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n=\"scientific\"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=z(Math.abs(o)),r=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),ne(t,s,l)},logarithmic(t,e,i){if(0===t)return\"0\";const s=i[e].significand||t/Math.pow(10,Math.floor(z(t)));return[1,2,3,5,10,15].includes(s)||e>.8*i.length?oe.numeric.call(this,t,e,i):\"\"}};var ae={formatters:oe};const re=Object.create(null),le=Object.create(null);function he(t,e){if(!e)return t;const i=e.split(\".\");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function ce(t,e,i){return\"string\"==typeof e?b(he(t,e),i):b(he(t,\"\"),e)}class de{constructor(t,e){this.animation=void 0,this.backgroundColor=\"rgba(0,0,0,0.1)\",this.borderColor=\"rgba(0,0,0,0.1)\",this.color=\"#666\",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=[\"mousemove\",\"mouseout\",\"click\",\"touchstart\",\"touchmove\"],this.font={family:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",size:12,style:\"normal\",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>te(e.backgroundColor),this.hoverBorderColor=(t,e)=>te(e.borderColor),this.hoverColor=(t,e)=>te(e.color),this.indexAxis=\"x\",this.interaction={mode:\"nearest\",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ce(this,t,e)}get(t){return he(this,t)}describe(t,e){return ce(le,t,e)}override(t,e){return ce(re,t,e)}route(t,e,i,s){const n=he(this,t),a=he(this,i),r=\"_\"+e;Object.defineProperties(n,{[r]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[r],e=a[s];return o(t)?Object.assign({},e,t):l(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach((t=>t(this)))}}var ue=new de({_scriptable:t=>!t.startsWith(\"on\"),_indexable:t=>\"events\"!==t,hover:{_fallback:\"interaction\"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set(\"animation\",{delay:void 0,duration:1e3,easing:\"easeOutQuart\",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe(\"animation\",{_fallback:!1,_indexable:!1,_scriptable:t=>\"onProgress\"!==t&&\"onComplete\"!==t&&\"fn\"!==t}),t.set(\"animations\",{colors:{type:\"color\",properties:ie},numbers:{type:\"number\",properties:ee}}),t.describe(\"animations\",{_fallback:\"animation\"}),t.set(\"transitions\",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:\"transparent\"},visible:{type:\"boolean\",duration:0}}},hide:{animations:{colors:{to:\"transparent\"},visible:{type:\"boolean\",easing:\"linear\",fn:t=>0|t}}}})},function(t){t.set(\"layout\",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set(\"scale\",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:\"ticks\",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:\"\",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:\"\",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ae.formatters.values,minor:{},major:{},align:\"center\",crossAlign:\"near\",showLabelBackdrop:!1,backdropColor:\"rgba(255, 255, 255, 0.75)\",backdropPadding:2}}),t.route(\"scale.ticks\",\"color\",\"\",\"color\"),t.route(\"scale.grid\",\"color\",\"\",\"borderColor\"),t.route(\"scale.border\",\"color\",\"\",\"borderColor\"),t.route(\"scale.title\",\"color\",\"\",\"color\"),t.describe(\"scale\",{_fallback:!1,_scriptable:t=>!t.startsWith(\"before\")&&!t.startsWith(\"after\")&&\"callback\"!==t&&\"parser\"!==t,_indexable:t=>\"borderDash\"!==t&&\"tickBorderDash\"!==t&&\"dash\"!==t}),t.describe(\"scales\",{_fallback:\"scale\"}),t.describe(\"scale.ticks\",{_scriptable:t=>\"backdropPadding\"!==t&&\"callback\"!==t,_indexable:t=>\"backdropPadding\"!==t})}]);function fe(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof document}function ge(t){let e=t.parentNode;return e&&\"[object ShadowRoot]\"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return\"string\"==typeof t?(s=parseInt(t,10),-1!==t.indexOf(\"%\")&&(s=s/100*e.parentNode[i])):s=t,s}const me=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function be(t,e){return me(t).getPropertyValue(e)}const xe=[\"top\",\"right\",\"bottom\",\"left\"];function _e(t,e,i){const s={};i=i?\"-\"+i:\"\";for(let n=0;n<4;n++){const o=xe[n];s[o]=parseFloat(t[e+\"-\"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ye=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function ve(t,e){if(\"native\"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,n=me(i),o=\"border-box\"===n.boxSizing,a=_e(n,\"padding\"),r=_e(n,\"border\",\"width\"),{x:l,y:h,box:c}=function(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:n,offsetY:o}=s;let a,r,l=!1;if(ye(n,o,t.target))a=n,r=o;else{const t=e.getBoundingClientRect();a=s.clientX-t.left,r=s.clientY-t.top,l=!0}return{x:a,y:r,box:l}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f*i.width/s),y:Math.round((h-u)/g*i.height/s)}}const Me=t=>Math.round(10*t)/10;function we(t,e,i,s){const n=me(t),o=_e(n,\"margin\"),a=pe(n.maxWidth,t,\"clientWidth\")||T,r=pe(n.maxHeight,t,\"clientHeight\")||T,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=ge(t);if(o){const t=o.getBoundingClientRect(),a=me(o),r=_e(a,\"border\",\"width\"),l=_e(a,\"padding\");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=pe(a.maxWidth,o,\"clientWidth\"),n=pe(a.maxHeight,o,\"clientHeight\")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||T,maxHeight:n||T}}(t,e,i);let{width:h,height:c}=l;if(\"content-box\"===n.boxSizing){const t=_e(n,\"border\",\"width\"),e=_e(n,\"padding\");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-o.width),c=Math.max(0,s?h/s:c-o.height),h=Me(Math.min(h,a,l.maxWidth)),c=Me(Math.min(c,r,l.maxHeight)),h&&!c&&(c=Me(h/2));return(void 0!==e||void 0!==i)&&s&&l.height&&c>l.height&&(c=l.height,h=Me(Math.floor(c*s))),{width:h,height:c}}function ke(t,e,i){const s=e||1,n=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener(\"test\",null,e),window.removeEventListener(\"test\",null,e)}catch(t){}return t}();function Pe(t,e){const i=be(t,e),s=i&&i.match(/^(\\d+)(\\.\\d+)?px$/);return s?+s[1]:void 0}function De(t){return!t||s(t.size)||s(t.family)?null:(t.style?t.style+\" \":\"\")+(t.weight?t.weight+\" \":\"\")+t.size+\"px \"+t.family}function Ce(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function Oe(t,e,i,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(o=s.data={},a=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const l=i.length;let h,c,d,u,f;for(h=0;h<l;h++)if(u=i[h],null==u||n(u)){if(n(u))for(c=0,d=u.length;c<d;c++)f=u[c],null==f||n(f)||(r=Ce(t,o,a,r,f))}else r=Ce(t,o,a,r,u);t.restore();const g=a.length/2;if(g>i.length){for(h=0;h<g;h++)delete o[a[h]];a.splice(0,g)}return r}function Ae(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function Te(t,e){(e=e||t.getContext(\"2d\")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Le(t,e,i,s){Ee(t,e,i,s,null)}function Ee(t,e,i,s,n){let o,a,r,l,h,c,d,u;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*L;if(f&&\"object\"==typeof f&&(o=f.toString(),\"[object HTMLImageElement]\"===o||\"[object HTMLCanvasElement]\"===o))return t.save(),t.translate(i,s),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:n?t.ellipse(i,s,n/2,p,0,0,O):t.arc(i,s,p,0,O),t.closePath();break;case\"triangle\":c=n?n/2:p,t.moveTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),t.closePath();break;case\"rectRounded\":h=.516*p,l=p-h,a=Math.cos(m+R)*l,d=Math.cos(m+R)*(n?n/2-h:l),r=Math.sin(m+R)*l,u=Math.sin(m+R)*(n?n/2-h:l),t.arc(i-d,s-r,h,m-C,m-E),t.arc(i+u,s-a,h,m-E,m),t.arc(i+d,s+r,h,m,m+E),t.arc(i-u,s+a,h,m+E,m+C),t.closePath();break;case\"rect\":if(!g){l=Math.SQRT1_2*p,c=n?n/2:l,t.rect(i-c,s-l,2*c,2*l);break}m+=R;case\"rectRot\":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+u,s-a),t.lineTo(i+d,s+r),t.lineTo(i-u,s+a),t.closePath();break;case\"crossRot\":m+=R;case\"cross\":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case\"star\":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a),m+=R,d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case\"line\":a=n?n/2:Math.cos(m)*p,r=Math.sin(m)*p,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r);break;case\"dash\":t.moveTo(i,s),t.lineTo(i+Math.cos(m)*(n?n/2:p),s+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Re(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ie(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ze(t){t.restore()}function Fe(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if(\"middle\"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else\"after\"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Ve(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Be(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function We(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Ne(t,e,i,o,a,r={}){const l=n(e)?e:[e],h=r.strokeWidth>0&&\"\"!==r.strokeColor;let c,d;for(t.save(),t.font=a.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),s(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),c=0;c<l.length;++c)d=l[c],r.backdrop&&We(t,r.backdrop),h&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),s(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,i,o,r.maxWidth)),t.fillText(d,i,o,r.maxWidth),Be(t,i,o,d,r),o+=Number(a.lineHeight);t.restore()}function He(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,1.5*C,C,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,C,E,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,E,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-E,!0),t.lineTo(i+a.topLeft,s)}function je(t,e=[\"\"],i,s,n=(()=>t[0])){const o=i||t;void 0===s&&(s=ti(\"_fallback\",t));const a={[Symbol.toStringTag]:\"Object\",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:n,override:i=>je([i,...t],e,o,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>qe(i,s,(()=>function(t,e,i,s){let n;for(const o of e)if(n=ti(Ue(o,t),i),void 0!==n)return Xe(t,n)?Je(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>ei(t).includes(e),ownKeys:t=>ei(t),set(t,e,i){const s=t._storage||(t._storage=n());return t[e]=s[e]=i,delete t._keys,!0}})}function $e(t,e,i,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ye(t,s),setContext:e=>$e(t,e,i,s),override:n=>$e(t.override(n),e,i,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>qe(t,e,(()=>function(t,e,i){const{_proxy:s,_context:a,_subProxy:r,_descriptors:l}=t;let h=s[e];S(h)&&l.isScriptable(e)&&(h=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=i;if(r.has(t))throw new Error(\"Recursion detected: \"+Array.from(r).join(\"->\")+\"->\"+t);r.add(t);let l=e(o,a||s);r.delete(t),Xe(t,l)&&(l=Je(n._scopes,n,t,l));return l}(e,h,t,i));n(h)&&h.length&&(h=function(t,e,i,s){const{_proxy:n,_context:a,_subProxy:r,_descriptors:l}=i;if(void 0!==a.index&&s(t))return e[a.index%e.length];if(o(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const o of i){const i=Je(s,n,t,o);e.push($e(i,a,r&&r[t],l))}}return e}(e,h,t,l.isIndexable));Xe(e,h)&&(h=$e(h,a,r&&r[e],l));return h}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function Ye(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:S(i)?i:()=>i,isIndexable:S(s)?s:()=>s}}const Ue=(t,e)=>t?t+w(e):e,Xe=(t,e)=>o(e)&&\"adapters\"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function qe(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function Ke(t,e,i){return S(t)?t(e,i):t}const Ge=(t,e)=>!0===t?e:\"string\"==typeof t?M(e,t):void 0;function Ze(t,e,i,s,n){for(const o of e){const e=Ge(i,o);if(e){t.add(e);const o=Ke(e._fallback,i,n);if(void 0!==o&&o!==i&&o!==s)return o}else if(!1===e&&void 0!==s&&i!==s)return null}return!1}function Je(t,e,i,s){const a=e._rootScopes,r=Ke(e._fallback,i,s),l=[...t,...a],h=new Set;h.add(s);let c=Qe(h,l,i,r||i,s);return null!==c&&((void 0===r||r===i||(c=Qe(h,l,r,c,s),null!==c))&&je(Array.from(h),[\"\"],a,r,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const a=s[e];if(n(a)&&o(i))return i;return a||{}}(e,i,s))))}function Qe(t,e,i,s,n){for(;i;)i=Ze(t,e,i,s,n);return i}function ti(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function ei(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith(\"_\"))))e.add(t);return Array.from(e)}(t._scopes)),e}function ii(t,e,i,s){const{iScale:n}=t,{key:o=\"r\"}=this._parsing,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={r:n.parse(M(c,o),h)};return a}const si=Number.EPSILON||1e-14,ni=(t,e)=>e<t.length&&!t[e].skip&&t[e],oi=t=>\"x\"===t?\"y\":\"x\";function ai(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=q(o,n),l=q(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s*h,u=s*c;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function ri(t,e=\"x\"){const i=oi(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=ni(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=ni(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?F(n[a-1])!==F(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=ni(t,0);for(let c=0;c<s-1;++c)l=h,h=ni(t,c+1),l&&h&&(V(e[c],0,si)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n*a*e[c],i[c+1]=o*a*e[c])))}(t,n,o),function(t,e,i=\"x\"){const s=oi(i),n=t.length;let o,a,r,l=ni(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=ni(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o*e[h])}}(t,o,e)}function li(t,e,i){return Math.max(Math.min(t,i),e)}function hi(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),\"monotone\"===e.cubicInterpolationMode)ri(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=ai(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Re(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Re(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=li(n.cp1x,e.left,e.right),n.cp1y=li(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=li(n.cp2x,e.left,e.right),n.cp2y=li(n.cp2y,e.top,e.bottom)))}(t,i)}const ci=t=>0===t||1===t,di=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*O/i),ui=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*O/i)+1,fi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*E),easeOutSine:t=>Math.sin(t*E),easeInOutSine:t=>-.5*(Math.cos(C*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ci(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ci(t)?t:di(t,.075,.3),easeOutElastic:t=>ci(t)?t:ui(t,.075,.3),easeInOutElastic(t){const e=.1125;return ci(t)?t:t<.5?.5*di(2*t,e,.45):.5+.5*ui(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-fi.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*fi.easeInBounce(2*t):.5*fi.easeOutBounce(2*t-1)+.5};function gi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function pi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:\"middle\"===s?i<.5?t.y:e.y:\"after\"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function mi(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=gi(t,n,i),r=gi(n,o,i),l=gi(o,e,i),h=gi(a,r,i),c=gi(r,l,i);return gi(h,c,i)}const bi=/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/,xi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _i(t,e){const i=(\"\"+t).match(bi);if(!i||\"normal\"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case\"px\":return t;case\"%\":t/=100}return e*t}const yi=t=>+t||0;function vi(t,e){const i={},s=o(e),n=s?Object.keys(e):e,a=o(t)?s?i=>l(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=yi(a(t));return i}function Mi(t){return vi(t,{top:\"y\",right:\"x\",bottom:\"y\",left:\"x\"})}function wi(t){return vi(t,[\"topLeft\",\"topRight\",\"bottomLeft\",\"bottomRight\"])}function ki(t){const e=Mi(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Si(t,e){t=t||{},e=e||ue.font;let i=l(t.size,e.size);\"string\"==typeof i&&(i=parseInt(i,10));let s=l(t.style,e.style);s&&!(\"\"+s).match(xi)&&(console.warn('Invalid font style specified: \"'+s+'\"'),s=void 0);const n={family:l(t.family,e.family),lineHeight:_i(l(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:l(t.weight,e.weight),string:\"\"};return n.string=De(n),n}function Pi(t,e,i,s){let o,a,r,l=!0;for(o=0,a=t.length;o<a;++o)if(r=t[o],void 0!==r&&(void 0!==e&&\"function\"==typeof r&&(r=r(e),l=!1),void 0!==i&&n(r)&&(r=r[i%r.length],l=!1),void 0!==r))return s&&!l&&(s.cacheable=!1),r}function Di(t,e,i){const{min:s,max:n}=t,o=c(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function Ci(t,e){return Object.assign(Object.create(t),e)}function Oi(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>\"center\"===t?t:\"right\"===t?\"left\":\"right\",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ai(t,e){let i,s;\"ltr\"!==e&&\"rtl\"!==e||(i=t.canvas.style,s=[i.getPropertyValue(\"direction\"),i.getPropertyPriority(\"direction\")],i.setProperty(\"direction\",e,\"important\"),t.prevTextDirection=s)}function Ti(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty(\"direction\",e[0],e[1]))}function Li(t){return\"angle\"===t?{between:Z,compare:K,normalize:G}:{between:tt,compare:(t,e)=>t-e,normalize:t=>t}}function Ei({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function Ri(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Li(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Li(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,b,x=!1,_=null;const y=()=>x||l(n,b,p)&&0!==r(n,b),v=()=>!x||0===r(o,p)||l(o,b,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==b&&(x=l(p,n,o),null===_&&y()&&(_=0===r(p,n)?t:i),null!==_&&v()&&(g.push(Ei({start:_,end:t,loop:u,count:a,style:f})),_=null),i=t,b=p));return null!==_&&g.push(Ei({start:_,end:d,loop:u,count:a,style:f})),g}function Ii(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=Ri(s[n],t.points,e);o.length&&i.push(...o)}return i}function zi(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t._loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Fi(t,[{start:a,end:r,loop:o}],i,e);return Fi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t._fullLoop&&0===a&&r===n-1),i,e)}function Fi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),o=Vi(t.options),{_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=Vi(s.setContext(Ci(n,{type:\"segment\",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),Bi(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function Vi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Bi(t,e){if(!e)return!1;const i=[],s=function(t,e){return Jt(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,s)!==JSON.stringify(e,s)}var Wi=Object.freeze({__proto__:null,HALF_PI:E,INFINITY:T,PI:C,PITAU:A,QUARTER_PI:R,RAD_PER_DEG:L,TAU:O,TWO_THIRDS_PI:I,_addGrace:Di,_alignPixel:Ae,_alignStartEnd:ft,_angleBetween:Z,_angleDiff:K,_arrayUnique:lt,_attachContext:$e,_bezierCurveTo:Ve,_bezierInterpolation:mi,_boundSegment:Ri,_boundSegments:Ii,_capitalize:w,_computeSegments:zi,_createResolver:je,_decimalPlaces:U,_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': \"'+i+'\" is deprecated. Please use \"'+s+'\" instead')},_descriptors:Ye,_elementsEqual:f,_factorize:W,_filterBetween:nt,_getParentNode:ge,_getStartAndCountOfVisiblePoints:pt,_int16Range:Q,_isBetween:tt,_isClickEvent:D,_isDomSupported:fe,_isPointInArea:Re,_limitValue:J,_longestText:Oe,_lookup:et,_lookupByKey:it,_measureText:Ce,_merger:m,_mergerIf:_,_normalizeAngle:G,_parseObjectDataRadialScale:ii,_pointInLine:gi,_readValueToProps:vi,_rlookupByKey:st,_scaleRangesChanged:mt,_setMinAndMaxByKey:j,_splitKey:v,_steppedInterpolation:pi,_steppedLineTo:Fe,_textX:gt,_toLeftRightCenter:ut,_updateBezierControlPoints:hi,addRoundedRectPath:He,almostEquals:V,almostWhole:H,callback:d,clearCanvas:Te,clipArea:Ie,clone:g,color:Qt,createContext:Ci,debounce:dt,defined:k,distanceBetweenPoints:q,drawPoint:Le,drawPointLegend:Ee,each:u,easingEffects:fi,finiteOrDefault:r,fontString:function(t,e,i){return e+\" \"+t+\"px \"+i},formatNumber:ne,getAngleFromPoint:X,getHoverColor:te,getMaximumSize:we,getRelativePosition:ve,getRtlAdapter:Oi,getStyle:be,isArray:n,isFinite:a,isFunction:S,isNullOrUndef:s,isNumber:N,isObject:o,isPatternOrGradient:Jt,listenArrayEvents:at,log10:z,merge:b,mergeIf:x,niceNum:B,noop:e,overrideTextDirection:Ai,readUsedSize:Pe,renderText:Ne,requestAnimFrame:ht,resolve:Pi,resolveObjectKey:M,restoreTextDirection:Ti,retinaScale:ke,setsEqual:P,sign:F,splineCurve:ai,splineCurveMonotone:ri,supportsEventListenerOptions:Se,throttled:ct,toDegrees:Y,toDimension:c,toFont:Si,toFontString:De,toLineHeight:_i,toPadding:ki,toPercentage:h,toRadians:$,toTRBL:Mi,toTRBLCorners:wi,uid:i,unclipArea:ze,unlistenArrayEvents:rt,valueOrDefault:l});function Ni(t,e,i,s){const{controller:n,data:o,_sorted:a}=t,r=n._cachedMeta.iScale;if(r&&e===r.axis&&\"r\"!==e&&a&&o.length){const t=r._reversePixels?st:it;if(!s)return t(o,e,i);if(n._sharedOptions){const s=o[0],n=\"function\"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Hi(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Ni(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function ji(t,e,i,s,n){const o=[];if(!n&&!t.isPointInArea(e))return o;return Hi(t,i,e,(function(i,a,r){(n||Re(i,t.chartArea,0))&&i.inRange(e.x,e.y,s)&&o.push({element:i,datasetIndex:a,index:r})}),!0),o}function $i(t,e,i,s,n,o){let a=[];const r=function(t){const e=-1!==t.indexOf(\"x\"),i=-1!==t.indexOf(\"y\");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let l=Number.POSITIVE_INFINITY;return Hi(t,i,e,(function(i,h,c){const d=i.inRange(e.x,e.y,n);if(s&&!d)return;const u=i.getCenterPoint(n);if(!(!!o||t.isPointInArea(u))&&!d)return;const f=r(e,u);f<l?(a=[{element:i,datasetIndex:h,index:c}],l=f):f===l&&a.push({element:i,datasetIndex:h,index:c})})),a}function Yi(t,e,i,s,n,o){return o||t.isPointInArea(e)?\"r\"!==i||s?$i(t,e,i,s,n,o):function(t,e,i,s){let n=[];return Hi(t,i,e,(function(t,i,o){const{startAngle:a,endAngle:r}=t.getProps([\"startAngle\",\"endAngle\"],s),{angle:l}=X(t,{x:e.x,y:e.y});Z(l,a,r)&&n.push({element:t,datasetIndex:i,index:o})})),n}(t,e,i,n):[]}function Ui(t,e,i,s,n){const o=[],a=\"x\"===i?\"inXRange\":\"inYRange\";let r=!1;return Hi(t,i,e,((t,s,l)=>{t[a](e[i],n)&&(o.push({element:t,datasetIndex:s,index:l}),r=r||t.inRange(e.x,e.y,n))})),s&&!r?[]:o}var Xi={evaluateInteractionItems:Hi,modes:{index(t,e,i,s){const n=ve(e,t),o=i.axis||\"x\",a=i.includeInvisible||!1,r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a),l=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,s){const n=ve(e,t),o=i.axis||\"xy\",a=i.includeInvisible||!1;let r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point:(t,e,i,s)=>ji(t,ve(e,t),i.axis||\"xy\",s,i.includeInvisible||!1),nearest(t,e,i,s){const n=ve(e,t),o=i.axis||\"xy\",a=i.includeInvisible||!1;return Yi(t,n,o,i.intersect,s,a)},x:(t,e,i,s)=>Ui(t,ve(e,t),\"x\",i.intersect,s),y:(t,e,i,s)=>Ui(t,ve(e,t),\"y\",i.intersect,s)}};const qi=[\"left\",\"top\",\"right\",\"bottom\"];function Ki(t,e){return t.filter((t=>t.pos===e))}function Gi(t,e){return t.filter((t=>-1===qi.indexOf(t.pos)&&t.box.axis===e))}function Zi(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function Ji(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!qi.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h*n:a&&e.availableHeight)}return i}function Qi(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ts(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function es(t,e,i,s){const{pos:n,box:a}=i,r=t.maxPadding;if(!o(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?a.height:a.width),i.size=e.size/e.count,t[n]+=i.size}a.getPadding&&ts(r,a.getPadding());const l=Math.max(0,e.outerWidth-Qi(r,t,\"left\",\"right\")),h=Math.max(0,e.outerHeight-Qi(r,t,\"top\",\"bottom\")),c=l!==t.w,d=h!==t.h;return t.w=l,t.h=h,i.horizontal?{same:c,other:d}:{same:d,other:c}}function is(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}return s(t?[\"left\",\"right\"]:[\"top\",\"bottom\"])}function ss(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,is(r.horizontal,e));const{same:a,other:d}=es(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&ss(n,e,i,s)||c}function ns(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function os(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w*h,o=l.size||t.height;k(l.start)&&(a=l.start),t.fullSize?ns(t,n.left,a,i.outerWidth-n.right-n.left,o):ns(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h*h,a=l.size||t.width;k(l.start)&&(o=l.start),t.fullSize?ns(t,o,n.top,a,i.outerHeight-n.bottom-n.top):ns(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}var as={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||\"top\",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=ki(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:o,options:{stack:a,stackWeight:r=1}}=n),e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=Zi(e.filter((t=>t.box.fullSize)),!0),s=Zi(Ki(e,\"left\"),!0),n=Zi(Ki(e,\"right\")),o=Zi(Ki(e,\"top\"),!0),a=Zi(Ki(e,\"bottom\")),r=Gi(e,\"x\"),l=Gi(e,\"y\");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:Ki(e,\"chartArea\"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;u(t.boxes,(t=>{\"function\"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},n);ts(f,ki(s));const g=Object.assign({maxPadding:f,w:o,h:a,x:n.left,y:n.top},n),p=Ji(l.concat(h),d);ss(r.fullSize,g,d,p),ss(l,g,d,p),ss(h,g,d,p)&&ss(l,g,d,p),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i(\"top\"),t.x+=i(\"left\"),i(\"right\"),i(\"bottom\")}(g),os(r.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,os(r.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},u(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})}))}};class rs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class ls extends rs{acquireContext(t){return t&&t.getContext&&t.getContext(\"2d\")||null}updateConfig(t){t.options.animation=!1}}const hs=\"$chartjs\",cs={touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\",pointerenter:\"mouseenter\",pointerdown:\"mousedown\",pointermove:\"mousemove\",pointerup:\"mouseup\",pointerleave:\"mouseout\",pointerout:\"mouseout\"},ds=t=>null===t||\"\"===t;const us=!!Se&&{passive:!0};function fs(t,e,i){t.canvas.removeEventListener(e,i,us)}function gs(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function ps(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.addedNodes,s),e=e&&!gs(i.removedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function ms(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.removedNodes,s),e=e&&!gs(i.addedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const bs=new Map;let xs=0;function _s(){const t=window.devicePixelRatio;t!==xs&&(xs=t,bs.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function ys(t,e,i){const s=t.canvas,n=s&&ge(s);if(!n)return;const o=ct(((t,e)=>{const s=n.clientWidth;i(t,e),s<n.clientWidth&&i()}),window),a=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||o(i,s)}));return a.observe(n),function(t,e){bs.size||window.addEventListener(\"resize\",_s),bs.set(t,e)}(t,o),a}function vs(t,e,i){i&&i.disconnect(),\"resize\"===e&&function(t){bs.delete(t),bs.size||window.removeEventListener(\"resize\",_s)}(t)}function Ms(t,e,i){const s=t.canvas,n=ct((e=>{null!==t.ctx&&i(function(t,e){const i=cs[t.type]||t.type,{x:s,y:n}=ve(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t);return function(t,e,i){t.addEventListener(e,i,us)}(s,e,n),n}class ws extends rs{acquireContext(t,e){const i=t&&t.getContext&&t.getContext(\"2d\");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute(\"height\"),n=t.getAttribute(\"width\");if(t[hs]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||\"block\",i.boxSizing=i.boxSizing||\"border-box\",ds(n)){const e=Pe(t,\"width\");void 0!==e&&(t.width=e)}if(ds(s))if(\"\"===t.style.height)t.height=t.width/(e||2);else{const e=Pe(t,\"height\");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[hs])return!1;const i=e[hs].initial;[\"height\",\"width\"].forEach((t=>{const n=i[t];s(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[hs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:ps,detach:ms,resize:ys}[e]||Ms;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:vs,detach:vs,resize:vs}[e]||fs)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return we(t,e,i,s)}isAttached(t){const e=ge(t);return!(!e||!e.isConnected)}}function ks(t){return!fe()||\"undefined\"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ls:ws}var Ss=Object.freeze({__proto__:null,BasePlatform:rs,BasicPlatform:ls,DomPlatform:ws,_detectPlatform:ks});const Ps=\"transparent\",Ds={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=Qt(t||Ps),n=s.valid&&Qt(e||Ps);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Cs{constructor(t,e,i,s){const n=e[i];s=Pi([t.to,s,n,t.from]);const o=Pi([t.from,n,s]);this._active=!0,this._fn=t.fn||Ds[t.type||typeof o],this._easing=fi[t.easing]||fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,o=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Pi([t.to,e,s,t.from]),this._from=Pi([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,o=this._loop,a=this._to;let r;if(this._active=n!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[s]=this._fn(n,a,r))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?\"res\":\"rej\",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class Os{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!o(t))return;const e=Object.keys(ue.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((s=>{const a=t[s];if(!o(a))return;const r={};for(const t of e)r[t]=a[t];(n(a.properties)&&a.properties||[s]).forEach((t=>{t!==s&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if(\"$\"===l.charAt(0))continue;if(\"options\"===l){s.push(...this._animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new Cs(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(xt.add(this._chart,i),!0):void 0}}function As(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function Ts(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function Ls(t,e,i,s={}){const n=t.keys,o=\"single\"===s.mode;let r,l,h,c;if(null!==e){for(r=0,l=n.length;r<l;++r){if(h=+n[r],h===i){if(s.all)continue;break}c=t.values[h],a(c)&&(o||0===e||F(e)===F(c))&&(e+=c)}return e}}function Es(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Rs(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Is(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function zs(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i._stacks||(i._stacks={}))[h]=Rs(n,c,o),u[r]=d,u._top=Is(u,a,!0,s.type),u._bottom=Is(u,a,!1,s.type);(u._visualValues||(u._visualValues={}))[r]=d}}function Fs(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Vs(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i],void 0!==e[s]._visualValues&&void 0!==e[s]._visualValues[i]&&delete e[s]._visualValues[i]}}}const Bs=t=>\"reset\"===t||\"none\"===t,Ws=(t,e)=>e?t:Object.assign({},t);class Ns{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Es(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled(\"filler\")&&console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\")}updateIndex(t){this.index!==t&&Vs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>\"x\"===t?e:\"r\"===t?s:i,n=e.xAxisID=l(i.xAxisID,Fs(t,\"x\")),o=e.yAxisID=l(i.yAxisID,Fs(t,\"y\")),a=e.rAxisID=l(i.rAxisID,Fs(t,\"r\")),r=e.indexAxis,h=e.iAxisID=s(r,n,o,a),c=e.vAxisID=s(r,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update(\"reset\")}_destroy(){const t=this._cachedMeta;this._data&&rt(this._data,this),t._stacked&&Vs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(o(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){rt(i,this);const t=this._cachedMeta;Vs(t),t._parsed=[]}e&&Object.isExtensible(e)&&at(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=Es(e.vScale,e),e.stack!==i.stack&&(s=!0,Vs(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&zs(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:r}=i,l=a.axis;let h,c,d,u=0===t&&e===s.length||i._sorted,f=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,d=s;else{d=n(s[t])?this.parseArrayData(i,s,t,e):o(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const a=()=>null===c[l]||f&&c[l]<f[l];for(h=0;h<e;++h)i._parsed[h+t]=c=d[h],u&&(a()&&(u=!1),f=c);i._sorted=u}r&&zs(this,d)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a=\"x\",yAxisKey:r=\"y\"}=this._parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(M(u,a),d),y:o.parse(M(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,o=e[t.axis];return Ls({keys:Ts(s,!0),values:e._stacks[t.axis]._visualValues},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=Ls(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,o=s.length,r=this._getOtherScale(t),l=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Ts(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(r);let u,f;function g(){f=s[u];const e=f[r.axis];return!a(f[t.axis])||c>e||d<e}for(u=0;u<o&&(g()||(this.updateRangeFromParsed(h,t,f,l),!n));++u);if(n)for(u=o-1;u>=0;--u)if(!g()){this.updateRangeFromParsed(h,t,f,l);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s][t.axis],a(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?\"\"+i.getLabelForValue(n[i.axis]):\"\",value:s?\"\"+s.getLabelForValue(n[s.axis]):\"\"}}_update(t){const e=this._cachedMeta;this.update(t||\"default\"),e._clip=function(t){let e,i,s,n;return o(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(l(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=As(t,i),n=As(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,n,a,r),h=a;h<a+r;++h){const e=s[h];e.hidden||(e.active&&l?o.push(e):e.draw(t,n))}for(h=0;h<o.length;++h)o[h].draw(t,n)}getStyle(t,e){const i=e?\"active\":\"default\";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return Ci(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:\"default\",type:\"data\"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return Ci(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:\"default\",type:\"dataset\"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e=\"default\",i){const s=\"active\"===e,n=this._cachedDataOpts,o=t+\"-\"+e,a=n[o],r=this.enableOptionSharing&&k(i);if(a)return Ws(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,\"hover\",t,\"\"]:[t,\"\"],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(ue.elements[t]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,s,e)),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(Ws(f,r))),f}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new Os(s,r&&r.animations);return r&&r._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bs(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,n=this.getSharedOptions(i),o=this.includeOptions(e,n)||n!==s;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:o}}updateElement(t,e,i,s){Bs(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Bs(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,\"active\",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,\"active\",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,\"active\",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,\"active\",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&r(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,\"reset\")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Vs(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync([\"_insertElements\",this.getDataset().data.length-t,t])}_onDataPop(){this._sync([\"_removeElements\",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync([\"_removeElements\",0,1])}_onDataSplice(t,e){e&&this._sync([\"_removeElements\",t,e]);const i=arguments.length-2;i&&this._sync([\"_insertElements\",t,i])}_onDataUnshift(){this._sync([\"_insertElements\",0,arguments.length])}}class Hs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps([\"x\",\"y\"],t);return{x:e,y:i}}hasValue(){return N(this.x)&&N(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}function js(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),o=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],r=a.length,l=a[0],h=a[r-1],c=[];if(r>o)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o*s])}(e,c,a,r/o),c;const d=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=W(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(a,e,o);if(r>0){let t,i;const n=r>1?Math.round((h-l)/(r-1)):null;for($s(e,c,d,s(n)?0:l-n,l),t=0,i=r-1;t<i;t++)$s(e,c,d,a[t],a[t+1]);return $s(e,c,d,h,s(n)?e.length:h+n),c}return $s(e,c,d),c}function $s(t,e,i,s,n){const o=l(s,0),a=Math.min(l(n,t.length),t.length);let r,h,c,d=0;for(i=Math.ceil(i),n&&(r=n-s,i=r/Math.floor(r/i)),c=o;c<0;)d++,c=Math.round(o+d*i);for(h=Math.max(o,0);h<a;h++)h===c&&(e.push(t[h]),d++,c=Math.round(o+d*i))}const Ys=(t,e,i)=>\"top\"===e||\"left\"===e?t[e]+i:t[e]-i,Us=(t,e)=>Math.min(e||t,t);function Xs(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function qs(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t._startPixel,a=t._endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Ks(t){return t.drawTicks?t.tickLength:0}function Gs(t,e){if(!t.display)return 0;const i=Si(t.font,e),s=ki(t.padding);return(n(t.text)?t.text.length:1)*i.lineHeight+s.height}function Zs(t,e,i){let s=ut(t);return(i&&\"right\"!==e||!i&&\"right\"===e)&&(s=(t=>\"left\"===t?\"right\":\"right\"===t?\"left\":t)(s)),s}class Js extends Hs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=r(t,Number.POSITIVE_INFINITY),e=r(e,Number.NEGATIVE_INFINITY),i=r(i,Number.POSITIVE_INFINITY),s=r(s,Number.NEGATIVE_INFINITY),{min:r(t,i),max:r(e,s),minDefined:a(t),maxDefined:a(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)e=a[r].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:r(i,r(s,i)),max:r(s,r(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Di(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this._convertTicksToLabels(r?Xs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||\"auto\"===o.source)&&(this.ticks=js(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),d(this.options[t],[this])}beforeDataLimits(){this._callHooks(\"beforeDataLimits\")}determineDataLimits(){}afterDataLimits(){this._callHooks(\"afterDataLimits\")}beforeBuildTicks(){this._callHooks(\"beforeBuildTicks\")}buildTicks(){return[]}afterBuildTicks(){this._callHooks(\"afterBuildTicks\")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=d(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Us(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=J(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Ks(t.grid)-e.padding-Gs(t.title,this.chart.options.font),r=Math.sqrt(c*c+d*d),l=Y(Math.min(Math.asin(J((h.highest.height+6)/o,-1,1)),Math.asin(J(a/r,-1,1))-Math.asin(J(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Gs(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ks(n)+o):(t.height=this.maxHeight,t.width=Ks(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this._getLabelSizes(),r=2*i.padding,l=$(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c*n.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h*n.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this._calculatePadding(e,s,c,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l=\"top\"!==a&&\"x\"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s*t.width,d=i*e.height):(c=i*t.height,d=s*e.width):\"start\"===n?d=e.width:\"end\"===n?c=t.width:\"inner\"!==n&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;\"start\"===n?(i=0,s=t.height):\"end\"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return\"top\"===e||\"bottom\"===e||\"x\"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)s(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Xs(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:a}=this,r=[],l=[],h=Math.floor(e/Us(e,i));let c,d,f,g,p,m,b,x,_,y,v,M=0,w=0;for(c=0;c<e;c+=h){if(g=t[c].label,p=this._resolveTickFontOptions(c),o.font=m=p.string,b=a[m]=a[m]||{data:{},gc:[]},x=p.lineHeight,_=y=0,s(g)||n(g)){if(n(g))for(d=0,f=g.length;d<f;++d)v=g[d],s(v)||n(v)||(_=Ce(o,b.data,b.gc,_,v),y+=x)}else _=Ce(o,b.data,b.gc,_,g),y=x;r.push(_),l.push(y),M=Math.max(_,M),w=Math.max(y,w)}!function(t,e){u(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(a,e);const k=r.indexOf(M),S=l.indexOf(w),P=t=>({width:r[t]||0,height:l[t]||0});return{first:P(0),last:P(e-1),widest:P(k),highest:P(S),widths:r,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Q(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Ci(t,{tick:i,index:e,type:\"tick\"})}(this.getContext(),t,i))}return this.$context||(this.$context=Ci(this.chart.getContext(),{scale:this,type:\"scale\"}))}_tickSize(){const t=this.options.ticks,e=$(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r*i>a*s?a/i:r/s:r*s<a*i?r/i:a/s}_isVisible(){const t=this.options.display;return\"auto\"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:a,border:r}=s,h=n.offset,c=this.isHorizontal(),d=this.ticks.length+(h?1:0),u=Ks(n),f=[],g=r.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(t){return Ae(i,t,p)};let x,_,y,v,M,w,k,S,P,D,C,O;if(\"top\"===a)x=b(this.bottom),w=this.bottom-u,S=x-m,D=b(t.top)+m,O=t.bottom;else if(\"bottom\"===a)x=b(this.top),D=t.top,O=b(t.bottom)-m,w=x+m,S=this.top+u;else if(\"left\"===a)x=b(this.right),M=this.right-u,k=x-m,P=b(t.left)+m,C=t.right;else if(\"right\"===a)x=b(this.left),P=t.left,C=b(t.right)-m,M=x+m,k=this.left+u;else if(\"x\"===e){if(\"center\"===a)x=b((t.top+t.bottom)/2+.5);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}D=t.top,O=t.bottom,w=x+m,S=w+u}else if(\"y\"===e){if(\"center\"===a)x=b((t.left+t.right)/2);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}M=x-m,k=M-u,P=t.left,C=t.right}const A=l(s.ticks.maxTicksLimit,d),T=Math.max(1,Math.ceil(d/A));for(_=0;_<d;_+=T){const t=this.getContext(_),e=n.setContext(t),s=r.setContext(t),o=e.lineWidth,a=e.color,l=s.dash||[],d=s.dashOffset,u=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=qs(this,_,h),void 0!==y&&(v=Ae(i,y,o),c?M=k=P=C=v:w=S=D=O=v,f.push({tx1:M,ty1:w,tx2:k,ty2:S,x1:P,y1:D,x2:C,y2:O,width:o,color:a,borderDash:l,borderDashOffset:d,tickWidth:u,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,r=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:c,padding:d,mirror:u}=a,f=Ks(i.grid),g=f+d,p=u?-d:g,m=-$(this.labelRotation),b=[];let x,_,y,v,M,w,k,S,P,D,C,O,A=\"middle\";if(\"top\"===s)w=this.bottom-p,k=this._getXAxisLabelAlignment();else if(\"bottom\"===s)w=this.top+p,k=this._getXAxisLabelAlignment();else if(\"left\"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if(\"right\"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if(\"x\"===e){if(\"center\"===s)w=(t.top+t.bottom)/2+g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];w=this.chart.scales[t].getPixelForValue(e)+g}k=this._getXAxisLabelAlignment()}else if(\"y\"===e){if(\"center\"===s)M=(t.left+t.right)/2-g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];M=this.chart.scales[t].getPixelForValue(e)}k=this._getYAxisLabelAlignment(f).textAlign}\"y\"===e&&(\"start\"===h?A=\"top\":\"end\"===h&&(A=\"bottom\"));const T=this._getLabelSizes();for(x=0,_=l.length;x<_;++x){y=l[x],v=y.label;const t=a.setContext(this.getContext(x));S=this.getPixelForTick(x)+a.labelOffset,P=this._resolveTickFontOptions(x),D=P.lineHeight,C=n(v)?v.length:1;const e=C/2,i=t.color,o=t.textStrokeColor,h=t.textStrokeWidth;let d,f=k;if(r?(M=S,\"inner\"===k&&(f=x===_-1?this.options.reverse?\"left\":\"right\":0===x?this.options.reverse?\"right\":\"left\":\"center\"),O=\"top\"===s?\"near\"===c||0!==m?-C*D+D/2:\"center\"===c?-T.highest.height/2-e*D+D:-T.highest.height+D/2:\"near\"===c||0!==m?D/2:\"center\"===c?T.highest.height/2-e*D:T.highest.height-C*D,u&&(O*=-1),0===m||t.showLabelBackdrop||(M+=D/2*Math.sin(m))):(w=S,O=(1-C)*D/2),t.showLabelBackdrop){const e=ki(t.backdropPadding),i=T.heights[x],s=T.widths[x];let n=O-e.top,o=0-e.left;switch(A){case\"middle\":n-=i/2;break;case\"bottom\":n-=i}switch(k){case\"center\":o-=s/2;break;case\"right\":o-=s}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}b.push({label:v,font:P,textOffset:O,options:{rotation:m,color:i,strokeColor:o,strokeWidth:h,textAlign:f,textBaseline:A,translation:[M,w],backdrop:d}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-$(this.labelRotation))return\"top\"===t?\"left\":\"right\";let i=\"center\";return\"start\"===e.align?i=\"left\":\"end\"===e.align?i=\"right\":\"inner\"===e.align&&(i=\"inner\"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this._getLabelSizes().widest.width;let r,l;return\"left\"===e?s?(l=this.right+n,\"near\"===i?r=\"left\":\"center\"===i?(r=\"center\",l+=a/2):(r=\"right\",l+=a)):(l=this.right-o,\"near\"===i?r=\"right\":\"center\"===i?(r=\"center\",l-=a/2):(r=\"left\",l=this.left)):\"right\"===e?s?(l=this.left+n,\"near\"===i?r=\"right\":\"center\"===i?(r=\"center\",l-=a/2):(r=\"left\",l-=a)):(l=this.left+o,\"near\"===i?r=\"left\":\"center\"===i?(r=\"center\",l+=a/2):(r=\"right\",l=this.right)):r=\"right\",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return\"left\"===e||\"right\"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:\"top\"===e||\"bottom\"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,n=i.setContext(this.getContext()),o=i.display?n.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let l,h,c,d;this.isHorizontal()?(l=Ae(t,this.left,o)-o/2,h=Ae(t,this.right,a)+a/2,c=d=r):(c=Ae(t,this.top,o)-o/2,d=Ae(t,this.bottom,a)+a/2,l=h=r),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&Ie(e,i);const s=this.getLabelItems(t);for(const t of s){const i=t.options,s=t.font;Ne(e,t.label,0,t.textOffset,s,i)}i&&ze(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Si(i.font),r=ki(i.padding),l=i.align;let h=a.lineHeight/2;\"bottom\"===e||\"center\"===e||o(e)?(h+=r.bottom,n(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=r.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=function(t,e,i,s){const{top:n,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-n,b=l-a;if(t.isHorizontal()){if(f=ft(s,a,l),o(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g=\"center\"===i?(c.bottom+c.top)/2+m-e:Ys(t,i,e);u=l-a}else{if(o(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-b+e}else f=\"center\"===i?(c.left+c.right)/2-b+e:Ys(t,i,e);g=ft(s,r,n),p=\"left\"===i?-E:E}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,h,e,l);Ne(t,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:f,textAlign:Zs(l,e,s),textBaseline:\"middle\",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=l(t.grid&&t.grid.z,-1),s=l(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Js.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+\"AxisID\",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}_resolveTickFontOptions(t){return Si(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return\"id\"in t&&\"defaults\"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+\".\"+n;if(!n)throw new Error(\"class does not have id: \"+t);return n in s||(s[n]=t,function(t,e,i){const s=b(Object.create(null),[i?ue.get(i):{},ue.get(e),t.defaults]);ue.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split(\".\"),n=s.pop(),o=[t].concat(s).join(\".\"),a=e[i].split(\".\"),r=a.pop(),l=a.join(\".\");ue.route(o,n,l,r)}))}(e,t.defaultRoutes);t.descriptors&&ue.describe(e,t.descriptors)}(t,o,i),this.override&&ue.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ue[s]&&(delete ue[s][i],this.override&&delete re[i])}}class tn{constructor(){this.controllers=new Qs(Ns,\"datasets\",!0),this.elements=new Qs(Hs,\"elements\"),this.plugins=new Qs(Object,\"plugins\"),this.scales=new Qs(Js,\"scales\"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each(\"register\",t)}remove(...t){this._each(\"unregister\",t)}addControllers(...t){this._each(\"register\",t,this.controllers)}addElements(...t){this._each(\"register\",t,this.elements)}addPlugins(...t){this._each(\"register\",t,this.plugins)}addScales(...t){this._each(\"register\",t,this.scales)}getController(t){return this._get(t,this.controllers,\"controller\")}getElement(t){return this._get(t,this.elements,\"element\")}getPlugin(t){return this._get(t,this.plugins,\"plugin\")}getScale(t){return this._get(t,this.scales,\"scale\")}removeControllers(...t){this._each(\"unregister\",t,this.controllers)}removeElements(...t){this._each(\"unregister\",t,this.elements)}removePlugins(...t){this._each(\"unregister\",t,this.plugins)}removeScales(...t){this._each(\"unregister\",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):u(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=w(t);d(i[\"before\"+s],[],i),e[t](i),d(i[\"after\"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('\"'+t+'\" is not a registered '+i+\".\");return s}}var en=new tn;class sn{constructor(){this._init=[]}notify(t,e,i,s){\"beforeInit\"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,\"install\"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(n,t,e,i);return\"afterDestroy\"===e&&(this._notify(n,t,\"stop\"),this._notify(this._init,t,\"uninstall\")),o}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===d(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=l(i.options&&i.options.plugins,{}),n=function(t){const e={},i=[],s=Object.keys(en.plugins.items);for(let t=0;t<s.length;t++)i.push(en.getPlugin(s[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const s=n[t];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==s||e?function(t,{plugins:e,localIds:i},s,n){const o=[],a=t.getContext();for(const r of e){const e=r.id,l=nn(s[e],n);null!==l&&o.push({plugin:r,options:on(t.config,{plugin:r,local:i[e]},l,a)})}return o}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,\"stop\"),this._notify(s(i,e),t,\"start\")}}function nn(t,e){return e||!1!==t?!0===t?{}:t:null}function on(t,{plugin:e,local:i},s,n){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(s,o);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[\"\"],{scriptable:!1,indexable:!1,allKeys:!0})}function an(t,e){const i=ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||\"x\"}function rn(t){if(\"x\"===t||\"y\"===t||\"r\"===t)return t}function ln(t,...e){if(rn(t))return t;for(const s of e){const e=s.axis||(\"top\"===(i=s.position)||\"bottom\"===i?\"x\":\"left\"===i||\"right\"===i?\"y\":void 0)||t.length>1&&rn(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hn(t,e,i){if(i[e+\"AxisID\"]===t)return{axis:e}}function cn(t,e){const i=re[t.type]||{scales:{}},s=e.scales||{},n=an(t.type,e),a=Object.create(null);return Object.keys(s).forEach((e=>{const r=s[e];if(!o(r))return console.error(`Invalid scale configuration for scale: ${e}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=ln(e,r,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return hn(t,\"x\",i[0])||hn(t,\"y\",i[0])}return{}}(e,t),ue.scales[r.type]),h=function(t,e){return t===e?\"_index_\":\"_value_\"}(l,n),c=i.scales||{};a[e]=x(Object.create(null),[{axis:l},r,c[l],c[h]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,o=i.indexAxis||an(n,e),r=(re[n]||{}).scales||{};Object.keys(r).forEach((t=>{const e=function(t,e){let i=t;return\"_index_\"===t?i=e:\"_value_\"===t&&(i=\"x\"===e?\"y\":\"x\"),i}(t,o),n=i[e+\"AxisID\"]||e;a[n]=a[n]||Object.create(null),x(a[n],[{axis:e},s[n],r[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];x(e,[ue.scales[e.type],ue.scale])})),a}function dn(t){const e=t.options||(t.options={});e.plugins=l(e.plugins,{}),e.scales=cn(t,e)}function un(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const fn=new Map,gn=new Set;function pn(t,e){let i=fn.get(t);return i||(i=e(),fn.set(t,i),gn.add(i)),i}const mn=(t,e,i)=>{const s=M(e,i);void 0!==s&&t.add(s)};class bn{constructor(t){this._config=function(t){return(t=t||{}).data=un(t.data),dn(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=un(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pn(t,(()=>[[`datasets.${t}`,\"\"]]))}datasetAnimationScopeKeys(t,e){return pn(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,\"\"]]))}datasetElementScopeKeys(t,e){return pn(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,\"\"]]))}pluginScopeKeys(t){const e=t.id;return pn(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach((e=>{t&&(r.add(t),e.forEach((e=>mn(r,t,e)))),e.forEach((t=>mn(r,s,t))),e.forEach((t=>mn(r,re[n]||{},t))),e.forEach((t=>mn(r,ue,t))),e.forEach((t=>mn(r,le,t)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),gn.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,re[e]||{},ue.datasets[e]||{},{type:e},ue,le]}resolveNamedOptions(t,e,i,s=[\"\"]){const o={$shared:!0},{resolver:a,subPrefixes:r}=xn(this._resolverCache,t,s);let l=a;if(function(t,e){const{isScriptable:i,isIndexable:s}=Ye(t);for(const o of e){const e=i(o),a=s(o),r=(a||e)&&t[o];if(e&&(S(r)||_n(r))||a&&n(r))return!0}return!1}(a,e)){o.$shared=!1;l=$e(a,i=S(i)?i():i,this.createResolver(t,i,r))}for(const t of e)o[t]=l[t];return o}createResolver(t,e,i=[\"\"],s){const{resolver:n}=xn(this._resolverCache,t,i);return o(e)?$e(n,e,void 0,s):n}}function xn(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:je(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes(\"hover\")))},s.set(n,o)}return o}const _n=t=>o(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||S(t[i])),!1);const yn=[\"top\",\"bottom\",\"left\",\"right\",\"chartArea\"];function vn(t,e){return\"top\"===t||\"bottom\"===t||-1===yn.indexOf(t)&&\"x\"===e}function Mn(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function wn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins(\"afterRender\"),d(i&&i.onComplete,[t],e)}function kn(t){const e=t.chart,i=e.options.animation;d(i&&i.onProgress,[t],e)}function Sn(t){return fe()&&\"string\"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pn={},Dn=t=>{const e=Sn(t);return Object.values(Pn).filter((t=>t.canvas===e)).pop()};function Cn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const o=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=o)}}}function On(t,e,i){return t.options.clip?t[i]:e[i]}class An{static defaults=ue;static instances=Pn;static overrides=re;static registry=en;static version=\"4.4.0\";static getChart=Dn;static register(...t){en.add(...t),Tn()}static unregister(...t){en.remove(...t),Tn()}constructor(t,e){const s=this.config=new bn(e),n=Sn(t),o=Dn(n);if(o)throw new Error(\"Canvas is already in use. Chart with ID '\"+o.id+\"' must be destroyed before the canvas with ID '\"+o.canvas.id+\"' can be reused.\");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ks(n)),this.platform.updateConfig(s);const r=this.platform.acquireContext(n,a.aspectRatio),l=r&&r.canvas,h=l&&l.height,c=l&&l.width;this.id=i(),this.ctx=r,this.canvas=l,this.width=c,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dt((t=>this.update(t)),a.resizeDelay||0),this._dataChanges=[],Pn[this.id]=this,r&&l?(xt.listen(this,\"complete\",wn),xt.listen(this,\"progress\",kn),this._initialize(),this.attached&&this.update()):console.error(\"Failed to create chart: can't acquire context from the given item\")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:o}=this;return s(t)?e&&o?o:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins(\"beforeInit\"),this.options.responsive?this.resize():ke(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins(\"afterInit\"),this}clear(){return Te(this.canvas,this.ctx),this}stop(){return xt.stop(this),this}resize(t,e){xt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?\"resize\":\"attach\";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ke(this,a,!0)&&(this.notifyPlugins(\"resize\",{size:o}),d(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){u(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=ln(t,i),n=\"r\"===s,o=\"x\"===s;return{options:i,dposition:n?\"chartArea\":o?\"bottom\":\"left\",dtype:n?\"radialLinear\":o?\"category\":\"linear\"}})))),u(n,(e=>{const n=e.options,o=n.id,a=ln(o,n),r=l(n.type,e.dtype);void 0!==n.position&&vn(n.position,a)===vn(e.dposition)||(n.position=e.dposition),s[o]=!0;let h=null;if(o in i&&i[o].type===r)h=i[o];else{h=new(en.getScale(r))({id:o,type:r,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(n,t)})),u(s,((t,e)=>{t||delete i[e]})),u(i,(t=>{as.configure(this,t,t.options),as.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Mn(\"order\",\"index\"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||an(o,this.options),n.order=s.order||0,n.index=i,n.label=\"\"+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=en.getController(o),{datasetElementType:s,dataElementType:a}=ue.datasets[o];Object.assign(e,{dataElementType:en.getElement(a),datasetElementType:s&&en.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){u(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins(\"reset\")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins(\"beforeUpdate\",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins(\"beforeElementsUpdate\");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||u(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins(\"afterUpdate\",{mode:t}),this._layers.sort(Mn(\"z\",\"_idx\"));const{_active:a,_lastEvent:r}=this;r?this._eventHandler(r,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){u(this.scales,(t=>{as.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);P(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e){Cn(t,s,\"_removeElements\"===i?-n:n)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+\",\"+t.splice(1).join(\",\")))),s=i(0);for(let t=1;t<e;t++)if(!P(s,i(t)))return;return Array.from(s).map((t=>t.split(\",\"))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins(\"beforeLayout\",{cancelable:!0}))return;as.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],u(this.boxes,(t=>{i&&\"chartArea\"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins(\"afterLayout\")}_updateDatasets(t){if(!1!==this.notifyPlugins(\"beforeDatasetsUpdate\",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,S(t)?t({datasetIndex:e}):t);this.notifyPlugins(\"afterDatasetsUpdate\",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins(\"beforeDatasetUpdate\",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins(\"afterDatasetUpdate\",s))}render(){!1!==this.notifyPlugins(\"beforeRender\",{cancelable:!0})&&(xt.has(this)?this.attached&&!xt.running(this)&&xt.start(this):(this.draw(),wn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins(\"beforeDraw\",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins(\"afterDraw\")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins(\"beforeDatasetsDraw\",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins(\"afterDatasetsDraw\")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,n=function(t,e){const{xScale:i,yScale:s}=t;return i&&s?{left:On(i,e,\"left\"),right:On(i,e,\"right\"),top:On(s,e,\"top\"),bottom:On(s,e,\"bottom\")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins(\"beforeDatasetDraw\",o)&&(s&&Ie(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&ze(e),o.cancelable=!1,this.notifyPlugins(\"afterDatasetDraw\",o))}isPointInArea(t){return Re(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const n=Xi.modes[e];return\"function\"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ci(null,{chart:this,type:\"chart\"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return\"boolean\"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?\"show\":\"hide\",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,s);k(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins(\"beforeDestroy\");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Te(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Pn[this.id],this.notifyPlugins(\"afterDestroy\")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};u(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s(\"attach\",a),this.attached=!0,this.resize(),i(\"resize\",n),i(\"detach\",o)};o=()=>{this.attached=!1,s(\"resize\",n),this._stop(),this._resize(0,0),i(\"attach\",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){u(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},u(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?\"set\":\"remove\";let n,o,a,r;for(\"dataset\"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller[\"_\"+s+\"DatasetHoverStyle\"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+\"HoverStyle\"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error(\"No dataset found at index \"+t);return{datasetIndex:t,element:i.data[e],index:e}}));!f(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins(\"beforeEvent\",i,s))return;const n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins(\"afterEvent\",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:n}=this,o=e,a=this._getActiveElements(t,s,i,o),r=D(t),l=function(t,e,i,s){return i&&\"mouseout\"!==t.type?s?e:t:null}(t,this._lastEvent,i,r);i&&(this._lastEvent=null,d(n.onHover,[t,a,this],this),r&&d(n.onClick,[t,a,this],this));const h=!f(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,s){if(\"mouseout\"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}function Tn(){return u(An.instances,(t=>t._plugins.invalidate()))}function Ln(){throw new Error(\"This method is not implemented: Check that a complete date adapter is provided.\")}class En{static override(t){Object.assign(En.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ln()}parse(){return Ln()}format(){return Ln()}add(){return Ln()}diff(){return Ln()}startOf(){return Ln()}endOf(){return Ln()}}var Rn={_date:En};function In(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=lt(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,o,a,r=e._length;const l=()=>{32767!==o&&-32768!==o&&(k(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function zn(t,e,i,s){return n(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Fn(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(zn(u,d,o,h));return l}function Vn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Bn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i=\"left\",s=\"right\"):(e=t.base<t.y,i=\"bottom\",s=\"top\"),e?(n=\"end\",o=\"start\"):(n=\"start\",o=\"end\"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);\"middle\"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=h:(i._bottom||0)===s?n=c:(o[Wn(c,a,r,l)]=!0,n=h)),o[Wn(n,a,r,l)]=!0,t.borderSkipped=o}function Wn(t,e,i,s){var n,o,a;return s?(a=i,t=Nn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=Nn(t,e,i),t}function Nn(t,e,i){return\"start\"===t?e:\"end\"===t?i:t}function Hn(t,{inflateAmount:e},i){t.inflateAmount=\"auto\"===e?1===i?.33:0:e}class jn extends Ns{static id=\"doughnut\";static defaults={datasetElementType:!1,dataElementType:\"arc\",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:\"number\",properties:[\"circumference\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"startAngle\",\"x\",\"y\",\"offset\",\"borderWidth\",\"spacing\"]}},cutout:\"50%\",rotation:0,circumference:360,radius:\"100%\",spacing:0,indexAxis:\"r\"};static descriptors={_scriptable:t=>\"spacing\"!==t,_indexable:t=>\"spacing\"!==t&&!t.startsWith(\"borderDash\")&&!t.startsWith(\"hoverBorderDash\")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,a,r=t=>+i[t];if(o(i[t])){const{key:t=\"value\"}=this._parsing;r=e=>+M(i[e],t)}for(n=t,a=t+e;n<a;++n)s._parsed[n]=r(n)}}_getRotation(){return $(this.options.rotation-90)}_getCircumference(){return $(this.options.circumference)}_getRotationExtents(){let t=O,e=-O;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),o=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(h(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<O){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>Z(t,r,l,!0)?1:Math.max(e,e*i,s,s*i),g=(t,e,s)=>Z(t,r,l,!0)?-1:Math.min(e,e*i,s,s*i),p=f(0,h,d),m=f(E,c,u),b=g(C,h,d),x=g(C+E,c,u);s=(p-b)/2,n=(m-x)/2,o=-(p+b)/2,a=-(m+x)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(u,d,r),b=(i.width-o)/f,x=(i.height-o)/g,_=Math.max(Math.min(b,x)/2,0),y=c(this.options.radius,_),v=(y-Math.max(y*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=m*y,s.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/O)}updateElements(t,e,i,s){const n=\"reset\"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,s);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,n);for(p=e;p<e+i;++p){const e=this._circumference(p,n),i=t[p],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:d};g&&(o.options=f||this.resolveDataElementOptions(p,i.active?\"active\":s)),m+=e,this.updateElement(i,p,o,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?O*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t],i.options.locale);return{label:s[t]||\"\",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),\"inner\"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(l(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class $n extends Ns{static id=\"polarArea\";static defaults={dataElementType:\"arc\",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\"]}},indexAxis:\"r\",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:\"radialLinear\",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t].r,i.options.locale);return{label:s[t]||\"\",value:n}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n=\"reset\"===s,o=this.chart,a=o.options.animation,r=this._cachedMeta.rScale,l=r.xCenter,h=r.yCenter,c=r.getIndexAngle(0)-.5*C;let d,u=c;const f=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,s,f);for(d=e;d<e+i;d++){const e=t[d];let i=u,g=u+this._computeAngle(d,s,f),p=o.getDataVisibility(d)?r.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=g,n&&(a.animateScale&&(p=0),a.animateRotate&&(i=g=c));const m={x:l,y:h,innerRadius:0,outerRadius:p,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,e.active?\"active\":s)};this.updateElement(e,d,m,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?$(this.resolveDataElementOptions(t,e).angle||i):0}}var Yn=Object.freeze({__proto__:null,BarController:class extends Ns{static id=\"bar\";static defaults={datasetElementType:!1,dataElementType:\"bar\",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"base\",\"width\",\"height\"]}}};static overrides={scales:{_index_:{type:\"category\",offset:!0,grid:{offset:!0}},_value_:{type:\"linear\",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return Fn(t,e,i,s)}parseArrayData(t,e,i,s){return Fn(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a=\"x\",yAxisKey:r=\"y\"}=this._parsing,l=\"x\"===n.axis?a:r,h=\"x\"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(M(g,l),d),c.push(zn(M(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n._custom,a=Vn(o)?\"[\"+o.start+\", \"+o.end+\"]\":\"\"+s.getLabelForValue(n[s.axis]);return{label:\"\"+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const o=\"reset\"===n,{index:a,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),h=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(e,n);for(let f=e;f<e+i;f++){const e=this.getParsed(f),i=o||s(e[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,c),p=(e._stacks||{})[r.axis],m={horizontal:h,base:i.base,enableBorderRadius:!p||Vn(e._custom)||a===p._top||a===p._bottom,x:h?i.head:g.center,y:h?g.center:i.head,height:h?g.size:Math.abs(i.size),width:h?Math.abs(i.size):g.size};u&&(m.options=d||this.resolveDataElementOptions(f,t[f].active?\"active\":n));const b=m.options||t[f].options;Bn(m,b,p,a),Hn(m,b,c.ratio),this.updateElement(t[f],f,m,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),o=i.options.stacked,a=[],r=t=>{const i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(s(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!r(i))&&((!1===o||-1===a.indexOf(i.stack)||void 0===o&&void 0===i.stack)&&a.push(i.stack),i.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||In(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:o,minBarLength:a}}=this,r=o||0,l=this.getParsed(t),h=l._custom,c=Vn(h);let d,u,f=l[e.axis],g=0,p=i?this.applyStack(e,l,i):f;p!==f&&(g=p-f,p=f),c&&(f=h.barStart,p=h.barEnd-h.barStart,0!==f&&F(f)!==F(h.barEnd)&&(g=0),g+=f);const m=s(o)||c?g:o;let b=e.getPixelForValue(m);if(d=this.chart.getDataVisibility(t)?e.getPixelForValue(g+p):b,u=d-b,Math.abs(u)<a){u=function(t,e,i){return 0!==t?F(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(u,e,r)*a,f===r&&(b-=u/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),o=Math.min(t,s),h=Math.max(t,s);b=Math.max(Math.min(b,h),o),d=b+u,i&&!c&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(d)-e.getValueForPixel(b))}if(b===e.getPixelForValue(r)){const t=F(u)*e.getLineWidthForValue(r)/2;b+=t,u-=t}return{size:u,base:b,head:d,center:d+u/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,o=n.skipNull,a=l(n.maxBarThickness,1/0);let r,h;if(e.grouped){const i=o?this._getStackCount(t):e.stackCount,l=\"flex\"===n.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/s,ratio:i.barPercentage,start:h}}(t,e,n,i):function(t,e,i,n){const o=i.barThickness;let a,r;return s(o)?(a=e.min*i.categoryPercentage,r=i.barPercentage):(a=o*n,r=1),{chunk:a/n,ratio:r,start:e.pixels[t]-a/2}}(t,e,n,i),c=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);r=l.start+l.chunk*c+l.chunk/2,h=Math.min(a,l.chunk*l.ratio)}else r=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:r-h/2,head:r+h/2,center:r,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this._ctx)}},BubbleController:class extends Ns{static id=\"bubble\";static defaults={datasetElementType:!1,dataElementType:\"point\",animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"borderWidth\",\"radius\"]}}};static overrides={scales:{x:{type:\"linear\"},y:{type:\"linear\"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y),l=o._custom;return{label:i[t]||\"\",value:\"(\"+a+\", \"+r+(l?\", \"+l:\"\")+\")\"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n=\"reset\"===s,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:r,includeOptions:l}=this._getSharedOptions(e,s),h=o.axis,c=a.axis;for(let d=e;d<e+i;d++){const e=t[d],i=!n&&this.getParsed(d),u={},f=u[h]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[h]),g=u[c]=n?a.getBasePixel():a.getPixelForValue(i[c]);u.skip=isNaN(f)||isNaN(g),l&&(u.options=r||this.resolveDataElementOptions(d,e.active?\"active\":s),n&&(u.options.radius=0)),this.updateElement(e,d,u,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return\"active\"!==e&&(s.radius=0),s.radius+=l(i&&i._custom,n),s}},DoughnutController:jn,LineController:class extends Ns{static id=\"line\";static defaults={datasetElementType:\"line\",dataElementType:\"point\",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:\"category\"},_value_:{type:\"linear\"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,o=this.chart._animationsDisabled;let{start:a,count:r}=pt(e,s,o);this._drawStart=a,this._drawCount=r,mt(e)&&(a=0,r=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,i,n){const o=\"reset\"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,n),u=a.axis,f=r.axis,{spanGaps:g,segment:p}=this.options,m=N(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||\"none\"===n,x=e+i,_=t.length;let y=e>0&&this.getParsed(e-1);for(let i=0;i<_;++i){const g=t[i],_=b?g:{};if(i<e||i>=x){_.skip=!0;continue}const v=this.getParsed(i),M=s(v[f]),w=_[u]=a.getPixelForValue(v[u],i),k=_[f]=o||M?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,v,l):v[f],i);_.skip=isNaN(w)||isNaN(k)||M,_.stop=i>0&&Math.abs(v[u]-y[u])>m,p&&(_.parsed=v,_.raw=h.data[i]),d&&(_.options=c||this.resolveDataElementOptions(i,g.active?\"active\":n)),b||this.updateElement(g,i,_,n),y=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends jn{static id=\"pie\";static defaults={cutout:0,rotation:0,circumference:360,radius:\"100%\"}},PolarAreaController:$n,RadarController:class extends Ns{static id=\"radar\";static defaults={datasetElementType:\"line\",dataElementType:\"point\",indexAxis:\"r\",showLine:!0,elements:{line:{fill:\"start\"}}};static overrides={aspectRatio:1,scales:{r:{type:\"radialLinear\"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:\"\"+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,\"resize\"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this._cachedMeta.rScale,o=\"reset\"===s;for(let a=e;a<e+i;a++){const e=t[a],i=this.resolveDataElementOptions(a,e.active?\"active\":s),r=n.getPointPositionForValue(a,this.getParsed(a).r),l=o?n.xCenter:r.x,h=o?n.yCenter:r.y,c={x:l,y:h,angle:r.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,a,c,s)}}},ScatterController:class extends Ns{static id=\"scatter\";static defaults={datasetElementType:!1,dataElementType:\"point\",showLine:!1,fill:!1};static overrides={interaction:{mode:\"point\"},scales:{x:{type:\"linear\"},y:{type:\"linear\"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y);return{label:i[t]||\"\",value:\"(\"+a+\", \"+r+\")\"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:n,count:o}=pt(e,i,s);if(this._drawStart=n,this._drawCount=o,mt(e)&&(n=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:o}=e;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,n,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement(\"line\")),super.addElements()}updateElements(t,e,i,n){const o=\"reset\"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(e,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),f=a.axis,g=r.axis,{spanGaps:p,segment:m}=this.options,b=N(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||\"none\"===n;let _=e>0&&this.getParsed(e-1);for(let c=e;c<e+i;++c){const e=t[c],i=this.getParsed(c),p=x?e:{},y=s(i[g]),v=p[f]=a.getPixelForValue(i[f],c),M=p[g]=o||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,i,l):i[g],c);p.skip=isNaN(v)||isNaN(M)||y,p.stop=c>0&&Math.abs(i[f]-_[f])>b,m&&(p.parsed=i,p.raw=h.data[c]),u&&(p.options=d||this.resolveDataElementOptions(c,e.active?\"active\":n)),x||this.updateElement(e,c,p,n),_=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const n=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,n,o)/2}}});function Un(t,e,i,s){const n=vi(t.options.borderRadius,[\"outerStart\",\"outerEnd\",\"innerStart\",\"innerEnd\"]);const o=(i-e)/2,a=Math.min(o,s*e/2),r=t=>{const e=(i-Math.min(o,t))*s/2;return J(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:J(n.innerStart,0,a),innerEnd:J(n.innerEnd,0,a)}}function Xn(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function qn(t,e,i,s,n,o){const{x:a,y:r,startAngle:l,pixelMargin:h,innerRadius:c}=e,d=Math.max(e.outerRadius+s+i-h,0),u=c>0?c+s+i+h:0;let f=0;const g=n-l;if(s){const t=((c>0?c-s:0)+(d>0?d-s:0))/2;f=(g-(0!==t?g*t/(t+s):g))/2}const p=(g-Math.max(.001,g*d-i/C)/d)/2,m=l+p+f,b=n-p-f,{outerStart:x,outerEnd:_,innerStart:y,innerEnd:v}=Un(e,u,d,b-m),M=d-x,w=d-_,k=m+x/M,S=b-_/w,P=u+y,D=u+v,O=m+y/P,A=b-v/D;if(t.beginPath(),o){const e=(k+S)/2;if(t.arc(a,r,d,k,e),t.arc(a,r,d,e,S),_>0){const e=Xn(w,S,a,r);t.arc(e.x,e.y,_,S,b+E)}const i=Xn(D,b,a,r);if(t.lineTo(i.x,i.y),v>0){const e=Xn(D,A,a,r);t.arc(e.x,e.y,v,b+E,A+Math.PI)}const s=(b-v/u+(m+y/u))/2;if(t.arc(a,r,u,b-v/u,s,!0),t.arc(a,r,u,s,m+y/u,!0),y>0){const e=Xn(P,O,a,r);t.arc(e.x,e.y,y,O+Math.PI,m-E)}const n=Xn(M,m,a,r);if(t.lineTo(n.x,n.y),x>0){const e=Xn(M,k,a,r);t.arc(e.x,e.y,x,m-E,k)}}else{t.moveTo(a,r);const e=Math.cos(k)*d+a,i=Math.sin(k)*d+r;t.lineTo(e,i);const s=Math.cos(S)*d+a,n=Math.sin(S)*d+r;t.lineTo(s,n)}t.closePath()}function Kn(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:d,borderDashOffset:u}=l,f=\"inner\"===l.borderAlign;if(!h)return;t.setLineDash(d||[]),t.lineDashOffset=u,f?(t.lineWidth=2*h,t.lineJoin=c||\"round\"):(t.lineWidth=h,t.lineJoin=c||\"bevel\");let g=e.endAngle;if(o){qn(t,e,i,s,g,n);for(let e=0;e<o;++e)t.stroke();isNaN(r)||(g=a+(r%O||O))}f&&function(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+E,s-E),t.closePath(),t.clip()}(t,e,g),o||(qn(t,e,i,s,g,n),t.stroke())}function Gn(t,e,i=e){t.lineCap=l(i.borderCapStyle,e.borderCapStyle),t.setLineDash(l(i.borderDash,e.borderDash)),t.lineDashOffset=l(i.borderDashOffset,e.borderDashOffset),t.lineJoin=l(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=l(i.borderWidth,e.borderWidth),t.strokeStyle=l(i.borderColor,e.borderColor)}function Zn(t,e,i){t.lineTo(i.x,i.y)}function Jn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function Qn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=Jn(n,i,s),c=function(t){return t.stepped?Fe:t.tension||\"monotone\"===t.cubicInterpolationMode?Ve:Zn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function to(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=Jn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,b=0;const x=t=>(a+(h?r-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[x(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[x(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(b*m+e)/++b):(_(),t.lineTo(e,i),u=s,b=0,f=g=i),p=i}_()}function eo(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||\"monotone\"===e.cubicInterpolationMode||e.stepped||i)?to:Qn}const io=\"function\"==typeof Path2D;function so(t,e,i,s){io&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),Gn(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=eo(e);for(const r of n)Gn(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class no extends Hs{static id=\"line\";static defaults={borderCapStyle:\"butt\",borderDash:[],borderDashOffset:0,borderJoinStyle:\"miter\",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:\"default\",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"};static descriptors={_scriptable:!0,_indexable:t=>\"borderDash\"!==t&&\"fill\"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||\"monotone\"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;hi(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zi(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Ii(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?pi:t.tension||\"monotone\"===t.cubicInterpolationMode?mi:gi}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return eo(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=eo(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),so(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function oo(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}function ao(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps([\"x\",\"y\",\"base\",\"width\",\"height\"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function ro(t,e,i,s){return t?0:J(e,i,s)}function lo(t){const e=ao(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=Mi(s);return{t:ro(n.top,o.top,0,i),r:ro(n.right,o.right,0,e),b:ro(n.bottom,o.bottom,0,i),l:ro(n.left,o.left,0,e)}}(t,i/2,s/2),a=function(t,e,i){const{enableBorderRadius:s}=t.getProps([\"enableBorderRadius\"]),n=t.options.borderRadius,a=wi(n),r=Math.min(e,i),l=t.borderSkipped,h=s||o(n);return{topLeft:ro(!h||l.top||l.left,a.topLeft,0,r),topRight:ro(!h||l.top||l.right,a.topRight,0,r),bottomLeft:ro(!h||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:ro(!h||l.bottom||l.right,a.bottomRight,0,r)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:a},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function ho(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&ao(t,s);return a&&(n||tt(e,a.left,a.right))&&(o||tt(i,a.top,a.bottom))}function co(t,e){t.rect(e.x,e.y,e.w,e.h)}function uo(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}var fo=Object.freeze({__proto__:null,ArcElement:class extends Hs{static id=\"arc\";static defaults={borderAlign:\"center\",borderColor:\"#fff\",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:\"backgroundColor\"};static descriptors={_scriptable:!0,_indexable:t=>\"borderDash\"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps([\"x\",\"y\"],i),{angle:n,distance:o}=X(s,{x:t,y:e}),{startAngle:a,endAngle:r,innerRadius:h,outerRadius:c,circumference:d}=this.getProps([\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"circumference\"],i),u=(this.options.spacing+this.options.borderWidth)/2,f=l(d,r-a)>=O||Z(n,a,r),g=tt(o,h+u,c+u);return f&&g}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps([\"x\",\"y\",\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,n=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=\"inner\"===e.borderAlign?.33:0,this.fullCircles=i>O?Math.floor(i/O):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const r=s*(1-Math.sin(Math.min(C,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r}=e;let l=e.endAngle;if(o){qn(t,e,i,s,l,n);for(let e=0;e<o;++e)t.fill();isNaN(r)||(l=a+(r%O||O))}qn(t,e,i,s,l,n),t.fill()}(t,this,r,n,o),Kn(t,this,r,n,o),t.restore()}},BarElement:class extends Hs{static id=\"bar\";static defaults={borderSkipped:\"start\",borderWidth:0,borderRadius:0,inflateAmount:\"auto\",pointStyle:void 0};static defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=lo(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?He:co;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,uo(o,e,n)),t.clip(),a(t,uo(n,-e,o)),t.fillStyle=i,t.fill(\"evenodd\")),t.beginPath(),a(t,uo(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return ho(this,t,e,i)}inXRange(t,e){return ho(this,t,null,e)}inYRange(t,e){return ho(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps([\"x\",\"y\",\"base\",\"horizontal\"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return\"x\"===t?this.width/2:this.height/2}},LineElement:no,PointElement:class extends Hs{static id=\"point\";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:\"circle\",radius:3,rotation:0};static defaultRoutes={backgroundColor:\"backgroundColor\",borderColor:\"borderColor\"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps([\"x\",\"y\"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return oo(this,t,\"x\",e)}inYRange(t,e){return oo(this,t,\"y\",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps([\"x\",\"y\"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Re(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Le(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});function go(t,e,i,s){const n=t.indexOf(e);if(-1===n)return((t,e,i,s)=>(\"string\"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s);return n!==t.lastIndexOf(e)?i:n}function po(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function mo(t,e,{horizontal:i,minRotation:s}){const n=$(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(\"\"+t).length;return Math.min(e/o,a)}class bo extends Js{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return s(t)||(\"number\"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=F(s),e=F(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=0===n?1:Math.abs(.05*n);a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=function(t,e){const i=[],{bounds:n,step:o,min:a,max:r,precision:l,count:h,maxTicks:c,maxDigits:d,includeBounds:u}=t,f=o||1,g=c-1,{min:p,max:m}=e,b=!s(a),x=!s(r),_=!s(h),y=(m-p)/(d+1);let v,M,w,k,S=B((m-p)/g/f)*f;if(S<1e-14&&!b&&!x)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>g&&(S=B(k*S/g/f)*f),s(l)||(v=Math.pow(10,l),S=Math.ceil(S*v)/v),\"ticks\"===n?(M=Math.floor(p/S)*S,w=Math.ceil(m/S)*S):(M=p,w=m),b&&x&&o&&H((r-a)/o,S/1e3)?(k=Math.round(Math.min((r-a)/S,c)),S=(r-a)/k,M=a,w=r):_?(M=b?a:M,w=x?r:w,k=h-1,S=(w-M)/k):(k=(w-M)/S,k=V(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const P=Math.max(U(S),U(M));v=Math.pow(10,s(l)?P:l),M=Math.round(M*v)/v,w=Math.round(w*v)/v;let D=0;for(b&&(u&&M!==a?(i.push({value:a}),M<a&&D++,V(Math.round((M+D*S)*v)/v,a,mo(a,y,t))&&D++):M<a&&D++);D<k;++D){const t=Math.round((M+D*S)*v)/v;if(x&&t>r)break;i.push({value:t})}return x&&u&&w!==r?i.length&&V(i[i.length-1].value,r,mo(r,y,t))?i[i.length-1].value=r:i.push({value:r}):x&&w!==r||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return\"ticks\"===t.bounds&&j(n,this,\"value\"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ne(t,this.chart.options.locale,this.options.ticks.format)}}class xo extends bo{static id=\"linear\";static defaults={ticks:{callback:ae.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?t:0,this.max=a(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=$(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _o=t=>Math.floor(z(t)),yo=(t,e)=>Math.pow(10,_o(t)+e);function vo(t){return 1===t/Math.pow(10,_o(t))}function Mo(t,e,i){const s=Math.pow(10,i),n=Math.floor(t/s);return Math.ceil(e/s)-n}function wo(t,{min:e,max:i}){e=r(t.min,e);const s=[],n=_o(e);let o=function(t,e){let i=_o(e-t);for(;Mo(t,e,i)>10;)i++;for(;Mo(t,e,i)<10;)i--;return Math.min(i,_o(t))}(e,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),h=n>o?Math.pow(10,n):0,c=Math.round((e-h)*a)/a,d=Math.floor((e-h)/l/10)*l*10;let u=Math.floor((c-d)/Math.pow(10,o)),f=r(t.min,Math.round((h+d+u*Math.pow(10,o))*a)/a);for(;f<i;)s.push({value:f,major:vo(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,a=o>=0?1:a),f=Math.round((h+d+u*Math.pow(10,o))*a)/a;const g=r(t.max,f);return s.push({value:g,major:vo(g),significand:u}),s}class ko extends Js{static id=\"logarithmic\";static defaults={ticks:{callback:ae.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=bo.prototype.parse.apply(this,[t,e]);if(0!==i)return a(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?Math.max(0,t):null,this.max=a(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!a(this._userMin)&&(this.min=t===yo(this.min,0)?yo(this.min,-1):yo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t;i===s&&(i<=0?(n(1),o(10)):(n(yo(i,-1)),o(yo(s,1)))),i<=0&&n(yo(s,-1)),s<=0&&o(yo(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=wo({min:this._userMin,max:this._userMax},this);return\"ticks\"===t.bounds&&j(e,this,\"value\"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?\"0\":ne(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=z(t),this._valueRange=z(this.max)-z(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(z(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function So(t){const e=t.ticks;if(e.display&&t.display){const t=ki(e.backdropPadding);return l(e.font&&e.font.size,ue.font.size)+t.height}return 0}function Po(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function Do(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),s=[],o=[],a=t._pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?C/a:0;for(let u=0;u<a;u++){const a=r.setContext(t.getPointLabelContext(u));o[u]=a.padding;const f=t.getPointPosition(u,t.drawingArea+o[u],l),g=Si(a.font),p=(h=t.ctx,c=g,d=n(d=t._pointLabels[u])?d:[d],{w:Oe(h,c.string,d),h:d.length*c.lineHeight});s[u]=p;const m=G(t.getIndexAngle(u)+l),b=Math.round(Y(m));Co(i,e,m,Po(b,f.x,p.w,0,180),Po(b,f.y,p.h,90,270))}var h,c,d;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const s=[],n=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:r}=o.pointLabels,l={extra:So(o)/2,additionalAngle:a?C/n:0};let h;for(let o=0;o<n;o++){l.padding=i[o],l.size=e[o];const n=Oo(t,o,l);s.push(n),\"auto\"===r&&(n.visible=Ao(n,h),n.visible&&(h=n))}return s}(t,s,o)}function Co(t,e,i,s,n){const o=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let r=0,l=0;s.start<e.l?(r=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-r)):s.end>e.r&&(r=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+r)),n.start<e.t?(l=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function Oo(t,e,i){const s=t.drawingArea,{extra:n,additionalAngle:o,padding:a,size:r}=i,l=t.getPointPosition(e,s+n+a,o),h=Math.round(Y(G(l.angle+E))),c=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(l.y,r.h,h),d=function(t){if(0===t||180===t)return\"center\";if(t<180)return\"left\";return\"right\"}(h),u=function(t,e,i){\"right\"===i?t-=e:\"center\"===i&&(t-=e/2);return t}(l.x,r.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:u,top:c,right:u+r.w,bottom:c+r.h}}function Ao(t,e){if(!e)return!0;const{left:i,top:s,right:n,bottom:o}=t;return!(Re({x:i,y:s},e)||Re({x:i,y:o},e)||Re({x:n,y:s},e)||Re({x:n,y:o},e))}function To(t,e,i){const{left:n,top:o,right:a,bottom:r}=i,{backdropColor:l}=e;if(!s(l)){const i=wi(e.borderRadius),s=ki(e.backdropPadding);t.fillStyle=l;const h=n-s.left,c=o-s.top,d=a-n+s.width,u=r-o+s.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),He(t,{x:h,y:c,w:d,h:u,radius:i}),t.fill()):t.fillRect(h,c,d,u)}}function Lo(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,O);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}class Eo extends bo{static id=\"radialLinear\";static defaults={display:!0,animate:!0,position:\"chartArea\",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ae.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={\"angleLines.color\":\"borderColor\",\"pointLabels.color\":\"color\",\"ticks.color\":\"color\"};static descriptors={angleLines:{_fallback:\"grid\"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ki(So(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=a(t)&&!isNaN(t)?t:0,this.max=a(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/So(this.options))}generateTickLabels(t){bo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=d(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:\"\"})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Do(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return G(t*(O/(this._pointLabels.length||1))+$(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(s(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(s(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Ci(t,{label:i,index:e,type:\"pointLabel\"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-E+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Lo(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:n}=e,o=this._pointLabels.length;let a,r,l;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=t._pointLabelItems[n];if(!e.visible)continue;const o=s.setContext(t.getPointLabelContext(n));To(i,o,e);const a=Si(o.font),{x:r,y:l,textAlign:h}=e;Ne(i,t._pointLabels[n],r,l+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:\"middle\"})}}(this,o),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e){r=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),a=s.setContext(i),l=n.setContext(i);!function(t,e,i,s,n){const o=t.ctx,a=e.circular,{color:r,lineWidth:l}=e;!a&&!s||!r||!l||i<0||(o.save(),o.strokeStyle=r,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),Lo(t,i,a,s),o.closePath(),o.stroke(),o.restore())}(this,a,r,o,l)}})),i.display){for(t.save(),a=o-1;a>=0;a--){const s=i.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:o}=s;o&&n&&(t.lineWidth=o,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign=\"center\",t.textBaseline=\"middle\",this.ticks.forEach(((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=Si(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=ki(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}Ne(t,s.label,0,-n,l,{color:r.color,strokeColor:r.textStrokeColor,strokeWidth:r.textStrokeWidth})})),t.restore()}drawTitle(){}}const Ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Io=Object.keys(Ro);function zo(t,e){return t-e}function Fo(t,e){if(s(e))return null;const i=t._adapter,{parser:n,round:o,isoWeekday:r}=t._parseOpts;let l=e;return\"function\"==typeof n&&(l=n(l)),a(l)||(l=\"string\"==typeof n?i.parse(l,n):i.parse(l)),null===l?null:(o&&(l=\"week\"!==o||!N(r)&&!0!==r?i.startOf(l,o):i.startOf(l,\"isoWeek\",r)),+l)}function Vo(t,e,i,s){const n=Io.length;for(let o=Io.indexOf(t);o<n-1;++o){const t=Ro[Io[o]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return Io[o]}return Io[n-1]}function Bo(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=et(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function Wo(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t._adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class No extends Js{static id=\"time\";static defaults={bounds:\"data\",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:\"millisecond\",displayFormats:{}},ticks:{source:\"auto\",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit=\"day\",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Rn._date(t.adapters.date);s.init(e),x(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Fo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||\"day\";let{min:s,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();function l(t){o||isNaN(t.min)||(s=Math.min(s,t.min)),r||isNaN(t.max)||(n=Math.max(n,t.max))}o&&r||(l(this._getLabelBounds()),\"ticks\"===t.bounds&&\"labels\"===t.ticks.source||l(this.getMinMax(!1))),s=a(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=a(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=\"labels\"===i.source?this.getLabelTimestamps():this._generate();\"ticks\"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,o=nt(s,n,this.max);return this._unit=e.unit||(i.autoSkip?Vo(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let o=Io.length-1;o>=Io.indexOf(i);o--){const i=Io[o];if(Ro[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return Io[i?Io.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&\"year\"!==this._unit?function(t){for(let e=Io.indexOf(t)+1,i=Io.length;e<i;++e)if(Ro[Io[e]].common)return Io[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),Wo(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=J(s,0,o),n=J(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||Vo(n.minUnit,e,i,this._getLabelCapacity(e)),a=l(s.ticks.stepSize,1),r=\"week\"===o&&n.isoWeekday,h=N(r)||!0===r,c={};let d,u,f=e;if(h&&(f=+t.startOf(f,\"isoWeek\",r)),f=+t.startOf(f,h?\"day\":o),t.diff(i,e,o)>1e5*a)throw new Error(e+\" and \"+i+\" are too far apart with stepSize of \"+a+\" \"+o);const g=\"data\"===s.ticks.source&&this.getDataTimestamps();for(d=f,u=0;d<i;d=+t.add(d,a,o),u++)Bo(c,d,g);return d!==i&&\"ticks\"!==s.bounds&&1!==u||Bo(c,d,g),Object.keys(c).sort(zo).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,n=e||i[s];return this._adapter.format(t,n)}_tickFormatFunction(t,e,i,s){const n=this.options,o=n.ticks.callback;if(o)return d(o,[t,e,i],this);const a=n.time.displayFormats,r=this._unit,l=this._majorUnit,h=r&&a[r],c=l&&a[l],u=i[e],f=l&&c&&u&&u.major;return this._adapter.format(t,s||(f?c:h))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=$(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*o,h:i*o+a*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,Wo(this,[t],this._majorUnit),s),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Fo(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lt(t.sort(zo))}}function Ho(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=it(t,\"pos\",e)),({pos:s,time:o}=t[r]),({pos:n,time:a}=t[l])):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=it(t,\"time\",e)),({time:s,pos:o}=t[r]),({time:n,pos:a}=t[l]));const h=n-s;return h?o+(a-o)*(e-s)/h:o}var jo=Object.freeze({__proto__:null,CategoryScale:class extends Js{static id=\"category\";static defaults={ticks:{callback:po}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(s(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:J(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:go(i,t,l(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);\"ticks\"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){return po.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return\"number\"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:xo,LogarithmicScale:ko,RadialLinearScale:Eo,TimeScale:No,TimeSeriesScale:class extends No{static id=\"timeseries\";static defaults=No.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ho(e,this.min),this._tableRange=Ho(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ho(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ho(this._table,i*this._tableRange+this._minPos,!0)}}});const $o=[\"rgb(54, 162, 235)\",\"rgb(255, 99, 132)\",\"rgb(255, 159, 64)\",\"rgb(255, 205, 86)\",\"rgb(75, 192, 192)\",\"rgb(153, 102, 255)\",\"rgb(201, 203, 207)\"],Yo=$o.map((t=>t.replace(\"rgb(\",\"rgba(\").replace(\")\",\", 0.5)\")));function Uo(t){return $o[t%$o.length]}function Xo(t){return Yo[t%Yo.length]}function qo(t){let e=0;return(i,s)=>{const n=t.getDatasetMeta(s).controller;n instanceof jn?e=function(t,e){return t.backgroundColor=t.data.map((()=>Uo(e++))),e}(i,e):n instanceof $n?e=function(t,e){return t.backgroundColor=t.data.map((()=>Xo(e++))),e}(i,e):n&&(e=function(t,e){return t.borderColor=Uo(e),t.backgroundColor=Xo(e),++e}(i,e))}}function Ko(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Go={id:\"colors\",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:s},options:n}=t.config,{elements:o}=n;if(!i.forceOverride&&(Ko(s)||(a=n)&&(a.borderColor||a.backgroundColor)||o&&Ko(o)))return;var a;const r=qo(t);s.forEach(r)}};function Zo(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,\"data\",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Jo(t){t.data.datasets.forEach((t=>{Zo(t)}))}var Qo={id:\"decimation\",defaults:{algorithm:\"min-max\",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void Jo(t);const n=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:a,indexAxis:r}=e,l=t.getDatasetMeta(o),h=a||e.data;if(\"y\"===Pi([r,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if(\"linear\"!==c.type&&\"time\"!==c.type)return;if(t.options.parsing)return;let{start:d,count:u}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=J(it(e,o.axis,a).lo,0,i-1)),s=h?J(it(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(l,h);if(u<=(i.threshold||4*n))return void Zo(e);let f;switch(s(a)&&(e._data=h,delete e.data,Object.defineProperty(e,\"data\",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case\"lttb\":f=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)*r)+1+e,m=Math.min(Math.floor((c+2)*r)+1,i)+e,b=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=b,o/=b;const x=Math.floor(c*r)+1+e,_=Math.min(Math.floor((c+1)*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=x;s<_;s++)f=.5*Math.abs((y-n)*(t[s].y-v)-(y-t[s].x)*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(h,d,u,n,i);break;case\"min-max\":f=function(t,e,i,n){let o,a,r,l,h,c,d,u,f,g,p=0,m=0;const b=[],x=e+i-1,_=t[e].x,y=t[x].x-_;for(o=e;o<e+i;++o){a=t[o],r=(a.x-_)/y*n,l=a.y;const e=0|r;if(e===h)l<f?(f=l,c=o):l>g&&(g=l,d=o),p=(m*p+a.x)/++m;else{const i=o-1;if(!s(c)&&!s(d)){const e=Math.min(c,d),s=Math.max(c,d);e!==u&&e!==i&&b.push({...t[e],x:p}),s!==u&&s!==i&&b.push({...t[s],x:p})}o>0&&i!==u&&b.push(t[i]),b.push(a),h=e,m=0,f=g=l,c=d=u=o}}return b}(h,d,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=f}))},destroy(t){Jo(t)}};function ta(t,e,i,s){if(s)return;let n=e[t],o=i[t];return\"angle\"===t&&(n=G(n),o=G(o)),{property:t,start:n,end:o}}function ea(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ia(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function sa(t,e){let i=[],s=!1;return n(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=ea(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))})),o}(t,e),i.length?new no({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function na(t){return t&&!1!==t.fill}function oa(t,e,i){let s=t[e].fill;const n=[e];let o;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!a(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;n.push(s),s=o.fill}return!1}function aa(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=l(i&&i.target,i);void 0===s&&(s=!!e.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return\"origin\";return s}(t);if(o(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return a(n)&&Math.floor(n)===n?function(t,e,i,s){\"-\"!==t&&\"+\"!==t||(i=e+i);if(i===e||i<0||i>=s)return!1;return i}(s[0],e,n,i):[\"origin\",\"start\",\"end\",\"stack\",\"shape\"].indexOf(s)>=0&&s}function ra(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=la(o,e,\"x\");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function la(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(tt(n,s,h)){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}class ha{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:O},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function ca(t){const{chart:e,fill:i,line:s}=t;if(a(i))return function(t,e){const i=t.getDatasetMeta(e),s=i&&t.isDatasetVisible(e);return s?i.dataset:null}(e,i);if(\"stack\"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas(\"line\");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(sa({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)ra(n,a[t],r)}return new no({points:n,options:{}})}(t);if(\"shape\"===i)return!0;const n=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,a=s.reverse?e.max:e.min,r=function(t,e,i){let s;return s=\"start\"===t?i:\"end\"===t?e.options.reverse?e.min:e.max:o(t)?t.value:e.getBaseValue(),s}(i,e,a),l=[];if(s.grid.circular){const t=e.getPointPositionForValue(0,a);return new ha({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let t=0;t<n;++t)l.push(e.getPointPositionForValue(t,r));return l}(t);return function(t){const{scale:e={},fill:i}=t,s=function(t,e){let i=null;return\"start\"===t?i=e.bottom:\"end\"===t?i=e.top:o(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(a(s)){const t=e.isHorizontal();return{x:t?s:null,y:t?null:s}}return null}(t)}(t);return n instanceof ha?n:sa(n,s)}function da(t,e,i){const s=ca(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Ie(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i._loop?\"angle\":e.axis;t.save(),\"x\"===l&&o!==n&&(ua(t,s,a.top),fa(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),ua(t,s,a.bottom));fa(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),ze(t))}function ua(t,e,i){const{segments:s,points:n}=e;let o=!0,a=!1;t.beginPath();for(const r of s){const{start:s,end:l}=r,h=n[s],c=n[ea(s,l,n)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,r,{move:a}),a?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function fa(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=ea(s,r,n);const l=ta(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Ii(e,l);for(const e of h){const s=ta(i,o[e.start],o[e.end],e.loop),r=Ri(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:ia(l,s,\"start\",Math.max)},end:{[i]:ia(l,s,\"end\",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,ga(t,a,d&&ta(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():pa(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||pa(t,s,h,n)}t.closePath(),t.fill(f?\"evenodd\":\"nonzero\"),t.restore()}}function ga(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};\"x\"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function pa(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}var ma={id:\"filler\",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof no&&(l={visible:t.isDatasetVisible(a),index:a,fill:aa(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=oa(n,a,i.propagate))},beforeDraw(t,e,i){const s=\"beforeDraw\"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&i.fill&&da(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if(\"beforeDatasetsDraw\"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;na(i)&&da(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;na(s)&&\"beforeDatasetDraw\"===i.drawTime&&da(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:\"beforeDatasetDraw\"}};const ba=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class xa extends Hs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=d(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Si(i.font),n=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:r}=ba(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this._fitCols(o,s,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign=\"left\",n.textBaseline=\"middle\";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:p,itemHeight:m}=function(t,e,i,s,n){const o=function(t,e,i,s){let n=t.text;n&&\"string\"!=typeof n&&(n=n.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+s.measureText(n).width}(s,t,e,i),a=function(t,e,i){let s=t;\"string\"!=typeof e.text&&(s=_a(e,i));return s}(n,s,e.lineHeight);return{itemWidth:o,itemHeight:a}}(i,e,n,t,s);o>0&&u+m+2*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:m},d=Math.max(d,p),u+=m+a})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:n}}=this,o=Oi(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=ft(i,this.left+s,this.right-this.lineWidths[n]);for(const r of e)n!==r.row&&(n=r.row,a=ft(i,this.left+s,this.right-this.lineWidths[n])),r.top+=this.top+t+s,r.left=o.leftForLtr(o.x(a),r.width),a+=r.width+s}else{let n=0,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height);for(const r of e)r.col!==n&&(n=r.col,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height)),r.top=a,r.left+=this.left+s,r.left=o.leftForLtr(o.x(r.left),r.width),a+=r.height+s}}isHorizontal(){return\"top\"===this.options.position||\"bottom\"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ie(t,this),this._draw(),ze(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:n,labels:o}=t,a=ue.color,r=Oi(t.rtl,this.left,this.width),h=Si(o.font),{padding:c}=o,d=h.size,u=d/2;let f;this.drawTitle(),s.textAlign=r.textAlign(\"left\"),s.textBaseline=\"middle\",s.lineWidth=.5,s.font=h.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=ba(o,d),b=this.isHorizontal(),x=this._computeTitleHeight();f=b?{x:ft(n,this.left+c,this.right-i[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:ft(n,this.top+x+c,this.bottom-e[0].height),line:0},Ai(this.ctx,t.textDirection);const _=m+c;this.legendItems.forEach(((y,v)=>{s.strokeStyle=y.fontColor,s.fillStyle=y.fontColor;const M=s.measureText(y.text).width,w=r.textAlign(y.textAlign||(y.textAlign=o.textAlign)),k=g+u+M;let S=f.x,P=f.y;r.setWidth(this.width),b?v>0&&S+k+c>this.right&&(P=f.y+=_,f.line++,S=f.x=ft(n,this.left+c,this.right-i[f.line])):v>0&&P+_>this.bottom&&(S=f.x=S+e[f.line].width+c,f.line++,P=f.y=ft(n,this.top+x+c,this.bottom-e[f.line].height));if(function(t,e,i){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const n=l(i.lineWidth,1);if(s.fillStyle=l(i.fillStyle,a),s.lineCap=l(i.lineCap,\"butt\"),s.lineDashOffset=l(i.lineDashOffset,0),s.lineJoin=l(i.lineJoin,\"miter\"),s.lineWidth=n,s.strokeStyle=l(i.strokeStyle,a),s.setLineDash(l(i.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},l=r.xPlus(t,g/2);Ee(s,a,l,e+u,o.pointStyleWidth&&g)}else{const o=e+Math.max((d-p)/2,0),a=r.leftForLtr(t,g),l=wi(i.borderRadius);s.beginPath(),Object.values(l).some((t=>0!==t))?He(s,{x:a,y:o,w:g,h:p,radius:l}):s.rect(a,o,g,p),s.fill(),0!==n&&s.stroke()}s.restore()}(r.x(S),P,y),S=gt(w,S+g+u,b?S+k:this.right,t.rtl),function(t,e,i){Ne(s,i.text,t,e+m/2,h,{strikethrough:i.hidden,textAlign:r.textAlign(i.textAlign)})}(r.x(S),P,y),b)f.x+=k+c;else if(\"string\"!=typeof y.text){const t=h.lineHeight;f.y+=_a(y,t)+c}else f.y+=_})),Ti(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Si(e.font),s=ki(e.padding);if(!e.display)return;const n=Oi(t.rtl,this.left,this.width),o=this.ctx,a=e.position,r=i.size/2,l=s.top+r;let h,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+l,c=ft(t.align,c,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+ft(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=ft(a,c,c+d);o.textAlign=n.textAlign(ut(a)),o.textBaseline=\"middle\",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Ne(o,e.text,u,h,i)}_computeTitleHeight(){const t=this.options.title,e=Si(t.font),i=ki(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(tt(t,this.left,this.right)&&tt(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],tt(t,s.left,s.left+s.width)&&tt(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if((\"mousemove\"===t||\"mouseout\"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&(\"click\"===t||\"mouseup\"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(\"mousemove\"===t.type||\"mouseout\"===t.type){const o=this._hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&d(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&d(e.onHover,[t,i,this],this)}else i&&d(e.onClick,[t,i,this],this);var s,n}}function _a(t,e){return e*(t.text?t.text.length:0)}var ya={id:\"legend\",_element:xa,start(t,e,i){const s=t.legend=new xa({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s)},stop(t){as.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;as.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:\"top\",align:\"center\",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o,useBorderRadius:a,borderRadius:r}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),h=ki(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:a&&(r||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:\"center\",text:\"\"}},descriptors:{_scriptable:t=>!t.startsWith(\"on\"),labels:{_scriptable:t=>![\"generateLabels\",\"filter\",\"sort\"].includes(t)}}};class va extends Hs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=n(i.text)?i.text.length:1;this._padding=ki(i.padding);const o=s*Si(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return\"top\"===t||\"bottom\"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:n,options:o}=this,a=o.align;let r,l,h,c=0;return this.isHorizontal()?(l=ft(a,i,n),h=e+t,r=n-i):(\"left\"===o.position?(l=i+t,h=ft(a,s,e),c=-.5*C):(l=n-t,h=ft(a,e,s),c=.5*C),r=s-e),{titleX:l,titleY:h,maxWidth:r,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Si(e.font),s=i.lineHeight/2+this._padding.top,{titleX:n,titleY:o,maxWidth:a,rotation:r}=this._drawArgs(s);Ne(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:r,textAlign:ut(e.align),textBaseline:\"middle\",translation:[n,o]})}}var Ma={id:\"title\",_element:va,start(t,e,i){!function(t,e){const i=new va({ctx:t.ctx,options:e,chart:t});as.configure(t,i,e),as.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;as.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;as.configure(t,s,i),s.options=i},defaults:{align:\"center\",display:!1,font:{weight:\"bold\"},fullSize:!0,padding:10,position:\"top\",text:\"\",weight:2e3},defaultRoutes:{color:\"color\"},descriptors:{_scriptable:!0,_indexable:!1}};const wa=new WeakMap;var ka={id:\"subtitle\",start(t,e,i){const s=new va({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s),wa.set(t,s)},stop(t){as.removeBox(t,wa.get(t)),wa.delete(t)},beforeUpdate(t,e,i){const s=wa.get(t);as.configure(t,s,i),s.options=i},defaults:{align:\"center\",display:!1,font:{weight:\"normal\"},fullSize:!0,padding:0,position:\"top\",text:\"\",weight:1500},defaultRoutes:{color:\"color\"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=q(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Pa(t,e){return e&&(n(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Da(t){return(\"string\"==typeof t||t instanceof String)&&t.indexOf(\"\\n\")>-1?t.split(\"\\n\"):t}function Ca(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Oa(t,e){const i=t.chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=Si(e.bodyFont),h=Si(e.titleFont),c=Si(e.footerFont),d=o.length,f=n.length,g=s.length,p=ki(e.padding);let m=p.height,b=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){m+=g*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let _=0;const y=function(t){b=Math.max(b,i.measureText(t).width+_)};return i.save(),i.font=h.string,u(t.title,y),i.font=l.string,u(t.beforeBody.concat(t.afterBody),y),_=e.displayColors?a+2+e.boxPadding:0,u(s,(t=>{u(t.before,y),u(t.lines,y),u(t.after,y)})),_=0,i.font=c.string,u(t.footer,y),i.restore(),b+=p.width,{width:b,height:m}}function Aa(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h=\"center\";return\"center\"===s?h=n<=(r+l)/2?\"left\":\"right\":n<=o/2?h=\"left\":n>=a-o/2&&(h=\"right\"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return\"left\"===t&&n+o+a>e.width||\"right\"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h=\"center\"),h}function Ta(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?\"top\":i>t.height-s/2?\"bottom\":\"center\"}(t,i);return{xAlign:i.xAlign||e.xAlign||Aa(t,e,i,s),yAlign:s}}function La(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(a);let g=function(t,e){let{x:i,width:s}=t;return\"right\"===e?i-=s:\"center\"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return\"top\"===e?s+=i:s-=\"bottom\"===e?n+i:n/2,s}(e,l,h);return\"center\"===l?\"left\"===r?g+=h:\"right\"===r&&(g-=h):\"left\"===r?g-=Math.max(c,u)+n:\"right\"===r&&(g+=Math.max(d,f)+n),{x:J(g,0,s.width-e.width),y:J(p,0,s.height-e.height)}}function Ea(t,e,i){const s=ki(i.padding);return\"center\"===e?t.x+t.width/2:\"right\"===e?t.x+t.width-s.right:t.x+s.left}function Ra(t){return Pa([],Da(t))}function Ia(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const za={beforeTitle:e,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&\"dataset\"===this.options.mode)return e.dataset.label||\"\";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return\"\"},afterTitle:e,beforeBody:e,beforeLabel:e,label(t){if(this&&this.options&&\"dataset\"===this.options.mode)return t.label+\": \"+t.formattedValue||t.formattedValue;let e=t.dataset.label||\"\";e&&(e+=\": \");const i=t.formattedValue;return s(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e};function Fa(t,e,i,s){const n=t[e].call(i,s);return void 0===n?za[e].call(i,s):n}class Va extends Hs{static positioners=Sa;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new Os(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Ci(t,{tooltip:e,tooltipItems:i,type:\"tooltip\"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=Fa(i,\"beforeTitle\",this,t),n=Fa(i,\"title\",this,t),o=Fa(i,\"afterTitle\",this,t);let a=[];return a=Pa(a,Da(s)),a=Pa(a,Da(n)),a=Pa(a,Da(o)),a}getBeforeBody(t,e){return Ra(Fa(e.callbacks,\"beforeBody\",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return u(t,(t=>{const e={before:[],lines:[],after:[]},n=Ia(i,t);Pa(e.before,Da(Fa(n,\"beforeLabel\",this,t))),Pa(e.lines,Fa(n,\"label\",this,t)),Pa(e.after,Da(Fa(n,\"afterLabel\",this,t))),s.push(e)})),s}getAfterBody(t,e){return Ra(Fa(e.callbacks,\"afterBody\",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Fa(i,\"beforeFooter\",this,t),n=Fa(i,\"footer\",this,t),o=Fa(i,\"afterFooter\",this,t);let a=[];return a=Pa(a,Da(s)),a=Pa(a,Da(n)),a=Pa(a,Da(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(Ca(this.chart,e[a]));return t.filter&&(l=l.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(l=l.sort(((e,s)=>t.itemSort(e,s,i)))),u(l,(e=>{const i=Ia(t.callbacks,e);s.push(Fa(i,\"labelColor\",this,e)),n.push(Fa(i,\"labelPointStyle\",this,e)),o.push(Fa(i,\"labelTextColor\",this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,o=[];if(s.length){const t=Sa[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Oa(this,i),a=Object.assign({},t,e),r=Ta(this.chart,i,a),l=La(i,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=wi(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,b,x,_,y;return\"center\"===n?(_=u+g/2,\"left\"===s?(p=d,m=p-o,x=_+o,y=_-o):(p=d+f,m=p+o,x=_-o,y=_+o),b=p):(m=\"left\"===s?d+Math.max(r,h)+o:\"right\"===s?d+f-Math.max(l,c)-o:this.caretX,\"top\"===n?(x=u,_=x-o,p=m-o,b=m+o):(x=u+g,_=x+o,p=m+o,b=m-o),y=x),{x1:p,x2:m,x3:b,y1:x,y2:_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=Oi(i.rtl,this.x,this.width);for(t.x=Ea(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline=\"middle\",o=Si(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,n){const a=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:l,boxWidth:h}=n,c=Si(n.bodyFont),d=Ea(this,\"left\",n),u=s.x(d),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=e.y+f;if(n.usePointStyle){const e={radius:Math.min(h,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=s.leftForLtr(u,h)+h/2,o=g+l/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Le(t,e,i,o),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Le(t,e,i,o)}else{t.lineWidth=o(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const e=s.leftForLtr(u,h),i=s.leftForLtr(s.xPlus(u,1),h-2),r=wi(a.borderRadius);Object.values(r).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,He(t,{x:e,y:g,w:h,h:l,radius:r}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),He(t,{x:i,y:g+1,w:h-2,h:l-2,radius:r}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,g,h,l),t.strokeRect(e,g,h,l),t.fillStyle=a.backgroundColor,t.fillRect(i,g+1,h-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=Si(i.bodyFont);let d=c.lineHeight,f=0;const g=Oi(i.rtl,this.x,this.width),p=function(i){e.fillText(i,g.x(t.x+f),t.y+d/2),t.y+=d+n},m=g.textAlign(o);let b,x,_,y,v,M,w;for(e.textAlign=o,e.textBaseline=\"middle\",e.font=c.string,t.x=Ea(this,m,i),e.fillStyle=i.bodyColor,u(this.beforeBody,p),f=a&&\"right\"!==m?\"center\"===o?l/2+h:l+2+h:0,y=0,M=s.length;y<M;++y){for(b=s[y],x=this.labelTextColors[y],e.fillStyle=x,u(b.before,p),_=b.lines,a&&_.length&&(this._drawColorBox(e,t,y,g,i),d=Math.max(c.lineHeight,r)),v=0,w=_.length;v<w;++v)p(_[v]),d=c.lineHeight;u(b.after,p)}f=0,d=c.lineHeight,u(this.afterBody,p),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=Oi(i.rtl,this.x,this.width);for(t.x=Ea(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline=\"middle\",o=Si(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),\"top\"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),\"center\"===o&&\"right\"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),\"bottom\"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),\"center\"===o&&\"left\"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Sa[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Oa(this,t),a=Object.assign({},i,this._size),r=Ta(e,t,a),l=La(t,a,r,e);s._to===l.x&&n._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ki(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),Ai(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Ti(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error(\"Cannot find a dataset at index \"+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!f(i,s),o=this._positionChanged(s,e);(n||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],o=this._getActiveElements(t,n,e,i),a=this._positionChanged(o,t),r=e||!f(o,n)||a;return r&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,i,s){const n=this.options;if(\"mouseout\"===t.type)return[];if(!s)return e;const o=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=Sa[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}var Ba={id:\"tooltip\",_element:Va,positioners:Sa,afterInit(t,e,i){i&&(t.tooltip=new Va({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins(\"beforeTooltipDraw\",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins(\"afterTooltipDraw\",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:\"average\",backgroundColor:\"rgba(0,0,0,0.8)\",titleColor:\"#fff\",titleFont:{weight:\"bold\"},titleSpacing:2,titleMarginBottom:6,titleAlign:\"left\",bodyColor:\"#fff\",bodySpacing:2,bodyFont:{},bodyAlign:\"left\",footerColor:\"#fff\",footerSpacing:2,footerMarginTop:6,footerFont:{weight:\"bold\"},footerAlign:\"left\",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:\"#fff\",displayColors:!0,boxPadding:0,borderColor:\"rgba(0,0,0,0)\",borderWidth:0,animation:{duration:400,easing:\"easeOutQuart\"},animations:{numbers:{type:\"number\",properties:[\"x\",\"y\",\"width\",\"height\",\"caretX\",\"caretY\"]},opacity:{easing:\"linear\",duration:200}},callbacks:za},defaultRoutes:{bodyFont:\"font\",footerFont:\"font\",titleFont:\"font\"},descriptors:{_scriptable:t=>\"filter\"!==t&&\"itemSort\"!==t&&\"external\"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:\"animation\"}},additionalOptionScopes:[\"interaction\"]};return An.register(Yn,jo,fo,t),An.helpers={...Wi},An._adapters=Rn,An.Animation=Cs,An.Animations=Os,An.animator=xt,An.controllers=en.controllers.items,An.DatasetController=Ns,An.Element=Hs,An.elements=fo,An.Interaction=Xi,An.layouts=as,An.platforms=Ss,An.Scale=Js,An.Ticks=ae,Object.assign(An,Yn,jo,fo,t,Ss),An.Chart=An,\"undefined\"!=typeof window&&(window.Chart=An),An}));\n//# sourceMappingURL=chart.umd.js.map\n"
  }
]