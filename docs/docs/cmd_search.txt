CMD / Grep / PowerShell quick reference
Grep (Linux/macOS)
------------------
- Search for text recursively: grep -R --line-number "pattern" ./
- Show context lines: grep -R -n -C 3 "pattern" ./
- Search only in *.log files: grep -R --include="*.log" -n "pattern" ./logs
Ripgrep (recommended)
----------------------
- rg "pattern" --glob "*.log" -n
Windows PowerShell
-------------------
- Search recursively: Select-String -Path "*.log" -Pattern "pattern" -CaseSensitive:$false -List
- Show with context: Select-String -Path "*.log" -Pattern "pattern" -Context 3
Useful patterns for tickets
---------------------------
- Find HTTP 500 errors in logs: rg "\b500\b|\b502\b|\b504\b" ./logs
- Find SLA mentions: rg "\bSLA\b|\bbreach\b" -i
- Extract trace IDs: rg "trace_id=([A-Za-z0-9\-]+)" -o
Tips
----
- Use ripgrep (rg) for speed on large codebases.
- Combine with head/tail to inspect top results.
Advanced CLI patterns
---------------------
- Parallel search across many files (GNU parallel + ripgrep):
	rg "pattern" --files-with-matches | parallel -j8 rg -n "pattern" {}
- Extract JSON fields from logs and filter by field (jq):
	rg "\{" logs/*.json | jq -r '.trace_id, .level, .message'
- Combine grep with awk/sed to build short summaries:
	rg "ERROR" ./logs | awk -F"|" '{print $1" "$3}' | sort | uniq -c | sort -rn
- Use ripgrep PCRE for advanced regex (with -P):
	rg -P "(?i)trace_id=([A-Fa-f0-9\-]{8,})" -o
- On Windows, use WSL or PowerShell's improved cmdlets. Example PowerShell pipeline to find and group errors:
	Get-ChildItem -Recurse -Filter *.log | Select-String -Pattern "ERROR" -Context 0,2 | Group-Object -Property Path | Sort-Object Count -Descending
Performance tips
----------------
- Prefer binary-safe tools (rg) over grep for very large repos; avoid piping enormous outputs into memory.
- Use indexed search (ripgrep --hidden --files) plus incremental prefiltering to reduce data scanned.
Security & hygiene
------------------
- When searching logs for secrets (for redaction), search for high-confidence patterns only and avoid printing entire files to consoles that might be shared.
- Combine automated redaction with human review before storing public documentation.
